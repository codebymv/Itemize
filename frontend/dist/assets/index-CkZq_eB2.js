var mT=e=>{throw TypeError(e)};var Hx=(e,t,n)=>t.has(e)||mT("Cannot "+n);var he=(e,t,n)=>(Hx(e,t,"read from private field"),n?n.call(e):t.get(e)),It=(e,t,n)=>t.has(e)?mT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ht=(e,t,n,r)=>(Hx(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),lr=(e,t,n)=>(Hx(e,t,"access private method"),n);var Ip=(e,t,n,r)=>({set _(o){ht(e,t,o,n)},get _(){return he(e,t,r)}});function uV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var NP={exports:{}},iy={},TP={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=Symbol.for("react.element"),dV=Symbol.for("react.portal"),fV=Symbol.for("react.fragment"),hV=Symbol.for("react.strict_mode"),pV=Symbol.for("react.profiler"),mV=Symbol.for("react.provider"),gV=Symbol.for("react.context"),yV=Symbol.for("react.forward_ref"),vV=Symbol.for("react.suspense"),xV=Symbol.for("react.memo"),wV=Symbol.for("react.lazy"),gT=Symbol.iterator;function bV(e){return e===null||typeof e!="object"?null:(e=gT&&e[gT]||e["@@iterator"],typeof e=="function"?e:null)}var RP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MP=Object.assign,AP={};function Wu(e,t,n){this.props=e,this.context=t,this.refs=AP,this.updater=n||RP}Wu.prototype.isReactComponent={};Wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PP(){}PP.prototype=Wu.prototype;function H1(e,t,n){this.props=e,this.context=t,this.refs=AP,this.updater=n||RP}var V1=H1.prototype=new PP;V1.constructor=H1;MP(V1,Wu.prototype);V1.isPureReactComponent=!0;var yT=Array.isArray,_P=Object.prototype.hasOwnProperty,G1={current:null},IP={key:!0,ref:!0,__self:!0,__source:!0};function OP(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)_P.call(t,r)&&!IP.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:hh,type:e,key:i,ref:s,props:o,_owner:G1.current}}function SV(e,t){return{$$typeof:hh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function K1(e){return typeof e=="object"&&e!==null&&e.$$typeof===hh}function CV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vT=/\/+/g;function Vx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CV(""+e.key):t.toString(36)}function Sm(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case hh:case dV:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Vx(s,0):r,yT(o)?(n="",e!=null&&(n=e.replace(vT,"$&/")+"/"),Sm(o,t,n,"",function(c){return c})):o!=null&&(K1(o)&&(o=SV(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(vT,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",yT(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Vx(i,a);s+=Sm(i,t,n,l,o)}else if(l=bV(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Vx(i,a++),s+=Sm(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Op(e,t,n){if(e==null)return e;var r=[],o=0;return Sm(e,r,"","",function(i){return t.call(n,i,o++)}),r}function kV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Or={current:null},Cm={transition:null},EV={ReactCurrentDispatcher:Or,ReactCurrentBatchConfig:Cm,ReactCurrentOwner:G1};function DP(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:Op,forEach:function(e,t,n){Op(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Op(e,function(){t++}),t},toArray:function(e){return Op(e,function(t){return t})||[]},only:function(e){if(!K1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tt.Component=Wu;Tt.Fragment=fV;Tt.Profiler=pV;Tt.PureComponent=H1;Tt.StrictMode=hV;Tt.Suspense=vV;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EV;Tt.act=DP;Tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=MP({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=G1.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)_P.call(t,l)&&!IP.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hh,type:e.type,key:o,ref:i,props:r,_owner:s}};Tt.createContext=function(e){return e={$$typeof:gV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mV,_context:e},e.Consumer=e};Tt.createElement=OP;Tt.createFactory=function(e){var t=OP.bind(null,e);return t.type=e,t};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(e){return{$$typeof:yV,render:e}};Tt.isValidElement=K1;Tt.lazy=function(e){return{$$typeof:wV,_payload:{_status:-1,_result:e},_init:kV}};Tt.memo=function(e,t){return{$$typeof:xV,type:e,compare:t===void 0?null:t}};Tt.startTransition=function(e){var t=Cm.transition;Cm.transition={};try{e()}finally{Cm.transition=t}};Tt.unstable_act=DP;Tt.useCallback=function(e,t){return Or.current.useCallback(e,t)};Tt.useContext=function(e){return Or.current.useContext(e)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(e){return Or.current.useDeferredValue(e)};Tt.useEffect=function(e,t){return Or.current.useEffect(e,t)};Tt.useId=function(){return Or.current.useId()};Tt.useImperativeHandle=function(e,t,n){return Or.current.useImperativeHandle(e,t,n)};Tt.useInsertionEffect=function(e,t){return Or.current.useInsertionEffect(e,t)};Tt.useLayoutEffect=function(e,t){return Or.current.useLayoutEffect(e,t)};Tt.useMemo=function(e,t){return Or.current.useMemo(e,t)};Tt.useReducer=function(e,t,n){return Or.current.useReducer(e,t,n)};Tt.useRef=function(e){return Or.current.useRef(e)};Tt.useState=function(e){return Or.current.useState(e)};Tt.useSyncExternalStore=function(e,t,n){return Or.current.useSyncExternalStore(e,t,n)};Tt.useTransition=function(){return Or.current.useTransition()};Tt.version="18.3.1";TP.exports=Tt;var y=TP.exports;const se=oy(y),q1=uV({__proto__:null,default:se},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NV=y,TV=Symbol.for("react.element"),RV=Symbol.for("react.fragment"),MV=Object.prototype.hasOwnProperty,AV=NV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PV={key:!0,ref:!0,__self:!0,__source:!0};function jP(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)MV.call(t,r)&&!PV.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:TV,type:e,key:i,ref:s,props:o,_owner:AV.current}}iy.Fragment=RV;iy.jsx=jP;iy.jsxs=jP;NP.exports=iy;var p=NP.exports,LP={exports:{}},So={},FP={exports:{}},zP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var A=L.length;L.push(D);e:for(;0<A;){var G=A-1>>>1,z=L[G];if(0<o(z,D))L[G]=D,L[A]=z,A=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var D=L[0],A=L.pop();if(A!==D){L[0]=A;e:for(var G=0,z=L.length,O=z>>>1;G<O;){var Z=2*(G+1)-1,re=L[Z],ne=Z+1,K=L[ne];if(0>o(re,A))ne<z&&0>o(K,re)?(L[G]=K,L[ne]=A,G=ne):(L[G]=re,L[Z]=A,G=Z);else if(ne<z&&0>o(K,A))L[G]=K,L[ne]=A,G=ne;else break e}}return D}function o(L,D){var A=L.sortIndex-D.sortIndex;return A!==0?A:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,m=3,g=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(L){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=L)r(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(c)}}function T(L){if(x=!1,k(L),!v)if(n(l)!==null)v=!0,X(N);else{var D=n(c);D!==null&&J(T,D.startTime-L)}}function N(L,D){v=!1,x&&(x=!1,S(M),M=-1),g=!0;var A=m;try{for(k(D),f=n(l);f!==null&&(!(f.expirationTime>D)||L&&!$());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var z=G(f.expirationTime<=D);D=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),k(D)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var Z=n(c);Z!==null&&J(T,Z.startTime-D),O=!1}return O}finally{f=null,m=A,g=!1}}var R=!1,_=null,M=-1,B=5,I=-1;function $(){return!(e.unstable_now()-I<B)}function W(){if(_!==null){var L=e.unstable_now();I=L;var D=!0;try{D=_(!0,L)}finally{D?V():(R=!1,_=null)}}else R=!1}var V;if(typeof C=="function")V=function(){C(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ee=H.port2;H.port1.onmessage=W,V=function(){ee.postMessage(null)}}else V=function(){w(W,0)};function X(L){_=L,R||(R=!0,V())}function J(L,D){M=w(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,X(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var A=m;m=D;try{return L()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var A=m;m=L;try{return D()}finally{m=A}},e.unstable_scheduleCallback=function(L,D,A){var G=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=A+z,L={id:d++,callback:D,priorityLevel:L,startTime:A,expirationTime:z,sortIndex:-1},A>G?(L.sortIndex=A,t(c,L),n(l)===null&&L===n(c)&&(x?(S(M),M=-1):x=!0,J(T,A-G))):(L.sortIndex=z,t(l,L),v||g||(v=!0,X(N))),L},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(L){var D=m;return function(){var A=m;m=D;try{return L.apply(this,arguments)}finally{m=A}}}})(zP);FP.exports=zP;var _V=FP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV=y,wo=_V;function Ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $P=new Set,Sf={};function ac(e,t){Eu(e,t),Eu(e+"Capture",t)}function Eu(e,t){for(Sf[e]=t,e=0;e<t.length;e++)$P.add(t[e])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mw=Object.prototype.hasOwnProperty,OV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xT={},wT={};function DV(e){return Mw.call(wT,e)?!0:Mw.call(xT,e)?!1:OV.test(e)?wT[e]=!0:(xT[e]=!0,!1)}function jV(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LV(e,t,n,r){if(t===null||typeof t>"u"||jV(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dr(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new Dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new Dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new Dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new Dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new Dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new Dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new Dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new Dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new Dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y1=/[\-:]([a-z])/g;function X1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y1,X1);rr[t]=new Dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y1,X1);rr[t]=new Dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y1,X1);rr[t]=new Dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function J1(e,t,n,r){var o=rr.hasOwnProperty(t)?rr[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LV(t,n,o,r)&&(n=null),r||o===null?DV(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ls=IV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dp=Symbol.for("react.element"),Uc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),Q1=Symbol.for("react.strict_mode"),Aw=Symbol.for("react.profiler"),BP=Symbol.for("react.provider"),WP=Symbol.for("react.context"),Z1=Symbol.for("react.forward_ref"),Pw=Symbol.for("react.suspense"),_w=Symbol.for("react.suspense_list"),eS=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),UP=Symbol.for("react.offscreen"),bT=Symbol.iterator;function Rd(e){return e===null||typeof e!="object"?null:(e=bT&&e[bT]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,Gx;function Vd(e){if(Gx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gx=t&&t[1]||""}return`
`+Gx+e}var Kx=!1;function qx(e,t){if(!e||Kx)return"";Kx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Kx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vd(e):""}function FV(e){switch(e.tag){case 5:return Vd(e.type);case 16:return Vd("Lazy");case 13:return Vd("Suspense");case 19:return Vd("SuspenseList");case 0:case 2:case 15:return e=qx(e.type,!1),e;case 11:return e=qx(e.type.render,!1),e;case 1:return e=qx(e.type,!0),e;default:return""}}function Iw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hc:return"Fragment";case Uc:return"Portal";case Aw:return"Profiler";case Q1:return"StrictMode";case Pw:return"Suspense";case _w:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WP:return(e.displayName||"Context")+".Consumer";case BP:return(e._context.displayName||"Context")+".Provider";case Z1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eS:return t=e.displayName||null,t!==null?t:Iw(e.type)||"Memo";case sa:t=e._payload,e=e._init;try{return Iw(e(t))}catch{}}return null}function zV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iw(t);case 8:return t===Q1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $V(e){var t=HP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jp(e){e._valueTracker||(e._valueTracker=$V(e))}function VP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=HP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ow(e,t){var n=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ST(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$a(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GP(e,t){t=t.checked,t!=null&&J1(e,"checked",t,!1)}function Dw(e,t){GP(e,t);var n=$a(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jw(e,t.type,n):t.hasOwnProperty("defaultValue")&&jw(e,t.type,$a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jw(e,t,n){(t!=="number"||Jm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gd=Array.isArray;function ru(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$a(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Lw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ce(92));if(Gd(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$a(n)}}function KP(e,t){var n=$a(t.value),r=$a(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ET(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lp,YP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lp=Lp||document.createElement("div"),Lp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BV=["Webkit","ms","Moz","O"];Object.keys(tf).forEach(function(e){BV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tf[t]=tf[e]})});function XP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tf.hasOwnProperty(e)&&tf[e]?(""+t).trim():t+"px"}function JP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=XP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var WV=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zw(e,t){if(t){if(WV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ce(62))}}function $w(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bw=null;function tS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ww=null,ou=null,iu=null;function NT(e){if(e=gh(e)){if(typeof Ww!="function")throw Error(Ce(280));var t=e.stateNode;t&&(t=uy(t),Ww(e.stateNode,e.type,t))}}function QP(e){ou?iu?iu.push(e):iu=[e]:ou=e}function ZP(){if(ou){var e=ou,t=iu;if(iu=ou=null,NT(e),t)for(e=0;e<t.length;e++)NT(t[e])}}function e_(e,t){return e(t)}function t_(){}var Yx=!1;function n_(e,t,n){if(Yx)return e(t,n);Yx=!0;try{return e_(e,t,n)}finally{Yx=!1,(ou!==null||iu!==null)&&(t_(),ZP())}}function kf(e,t){var n=e.stateNode;if(n===null)return null;var r=uy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ce(231,t,typeof n));return n}var Uw=!1;if(Ms)try{var Md={};Object.defineProperty(Md,"passive",{get:function(){Uw=!0}}),window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{Uw=!1}function UV(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var nf=!1,Qm=null,Zm=!1,Hw=null,HV={onError:function(e){nf=!0,Qm=e}};function VV(e,t,n,r,o,i,s,a,l){nf=!1,Qm=null,UV.apply(HV,arguments)}function GV(e,t,n,r,o,i,s,a,l){if(VV.apply(this,arguments),nf){if(nf){var c=Qm;nf=!1,Qm=null}else throw Error(Ce(198));Zm||(Zm=!0,Hw=c)}}function lc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function TT(e){if(lc(e)!==e)throw Error(Ce(188))}function KV(e){var t=e.alternate;if(!t){if(t=lc(e),t===null)throw Error(Ce(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return TT(o),e;if(i===r)return TT(o),t;i=i.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?e:t}function o_(e){return e=KV(e),e!==null?i_(e):null}function i_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=i_(e);if(t!==null)return t;e=e.sibling}return null}var s_=wo.unstable_scheduleCallback,RT=wo.unstable_cancelCallback,qV=wo.unstable_shouldYield,YV=wo.unstable_requestPaint,kn=wo.unstable_now,XV=wo.unstable_getCurrentPriorityLevel,nS=wo.unstable_ImmediatePriority,a_=wo.unstable_UserBlockingPriority,eg=wo.unstable_NormalPriority,JV=wo.unstable_LowPriority,l_=wo.unstable_IdlePriority,sy=null,Wi=null;function QV(e){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(sy,e,void 0,(e.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:t9,ZV=Math.log,e9=Math.LN2;function t9(e){return e>>>=0,e===0?32:31-(ZV(e)/e9|0)|0}var Fp=64,zp=4194304;function Kd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Kd(a):(i&=s,i!==0&&(r=Kd(i)))}else s=n&~o,s!==0?r=Kd(s):i!==0&&(r=Kd(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-di(t),o=1<<n,r|=e[n],t&=~o;return r}function n9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r9(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-di(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=n9(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Vw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c_(){var e=Fp;return Fp<<=1,!(Fp&4194240)&&(Fp=64),e}function Xx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ph(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-di(t),e[t]=n}function o9(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-di(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function rS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-di(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var $t=0;function u_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var d_,oS,f_,h_,p_,Gw=!1,$p=[],Na=null,Ta=null,Ra=null,Ef=new Map,Nf=new Map,da=[],i9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MT(e,t){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(t.pointerId)}}function Ad(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=gh(t),t!==null&&oS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function s9(e,t,n,r,o){switch(t){case"focusin":return Na=Ad(Na,e,t,n,r,o),!0;case"dragenter":return Ta=Ad(Ta,e,t,n,r,o),!0;case"mouseover":return Ra=Ad(Ra,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ef.set(i,Ad(Ef.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nf.set(i,Ad(Nf.get(i)||null,e,t,n,r,o)),!0}return!1}function m_(e){var t=kl(e.target);if(t!==null){var n=lc(t);if(n!==null){if(t=n.tag,t===13){if(t=r_(n),t!==null){e.blockedOn=t,p_(e.priority,function(){f_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function km(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bw=r,n.target.dispatchEvent(r),Bw=null}else return t=gh(n),t!==null&&oS(t),e.blockedOn=n,!1;t.shift()}return!0}function AT(e,t,n){km(e)&&n.delete(t)}function a9(){Gw=!1,Na!==null&&km(Na)&&(Na=null),Ta!==null&&km(Ta)&&(Ta=null),Ra!==null&&km(Ra)&&(Ra=null),Ef.forEach(AT),Nf.forEach(AT)}function Pd(e,t){e.blockedOn===t&&(e.blockedOn=null,Gw||(Gw=!0,wo.unstable_scheduleCallback(wo.unstable_NormalPriority,a9)))}function Tf(e){function t(o){return Pd(o,e)}if(0<$p.length){Pd($p[0],e);for(var n=1;n<$p.length;n++){var r=$p[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Na!==null&&Pd(Na,e),Ta!==null&&Pd(Ta,e),Ra!==null&&Pd(Ra,e),Ef.forEach(t),Nf.forEach(t),n=0;n<da.length;n++)r=da[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<da.length&&(n=da[0],n.blockedOn===null);)m_(n),n.blockedOn===null&&da.shift()}var su=Ls.ReactCurrentBatchConfig,ng=!0;function l9(e,t,n,r){var o=$t,i=su.transition;su.transition=null;try{$t=1,iS(e,t,n,r)}finally{$t=o,su.transition=i}}function c9(e,t,n,r){var o=$t,i=su.transition;su.transition=null;try{$t=4,iS(e,t,n,r)}finally{$t=o,su.transition=i}}function iS(e,t,n,r){if(ng){var o=Kw(e,t,n,r);if(o===null)s0(e,t,r,rg,n),MT(e,r);else if(s9(o,e,t,n,r))r.stopPropagation();else if(MT(e,r),t&4&&-1<i9.indexOf(e)){for(;o!==null;){var i=gh(o);if(i!==null&&d_(i),i=Kw(e,t,n,r),i===null&&s0(e,t,r,rg,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else s0(e,t,r,null,n)}}var rg=null;function Kw(e,t,n,r){if(rg=null,e=tS(r),e=kl(e),e!==null)if(t=lc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rg=e,null}function g_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XV()){case nS:return 1;case a_:return 4;case eg:case JV:return 16;case l_:return 536870912;default:return 16}default:return 16}}var xa=null,sS=null,Em=null;function y_(){if(Em)return Em;var e,t=sS,n=t.length,r,o="value"in xa?xa.value:xa.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Em=o.slice(e,1<r?1-r:void 0)}function Nm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bp(){return!0}function PT(){return!1}function Co(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bp:PT,this.isPropagationStopped=PT,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bp)},persist:function(){},isPersistent:Bp}),t}var Uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aS=Co(Uu),mh=pn({},Uu,{view:0,detail:0}),u9=Co(mh),Jx,Qx,_d,ay=pn({},mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_d&&(_d&&e.type==="mousemove"?(Jx=e.screenX-_d.screenX,Qx=e.screenY-_d.screenY):Qx=Jx=0,_d=e),Jx)},movementY:function(e){return"movementY"in e?e.movementY:Qx}}),_T=Co(ay),d9=pn({},ay,{dataTransfer:0}),f9=Co(d9),h9=pn({},mh,{relatedTarget:0}),Zx=Co(h9),p9=pn({},Uu,{animationName:0,elapsedTime:0,pseudoElement:0}),m9=Co(p9),g9=pn({},Uu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y9=Co(g9),v9=pn({},Uu,{data:0}),IT=Co(v9),x9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b9[e])?!!t[e]:!1}function lS(){return S9}var C9=pn({},mh,{key:function(e){if(e.key){var t=x9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lS,charCode:function(e){return e.type==="keypress"?Nm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k9=Co(C9),E9=pn({},ay,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OT=Co(E9),N9=pn({},mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lS}),T9=Co(N9),R9=pn({},Uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),M9=Co(R9),A9=pn({},ay,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P9=Co(A9),_9=[9,13,27,32],cS=Ms&&"CompositionEvent"in window,rf=null;Ms&&"documentMode"in document&&(rf=document.documentMode);var I9=Ms&&"TextEvent"in window&&!rf,v_=Ms&&(!cS||rf&&8<rf&&11>=rf),DT=" ",jT=!1;function x_(e,t){switch(e){case"keyup":return _9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vc=!1;function O9(e,t){switch(e){case"compositionend":return w_(t);case"keypress":return t.which!==32?null:(jT=!0,DT);case"textInput":return e=t.data,e===DT&&jT?null:e;default:return null}}function D9(e,t){if(Vc)return e==="compositionend"||!cS&&x_(e,t)?(e=y_(),Em=sS=xa=null,Vc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v_&&t.locale!=="ko"?null:t.data;default:return null}}var j9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j9[e.type]:t==="textarea"}function b_(e,t,n,r){QP(r),t=og(t,"onChange"),0<t.length&&(n=new aS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var of=null,Rf=null;function L9(e){__(e,0)}function ly(e){var t=qc(e);if(VP(t))return e}function F9(e,t){if(e==="change")return t}var S_=!1;if(Ms){var e0;if(Ms){var t0="oninput"in document;if(!t0){var FT=document.createElement("div");FT.setAttribute("oninput","return;"),t0=typeof FT.oninput=="function"}e0=t0}else e0=!1;S_=e0&&(!document.documentMode||9<document.documentMode)}function zT(){of&&(of.detachEvent("onpropertychange",C_),Rf=of=null)}function C_(e){if(e.propertyName==="value"&&ly(Rf)){var t=[];b_(t,Rf,e,tS(e)),n_(L9,t)}}function z9(e,t,n){e==="focusin"?(zT(),of=t,Rf=n,of.attachEvent("onpropertychange",C_)):e==="focusout"&&zT()}function $9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ly(Rf)}function B9(e,t){if(e==="click")return ly(t)}function W9(e,t){if(e==="input"||e==="change")return ly(t)}function U9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pi=typeof Object.is=="function"?Object.is:U9;function Mf(e,t){if(pi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Mw.call(t,o)||!pi(e[o],t[o]))return!1}return!0}function $T(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function BT(e,t){var n=$T(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$T(n)}}function k_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E_(){for(var e=window,t=Jm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jm(e.document)}return t}function uS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H9(e){var t=E_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&k_(n.ownerDocument.documentElement,n)){if(r!==null&&uS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=BT(n,i);var s=BT(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V9=Ms&&"documentMode"in document&&11>=document.documentMode,Gc=null,qw=null,sf=null,Yw=!1;function WT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yw||Gc==null||Gc!==Jm(r)||(r=Gc,"selectionStart"in r&&uS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sf&&Mf(sf,r)||(sf=r,r=og(qw,"onSelect"),0<r.length&&(t=new aS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gc)))}function Wp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kc={animationend:Wp("Animation","AnimationEnd"),animationiteration:Wp("Animation","AnimationIteration"),animationstart:Wp("Animation","AnimationStart"),transitionend:Wp("Transition","TransitionEnd")},n0={},N_={};Ms&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function cy(e){if(n0[e])return n0[e];if(!Kc[e])return e;var t=Kc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in N_)return n0[e]=t[n];return e}var T_=cy("animationend"),R_=cy("animationiteration"),M_=cy("animationstart"),A_=cy("transitionend"),P_=new Map,UT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(e,t){P_.set(e,t),ac(t,[e])}for(var r0=0;r0<UT.length;r0++){var o0=UT[r0],G9=o0.toLowerCase(),K9=o0[0].toUpperCase()+o0.slice(1);Ka(G9,"on"+K9)}Ka(T_,"onAnimationEnd");Ka(R_,"onAnimationIteration");Ka(M_,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(A_,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("cancel close invalid load scroll toggle".split(" ").concat(qd));function HT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,GV(r,t,void 0,e),e.currentTarget=null}function __(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;HT(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;HT(o,a,c),i=l}}}if(Zm)throw e=Hw,Zm=!1,Hw=null,e}function tn(e,t){var n=t[eb];n===void 0&&(n=t[eb]=new Set);var r=e+"__bubble";n.has(r)||(I_(t,e,2,!1),n.add(r))}function i0(e,t,n){var r=0;t&&(r|=4),I_(n,e,r,t)}var Up="_reactListening"+Math.random().toString(36).slice(2);function Af(e){if(!e[Up]){e[Up]=!0,$P.forEach(function(n){n!=="selectionchange"&&(q9.has(n)||i0(n,!1,e),i0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Up]||(t[Up]=!0,i0("selectionchange",!1,t))}}function I_(e,t,n,r){switch(g_(t)){case 1:var o=l9;break;case 4:o=c9;break;default:o=iS}n=o.bind(null,t,n,e),o=void 0,!Uw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function s0(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=kl(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}n_(function(){var c=i,d=tS(n),f=[];e:{var m=P_.get(e);if(m!==void 0){var g=aS,v=e;switch(e){case"keypress":if(Nm(n)===0)break e;case"keydown":case"keyup":g=k9;break;case"focusin":v="focus",g=Zx;break;case"focusout":v="blur",g=Zx;break;case"beforeblur":case"afterblur":g=Zx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_T;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=f9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=T9;break;case T_:case R_:case M_:g=m9;break;case A_:g=M9;break;case"scroll":g=u9;break;case"wheel":g=P9;break;case"copy":case"cut":case"paste":g=y9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=OT}var x=(t&4)!==0,w=!x&&e==="scroll",S=x?m!==null?m+"Capture":null:m;x=[];for(var C=c,k;C!==null;){k=C;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,S!==null&&(T=kf(C,S),T!=null&&x.push(Pf(C,T,k)))),w)break;C=C.return}0<x.length&&(m=new g(m,v,null,n,d),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Bw&&(v=n.relatedTarget||n.fromElement)&&(kl(v)||v[As]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?kl(v):null,v!==null&&(w=lc(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=_T,T="onMouseLeave",S="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(x=OT,T="onPointerLeave",S="onPointerEnter",C="pointer"),w=g==null?m:qc(g),k=v==null?m:qc(v),m=new x(T,C+"leave",g,n,d),m.target=w,m.relatedTarget=k,T=null,kl(d)===c&&(x=new x(S,C+"enter",v,n,d),x.target=k,x.relatedTarget=w,T=x),w=T,g&&v)t:{for(x=g,S=v,C=0,k=x;k;k=Pc(k))C++;for(k=0,T=S;T;T=Pc(T))k++;for(;0<C-k;)x=Pc(x),C--;for(;0<k-C;)S=Pc(S),k--;for(;C--;){if(x===S||S!==null&&x===S.alternate)break t;x=Pc(x),S=Pc(S)}x=null}else x=null;g!==null&&VT(f,m,g,x,!1),v!==null&&w!==null&&VT(f,w,v,x,!0)}}e:{if(m=c?qc(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var N=F9;else if(LT(m))if(S_)N=W9;else{N=$9;var R=z9}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=B9);if(N&&(N=N(e,c))){b_(f,N,n,d);break e}R&&R(e,m,c),e==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&jw(m,"number",m.value)}switch(R=c?qc(c):window,e){case"focusin":(LT(R)||R.contentEditable==="true")&&(Gc=R,qw=c,sf=null);break;case"focusout":sf=qw=Gc=null;break;case"mousedown":Yw=!0;break;case"contextmenu":case"mouseup":case"dragend":Yw=!1,WT(f,n,d);break;case"selectionchange":if(V9)break;case"keydown":case"keyup":WT(f,n,d)}var _;if(cS)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Vc?x_(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(v_&&n.locale!=="ko"&&(Vc||M!=="onCompositionStart"?M==="onCompositionEnd"&&Vc&&(_=y_()):(xa=d,sS="value"in xa?xa.value:xa.textContent,Vc=!0)),R=og(c,M),0<R.length&&(M=new IT(M,e,null,n,d),f.push({event:M,listeners:R}),_?M.data=_:(_=w_(n),_!==null&&(M.data=_)))),(_=I9?O9(e,n):D9(e,n))&&(c=og(c,"onBeforeInput"),0<c.length&&(d=new IT("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=_))}__(f,t)})}function Pf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function og(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=kf(e,n),i!=null&&r.unshift(Pf(e,i,o)),i=kf(e,t),i!=null&&r.push(Pf(e,i,o))),e=e.return}return r}function Pc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function VT(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=kf(n,i),l!=null&&s.unshift(Pf(n,l,a))):o||(l=kf(n,i),l!=null&&s.push(Pf(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Y9=/\r\n?/g,X9=/\u0000|\uFFFD/g;function GT(e){return(typeof e=="string"?e:""+e).replace(Y9,`
`).replace(X9,"")}function Hp(e,t,n){if(t=GT(t),GT(e)!==t&&n)throw Error(Ce(425))}function ig(){}var Xw=null,Jw=null;function Qw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zw=typeof setTimeout=="function"?setTimeout:void 0,J9=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,Q9=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(e){return KT.resolve(null).then(e).catch(Z9)}:Zw;function Z9(e){setTimeout(function(){throw e})}function a0(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Tf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Tf(t)}function Ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hu=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Hu,_f="__reactProps$"+Hu,As="__reactContainer$"+Hu,eb="__reactEvents$"+Hu,e7="__reactListeners$"+Hu,t7="__reactHandles$"+Hu;function kl(e){var t=e[Fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[As]||n[Fi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qT(e);e!==null;){if(n=e[Fi])return n;e=qT(e)}return t}e=n,n=e.parentNode}return null}function gh(e){return e=e[Fi]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ce(33))}function uy(e){return e[_f]||null}var tb=[],Yc=-1;function qa(e){return{current:e}}function nn(e){0>Yc||(e.current=tb[Yc],tb[Yc]=null,Yc--)}function Jt(e,t){Yc++,tb[Yc]=e.current,e.current=t}var Ba={},yr=qa(Ba),Gr=qa(!1),Vl=Ba;function Nu(e,t){var n=e.type.contextTypes;if(!n)return Ba;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Kr(e){return e=e.childContextTypes,e!=null}function sg(){nn(Gr),nn(yr)}function YT(e,t,n){if(yr.current!==Ba)throw Error(Ce(168));Jt(yr,t),Jt(Gr,n)}function O_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Ce(108,zV(e)||"Unknown",o));return pn({},n,r)}function ag(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ba,Vl=yr.current,Jt(yr,e),Jt(Gr,Gr.current),!0}function XT(e,t,n){var r=e.stateNode;if(!r)throw Error(Ce(169));n?(e=O_(e,t,Vl),r.__reactInternalMemoizedMergedChildContext=e,nn(Gr),nn(yr),Jt(yr,e)):nn(Gr),Jt(Gr,n)}var xs=null,dy=!1,l0=!1;function D_(e){xs===null?xs=[e]:xs.push(e)}function n7(e){dy=!0,D_(e)}function Ya(){if(!l0&&xs!==null){l0=!0;var e=0,t=$t;try{var n=xs;for($t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xs=null,dy=!1}catch(o){throw xs!==null&&(xs=xs.slice(e+1)),s_(nS,Ya),o}finally{$t=t,l0=!1}}return null}var Xc=[],Jc=0,lg=null,cg=0,Lo=[],Fo=0,Gl=null,Ss=1,Cs="";function xl(e,t){Xc[Jc++]=cg,Xc[Jc++]=lg,lg=e,cg=t}function j_(e,t,n){Lo[Fo++]=Ss,Lo[Fo++]=Cs,Lo[Fo++]=Gl,Gl=e;var r=Ss;e=Cs;var o=32-di(r)-1;r&=~(1<<o),n+=1;var i=32-di(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ss=1<<32-di(t)+o|n<<o|r,Cs=i+e}else Ss=1<<i|n<<o|r,Cs=e}function dS(e){e.return!==null&&(xl(e,1),j_(e,1,0))}function fS(e){for(;e===lg;)lg=Xc[--Jc],Xc[Jc]=null,cg=Xc[--Jc],Xc[Jc]=null;for(;e===Gl;)Gl=Lo[--Fo],Lo[Fo]=null,Cs=Lo[--Fo],Lo[Fo]=null,Ss=Lo[--Fo],Lo[Fo]=null}var go=null,po=null,sn=!1,li=null;function L_(e,t){var n=Bo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function JT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,go=e,po=Ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,go=e,po=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gl!==null?{id:Ss,overflow:Cs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,go=e,po=null,!0):!1;default:return!1}}function nb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rb(e){if(sn){var t=po;if(t){var n=t;if(!JT(e,t)){if(nb(e))throw Error(Ce(418));t=Ma(n.nextSibling);var r=go;t&&JT(e,t)?L_(r,n):(e.flags=e.flags&-4097|2,sn=!1,go=e)}}else{if(nb(e))throw Error(Ce(418));e.flags=e.flags&-4097|2,sn=!1,go=e}}}function QT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;go=e}function Vp(e){if(e!==go)return!1;if(!sn)return QT(e),sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qw(e.type,e.memoizedProps)),t&&(t=po)){if(nb(e))throw F_(),Error(Ce(418));for(;t;)L_(e,t),t=Ma(t.nextSibling)}if(QT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){po=Ma(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}po=null}}else po=go?Ma(e.stateNode.nextSibling):null;return!0}function F_(){for(var e=po;e;)e=Ma(e.nextSibling)}function Tu(){po=go=null,sn=!1}function hS(e){li===null?li=[e]:li.push(e)}var r7=Ls.ReactCurrentBatchConfig;function Id(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,e))}return e}function Gp(e,t){throw e=Object.prototype.toString.call(t),Error(Ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ZT(e){var t=e._init;return t(e._payload)}function z_(e){function t(S,C){if(e){var k=S.deletions;k===null?(S.deletions=[C],S.flags|=16):k.push(C)}}function n(S,C){if(!e)return null;for(;C!==null;)t(S,C),C=C.sibling;return null}function r(S,C){for(S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function o(S,C){return S=Ia(S,C),S.index=0,S.sibling=null,S}function i(S,C,k){return S.index=k,e?(k=S.alternate,k!==null?(k=k.index,k<C?(S.flags|=2,C):k):(S.flags|=2,C)):(S.flags|=1048576,C)}function s(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,C,k,T){return C===null||C.tag!==6?(C=m0(k,S.mode,T),C.return=S,C):(C=o(C,k),C.return=S,C)}function l(S,C,k,T){var N=k.type;return N===Hc?d(S,C,k.props.children,T,k.key):C!==null&&(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sa&&ZT(N)===C.type)?(T=o(C,k.props),T.ref=Id(S,C,k),T.return=S,T):(T=Im(k.type,k.key,k.props,null,S.mode,T),T.ref=Id(S,C,k),T.return=S,T)}function c(S,C,k,T){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=g0(k,S.mode,T),C.return=S,C):(C=o(C,k.children||[]),C.return=S,C)}function d(S,C,k,T,N){return C===null||C.tag!==7?(C=Ll(k,S.mode,T,N),C.return=S,C):(C=o(C,k),C.return=S,C)}function f(S,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=m0(""+C,S.mode,k),C.return=S,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Dp:return k=Im(C.type,C.key,C.props,null,S.mode,k),k.ref=Id(S,null,C),k.return=S,k;case Uc:return C=g0(C,S.mode,k),C.return=S,C;case sa:var T=C._init;return f(S,T(C._payload),k)}if(Gd(C)||Rd(C))return C=Ll(C,S.mode,k,null),C.return=S,C;Gp(S,C)}return null}function m(S,C,k,T){var N=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:a(S,C,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Dp:return k.key===N?l(S,C,k,T):null;case Uc:return k.key===N?c(S,C,k,T):null;case sa:return N=k._init,m(S,C,N(k._payload),T)}if(Gd(k)||Rd(k))return N!==null?null:d(S,C,k,T,null);Gp(S,k)}return null}function g(S,C,k,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return S=S.get(k)||null,a(C,S,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Dp:return S=S.get(T.key===null?k:T.key)||null,l(C,S,T,N);case Uc:return S=S.get(T.key===null?k:T.key)||null,c(C,S,T,N);case sa:var R=T._init;return g(S,C,k,R(T._payload),N)}if(Gd(T)||Rd(T))return S=S.get(k)||null,d(C,S,T,N,null);Gp(C,T)}return null}function v(S,C,k,T){for(var N=null,R=null,_=C,M=C=0,B=null;_!==null&&M<k.length;M++){_.index>M?(B=_,_=null):B=_.sibling;var I=m(S,_,k[M],T);if(I===null){_===null&&(_=B);break}e&&_&&I.alternate===null&&t(S,_),C=i(I,C,M),R===null?N=I:R.sibling=I,R=I,_=B}if(M===k.length)return n(S,_),sn&&xl(S,M),N;if(_===null){for(;M<k.length;M++)_=f(S,k[M],T),_!==null&&(C=i(_,C,M),R===null?N=_:R.sibling=_,R=_);return sn&&xl(S,M),N}for(_=r(S,_);M<k.length;M++)B=g(_,S,M,k[M],T),B!==null&&(e&&B.alternate!==null&&_.delete(B.key===null?M:B.key),C=i(B,C,M),R===null?N=B:R.sibling=B,R=B);return e&&_.forEach(function($){return t(S,$)}),sn&&xl(S,M),N}function x(S,C,k,T){var N=Rd(k);if(typeof N!="function")throw Error(Ce(150));if(k=N.call(k),k==null)throw Error(Ce(151));for(var R=N=null,_=C,M=C=0,B=null,I=k.next();_!==null&&!I.done;M++,I=k.next()){_.index>M?(B=_,_=null):B=_.sibling;var $=m(S,_,I.value,T);if($===null){_===null&&(_=B);break}e&&_&&$.alternate===null&&t(S,_),C=i($,C,M),R===null?N=$:R.sibling=$,R=$,_=B}if(I.done)return n(S,_),sn&&xl(S,M),N;if(_===null){for(;!I.done;M++,I=k.next())I=f(S,I.value,T),I!==null&&(C=i(I,C,M),R===null?N=I:R.sibling=I,R=I);return sn&&xl(S,M),N}for(_=r(S,_);!I.done;M++,I=k.next())I=g(_,S,M,I.value,T),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?M:I.key),C=i(I,C,M),R===null?N=I:R.sibling=I,R=I);return e&&_.forEach(function(W){return t(S,W)}),sn&&xl(S,M),N}function w(S,C,k,T){if(typeof k=="object"&&k!==null&&k.type===Hc&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Dp:e:{for(var N=k.key,R=C;R!==null;){if(R.key===N){if(N=k.type,N===Hc){if(R.tag===7){n(S,R.sibling),C=o(R,k.props.children),C.return=S,S=C;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sa&&ZT(N)===R.type){n(S,R.sibling),C=o(R,k.props),C.ref=Id(S,R,k),C.return=S,S=C;break e}n(S,R);break}else t(S,R);R=R.sibling}k.type===Hc?(C=Ll(k.props.children,S.mode,T,k.key),C.return=S,S=C):(T=Im(k.type,k.key,k.props,null,S.mode,T),T.ref=Id(S,C,k),T.return=S,S=T)}return s(S);case Uc:e:{for(R=k.key;C!==null;){if(C.key===R)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){n(S,C.sibling),C=o(C,k.children||[]),C.return=S,S=C;break e}else{n(S,C);break}else t(S,C);C=C.sibling}C=g0(k,S.mode,T),C.return=S,S=C}return s(S);case sa:return R=k._init,w(S,C,R(k._payload),T)}if(Gd(k))return v(S,C,k,T);if(Rd(k))return x(S,C,k,T);Gp(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(n(S,C.sibling),C=o(C,k),C.return=S,S=C):(n(S,C),C=m0(k,S.mode,T),C.return=S,S=C),s(S)):n(S,C)}return w}var Ru=z_(!0),$_=z_(!1),ug=qa(null),dg=null,Qc=null,pS=null;function mS(){pS=Qc=dg=null}function gS(e){var t=ug.current;nn(ug),e._currentValue=t}function ob(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function au(e,t){dg=e,pS=Qc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vr=!0),e.firstContext=null)}function Go(e){var t=e._currentValue;if(pS!==e)if(e={context:e,memoizedValue:t,next:null},Qc===null){if(dg===null)throw Error(Ce(308));Qc=e,dg.dependencies={lanes:0,firstContext:e}}else Qc=Qc.next=e;return t}var El=null;function yS(e){El===null?El=[e]:El.push(e)}function B_(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,yS(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var aa=!1;function vS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_t&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ps(e,n)}return o=r.interleaved,o===null?(t.next=t,yS(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ps(e,n)}function Tm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rS(e,n)}}function eR(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fg(e,t,n,r){var o=e.updateQueue;aa=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,d=c=l=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(m=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(g,f,m):v,m==null)break e;f=pn({},f,m);break e;case 2:aa=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,s|=m;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;m=a,a=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);ql|=s,e.lanes=s,e.memoizedState=f}}function tR(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ce(191,o));o.call(r)}}}var yh={},Ui=qa(yh),If=qa(yh),Of=qa(yh);function Nl(e){if(e===yh)throw Error(Ce(174));return e}function xS(e,t){switch(Jt(Of,t),Jt(If,e),Jt(Ui,yh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fw(t,e)}nn(Ui),Jt(Ui,t)}function Mu(){nn(Ui),nn(If),nn(Of)}function U_(e){Nl(Of.current);var t=Nl(Ui.current),n=Fw(t,e.type);t!==n&&(Jt(If,e),Jt(Ui,n))}function wS(e){If.current===e&&(nn(Ui),nn(If))}var dn=qa(0);function hg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var c0=[];function bS(){for(var e=0;e<c0.length;e++)c0[e]._workInProgressVersionPrimary=null;c0.length=0}var Rm=Ls.ReactCurrentDispatcher,u0=Ls.ReactCurrentBatchConfig,Kl=0,fn=null,On=null,zn=null,pg=!1,af=!1,Df=0,o7=0;function cr(){throw Error(Ce(321))}function SS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pi(e[n],t[n]))return!1;return!0}function CS(e,t,n,r,o,i){if(Kl=i,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rm.current=e===null||e.memoizedState===null?l7:c7,e=n(r,o),af){i=0;do{if(af=!1,Df=0,25<=i)throw Error(Ce(301));i+=1,zn=On=null,t.updateQueue=null,Rm.current=u7,e=n(r,o)}while(af)}if(Rm.current=mg,t=On!==null&&On.next!==null,Kl=0,zn=On=fn=null,pg=!1,t)throw Error(Ce(300));return e}function kS(){var e=Df!==0;return Df=0,e}function Pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?fn.memoizedState=zn=e:zn=zn.next=e,zn}function Ko(){if(On===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=On.next;var t=zn===null?fn.memoizedState:zn.next;if(t!==null)zn=t,On=e;else{if(e===null)throw Error(Ce(310));On=e,e={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},zn===null?fn.memoizedState=zn=e:zn=zn.next=e}return zn}function jf(e,t){return typeof t=="function"?t(e):t}function d0(e){var t=Ko(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=On,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var d=c.lane;if((Kl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,fn.lanes|=d,ql|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,pi(r,t.memoizedState)||(Vr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,fn.lanes|=i,ql|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function f0(e){var t=Ko(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);pi(i,t.memoizedState)||(Vr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function H_(){}function V_(e,t){var n=fn,r=Ko(),o=t(),i=!pi(r.memoizedState,o);if(i&&(r.memoizedState=o,Vr=!0),r=r.queue,ES(q_.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||zn!==null&&zn.memoizedState.tag&1){if(n.flags|=2048,Lf(9,K_.bind(null,n,r,o,t),void 0,null),Wn===null)throw Error(Ce(349));Kl&30||G_(n,t,o)}return o}function G_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K_(e,t,n,r){t.value=n,t.getSnapshot=r,Y_(t)&&X_(e)}function q_(e,t,n){return n(function(){Y_(t)&&X_(e)})}function Y_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pi(e,n)}catch{return!0}}function X_(e){var t=Ps(e,1);t!==null&&fi(t,e,1,-1)}function nR(e){var t=Pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:e},t.queue=e,e=e.dispatch=a7.bind(null,fn,e),[t.memoizedState,e]}function Lf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function J_(){return Ko().memoizedState}function Mm(e,t,n,r){var o=Pi();fn.flags|=e,o.memoizedState=Lf(1|t,n,void 0,r===void 0?null:r)}function fy(e,t,n,r){var o=Ko();r=r===void 0?null:r;var i=void 0;if(On!==null){var s=On.memoizedState;if(i=s.destroy,r!==null&&SS(r,s.deps)){o.memoizedState=Lf(t,n,i,r);return}}fn.flags|=e,o.memoizedState=Lf(1|t,n,i,r)}function rR(e,t){return Mm(8390656,8,e,t)}function ES(e,t){return fy(2048,8,e,t)}function Q_(e,t){return fy(4,2,e,t)}function Z_(e,t){return fy(4,4,e,t)}function eI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tI(e,t,n){return n=n!=null?n.concat([e]):null,fy(4,4,eI.bind(null,t,e),n)}function NS(){}function nI(e,t){var n=Ko();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&SS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rI(e,t){var n=Ko();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&SS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oI(e,t,n){return Kl&21?(pi(n,t)||(n=c_(),fn.lanes|=n,ql|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vr=!0),e.memoizedState=n)}function i7(e,t){var n=$t;$t=n!==0&&4>n?n:4,e(!0);var r=u0.transition;u0.transition={};try{e(!1),t()}finally{$t=n,u0.transition=r}}function iI(){return Ko().memoizedState}function s7(e,t,n){var r=_a(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sI(e))aI(t,n);else if(n=B_(e,t,n,r),n!==null){var o=Ar();fi(n,e,r,o),lI(n,t,r)}}function a7(e,t,n){var r=_a(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sI(e))aI(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,pi(a,s)){var l=t.interleaved;l===null?(o.next=o,yS(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=B_(e,t,o,r),n!==null&&(o=Ar(),fi(n,e,r,o),lI(n,t,r))}}function sI(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function aI(e,t){af=pg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rS(e,n)}}var mg={readContext:Go,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},l7={readContext:Go,useCallback:function(e,t){return Pi().memoizedState=[e,t===void 0?null:t],e},useContext:Go,useEffect:rR,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mm(4194308,4,eI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mm(4,2,e,t)},useMemo:function(e,t){var n=Pi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s7.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=Pi();return e={current:e},t.memoizedState=e},useState:nR,useDebugValue:NS,useDeferredValue:function(e){return Pi().memoizedState=e},useTransition:function(){var e=nR(!1),t=e[0];return e=i7.bind(null,e[1]),Pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,o=Pi();if(sn){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=t(),Wn===null)throw Error(Ce(349));Kl&30||G_(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,rR(q_.bind(null,r,i,e),[e]),r.flags|=2048,Lf(9,K_.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pi(),t=Wn.identifierPrefix;if(sn){var n=Cs,r=Ss;n=(r&~(1<<32-di(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Df++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},c7={readContext:Go,useCallback:nI,useContext:Go,useEffect:ES,useImperativeHandle:tI,useInsertionEffect:Q_,useLayoutEffect:Z_,useMemo:rI,useReducer:d0,useRef:J_,useState:function(){return d0(jf)},useDebugValue:NS,useDeferredValue:function(e){var t=Ko();return oI(t,On.memoizedState,e)},useTransition:function(){var e=d0(jf)[0],t=Ko().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:V_,useId:iI,unstable_isNewReconciler:!1},u7={readContext:Go,useCallback:nI,useContext:Go,useEffect:ES,useImperativeHandle:tI,useInsertionEffect:Q_,useLayoutEffect:Z_,useMemo:rI,useReducer:f0,useRef:J_,useState:function(){return f0(jf)},useDebugValue:NS,useDeferredValue:function(e){var t=Ko();return On===null?t.memoizedState=e:oI(t,On.memoizedState,e)},useTransition:function(){var e=f0(jf)[0],t=Ko().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:V_,useId:iI,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ib(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hy={isMounted:function(e){return(e=e._reactInternals)?lc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ar(),o=_a(e),i=Ns(r,o);i.payload=t,n!=null&&(i.callback=n),t=Aa(e,i,o),t!==null&&(fi(t,e,o,r),Tm(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ar(),o=_a(e),i=Ns(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Aa(e,i,o),t!==null&&(fi(t,e,o,r),Tm(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ar(),r=_a(e),o=Ns(n,r);o.tag=2,t!=null&&(o.callback=t),t=Aa(e,o,r),t!==null&&(fi(t,e,r,n),Tm(t,e,r))}};function oR(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Mf(n,r)||!Mf(o,i):!0}function cI(e,t,n){var r=!1,o=Ba,i=t.contextType;return typeof i=="object"&&i!==null?i=Go(i):(o=Kr(t)?Vl:yr.current,r=t.contextTypes,i=(r=r!=null)?Nu(e,o):Ba),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function iR(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hy.enqueueReplaceState(t,t.state,null)}function sb(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},vS(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Go(i):(i=Kr(t)?Vl:yr.current,o.context=Nu(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ib(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&hy.enqueueReplaceState(o,o.state,null),fg(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Au(e,t){try{var n="",r=t;do n+=FV(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function h0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ab(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var d7=typeof WeakMap=="function"?WeakMap:Map;function uI(e,t,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yg||(yg=!0,yb=r),ab(e,t)},n}function dI(e,t,n){n=Ns(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ab(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ab(e,t),typeof r!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function sR(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new d7;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=E7.bind(null,e,t,n),t.then(e,e))}function aR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lR(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ns(-1,1),t.tag=2,Aa(n,t,1))),n.lanes|=1),e)}var f7=Ls.ReactCurrentOwner,Vr=!1;function Nr(e,t,n,r){t.child=e===null?$_(t,null,n,r):Ru(t,e.child,n,r)}function cR(e,t,n,r,o){n=n.render;var i=t.ref;return au(t,o),r=CS(e,t,n,r,i,o),n=kS(),e!==null&&!Vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_s(e,t,o)):(sn&&n&&dS(t),t.flags|=1,Nr(e,t,r,o),t.child)}function uR(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!OS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fI(e,t,i,r,o)):(e=Im(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mf,n(s,r)&&e.ref===t.ref)return _s(e,t,o)}return t.flags|=1,e=Ia(i,r),e.ref=t.ref,e.return=t,t.child=e}function fI(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Mf(i,r)&&e.ref===t.ref)if(Vr=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Vr=!0);else return t.lanes=e.lanes,_s(e,t,o)}return lb(e,t,n,r,o)}function hI(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(eu,uo),uo|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jt(eu,uo),uo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Jt(eu,uo),uo|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Jt(eu,uo),uo|=r;return Nr(e,t,o,n),t.child}function pI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lb(e,t,n,r,o){var i=Kr(n)?Vl:yr.current;return i=Nu(t,i),au(t,o),n=CS(e,t,n,r,i,o),r=kS(),e!==null&&!Vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_s(e,t,o)):(sn&&r&&dS(t),t.flags|=1,Nr(e,t,n,o),t.child)}function dR(e,t,n,r,o){if(Kr(n)){var i=!0;ag(t)}else i=!1;if(au(t,o),t.stateNode===null)Am(e,t),cI(t,n,r),sb(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Go(c):(c=Kr(n)?Vl:yr.current,c=Nu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&iR(t,s,r,c),aa=!1;var m=t.memoizedState;s.state=m,fg(t,r,s,o),l=t.memoizedState,a!==r||m!==l||Gr.current||aa?(typeof d=="function"&&(ib(t,n,d,r),l=t.memoizedState),(a=aa||oR(t,n,a,r,m,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,W_(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ri(t.type,a),s.props=c,f=t.pendingProps,m=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Go(l):(l=Kr(n)?Vl:yr.current,l=Nu(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||m!==l)&&iR(t,s,r,l),aa=!1,m=t.memoizedState,s.state=m,fg(t,r,s,o);var v=t.memoizedState;a!==f||m!==v||Gr.current||aa?(typeof g=="function"&&(ib(t,n,g,r),v=t.memoizedState),(c=aa||oR(t,n,c,r,m,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return cb(e,t,n,r,i,o)}function cb(e,t,n,r,o,i){pI(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&XT(t,n,!1),_s(e,t,i);r=t.stateNode,f7.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ru(t,e.child,null,i),t.child=Ru(t,null,a,i)):Nr(e,t,a,i),t.memoizedState=r.state,o&&XT(t,n,!0),t.child}function mI(e){var t=e.stateNode;t.pendingContext?YT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&YT(e,t.context,!1),xS(e,t.containerInfo)}function fR(e,t,n,r,o){return Tu(),hS(o),t.flags|=256,Nr(e,t,n,r),t.child}var ub={dehydrated:null,treeContext:null,retryLane:0};function db(e){return{baseLanes:e,cachePool:null,transitions:null}}function gI(e,t,n){var r=t.pendingProps,o=dn.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Jt(dn,o&1),e===null)return rb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=gy(s,r,0,null),e=Ll(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=db(n),t.memoizedState=ub,e):TS(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return h7(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ia(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Ia(a,i):(i=Ll(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?db(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=ub,r}return i=e.child,e=i.sibling,r=Ia(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function TS(e,t){return t=gy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kp(e,t,n,r){return r!==null&&hS(r),Ru(t,e.child,null,n),e=TS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function h7(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=h0(Error(Ce(422))),Kp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=gy({mode:"visible",children:r.children},o,0,null),i=Ll(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ru(t,e.child,null,s),t.child.memoizedState=db(s),t.memoizedState=ub,i);if(!(t.mode&1))return Kp(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Ce(419)),r=h0(i,r,void 0),Kp(e,t,s,r)}if(a=(s&e.childLanes)!==0,Vr||a){if(r=Wn,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ps(e,o),fi(r,e,o,-1))}return IS(),r=h0(Error(Ce(421))),Kp(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=N7.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,po=Ma(o.nextSibling),go=t,sn=!0,li=null,e!==null&&(Lo[Fo++]=Ss,Lo[Fo++]=Cs,Lo[Fo++]=Gl,Ss=e.id,Cs=e.overflow,Gl=t),t=TS(t,r.children),t.flags|=4096,t)}function hR(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ob(e.return,t,n)}function p0(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function yI(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Nr(e,t,r.children,n),r=dn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hR(e,n,t);else if(e.tag===19)hR(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jt(dn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&hg(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),p0(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&hg(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}p0(t,!0,n,null,i);break;case"together":p0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Am(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _s(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ce(153));if(t.child!==null){for(e=t.child,n=Ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function p7(e,t,n){switch(t.tag){case 3:mI(t),Tu();break;case 5:U_(t);break;case 1:Kr(t.type)&&ag(t);break;case 4:xS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Jt(ug,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jt(dn,dn.current&1),t.flags|=128,null):n&t.child.childLanes?gI(e,t,n):(Jt(dn,dn.current&1),e=_s(e,t,n),e!==null?e.sibling:null);Jt(dn,dn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yI(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Jt(dn,dn.current),r)break;return null;case 22:case 23:return t.lanes=0,hI(e,t,n)}return _s(e,t,n)}var vI,fb,xI,wI;vI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fb=function(){};xI=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Nl(Ui.current);var i=null;switch(n){case"input":o=Ow(e,o),r=Ow(e,r),i=[];break;case"select":o=pn({},o,{value:void 0}),r=pn({},r,{value:void 0}),i=[];break;case"textarea":o=Lw(e,o),r=Lw(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ig)}zw(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tn("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};wI=function(e,t,n,r){n!==r&&(t.flags|=4)};function Od(e,t){if(!sn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function m7(e,t,n){var r=t.pendingProps;switch(fS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(t),null;case 1:return Kr(t.type)&&sg(),ur(t),null;case 3:return r=t.stateNode,Mu(),nn(Gr),nn(yr),bS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,li!==null&&(wb(li),li=null))),fb(e,t),ur(t),null;case 5:wS(t);var o=Nl(Of.current);if(n=t.type,e!==null&&t.stateNode!=null)xI(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ce(166));return ur(t),null}if(e=Nl(Ui.current),Vp(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Fi]=t,r[_f]=i,e=(t.mode&1)!==0,n){case"dialog":tn("cancel",r),tn("close",r);break;case"iframe":case"object":case"embed":tn("load",r);break;case"video":case"audio":for(o=0;o<qd.length;o++)tn(qd[o],r);break;case"source":tn("error",r);break;case"img":case"image":case"link":tn("error",r),tn("load",r);break;case"details":tn("toggle",r);break;case"input":ST(r,i),tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tn("invalid",r);break;case"textarea":kT(r,i),tn("invalid",r)}zw(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hp(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hp(r.textContent,a,e),o=["children",""+a]):Sf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&tn("scroll",r)}switch(n){case"input":jp(r),CT(r,i,!0);break;case"textarea":jp(r),ET(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ig)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Fi]=t,e[_f]=r,vI(e,t,!1,!1),t.stateNode=e;e:{switch(s=$w(n,r),n){case"dialog":tn("cancel",e),tn("close",e),o=r;break;case"iframe":case"object":case"embed":tn("load",e),o=r;break;case"video":case"audio":for(o=0;o<qd.length;o++)tn(qd[o],e);o=r;break;case"source":tn("error",e),o=r;break;case"img":case"image":case"link":tn("error",e),tn("load",e),o=r;break;case"details":tn("toggle",e),o=r;break;case"input":ST(e,r),o=Ow(e,r),tn("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pn({},r,{value:void 0}),tn("invalid",e);break;case"textarea":kT(e,r),o=Lw(e,r),tn("invalid",e);break;default:o=r}zw(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?JP(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YP(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cf(e,l):typeof l=="number"&&Cf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&tn("scroll",e):l!=null&&J1(e,i,l,s))}switch(n){case"input":jp(e),CT(e,r,!1);break;case"textarea":jp(e),ET(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$a(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ru(e,!!r.multiple,i,!1):r.defaultValue!=null&&ru(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ig)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ur(t),null;case 6:if(e&&t.stateNode!=null)wI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ce(166));if(n=Nl(Of.current),Nl(Ui.current),Vp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fi]=t,(i=r.nodeValue!==n)&&(e=go,e!==null))switch(e.tag){case 3:Hp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hp(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fi]=t,t.stateNode=r}return ur(t),null;case 13:if(nn(dn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sn&&po!==null&&t.mode&1&&!(t.flags&128))F_(),Tu(),t.flags|=98560,i=!1;else if(i=Vp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ce(317));i[Fi]=t}else Tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ur(t),i=!1}else li!==null&&(wb(li),li=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dn.current&1?jn===0&&(jn=3):IS())),t.updateQueue!==null&&(t.flags|=4),ur(t),null);case 4:return Mu(),fb(e,t),e===null&&Af(t.stateNode.containerInfo),ur(t),null;case 10:return gS(t.type._context),ur(t),null;case 17:return Kr(t.type)&&sg(),ur(t),null;case 19:if(nn(dn),i=t.memoizedState,i===null)return ur(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Od(i,!1);else{if(jn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hg(e),s!==null){for(t.flags|=128,Od(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jt(dn,dn.current&1|2),t.child}e=e.sibling}i.tail!==null&&kn()>Pu&&(t.flags|=128,r=!0,Od(i,!1),t.lanes=4194304)}else{if(!r)if(e=hg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Od(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!sn)return ur(t),null}else 2*kn()-i.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,r=!0,Od(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=kn(),t.sibling=null,n=dn.current,Jt(dn,r?n&1|2:n&1),t):(ur(t),null);case 22:case 23:return _S(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?uo&1073741824&&(ur(t),t.subtreeFlags&6&&(t.flags|=8192)):ur(t),null;case 24:return null;case 25:return null}throw Error(Ce(156,t.tag))}function g7(e,t){switch(fS(t),t.tag){case 1:return Kr(t.type)&&sg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mu(),nn(Gr),nn(yr),bS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wS(t),null;case 13:if(nn(dn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ce(340));Tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nn(dn),null;case 4:return Mu(),null;case 10:return gS(t.type._context),null;case 22:case 23:return _S(),null;case 24:return null;default:return null}}var qp=!1,hr=!1,y7=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Zc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xn(e,t,r)}else n.current=null}function hb(e,t,n){try{n()}catch(r){xn(e,t,r)}}var pR=!1;function v7(e,t){if(Xw=ng,e=E_(),uS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++c===o&&(a=s),m===i&&++d===r&&(l=s),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jw={focusedElem:e,selectionRange:n},ng=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,S=t.stateNode,C=S.getSnapshotBeforeUpdate(t.elementType===t.type?x:ri(t.type,x),w);S.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(T){xn(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return v=pR,pR=!1,v}function lf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&hb(t,n,i)}o=o.next}while(o!==r)}}function py(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bI(e){var t=e.alternate;t!==null&&(e.alternate=null,bI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fi],delete t[_f],delete t[eb],delete t[e7],delete t[t7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SI(e){return e.tag===5||e.tag===3||e.tag===4}function mR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ig));else if(r!==4&&(e=e.child,e!==null))for(mb(e,t,n),e=e.sibling;e!==null;)mb(e,t,n),e=e.sibling}function gb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gb(e,t,n),e=e.sibling;e!==null;)gb(e,t,n),e=e.sibling}var Xn=null,ai=!1;function Qs(e,t,n){for(n=n.child;n!==null;)CI(e,t,n),n=n.sibling}function CI(e,t,n){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(sy,n)}catch{}switch(n.tag){case 5:hr||Zc(n,t);case 6:var r=Xn,o=ai;Xn=null,Qs(e,t,n),Xn=r,ai=o,Xn!==null&&(ai?(e=Xn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xn.removeChild(n.stateNode));break;case 18:Xn!==null&&(ai?(e=Xn,n=n.stateNode,e.nodeType===8?a0(e.parentNode,n):e.nodeType===1&&a0(e,n),Tf(e)):a0(Xn,n.stateNode));break;case 4:r=Xn,o=ai,Xn=n.stateNode.containerInfo,ai=!0,Qs(e,t,n),Xn=r,ai=o;break;case 0:case 11:case 14:case 15:if(!hr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&hb(n,t,s),o=o.next}while(o!==r)}Qs(e,t,n);break;case 1:if(!hr&&(Zc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xn(n,t,a)}Qs(e,t,n);break;case 21:Qs(e,t,n);break;case 22:n.mode&1?(hr=(r=hr)||n.memoizedState!==null,Qs(e,t,n),hr=r):Qs(e,t,n);break;default:Qs(e,t,n)}}function gR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new y7),t.forEach(function(r){var o=T7.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ei(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Xn=a.stateNode,ai=!1;break e;case 3:Xn=a.stateNode.containerInfo,ai=!0;break e;case 4:Xn=a.stateNode.containerInfo,ai=!0;break e}a=a.return}if(Xn===null)throw Error(Ce(160));CI(i,s,o),Xn=null,ai=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){xn(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kI(t,e),t=t.sibling}function kI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ei(t,e),Mi(e),r&4){try{lf(3,e,e.return),py(3,e)}catch(x){xn(e,e.return,x)}try{lf(5,e,e.return)}catch(x){xn(e,e.return,x)}}break;case 1:ei(t,e),Mi(e),r&512&&n!==null&&Zc(n,n.return);break;case 5:if(ei(t,e),Mi(e),r&512&&n!==null&&Zc(n,n.return),e.flags&32){var o=e.stateNode;try{Cf(o,"")}catch(x){xn(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&GP(o,i),$w(a,s);var c=$w(a,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?JP(o,f):d==="dangerouslySetInnerHTML"?YP(o,f):d==="children"?Cf(o,f):J1(o,d,f,c)}switch(a){case"input":Dw(o,i);break;case"textarea":KP(o,i);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ru(o,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?ru(o,!!i.multiple,i.defaultValue,!0):ru(o,!!i.multiple,i.multiple?[]:"",!1))}o[_f]=i}catch(x){xn(e,e.return,x)}}break;case 6:if(ei(t,e),Mi(e),r&4){if(e.stateNode===null)throw Error(Ce(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){xn(e,e.return,x)}}break;case 3:if(ei(t,e),Mi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tf(t.containerInfo)}catch(x){xn(e,e.return,x)}break;case 4:ei(t,e),Mi(e);break;case 13:ei(t,e),Mi(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(AS=kn())),r&4&&gR(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(hr=(c=hr)||d,ei(t,e),hr=c):ei(t,e),Mi(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Be=e,d=e.child;d!==null;){for(f=Be=d;Be!==null;){switch(m=Be,g=m.child,m.tag){case 0:case 11:case 14:case 15:lf(4,m,m.return);break;case 1:Zc(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){xn(r,n,x)}}break;case 5:Zc(m,m.return);break;case 22:if(m.memoizedState!==null){vR(f);continue}}g!==null?(g.return=m,Be=g):vR(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XP("display",s))}catch(x){xn(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){xn(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ei(t,e),Mi(e),r&4&&gR(e);break;case 21:break;default:ei(t,e),Mi(e)}}function Mi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(SI(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Cf(o,""),r.flags&=-33);var i=mR(e);gb(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mR(e);mb(e,a,s);break;default:throw Error(Ce(161))}}catch(l){xn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x7(e,t,n){Be=e,EI(e)}function EI(e,t,n){for(var r=(e.mode&1)!==0;Be!==null;){var o=Be,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||qp;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||hr;a=qp;var c=hr;if(qp=s,(hr=l)&&!c)for(Be=o;Be!==null;)s=Be,l=s.child,s.tag===22&&s.memoizedState!==null?xR(o):l!==null?(l.return=s,Be=l):xR(o);for(;i!==null;)Be=i,EI(i),i=i.sibling;Be=o,qp=a,hr=c}yR(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Be=i):yR(e)}}function yR(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hr||py(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!hr)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ri(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tR(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tR(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Tf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}hr||t.flags&512&&pb(t)}catch(m){xn(t,t.return,m)}}if(t===e){Be=null;break}if(n=t.sibling,n!==null){n.return=t.return,Be=n;break}Be=t.return}}function vR(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Be=n;break}Be=t.return}}function xR(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{py(4,t)}catch(l){xn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){xn(t,o,l)}}var i=t.return;try{pb(t)}catch(l){xn(t,i,l)}break;case 5:var s=t.return;try{pb(t)}catch(l){xn(t,s,l)}}}catch(l){xn(t,t.return,l)}if(t===e){Be=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Be=a;break}Be=t.return}}var w7=Math.ceil,gg=Ls.ReactCurrentDispatcher,RS=Ls.ReactCurrentOwner,Uo=Ls.ReactCurrentBatchConfig,_t=0,Wn=null,Mn=null,tr=0,uo=0,eu=qa(0),jn=0,Ff=null,ql=0,my=0,MS=0,cf=null,Hr=null,AS=0,Pu=1/0,ys=null,yg=!1,yb=null,Pa=null,Yp=!1,wa=null,vg=0,uf=0,vb=null,Pm=-1,_m=0;function Ar(){return _t&6?kn():Pm!==-1?Pm:Pm=kn()}function _a(e){return e.mode&1?_t&2&&tr!==0?tr&-tr:r7.transition!==null?(_m===0&&(_m=c_()),_m):(e=$t,e!==0||(e=window.event,e=e===void 0?16:g_(e.type)),e):1}function fi(e,t,n,r){if(50<uf)throw uf=0,vb=null,Error(Ce(185));ph(e,n,r),(!(_t&2)||e!==Wn)&&(e===Wn&&(!(_t&2)&&(my|=n),jn===4&&fa(e,tr)),qr(e,r),n===1&&_t===0&&!(t.mode&1)&&(Pu=kn()+500,dy&&Ya()))}function qr(e,t){var n=e.callbackNode;r9(e,t);var r=tg(e,e===Wn?tr:0);if(r===0)n!==null&&RT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&RT(n),t===1)e.tag===0?n7(wR.bind(null,e)):D_(wR.bind(null,e)),Q9(function(){!(_t&6)&&Ya()}),n=null;else{switch(u_(r)){case 1:n=nS;break;case 4:n=a_;break;case 16:n=eg;break;case 536870912:n=l_;break;default:n=eg}n=II(n,NI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NI(e,t){if(Pm=-1,_m=0,_t&6)throw Error(Ce(327));var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=tg(e,e===Wn?tr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xg(e,r);else{t=r;var o=_t;_t|=2;var i=RI();(Wn!==e||tr!==t)&&(ys=null,Pu=kn()+500,jl(e,t));do try{C7();break}catch(a){TI(e,a)}while(!0);mS(),gg.current=i,_t=o,Mn!==null?t=0:(Wn=null,tr=0,t=jn)}if(t!==0){if(t===2&&(o=Vw(e),o!==0&&(r=o,t=xb(e,o))),t===1)throw n=Ff,jl(e,0),fa(e,r),qr(e,kn()),n;if(t===6)fa(e,r);else{if(o=e.current.alternate,!(r&30)&&!b7(o)&&(t=xg(e,r),t===2&&(i=Vw(e),i!==0&&(r=i,t=xb(e,i))),t===1))throw n=Ff,jl(e,0),fa(e,r),qr(e,kn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Ce(345));case 2:wl(e,Hr,ys);break;case 3:if(fa(e,r),(r&130023424)===r&&(t=AS+500-kn(),10<t)){if(tg(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ar(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Zw(wl.bind(null,e,Hr,ys),t);break}wl(e,Hr,ys);break;case 4:if(fa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-di(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w7(r/1960))-r,10<r){e.timeoutHandle=Zw(wl.bind(null,e,Hr,ys),r);break}wl(e,Hr,ys);break;case 5:wl(e,Hr,ys);break;default:throw Error(Ce(329))}}}return qr(e,kn()),e.callbackNode===n?NI.bind(null,e):null}function xb(e,t){var n=cf;return e.current.memoizedState.isDehydrated&&(jl(e,t).flags|=256),e=xg(e,t),e!==2&&(t=Hr,Hr=n,t!==null&&wb(t)),e}function wb(e){Hr===null?Hr=e:Hr.push.apply(Hr,e)}function b7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!pi(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t){for(t&=~MS,t&=~my,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-di(t),r=1<<n;e[n]=-1,t&=~r}}function wR(e){if(_t&6)throw Error(Ce(327));lu();var t=tg(e,0);if(!(t&1))return qr(e,kn()),null;var n=xg(e,t);if(e.tag!==0&&n===2){var r=Vw(e);r!==0&&(t=r,n=xb(e,r))}if(n===1)throw n=Ff,jl(e,0),fa(e,t),qr(e,kn()),n;if(n===6)throw Error(Ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Hr,ys),qr(e,kn()),null}function PS(e,t){var n=_t;_t|=1;try{return e(t)}finally{_t=n,_t===0&&(Pu=kn()+500,dy&&Ya())}}function Yl(e){wa!==null&&wa.tag===0&&!(_t&6)&&lu();var t=_t;_t|=1;var n=Uo.transition,r=$t;try{if(Uo.transition=null,$t=1,e)return e()}finally{$t=r,Uo.transition=n,_t=t,!(_t&6)&&Ya()}}function _S(){uo=eu.current,nn(eu)}function jl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J9(n)),Mn!==null)for(n=Mn.return;n!==null;){var r=n;switch(fS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sg();break;case 3:Mu(),nn(Gr),nn(yr),bS();break;case 5:wS(r);break;case 4:Mu();break;case 13:nn(dn);break;case 19:nn(dn);break;case 10:gS(r.type._context);break;case 22:case 23:_S()}n=n.return}if(Wn=e,Mn=e=Ia(e.current,null),tr=uo=t,jn=0,Ff=null,MS=my=ql=0,Hr=cf=null,El!==null){for(t=0;t<El.length;t++)if(n=El[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}El=null}return e}function TI(e,t){do{var n=Mn;try{if(mS(),Rm.current=mg,pg){for(var r=fn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}pg=!1}if(Kl=0,zn=On=fn=null,af=!1,Df=0,RS.current=null,n===null||n.return===null){jn=1,Ff=t,Mn=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=tr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=aR(s);if(g!==null){g.flags&=-257,lR(g,s,a,i,t),g.mode&1&&sR(i,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){sR(i,c,t),IS();break e}l=Error(Ce(426))}}else if(sn&&a.mode&1){var w=aR(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),lR(w,s,a,i,t),hS(Au(l,a));break e}}i=l=Au(l,a),jn!==4&&(jn=2),cf===null?cf=[i]:cf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var S=uI(i,l,t);eR(i,S);break e;case 1:a=l;var C=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Pa===null||!Pa.has(k)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=dI(i,a,t);eR(i,T);break e}}i=i.return}while(i!==null)}AI(n)}catch(N){t=N,Mn===n&&n!==null&&(Mn=n=n.return);continue}break}while(!0)}function RI(){var e=gg.current;return gg.current=mg,e===null?mg:e}function IS(){(jn===0||jn===3||jn===2)&&(jn=4),Wn===null||!(ql&268435455)&&!(my&268435455)||fa(Wn,tr)}function xg(e,t){var n=_t;_t|=2;var r=RI();(Wn!==e||tr!==t)&&(ys=null,jl(e,t));do try{S7();break}catch(o){TI(e,o)}while(!0);if(mS(),_t=n,gg.current=r,Mn!==null)throw Error(Ce(261));return Wn=null,tr=0,jn}function S7(){for(;Mn!==null;)MI(Mn)}function C7(){for(;Mn!==null&&!qV();)MI(Mn)}function MI(e){var t=_I(e.alternate,e,uo);e.memoizedProps=e.pendingProps,t===null?AI(e):Mn=t,RS.current=null}function AI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=g7(n,t),n!==null){n.flags&=32767,Mn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jn=6,Mn=null;return}}else if(n=m7(n,t,uo),n!==null){Mn=n;return}if(t=t.sibling,t!==null){Mn=t;return}Mn=t=e}while(t!==null);jn===0&&(jn=5)}function wl(e,t,n){var r=$t,o=Uo.transition;try{Uo.transition=null,$t=1,k7(e,t,n,r)}finally{Uo.transition=o,$t=r}return null}function k7(e,t,n,r){do lu();while(wa!==null);if(_t&6)throw Error(Ce(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ce(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(o9(e,i),e===Wn&&(Mn=Wn=null,tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yp||(Yp=!0,II(eg,function(){return lu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Uo.transition,Uo.transition=null;var s=$t;$t=1;var a=_t;_t|=4,RS.current=null,v7(e,n),kI(n,e),H9(Jw),ng=!!Xw,Jw=Xw=null,e.current=n,x7(n),YV(),_t=a,$t=s,Uo.transition=i}else e.current=n;if(Yp&&(Yp=!1,wa=e,vg=o),i=e.pendingLanes,i===0&&(Pa=null),QV(n.stateNode),qr(e,kn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(yg)throw yg=!1,e=yb,yb=null,e;return vg&1&&e.tag!==0&&lu(),i=e.pendingLanes,i&1?e===vb?uf++:(uf=0,vb=e):uf=0,Ya(),null}function lu(){if(wa!==null){var e=u_(vg),t=Uo.transition,n=$t;try{if(Uo.transition=null,$t=16>e?16:e,wa===null)var r=!1;else{if(e=wa,wa=null,vg=0,_t&6)throw Error(Ce(331));var o=_t;for(_t|=4,Be=e.current;Be!==null;){var i=Be,s=i.child;if(Be.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Be=c;Be!==null;){var d=Be;switch(d.tag){case 0:case 11:case 15:lf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Be=f;else for(;Be!==null;){d=Be;var m=d.sibling,g=d.return;if(bI(d),d===c){Be=null;break}if(m!==null){m.return=g,Be=m;break}Be=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Be=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Be=s;else e:for(;Be!==null;){if(i=Be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lf(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,Be=S;break e}Be=i.return}}var C=e.current;for(Be=C;Be!==null;){s=Be;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,Be=k;else e:for(s=C;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:py(9,a)}}catch(N){xn(a,a.return,N)}if(a===s){Be=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Be=T;break e}Be=a.return}}if(_t=o,Ya(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(sy,e)}catch{}r=!0}return r}finally{$t=n,Uo.transition=t}}return!1}function bR(e,t,n){t=Au(n,t),t=uI(e,t,1),e=Aa(e,t,1),t=Ar(),e!==null&&(ph(e,1,t),qr(e,t))}function xn(e,t,n){if(e.tag===3)bR(e,e,n);else for(;t!==null;){if(t.tag===3){bR(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pa===null||!Pa.has(r))){e=Au(n,e),e=dI(t,e,1),t=Aa(t,e,1),e=Ar(),t!==null&&(ph(t,1,e),qr(t,e));break}}t=t.return}}function E7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&n,Wn===e&&(tr&n)===n&&(jn===4||jn===3&&(tr&130023424)===tr&&500>kn()-AS?jl(e,0):MS|=n),qr(e,t)}function PI(e,t){t===0&&(e.mode&1?(t=zp,zp<<=1,!(zp&130023424)&&(zp=4194304)):t=1);var n=Ar();e=Ps(e,t),e!==null&&(ph(e,t,n),qr(e,n))}function N7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PI(e,n)}function T7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(t),PI(e,n)}var _I;_I=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gr.current)Vr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vr=!1,p7(e,t,n);Vr=!!(e.flags&131072)}else Vr=!1,sn&&t.flags&1048576&&j_(t,cg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Am(e,t),e=t.pendingProps;var o=Nu(t,yr.current);au(t,n),o=CS(null,t,r,e,o,n);var i=kS();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kr(r)?(i=!0,ag(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,vS(t),o.updater=hy,t.stateNode=o,o._reactInternals=t,sb(t,r,e,n),t=cb(null,t,r,!0,i,n)):(t.tag=0,sn&&i&&dS(t),Nr(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Am(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=M7(r),e=ri(r,e),o){case 0:t=lb(null,t,r,e,n);break e;case 1:t=dR(null,t,r,e,n);break e;case 11:t=cR(null,t,r,e,n);break e;case 14:t=uR(null,t,r,ri(r.type,e),n);break e}throw Error(Ce(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ri(r,o),lb(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ri(r,o),dR(e,t,r,o,n);case 3:e:{if(mI(t),e===null)throw Error(Ce(387));r=t.pendingProps,i=t.memoizedState,o=i.element,W_(e,t),fg(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Au(Error(Ce(423)),t),t=fR(e,t,r,n,o);break e}else if(r!==o){o=Au(Error(Ce(424)),t),t=fR(e,t,r,n,o);break e}else for(po=Ma(t.stateNode.containerInfo.firstChild),go=t,sn=!0,li=null,n=$_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tu(),r===o){t=_s(e,t,n);break e}Nr(e,t,r,n)}t=t.child}return t;case 5:return U_(t),e===null&&rb(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Qw(r,o)?s=null:i!==null&&Qw(r,i)&&(t.flags|=32),pI(e,t),Nr(e,t,s,n),t.child;case 6:return e===null&&rb(t),null;case 13:return gI(e,t,n);case 4:return xS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ru(t,null,r,n):Nr(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ri(r,o),cR(e,t,r,o,n);case 7:return Nr(e,t,t.pendingProps,n),t.child;case 8:return Nr(e,t,t.pendingProps.children,n),t.child;case 12:return Nr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Jt(ug,r._currentValue),r._currentValue=s,i!==null)if(pi(i.value,s)){if(i.children===o.children&&!Gr.current){t=_s(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ns(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ob(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ce(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ob(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Nr(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,au(t,n),o=Go(o),r=r(o),t.flags|=1,Nr(e,t,r,n),t.child;case 14:return r=t.type,o=ri(r,t.pendingProps),o=ri(r.type,o),uR(e,t,r,o,n);case 15:return fI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ri(r,o),Am(e,t),t.tag=1,Kr(r)?(e=!0,ag(t)):e=!1,au(t,n),cI(t,r,o),sb(t,r,o,n),cb(null,t,r,!0,e,n);case 19:return yI(e,t,n);case 22:return hI(e,t,n)}throw Error(Ce(156,t.tag))};function II(e,t){return s_(e,t)}function R7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(e,t,n,r){return new R7(e,t,n,r)}function OS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M7(e){if(typeof e=="function")return OS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z1)return 11;if(e===eS)return 14}return 2}function Ia(e,t){var n=e.alternate;return n===null?(n=Bo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Im(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")OS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Hc:return Ll(n.children,o,i,t);case Q1:s=8,o|=8;break;case Aw:return e=Bo(12,n,t,o|2),e.elementType=Aw,e.lanes=i,e;case Pw:return e=Bo(13,n,t,o),e.elementType=Pw,e.lanes=i,e;case _w:return e=Bo(19,n,t,o),e.elementType=_w,e.lanes=i,e;case UP:return gy(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BP:s=10;break e;case WP:s=9;break e;case Z1:s=11;break e;case eS:s=14;break e;case sa:s=16,r=null;break e}throw Error(Ce(130,e==null?e:typeof e,""))}return t=Bo(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Ll(e,t,n,r){return e=Bo(7,e,r,t),e.lanes=n,e}function gy(e,t,n,r){return e=Bo(22,e,r,t),e.elementType=UP,e.lanes=n,e.stateNode={isHidden:!1},e}function m0(e,t,n){return e=Bo(6,e,null,t),e.lanes=n,e}function g0(e,t,n){return t=Bo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function A7(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xx(0),this.expirationTimes=Xx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xx(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function DS(e,t,n,r,o,i,s,a,l){return e=new A7(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vS(i),e}function P7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function OI(e){if(!e)return Ba;e=e._reactInternals;e:{if(lc(e)!==e||e.tag!==1)throw Error(Ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ce(171))}if(e.tag===1){var n=e.type;if(Kr(n))return O_(e,n,t)}return t}function DI(e,t,n,r,o,i,s,a,l){return e=DS(n,r,!0,e,o,i,s,a,l),e.context=OI(null),n=e.current,r=Ar(),o=_a(n),i=Ns(r,o),i.callback=t??null,Aa(n,i,o),e.current.lanes=o,ph(e,o,r),qr(e,r),e}function yy(e,t,n,r){var o=t.current,i=Ar(),s=_a(o);return n=OI(n),t.context===null?t.context=n:t.pendingContext=n,t=Ns(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Aa(o,t,s),e!==null&&(fi(e,o,s,i),Tm(e,o,s)),s}function wg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function SR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jS(e,t){SR(e,t),(e=e.alternate)&&SR(e,t)}function _7(){return null}var jI=typeof reportError=="function"?reportError:function(e){console.error(e)};function LS(e){this._internalRoot=e}vy.prototype.render=LS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ce(409));yy(e,t,null,null)};vy.prototype.unmount=LS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yl(function(){yy(null,e,null,null)}),t[As]=null}};function vy(e){this._internalRoot=e}vy.prototype.unstable_scheduleHydration=function(e){if(e){var t=h_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<da.length&&t!==0&&t<da[n].priority;n++);da.splice(n,0,e),n===0&&m_(e)}};function FS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CR(){}function I7(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=wg(s);i.call(c)}}var s=DI(t,r,e,0,null,!1,!1,"",CR);return e._reactRootContainer=s,e[As]=s.current,Af(e.nodeType===8?e.parentNode:e),Yl(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=wg(l);a.call(c)}}var l=DS(e,0,!1,null,null,!1,!1,"",CR);return e._reactRootContainer=l,e[As]=l.current,Af(e.nodeType===8?e.parentNode:e),Yl(function(){yy(t,l,n,r)}),l}function wy(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=wg(s);a.call(l)}}yy(t,s,e,o)}else s=I7(n,t,e,o,r);return wg(s)}d_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kd(t.pendingLanes);n!==0&&(rS(t,n|1),qr(t,kn()),!(_t&6)&&(Pu=kn()+500,Ya()))}break;case 13:Yl(function(){var r=Ps(e,1);if(r!==null){var o=Ar();fi(r,e,1,o)}}),jS(e,1)}};oS=function(e){if(e.tag===13){var t=Ps(e,134217728);if(t!==null){var n=Ar();fi(t,e,134217728,n)}jS(e,134217728)}};f_=function(e){if(e.tag===13){var t=_a(e),n=Ps(e,t);if(n!==null){var r=Ar();fi(n,e,t,r)}jS(e,t)}};h_=function(){return $t};p_=function(e,t){var n=$t;try{return $t=e,t()}finally{$t=n}};Ww=function(e,t,n){switch(t){case"input":if(Dw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=uy(r);if(!o)throw Error(Ce(90));VP(r),Dw(r,o)}}}break;case"textarea":KP(e,n);break;case"select":t=n.value,t!=null&&ru(e,!!n.multiple,t,!1)}};e_=PS;t_=Yl;var O7={usingClientEntryPoint:!1,Events:[gh,qc,uy,QP,ZP,PS]},Dd={findFiberByHostInstance:kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D7={bundleType:Dd.bundleType,version:Dd.version,rendererPackageName:Dd.rendererPackageName,rendererConfig:Dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o_(e),e===null?null:e.stateNode},findFiberByHostInstance:Dd.findFiberByHostInstance||_7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{sy=Xp.inject(D7),Wi=Xp}catch{}}So.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O7;So.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FS(t))throw Error(Ce(200));return P7(e,t,null,n)};So.createRoot=function(e,t){if(!FS(e))throw Error(Ce(299));var n=!1,r="",o=jI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=DS(e,1,!1,null,null,n,!1,r,o),e[As]=t.current,Af(e.nodeType===8?e.parentNode:e),new LS(t)};So.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ce(188)):(e=Object.keys(e).join(","),Error(Ce(268,e)));return e=o_(t),e=e===null?null:e.stateNode,e};So.flushSync=function(e){return Yl(e)};So.hydrate=function(e,t,n){if(!xy(t))throw Error(Ce(200));return wy(null,e,t,!0,n)};So.hydrateRoot=function(e,t,n){if(!FS(e))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=jI;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=DI(t,null,e,1,n??null,o,!1,i,s),e[As]=t.current,Af(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new vy(t)};So.render=function(e,t,n){if(!xy(t))throw Error(Ce(200));return wy(null,e,t,!1,n)};So.unmountComponentAtNode=function(e){if(!xy(e))throw Error(Ce(40));return e._reactRootContainer?(Yl(function(){wy(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};So.unstable_batchedUpdates=PS;So.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xy(n))throw Error(Ce(200));if(e==null||e._reactInternals===void 0)throw Error(Ce(38));return wy(e,t,n,!1,r)};So.version="18.3.1-next-f1338f8080-20240426";function LI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LI)}catch(e){console.error(e)}}LI(),LP.exports=So;var Wo=LP.exports;const zS=oy(Wo);var FI,kR=Wo;FI=kR.createRoot,kR.hydrateRoot;function zI(e,t){return function(){return e.apply(t,arguments)}}const{toString:j7}=Object.prototype,{getPrototypeOf:$S}=Object,{iterator:by,toStringTag:$I}=Symbol,Sy=(e=>t=>{const n=j7.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xi=e=>(e=e.toLowerCase(),t=>Sy(t)===e),Cy=e=>t=>typeof t===e,{isArray:Vu}=Array,zf=Cy("undefined");function L7(e){return e!==null&&!zf(e)&&e.constructor!==null&&!zf(e.constructor)&&Yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const BI=xi("ArrayBuffer");function F7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&BI(e.buffer),t}const z7=Cy("string"),Yr=Cy("function"),WI=Cy("number"),ky=e=>e!==null&&typeof e=="object",$7=e=>e===!0||e===!1,Om=e=>{if(Sy(e)!=="object")return!1;const t=$S(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($I in e)&&!(by in e)},B7=xi("Date"),W7=xi("File"),U7=xi("Blob"),H7=xi("FileList"),V7=e=>ky(e)&&Yr(e.pipe),G7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yr(e.append)&&((t=Sy(e))==="formdata"||t==="object"&&Yr(e.toString)&&e.toString()==="[object FormData]"))},K7=xi("URLSearchParams"),[q7,Y7,X7,J7]=["ReadableStream","Request","Response","Headers"].map(xi),Q7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vh(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Vu(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function UI(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Tl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HI=e=>!zf(e)&&e!==Tl;function bb(){const{caseless:e}=HI(this)&&this||{},t={},n=(r,o)=>{const i=e&&UI(t,o)||o;Om(t[i])&&Om(r)?t[i]=bb(t[i],r):Om(r)?t[i]=bb({},r):Vu(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&vh(arguments[r],n);return t}const Z7=(e,t,n,{allOwnKeys:r}={})=>(vh(t,(o,i)=>{n&&Yr(o)?e[i]=zI(o,n):e[i]=o},{allOwnKeys:r}),e),eG=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tG=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},nG=(e,t,n,r)=>{let o,i,s;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&$S(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},rG=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},oG=e=>{if(!e)return null;if(Vu(e))return e;let t=e.length;if(!WI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},iG=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$S(Uint8Array)),sG=(e,t)=>{const r=(e&&e[by]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},aG=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},lG=xi("HTMLFormElement"),cG=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),ER=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),uG=xi("RegExp"),VI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};vh(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},dG=e=>{VI(e,(t,n)=>{if(Yr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Yr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fG=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Vu(e)?r(e):r(String(e).split(t)),n},hG=()=>{},pG=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function mG(e){return!!(e&&Yr(e.append)&&e[$I]==="FormData"&&e[by])}const gG=e=>{const t=new Array(10),n=(r,o)=>{if(ky(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=Vu(r)?[]:{};return vh(r,(s,a)=>{const l=n(s,o+1);!zf(l)&&(i[a]=l)}),t[o]=void 0,i}}return r};return n(e,0)},yG=xi("AsyncFunction"),vG=e=>e&&(ky(e)||Yr(e))&&Yr(e.then)&&Yr(e.catch),GI=((e,t)=>e?setImmediate:t?((n,r)=>(Tl.addEventListener("message",({source:o,data:i})=>{o===Tl&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Tl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Yr(Tl.postMessage)),xG=typeof queueMicrotask<"u"?queueMicrotask.bind(Tl):typeof process<"u"&&process.nextTick||GI,wG=e=>e!=null&&Yr(e[by]),ie={isArray:Vu,isArrayBuffer:BI,isBuffer:L7,isFormData:G7,isArrayBufferView:F7,isString:z7,isNumber:WI,isBoolean:$7,isObject:ky,isPlainObject:Om,isReadableStream:q7,isRequest:Y7,isResponse:X7,isHeaders:J7,isUndefined:zf,isDate:B7,isFile:W7,isBlob:U7,isRegExp:uG,isFunction:Yr,isStream:V7,isURLSearchParams:K7,isTypedArray:iG,isFileList:H7,forEach:vh,merge:bb,extend:Z7,trim:Q7,stripBOM:eG,inherits:tG,toFlatObject:nG,kindOf:Sy,kindOfTest:xi,endsWith:rG,toArray:oG,forEachEntry:sG,matchAll:aG,isHTMLForm:lG,hasOwnProperty:ER,hasOwnProp:ER,reduceDescriptors:VI,freezeMethods:dG,toObjectSet:fG,toCamelCase:cG,noop:hG,toFiniteNumber:pG,findKey:UI,global:Tl,isContextDefined:HI,isSpecCompliantForm:mG,toJSONObject:gG,isAsyncFn:yG,isThenable:vG,setImmediate:GI,asap:xG,isIterable:wG};function pt(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}ie.inherits(pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const KI=pt.prototype,qI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qI[e]={value:e}});Object.defineProperties(pt,qI);Object.defineProperty(KI,"isAxiosError",{value:!0});pt.from=(e,t,n,r,o,i)=>{const s=Object.create(KI);return ie.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),pt.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const bG=null;function Sb(e){return ie.isPlainObject(e)||ie.isArray(e)}function YI(e){return ie.endsWith(e,"[]")?e.slice(0,-2):e}function NR(e,t,n){return e?e.concat(t).map(function(o,i){return o=YI(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function SG(e){return ie.isArray(e)&&!e.some(Sb)}const CG=ie.toFlatObject(ie,{},null,function(t){return/^is[A-Z]/.test(t)});function Ey(e,t,n){if(!ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!ie.isUndefined(w[x])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(t);if(!ie.isFunction(o))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(ie.isDate(v))return v.toISOString();if(ie.isBoolean(v))return v.toString();if(!l&&ie.isBlob(v))throw new pt("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(v)||ie.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,x,w){let S=v;if(v&&!w&&typeof v=="object"){if(ie.endsWith(x,"{}"))x=r?x:x.slice(0,-2),v=JSON.stringify(v);else if(ie.isArray(v)&&SG(v)||(ie.isFileList(v)||ie.endsWith(x,"[]"))&&(S=ie.toArray(v)))return x=YI(x),S.forEach(function(k,T){!(ie.isUndefined(k)||k===null)&&t.append(s===!0?NR([x],T,i):s===null?x:x+"[]",c(k))}),!1}return Sb(v)?!0:(t.append(NR(w,x,i),c(v)),!1)}const f=[],m=Object.assign(CG,{defaultVisitor:d,convertValue:c,isVisitable:Sb});function g(v,x){if(!ie.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(v),ie.forEach(v,function(S,C){(!(ie.isUndefined(S)||S===null)&&o.call(t,S,ie.isString(C)?C.trim():C,x,m))===!0&&g(S,x?x.concat(C):[C])}),f.pop()}}if(!ie.isObject(e))throw new TypeError("data must be an object");return g(e),t}function TR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function BS(e,t){this._pairs=[],e&&Ey(e,this,t)}const XI=BS.prototype;XI.append=function(t,n){this._pairs.push([t,n])};XI.toString=function(t){const n=t?function(r){return t.call(this,r,TR)}:TR;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function kG(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JI(e,t,n){if(!t)return e;const r=n&&n.encode||kG;ie.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=ie.isURLSearchParams(t)?t.toString():new BS(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class RR{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ie.forEach(this.handlers,function(r){r!==null&&t(r)})}}const QI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EG=typeof URLSearchParams<"u"?URLSearchParams:BS,NG=typeof FormData<"u"?FormData:null,TG=typeof Blob<"u"?Blob:null,RG={isBrowser:!0,classes:{URLSearchParams:EG,FormData:NG,Blob:TG},protocols:["http","https","file","blob","url","data"]},WS=typeof window<"u"&&typeof document<"u",Cb=typeof navigator=="object"&&navigator||void 0,MG=WS&&(!Cb||["ReactNative","NativeScript","NS"].indexOf(Cb.product)<0),AG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PG=WS&&window.location.href||"http://localhost",_G=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WS,hasStandardBrowserEnv:MG,hasStandardBrowserWebWorkerEnv:AG,navigator:Cb,origin:PG},Symbol.toStringTag,{value:"Module"})),pr={..._G,...RG};function IG(e,t){return Ey(e,new pr.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return pr.isNode&&ie.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function OG(e){return ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DG(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function ZI(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&ie.isArray(o)?o.length:s,l?(ie.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!ie.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&ie.isArray(o[s])&&(o[s]=DG(o[s])),!a)}if(ie.isFormData(e)&&ie.isFunction(e.entries)){const n={};return ie.forEachEntry(e,(r,o)=>{t(OG(r),o,n,0)}),n}return null}function jG(e,t,n){if(ie.isString(e))try{return(t||JSON.parse)(e),ie.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const xh={transitional:QI,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=ie.isObject(t);if(i&&ie.isHTMLForm(t)&&(t=new FormData(t)),ie.isFormData(t))return o?JSON.stringify(ZI(t)):t;if(ie.isArrayBuffer(t)||ie.isBuffer(t)||ie.isStream(t)||ie.isFile(t)||ie.isBlob(t)||ie.isReadableStream(t))return t;if(ie.isArrayBufferView(t))return t.buffer;if(ie.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return IG(t,this.formSerializer).toString();if((a=ie.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ey(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),jG(t)):t}],transformResponse:[function(t){const n=this.transitional||xh.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(ie.isResponse(t)||ie.isReadableStream(t))return t;if(t&&ie.isString(t)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?pt.from(a,pt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pr.classes.FormData,Blob:pr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],e=>{xh.headers[e]={}});const LG=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FG=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&LG[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},MR=Symbol("internals");function jd(e){return e&&String(e).trim().toLowerCase()}function Dm(e){return e===!1||e==null?e:ie.isArray(e)?e.map(Dm):String(e)}function zG(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const $G=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function y0(e,t,n,r,o){if(ie.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!ie.isString(t)){if(ie.isString(r))return t.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(t)}}function BG(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function WG(e,t){const n=ie.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}let Xr=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(a,l,c){const d=jd(l);if(!d)throw new Error("header name must be a non-empty string");const f=ie.findKey(o,d);(!f||o[f]===void 0||c===!0||c===void 0&&o[f]!==!1)&&(o[f||l]=Dm(a))}const s=(a,l)=>ie.forEach(a,(c,d)=>i(c,d,l));if(ie.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(ie.isString(t)&&(t=t.trim())&&!$G(t))s(FG(t),n);else if(ie.isObject(t)&&ie.isIterable(t)){let a={},l,c;for(const d of t){if(!ie.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?ie.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}s(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=jd(t),t){const r=ie.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return zG(o);if(ie.isFunction(n))return n.call(this,o,r);if(ie.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=jd(t),t){const r=ie.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||y0(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(s){if(s=jd(s),s){const a=ie.findKey(r,s);a&&(!n||y0(r,r[a],a,n))&&(delete r[a],o=!0)}}return ie.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||y0(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return ie.forEach(this,(o,i)=>{const s=ie.findKey(r,i);if(s){n[s]=Dm(o),delete n[i];return}const a=t?BG(i):String(i).trim();a!==i&&delete n[i],n[a]=Dm(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ie.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&ie.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[MR]=this[MR]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=jd(s);r[a]||(WG(o,s),r[a]=!0)}return ie.isArray(t)?t.forEach(i):i(t),this}};Xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Xr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ie.freezeMethods(Xr);function v0(e,t){const n=this||xh,r=t||n,o=Xr.from(r.headers);let i=r.data;return ie.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function eO(e){return!!(e&&e.__CANCEL__)}function Gu(e,t,n){pt.call(this,e??"canceled",pt.ERR_CANCELED,t,n),this.name="CanceledError"}ie.inherits(Gu,pt,{__CANCEL__:!0});function tO(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new pt("Request failed with status code "+n.status,[pt.ERR_BAD_REQUEST,pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function UG(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function HG(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),n[o]=l,r[o]=c;let f=i,m=0;for(;f!==o;)m+=n[f++],f=f%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-s<t)return;const g=d&&c-d;return g?Math.round(m*1e3/g):void 0}}function VG(e,t){let n=0,r=1e3/t,o,i;const s=(c,d=Date.now())=>{n=d,o=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?s(c,d):(o=c,i||(i=setTimeout(()=>{i=null,s(o)},r-f)))},()=>o&&s(o)]}const bg=(e,t,n=3)=>{let r=0;const o=HG(50,250);return VG(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,l=s-r,c=o(l),d=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},AR=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},PR=e=>(...t)=>ie.asap(()=>e(...t)),GG=pr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,pr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(pr.origin),pr.navigator&&/(msie|trident)/i.test(pr.navigator.userAgent)):()=>!0,KG=pr.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];ie.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ie.isString(r)&&s.push("path="+r),ie.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qG(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function YG(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function nO(e,t,n){let r=!qG(t);return e&&(r||n==!1)?YG(e,t):t}const _R=e=>e instanceof Xr?{...e}:e;function Xl(e,t){t=t||{};const n={};function r(c,d,f,m){return ie.isPlainObject(c)&&ie.isPlainObject(d)?ie.merge.call({caseless:m},c,d):ie.isPlainObject(d)?ie.merge({},d):ie.isArray(d)?d.slice():d}function o(c,d,f,m){if(ie.isUndefined(d)){if(!ie.isUndefined(c))return r(void 0,c,f,m)}else return r(c,d,f,m)}function i(c,d){if(!ie.isUndefined(d))return r(void 0,d)}function s(c,d){if(ie.isUndefined(d)){if(!ie.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d,f)=>o(_R(c),_R(d),f,!0)};return ie.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||o,m=f(e[d],t[d],d);ie.isUndefined(m)&&f!==a||(n[d]=m)}),n}const rO=e=>{const t=Xl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=t;t.headers=s=Xr.from(s),t.url=JI(nO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ie.isFormData(n)){if(pr.hasStandardBrowserEnv||pr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...d].join("; "))}}if(pr.hasStandardBrowserEnv&&(r&&ie.isFunction(r)&&(r=r(t)),r||r!==!1&&GG(t.url))){const c=o&&i&&KG.read(i);c&&s.set(o,c)}return t},XG=typeof XMLHttpRequest<"u",JG=XG&&function(e){return new Promise(function(n,r){const o=rO(e);let i=o.data;const s=Xr.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=o,d,f,m,g,v;function x(){g&&g(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function S(){if(!w)return;const k=Xr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:k,config:e,request:w};tO(function(_){n(_),x()},function(_){r(_),x()},N),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(r(new pt("Request aborted",pt.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new pt("Network Error",pt.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let T=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const N=o.transitional||QI;o.timeoutErrorMessage&&(T=o.timeoutErrorMessage),r(new pt(T,N.clarifyTimeoutError?pt.ETIMEDOUT:pt.ECONNABORTED,e,w)),w=null},i===void 0&&s.setContentType(null),"setRequestHeader"in w&&ie.forEach(s.toJSON(),function(T,N){w.setRequestHeader(N,T)}),ie.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),a&&a!=="json"&&(w.responseType=o.responseType),c&&([m,v]=bg(c,!0),w.addEventListener("progress",m)),l&&w.upload&&([f,g]=bg(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(d=k=>{w&&(r(!k||k.type?new Gu(null,e,w):k),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const C=UG(o.url);if(C&&pr.protocols.indexOf(C)===-1){r(new pt("Unsupported protocol "+C+":",pt.ERR_BAD_REQUEST,e));return}w.send(i||null)})},QG=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(c){if(!o){o=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof pt?d:new Gu(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,i(new pt(`timeout ${t} of ms exceeded`,pt.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>ie.asap(a),l}},ZG=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},eK=async function*(e,t){for await(const n of tK(e))yield*ZG(n,t)},tK=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},IR=(e,t,n,r)=>{const o=eK(e,t);let i=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await o.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let m=i+=f;n(m)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},Ny=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oO=Ny&&typeof ReadableStream=="function",nK=Ny&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),iO=(e,...t)=>{try{return!!e(...t)}catch{return!1}},rK=oO&&iO(()=>{let e=!1;const t=new Request(pr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),OR=64*1024,kb=oO&&iO(()=>ie.isReadableStream(new Response("").body)),Sg={stream:kb&&(e=>e.body)};Ny&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Sg[t]&&(Sg[t]=ie.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new pt(`Response type '${t}' is not supported`,pt.ERR_NOT_SUPPORT,r)})})})(new Response);const oK=async e=>{if(e==null)return 0;if(ie.isBlob(e))return e.size;if(ie.isSpecCompliantForm(e))return(await new Request(pr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(e)||ie.isArrayBuffer(e))return e.byteLength;if(ie.isURLSearchParams(e)&&(e=e+""),ie.isString(e))return(await nK(e)).byteLength},iK=async(e,t)=>{const n=ie.toFiniteNumber(e.getContentLength());return n??oK(t)},sK=Ny&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:m}=rO(e);c=c?(c+"").toLowerCase():"text";let g=QG([o,i&&i.toAbortSignal()],s),v;const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let w;try{if(l&&rK&&n!=="get"&&n!=="head"&&(w=await iK(d,r))!==0){let N=new Request(t,{method:"POST",body:r,duplex:"half"}),R;if(ie.isFormData(r)&&(R=N.headers.get("content-type"))&&d.setContentType(R),N.body){const[_,M]=AR(w,bg(PR(l)));r=IR(N.body,OR,_,M)}}ie.isString(f)||(f=f?"include":"omit");const S="credentials"in Request.prototype;v=new Request(t,{...m,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:S?f:void 0});let C=await fetch(v,m);const k=kb&&(c==="stream"||c==="response");if(kb&&(a||k&&x)){const N={};["status","statusText","headers"].forEach(B=>{N[B]=C[B]});const R=ie.toFiniteNumber(C.headers.get("content-length")),[_,M]=a&&AR(R,bg(PR(a),!0))||[];C=new Response(IR(C.body,OR,_,()=>{M&&M(),x&&x()}),N)}c=c||"text";let T=await Sg[ie.findKey(Sg,c)||"text"](C,e);return!k&&x&&x(),await new Promise((N,R)=>{tO(N,R,{data:T,headers:Xr.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:v})})}catch(S){throw x&&x(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new pt("Network Error",pt.ERR_NETWORK,e,v),{cause:S.cause||S}):pt.from(S,S&&S.code,e,v)}}),Eb={http:bG,xhr:JG,fetch:sK};ie.forEach(Eb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const DR=e=>`- ${e}`,aK=e=>ie.isFunction(e)||e===null||e===!1,sO={getAdapter:e=>{e=ie.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!aK(n)&&(r=Eb[(s=String(n)).toLowerCase()],r===void 0))throw new pt(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(DR).join(`
`):" "+DR(i[0]):"as no adapter specified";throw new pt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Eb};function x0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gu(null,e)}function jR(e){return x0(e),e.headers=Xr.from(e.headers),e.data=v0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sO.getAdapter(e.adapter||xh.adapter)(e).then(function(r){return x0(e),r.data=v0.call(e,e.transformResponse,r),r.headers=Xr.from(r.headers),r},function(r){return eO(r)||(x0(e),r&&r.response&&(r.response.data=v0.call(e,e.transformResponse,r.response),r.response.headers=Xr.from(r.response.headers))),Promise.reject(r)})}const aO="1.10.0",Ty={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ty[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const LR={};Ty.transitional=function(t,n,r){function o(i,s){return"[Axios v"+aO+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(t===!1)throw new pt(o(s," has been removed"+(n?" in "+n:"")),pt.ERR_DEPRECATED);return n&&!LR[s]&&(LR[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,a):!0}};Ty.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function lK(e,t,n){if(typeof e!="object")throw new pt("options must be an object",pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const a=e[i],l=a===void 0||s(a,i,e);if(l!==!0)throw new pt("option "+i+" must be "+l,pt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pt("Unknown option "+i,pt.ERR_BAD_OPTION)}}const jm={assertOptions:lK,validators:Ty},Ai=jm.validators;let Fl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new RR,response:new RR}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xl(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&jm.assertOptions(r,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),o!=null&&(ie.isFunction(o)?n.paramsSerializer={serialize:o}:jm.assertOptions(o,{encode:Ai.function,serialize:Ai.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),jm.assertOptions(n,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&ie.merge(i.common,i[n.method]);i&&ie.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Xr.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,f=0,m;if(!l){const v=[jR.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),m=v.length,d=Promise.resolve(n);f<m;)d=d.then(v[f++],v[f++]);return d}m=a.length;let g=n;for(f=0;f<m;){const v=a[f++],x=a[f++];try{g=v(g)}catch(w){x.call(this,w);break}}try{d=jR.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,m=c.length;f<m;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Xl(this.defaults,t);const n=nO(t.baseURL,t.url,t.allowAbsoluteUrls);return JI(n,t.params,t.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(t){Fl.prototype[t]=function(n,r){return this.request(Xl(r||{},{method:t,url:n,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,a){return this.request(Xl(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Fl.prototype[t]=n(),Fl.prototype[t+"Form"]=n(!0)});let cK=class lO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,a){r.reason||(r.reason=new Gu(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new lO(function(o){t=o}),cancel:t}}};function uK(e){return function(n){return e.apply(null,n)}}function dK(e){return ie.isObject(e)&&e.isAxiosError===!0}const Nb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nb).forEach(([e,t])=>{Nb[t]=e});function cO(e){const t=new Fl(e),n=zI(Fl.prototype.request,t);return ie.extend(n,Fl.prototype,t,{allOwnKeys:!0}),ie.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return cO(Xl(e,o))},n}const Bt=cO(xh);Bt.Axios=Fl;Bt.CanceledError=Gu;Bt.CancelToken=cK;Bt.isCancel=eO;Bt.VERSION=aO;Bt.toFormData=Ey;Bt.AxiosError=pt;Bt.Cancel=Bt.CanceledError;Bt.all=function(t){return Promise.all(t)};Bt.spread=uK;Bt.isAxiosError=dK;Bt.mergeConfig=Xl;Bt.AxiosHeaders=Xr;Bt.formToJSON=e=>ZI(ie.isHTMLForm(e)?new FormData(e):e);Bt.getAdapter=sO.getAdapter;Bt.HttpStatusCode=Nb;Bt.default=Bt;const{Axios:K0e,AxiosError:q0e,CanceledError:Y0e,isCancel:X0e,CancelToken:J0e,VERSION:Q0e,all:Z0e,Cancel:ewe,isAxiosError:twe,spread:nwe,toFormData:rwe,AxiosHeaders:owe,HttpStatusCode:iwe,formToJSON:swe,getAdapter:awe,mergeConfig:lwe}=Bt,fK=["/api/credits/recent-expirations","/api/subscription/tier-info"],uO="https://itemize-backend-production-92ad.up.railway.app",an=Bt.create({baseURL:"http://localhost:3001",withCredentials:!0});an.interceptors.request.use(e=>{const t=window.location.hostname==="itemize.cloud";e.baseURL=t?uO:"http://localhost:3001";const n=e.url||"";if(fK.some(o=>n.includes(o))){const i=Bt.CancelToken.source();e.cancelToken=i.token,i.cancel(`Request to ${n} was blocked by interceptor`)}return e},e=>Promise.reject(e));an.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry")),Promise.reject(e)});const $f=()=>window.location.hostname==="itemize.cloud"?uO:"http://localhost:3001",hK=1,pK=1e6;let w0=0;function mK(){return w0=(w0+1)%Number.MAX_SAFE_INTEGER,w0.toString()}const b0=new Map,FR=e=>{if(b0.has(e))return;const t=setTimeout(()=>{b0.delete(e),df({type:"REMOVE_TOAST",toastId:e})},pK);b0.set(e,t)},gK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?FR(n):e.toasts.forEach(r=>{FR(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Lm=[];let Fm={toasts:[]};function df(e){Fm=gK(Fm,e),Lm.forEach(t=>{t(Fm)})}function Tb({...e}){const t=mK(),n=o=>df({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>df({type:"DISMISS_TOAST",toastId:t});return df({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Yo(){const[e,t]=y.useState(Fm);return y.useEffect(()=>(Lm.push(t),()=>{const n=Lm.indexOf(t);n>-1&&Lm.splice(n,1)}),[e]),{...e,toast:Tb,dismiss:n=>df({type:"DISMISS_TOAST",toastId:n})}}function Te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function zR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Is(...e){return t=>{let n=!1;const r=e.map(o=>{const i=zR(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():zR(e[o],null)}}}}function mt(...e){return y.useCallback(Is(...e),e)}function yK(e,t){const n=y.createContext(t),r=i=>{const{children:s,...a}=i,l=y.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function o(i){const s=y.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function Zr(e,t=[]){let n=[];function r(i,s){const a=y.createContext(s),l=n.length;n=[...n,s];const c=f=>{var S;const{scope:m,children:g,...v}=f,x=((S=m==null?void 0:m[e])==null?void 0:S[l])||a,w=y.useMemo(()=>v,Object.values(v));return p.jsx(x.Provider,{value:w,children:g})};c.displayName=i+"Provider";function d(f,m){var x;const g=((x=m==null?void 0:m[e])==null?void 0:x[l])||a,v=y.useContext(g);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const o=()=>{const i=n.map(s=>y.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,vK(o,...t)]}function vK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function Wa(e){const t=wK(e),n=y.forwardRef((r,o)=>{const{children:i,...s}=r,a=y.Children.toArray(i),l=a.find(SK);if(l){const c=l.props.children,d=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return p.jsx(t,{...s,ref:o,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return p.jsx(t,{...s,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var xK=Wa("Slot");function wK(e){const t=y.forwardRef((n,r)=>{const{children:o,...i}=n;if(y.isValidElement(o)){const s=kK(o),a=CK(i,o.props);return o.type!==y.Fragment&&(a.ref=r?Is(r,s):s),y.cloneElement(o,a)}return y.Children.count(o)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dO=Symbol("radix.slottable");function bK(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=dO,t}function SK(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dO}function CK(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{const l=i(...a);return o(...a),l}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function kK(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wh(e){const t=e+"CollectionProvider",[n,r]=Zr(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=x=>{const{scope:w,children:S}=x,C=se.useRef(null),k=se.useRef(new Map).current;return p.jsx(o,{scope:w,itemMap:k,collectionRef:C,children:S})};s.displayName=t;const a=e+"CollectionSlot",l=Wa(a),c=se.forwardRef((x,w)=>{const{scope:S,children:C}=x,k=i(a,S),T=mt(w,k.collectionRef);return p.jsx(l,{ref:T,children:C})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Wa(d),g=se.forwardRef((x,w)=>{const{scope:S,children:C,...k}=x,T=se.useRef(null),N=mt(w,T),R=i(d,S);return se.useEffect(()=>(R.itemMap.set(T,{ref:T,...k}),()=>void R.itemMap.delete(T))),p.jsx(m,{[f]:"",ref:N,children:C})});g.displayName=d;function v(x){const w=i(e+"CollectionConsumer",x);return se.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((R,_)=>k.indexOf(R.ref.current)-k.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},v,r]}var EK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=EK.reduce((e,t)=>{const n=Wa(`Primitive.${t}`),r=y.forwardRef((o,i)=>{const{asChild:s,...a}=o,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function US(e,t){e&&Wo.flushSync(()=>e.dispatchEvent(t))}function Qr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function NK(e,t=globalThis==null?void 0:globalThis.document){const n=Qr(e);y.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var TK="DismissableLayer",Rb="dismissableLayer.update",RK="dismissableLayer.pointerDownOutside",MK="dismissableLayer.focusOutside",$R,fO=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cc=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,c=y.useContext(fO),[d,f]=y.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),v=mt(t,_=>f(_)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(w),C=d?x.indexOf(d):-1,k=c.layersWithOutsidePointerEventsDisabled.size>0,T=C>=S,N=PK(_=>{const M=_.target,B=[...c.branches].some(I=>I.contains(M));!T||B||(o==null||o(_),s==null||s(_),_.defaultPrevented||a==null||a())},m),R=_K(_=>{const M=_.target;[...c.branches].some(I=>I.contains(M))||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())},m);return NK(_=>{C===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},m),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($R=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),BR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$R)}},[d,m,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),BR())},[d,c]),y.useEffect(()=>{const _=()=>g({});return document.addEventListener(Rb,_),()=>document.removeEventListener(Rb,_)},[]),p.jsx(We.div,{...l,ref:v,style:{pointerEvents:k?T?"auto":"none":void 0,...e.style},onFocusCapture:Te(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Te(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Te(e.onPointerDownCapture,N.onPointerDownCapture)})});cc.displayName=TK;var AK="DismissableLayerBranch",hO=y.forwardRef((e,t)=>{const n=y.useContext(fO),r=y.useRef(null),o=mt(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(We.div,{...e,ref:o})});hO.displayName=AK;function PK(e,t=globalThis==null?void 0:globalThis.document){const n=Qr(e),r=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){pO(RK,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _K(e,t=globalThis==null?void 0:globalThis.document){const n=Qr(e),r=y.useRef(!1);return y.useEffect(()=>{const o=i=>{i.target&&!r.current&&pO(MK,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function BR(){const e=new CustomEvent(Rb);document.dispatchEvent(e)}function pO(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?US(o,i):o.dispatchEvent(i)}var IK=cc,OK=hO,Vn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},DK="Portal",Ku=y.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,i]=y.useState(!1);Vn(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?zS.createPortal(p.jsx(We.div,{...r,ref:t}),s):null});Ku.displayName=DK;function jK(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var ko=e=>{const{present:t,children:n}=e,r=LK(t),o=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=mt(r.ref,FK(o));return typeof n=="function"||r.isPresent?y.cloneElement(o,{ref:i}):null};ko.displayName="Presence";function LK(e){const[t,n]=y.useState(),r=y.useRef(null),o=y.useRef(e),i=y.useRef("none"),s=e?"mounted":"unmounted",[a,l]=jK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=Jp(r.current);i.current=a==="mounted"?c:"none"},[a]),Vn(()=>{const c=r.current,d=o.current;if(d!==e){const m=i.current,g=Jp(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Vn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=g=>{const x=Jp(r.current).includes(g.animationName);if(g.target===t&&x&&(l("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=g=>{g.target===t&&(i.current=Jp(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Jp(e){return(e==null?void 0:e.animationName)||"none"}function FK(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zK=q1[" useInsertionEffect ".trim().toString()]||Vn;function bo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,s]=$K({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:o;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=y.useCallback(d=>{var f;if(a){const m=BK(d)?d(e):d;m!==e&&((f=s.current)==null||f.call(s,m))}else i(d)},[a,e,i,s]);return[l,c]}function $K({defaultProp:e,onChange:t}){const[n,r]=y.useState(e),o=y.useRef(n),i=y.useRef(t);return zK(()=>{i.current=t},[t]),y.useEffect(()=>{var s;o.current!==n&&((s=i.current)==null||s.call(i,n),o.current=n)},[n,o]),[n,r,i]}function BK(e){return typeof e=="function"}var mO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WK="VisuallyHidden",Ry=y.forwardRef((e,t)=>p.jsx(We.span,{...e,ref:t,style:{...mO,...e.style}}));Ry.displayName=WK;var UK=Ry,HS="ToastProvider",[VS,HK,VK]=wh("Toast"),[gO,cwe]=Zr("Toast",[VK]),[GK,My]=gO(HS),yO=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:s}=e,[a,l]=y.useState(null),[c,d]=y.useState(0),f=y.useRef(!1),m=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${HS}\`. Expected non-empty \`string\`.`),p.jsx(VS.Provider,{scope:t,children:p.jsx(GK,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(g=>g+1),[]),onToastRemove:y.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:s})})};yO.displayName=HS;var vO="ToastViewport",KK=["F8"],Mb="toast.viewportPause",Ab="toast.viewportResume",xO=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=KK,label:o="Notifications ({hotkey})",...i}=e,s=My(vO,n),a=HK(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),f=y.useRef(null),m=mt(t,f,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;y.useEffect(()=>{const w=S=>{var k;r.length!==0&&r.every(T=>S[T]||S.code===T)&&((k=f.current)==null||k.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=l.current,S=f.current;if(v&&w&&S){const C=()=>{if(!s.isClosePausedRef.current){const R=new CustomEvent(Mb);S.dispatchEvent(R),s.isClosePausedRef.current=!0}},k=()=>{if(s.isClosePausedRef.current){const R=new CustomEvent(Ab);S.dispatchEvent(R),s.isClosePausedRef.current=!1}},T=R=>{!w.contains(R.relatedTarget)&&k()},N=()=>{w.contains(document.activeElement)||k()};return w.addEventListener("focusin",C),w.addEventListener("focusout",T),w.addEventListener("pointermove",C),w.addEventListener("pointerleave",N),window.addEventListener("blur",C),window.addEventListener("focus",k),()=>{w.removeEventListener("focusin",C),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",C),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",C),window.removeEventListener("focus",k)}}},[v,s.isClosePausedRef]);const x=y.useCallback(({tabbingDirection:w})=>{const C=a().map(k=>{const T=k.ref.current,N=[T,...sq(T)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?C.reverse():C).flat()},[a]);return y.useEffect(()=>{const w=f.current;if(w){const S=C=>{var N,R,_;const k=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!k){const M=document.activeElement,B=C.shiftKey;if(C.target===w&&B){(N=c.current)==null||N.focus();return}const W=x({tabbingDirection:B?"backwards":"forwards"}),V=W.findIndex(H=>H===M);S0(W.slice(V+1))?C.preventDefault():B?(R=c.current)==null||R.focus():(_=d.current)==null||_.focus()}};return w.addEventListener("keydown",S),()=>w.removeEventListener("keydown",S)}},[a,x]),p.jsxs(OK,{ref:l,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(Pb,{ref:c,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});S0(w)}}),p.jsx(VS.Slot,{scope:n,children:p.jsx(We.ol,{tabIndex:-1,...i,ref:m})}),v&&p.jsx(Pb,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});S0(w)}})]})});xO.displayName=vO;var wO="ToastFocusProxy",Pb=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,i=My(wO,n);return p.jsx(Ry,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Pb.displayName=wO;var bh="Toast",qK="toast.swipeStart",YK="toast.swipeMove",XK="toast.swipeCancel",JK="toast.swipeEnd",bO=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...s}=e,[a,l]=bo({prop:r,defaultProp:o??!0,onChange:i,caller:bh});return p.jsx(ko,{present:n||a,children:p.jsx(eq,{open:a,...s,ref:t,onClose:()=>l(!1),onPause:Qr(e.onPause),onResume:Qr(e.onResume),onSwipeStart:Te(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Te(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});bO.displayName=bh;var[QK,ZK]=gO(bh,{onClose(){}}),eq=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...v}=e,x=My(bh,n),[w,S]=y.useState(null),C=mt(t,H=>S(H)),k=y.useRef(null),T=y.useRef(null),N=o||x.duration,R=y.useRef(0),_=y.useRef(N),M=y.useRef(0),{onToastAdd:B,onToastRemove:I}=x,$=Qr(()=>{var ee;(w==null?void 0:w.contains(document.activeElement))&&((ee=x.viewport)==null||ee.focus()),s()}),W=y.useCallback(H=>{!H||H===1/0||(window.clearTimeout(M.current),R.current=new Date().getTime(),M.current=window.setTimeout($,H))},[$]);y.useEffect(()=>{const H=x.viewport;if(H){const ee=()=>{W(_.current),c==null||c()},X=()=>{const J=new Date().getTime()-R.current;_.current=_.current-J,window.clearTimeout(M.current),l==null||l()};return H.addEventListener(Mb,X),H.addEventListener(Ab,ee),()=>{H.removeEventListener(Mb,X),H.removeEventListener(Ab,ee)}}},[x.viewport,N,l,c,W]),y.useEffect(()=>{i&&!x.isClosePausedRef.current&&W(N)},[i,N,x.isClosePausedRef,W]),y.useEffect(()=>(B(),()=>I()),[B,I]);const V=y.useMemo(()=>w?RO(w):null,[w]);return x.viewport?p.jsxs(p.Fragment,{children:[V&&p.jsx(tq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),p.jsx(QK,{scope:n,onClose:$,children:Wo.createPortal(p.jsx(VS.ItemSlot,{scope:n,children:p.jsx(IK,{asChild:!0,onEscapeKeyDown:Te(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||$(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(We.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Te(e.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Te(e.onPointerDown,H=>{H.button===0&&(k.current={x:H.clientX,y:H.clientY})}),onPointerMove:Te(e.onPointerMove,H=>{if(!k.current)return;const ee=H.clientX-k.current.x,X=H.clientY-k.current.y,J=!!T.current,L=["left","right"].includes(x.swipeDirection),D=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,A=L?D(0,ee):0,G=L?0:D(0,X),z=H.pointerType==="touch"?10:2,O={x:A,y:G},Z={originalEvent:H,delta:O};J?(T.current=O,Qp(YK,f,Z,{discrete:!1})):WR(O,x.swipeDirection,z)?(T.current=O,Qp(qK,d,Z,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ee)>z||Math.abs(X)>z)&&(k.current=null)}),onPointerUp:Te(e.onPointerUp,H=>{const ee=T.current,X=H.target;if(X.hasPointerCapture(H.pointerId)&&X.releasePointerCapture(H.pointerId),T.current=null,k.current=null,ee){const J=H.currentTarget,L={originalEvent:H,delta:ee};WR(ee,x.swipeDirection,x.swipeThreshold)?Qp(JK,g,L,{discrete:!0}):Qp(XK,m,L,{discrete:!0}),J.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),tq=e=>{const{__scopeToast:t,children:n,...r}=e,o=My(bh,t),[i,s]=y.useState(!1),[a,l]=y.useState(!1);return oq(()=>s(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Ku,{asChild:!0,children:p.jsx(Ry,{...r,children:i&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},nq="ToastTitle",SO=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(We.div,{...r,ref:t})});SO.displayName=nq;var rq="ToastDescription",CO=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(We.div,{...r,ref:t})});CO.displayName=rq;var kO="ToastAction",EO=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(TO,{altText:n,asChild:!0,children:p.jsx(GS,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kO}\`. Expected non-empty \`string\`.`),null)});EO.displayName=kO;var NO="ToastClose",GS=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=ZK(NO,n);return p.jsx(TO,{asChild:!0,children:p.jsx(We.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,o.onClose)})})});GS.displayName=NO;var TO=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function RO(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),iq(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...RO(r))}}),t}function Qp(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?US(o,i):o.dispatchEvent(i)}var WR=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),i=r>o;return t==="left"||t==="right"?i&&r>n:!i&&o>n};function oq(e=()=>{}){const t=Qr(e);Vn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function iq(e){return e.nodeType===e.ELEMENT_NODE}function sq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function S0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var aq=yO,MO=xO,AO=bO,PO=SO,_O=CO,IO=EO,OO=GS;function DO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=DO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jO(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=DO(e))&&(r&&(r+=" "),r+=t);return r}const UR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,HR=jO,Sh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return HR(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,s=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const m=UR(d)||UR(f);return o[c][m]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...i,...a}[x]):{...i,...a}[x]===w})?[...c,f,m]:c},[]);return HR(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},l)=>y.createElement("svg",{ref:l,...cq,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:LO("lucide",o),...a},[...s.map(([c,d])=>y.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const n=y.forwardRef(({className:r,...o},i)=>y.createElement(uq,{ref:i,iconNode:t,className:LO(`lucide-${lq(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Qe("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Qe("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=Qe("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Qe("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Qe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Qe("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Qe("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=Qe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=Qe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Qe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=Qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Qe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Qe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=Qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Qe("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Qe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Qe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Qe("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Qe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Qe("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=Qe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qS="-",Fq=e=>{const t=$q(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(qS);return a[0]===""&&a.length!==1&&a.shift(),XO(a,t)||zq(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},XO=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?XO(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(qS);return(s=t.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId},GR=/^\[(.+)\]$/,zq=e=>{if(GR.test(e)){const t=GR.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$q=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Wq(Object.entries(e.classGroups),n).forEach(([i,s])=>{_b(s,r,i,t)}),r},_b=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:KR(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(Bq(o)){_b(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{_b(s,KR(t,i),n,r)})})},KR=(e,t)=>{let n=e;return t.split(qS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Bq=e=>e.isThemeGetter,Wq=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[t+s,a])):i);return[n,o]}):e,Uq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},JO="!",Hq=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=a=>{const l=[];let c=0,d=0,f;for(let w=0;w<a.length;w++){let S=a[w];if(c===0){if(S===o&&(r||a.slice(w,w+i)===t)){l.push(a.slice(d,w)),d=w+i;continue}if(S==="/"){f=w;continue}}S==="["?c++:S==="]"&&c--}const m=l.length===0?a:a.substring(d),g=m.startsWith(JO),v=g?m.substring(1):m,x=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:s}):s},Vq=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Gq=e=>({cache:Uq(e.cacheSize),parseClassName:Hq(e),...Fq(e)}),Kq=/\s+/,qq=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(Kq);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(c);let v=!!g,x=r(v?m.substring(0,g):m);if(!x){if(!v){a=c+(a.length>0?" "+a:a);continue}if(x=r(m),!x){a=c+(a.length>0?" "+a:a);continue}v=!1}const w=Vq(d).join(":"),S=f?w+JO:w,C=S+x;if(i.includes(C))continue;i.push(C);const k=o(x,v);for(let T=0;T<k.length;++T){const N=k[T];i.push(S+N)}a=c+(a.length>0?" "+a:a)}return a};function Yq(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=QO(t))&&(r&&(r+=" "),r+=n);return r}const QO=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=QO(e[r]))&&(n&&(n+=" "),n+=t);return n};function Xq(e,...t){let n,r,o,i=s;function s(l){const c=t.reduce((d,f)=>f(d),e());return n=Gq(c),r=n.cache.get,o=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=qq(l,n);return o(l,d),d}return function(){return i(Yq.apply(null,arguments))}}const en=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ZO=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jq=/^\d+\/\d+$/,Qq=new Set(["px","full","screen"]),Zq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hs=e=>cu(e)||Qq.has(e)||Jq.test(e),Zs=e=>Yu(e,"length",dY),cu=e=>!!e&&!Number.isNaN(Number(e)),C0=e=>Yu(e,"number",cu),Ld=e=>!!e&&Number.isInteger(Number(e)),oY=e=>e.endsWith("%")&&cu(e.slice(0,-1)),vt=e=>ZO.test(e),ea=e=>Zq.test(e),iY=new Set(["length","size","percentage"]),sY=e=>Yu(e,iY,eD),aY=e=>Yu(e,"position",eD),lY=new Set(["image","url"]),cY=e=>Yu(e,lY,hY),uY=e=>Yu(e,"",fY),Fd=()=>!0,Yu=(e,t,n)=>{const r=ZO.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},dY=e=>eY.test(e)&&!tY.test(e),eD=()=>!1,fY=e=>nY.test(e),hY=e=>rY.test(e),pY=()=>{const e=en("colors"),t=en("spacing"),n=en("blur"),r=en("brightness"),o=en("borderColor"),i=en("borderRadius"),s=en("borderSpacing"),a=en("borderWidth"),l=en("contrast"),c=en("grayscale"),d=en("hueRotate"),f=en("invert"),m=en("gap"),g=en("gradientColorStops"),v=en("gradientColorStopPositions"),x=en("inset"),w=en("margin"),S=en("opacity"),C=en("padding"),k=en("saturate"),T=en("scale"),N=en("sepia"),R=en("skew"),_=en("space"),M=en("translate"),B=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",vt,t],W=()=>[vt,t],V=()=>["",hs,Zs],H=()=>["auto",cu,vt],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",vt],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[cu,vt];return{cacheSize:500,separator:":",theme:{colors:[Fd],spacing:[hs,Zs],blur:["none","",ea,vt],brightness:G(),borderColor:[e],borderRadius:["none","","full",ea,vt],borderSpacing:W(),borderWidth:V(),contrast:G(),grayscale:D(),hueRotate:G(),invert:D(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[oY,Zs],inset:$(),margin:$(),opacity:G(),padding:W(),saturate:G(),scale:G(),sepia:D(),skew:G(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",vt]}],container:["container"],columns:[{columns:[ea]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),vt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ld,vt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Ld,vt]}],"grid-cols":[{"grid-cols":[Fd]}],"col-start-end":[{col:["auto",{span:["full",Ld,vt]},vt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Fd]}],"row-start-end":[{row:["auto",{span:[Ld,vt]},vt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vt,t]}],"min-w":[{"min-w":[vt,t,"min","max","fit"]}],"max-w":[{"max-w":[vt,t,"none","full","min","max","fit","prose",{screen:[ea]},ea]}],h:[{h:[vt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ea,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",C0]}],"font-family":[{font:[Fd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vt]}],"line-clamp":[{"line-clamp":["none",cu,C0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hs,vt]}],"list-image":[{"list-image":["none",vt]}],"list-style-type":[{list:["none","disc","decimal",vt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hs,Zs]}],"underline-offset":[{"underline-offset":["auto",hs,vt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),aY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:X()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[hs,vt]}],"outline-w":[{outline:[hs,Zs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[hs,Zs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ea,uY]}],"shadow-color":[{shadow:[Fd]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ea,vt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",vt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",vt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Ld,vt]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hs,Zs,C0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mY=Xq(pY);function Ve(...e){return mY(jO(e))}const gY=aq,tD=y.forwardRef(({className:e,...t},n)=>p.jsx(MO,{ref:n,className:Ve("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col p-4 right-0 md:max-w-[420px]",e),...t}));tD.displayName=MO.displayName;const yY=Sh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-bottom-full data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nD=y.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(AO,{ref:r,className:Ve(yY({variant:t}),e),...n}));nD.displayName=AO.displayName;const vY=y.forwardRef(({className:e,...t},n)=>p.jsx(IO,{ref:n,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vY.displayName=IO.displayName;const rD=y.forwardRef(({className:e,...t},n)=>p.jsx(OO,{ref:n,className:Ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(wi,{className:"h-4 w-4"})}));rD.displayName=OO.displayName;const oD=y.forwardRef(({className:e,...t},n)=>p.jsx(PO,{ref:n,className:Ve("text-sm font-semibold",e),...t}));oD.displayName=PO.displayName;const iD=y.forwardRef(({className:e,...t},n)=>p.jsx(_O,{ref:n,className:Ve("text-sm opacity-90",e),...t}));iD.displayName=_O.displayName;function xY(){const{toasts:e}=Yo();return p.jsxs(gY,{children:[e.map(function({id:t,title:n,description:r,action:o,...i}){return p.jsxs(nD,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(oD,{children:n}),r&&p.jsx(iD,{children:r})]}),o,p.jsx(rD,{})]},t)}),p.jsx(tD,{})]})}var Cg=["light","dark"],YS="(prefers-color-scheme: dark)",wY=typeof window>"u",XS=y.createContext(void 0),bY={setTheme:e=>{},themes:[]},bi=()=>{var e;return(e=y.useContext(XS))!=null?e:bY},SY=e=>y.useContext(XS)?e.children:y.createElement(kY,{...e}),CY=["light","dark"],kY=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:i=CY,defaultTheme:s=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d})=>{let[f,m]=y.useState(()=>qR(o,s)),[g,v]=y.useState(()=>qR(o)),x=l?Object.values(l):i,w=y.useCallback(T=>{let N=T;if(!N)return;T==="system"&&n&&(N=YR());let R=l?l[N]:N,_=t?NY():null,M=document.documentElement;if(a==="class"?(M.classList.remove(...x),R&&M.classList.add(R)):R?M.setAttribute(a,R):M.removeAttribute(a),r){let B=Cg.includes(s)?s:null,I=Cg.includes(N)?N:B;M.style.colorScheme=I}_==null||_()},[]),S=y.useCallback(T=>{let N=typeof T=="function"?T(T):T;m(N);try{localStorage.setItem(o,N)}catch{}},[e]),C=y.useCallback(T=>{let N=YR(T);v(N),f==="system"&&n&&!e&&w("system")},[f,e]);y.useEffect(()=>{let T=window.matchMedia(YS);return T.addListener(C),C(T),()=>T.removeListener(C)},[C]),y.useEffect(()=>{let T=N=>{if(N.key!==o)return;let R=N.newValue||s;S(R)};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[S]),y.useEffect(()=>{w(e??f)},[e,f]);let k=y.useMemo(()=>({theme:f,setTheme:S,forcedTheme:e,resolvedTheme:f==="system"?g:f,themes:n?[...i,"system"]:i,systemTheme:n?g:void 0}),[f,S,e,g,n,i]);return y.createElement(XS.Provider,{value:k},y.createElement(EY,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:o,themes:i,defaultTheme:s,attribute:a,value:l,children:c,attrs:x,nonce:d}),c)},EY=y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:i,value:s,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=o?Cg.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,x=!1,w=!0)=>{let S=s?s[v]:v,C=x?v+"|| ''":`'${S}'`,k="";return o&&w&&!x&&Cg.includes(v)&&(k+=`d.style.colorScheme = '${v}';`),n==="class"?x||S?k+=`c.add(${C})`:k+="null":S&&(k+=`d[s](n,${C})`),k},g=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${YS}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})}),qR=(e,t)=>{if(wY)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},NY=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},YR=e=>(e||(e=window.matchMedia(YS)),e.matches?"dark":"light"),TY=e=>{switch(e){case"success":return AY;case"info":return _Y;case"warning":return PY;case"error":return IY;default:return null}},RY=Array(12).fill(0),MY=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},RY.map((n,r)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),AY=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PY=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_Y=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IY=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OY=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DY=()=>{let[e,t]=se.useState(document.hidden);return se.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ib=1,jY=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ib++,i=this.toasts.find(a=>a.id===o),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(a=>a.id===o?(this.publish({...a,...e,id:o,title:n}),{...a,...e,id:o,dismissible:s,title:n}):a):this.addToast({title:n,...r,dismissible:s,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),o=n!==void 0,i,s=r.then(async l=>{if(i=["resolve",l],se.isValidElement(l))o=!1,this.create({id:n,type:"default",message:l});else if(FY(l)&&!l.ok){o=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:c,description:d})}else if(t.success!==void 0){o=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){o=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;o&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>s.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Ib++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ur=new jY,LY=(e,t)=>{let n=(t==null?void 0:t.id)||Ib++;return Ur.addToast({title:e,...t,id:n}),n},FY=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zY=LY,$Y=()=>Ur.toasts,BY=()=>Ur.getActiveToasts();Object.assign(zY,{success:Ur.success,info:Ur.info,warning:Ur.warning,error:Ur.error,custom:Ur.custom,message:Ur.message,promise:Ur.promise,dismiss:Ur.dismiss,loading:Ur.loading},{getHistory:$Y,getToasts:BY});function WY(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}WY(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zp(e){return e.label!==void 0}var UY=3,HY="32px",VY="16px",XR=4e3,GY=356,KY=14,qY=20,YY=200;function ti(...e){return e.filter(Boolean).join(" ")}function XY(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var JY=e=>{var t,n,r,o,i,s,a,l,c,d,f;let{invert:m,toast:g,unstyled:v,interacting:x,setHeights:w,visibleToasts:S,heights:C,index:k,toasts:T,expanded:N,removeToast:R,defaultRichColors:_,closeButton:M,style:B,cancelButtonStyle:I,actionButtonStyle:$,className:W="",descriptionClassName:V="",duration:H,position:ee,gap:X,loadingIcon:J,expandByDefault:L,classNames:D,icons:A,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:z}=e,[O,Z]=se.useState(null),[re,ne]=se.useState(null),[K,ue]=se.useState(!1),[fe,ce]=se.useState(!1),[Re,Oe]=se.useState(!1),[Ze,ze]=se.useState(!1),[tt,De]=se.useState(!1),[it,kt]=se.useState(0),[Ot,_e]=se.useState(0),Ae=se.useRef(g.duration||H||XR),Ke=se.useRef(null),lt=se.useRef(null),pe=k===0,we=k+1<=S,Y=g.type,le=g.dismissible!==!1,Ne=g.className||"",Pe=g.descriptionClassName||"",Je=se.useMemo(()=>C.findIndex(qe=>qe.toastId===g.id)||0,[C,g.id]),ae=se.useMemo(()=>{var qe;return(qe=g.closeButton)!=null?qe:M},[g.closeButton,M]),Ie=se.useMemo(()=>g.duration||H||XR,[g.duration,H]),Ee=se.useRef(0),Le=se.useRef(0),ft=se.useRef(0),gt=se.useRef(null),[Ln,mn]=ee.split("-"),Zi=se.useMemo(()=>C.reduce((qe,st,ut)=>ut>=Je?qe:qe+st.height,0),[C,Je]),Ws=DY(),es=g.invert||m,Qt=Y==="loading";Le.current=se.useMemo(()=>Je*X+Zi,[Je,Zi]),se.useEffect(()=>{Ae.current=Ie},[Ie]),se.useEffect(()=>{ue(!0)},[]),se.useEffect(()=>{let qe=lt.current;if(qe){let st=qe.getBoundingClientRect().height;return _e(st),w(ut=>[{toastId:g.id,height:st,position:g.position},...ut]),()=>w(ut=>ut.filter(Gt=>Gt.toastId!==g.id))}},[w,g.id]),se.useLayoutEffect(()=>{if(!K)return;let qe=lt.current,st=qe.style.height;qe.style.height="auto";let ut=qe.getBoundingClientRect().height;qe.style.height=st,_e(ut),w(Gt=>Gt.find(gn=>gn.toastId===g.id)?Gt.map(gn=>gn.toastId===g.id?{...gn,height:ut}:gn):[{toastId:g.id,height:ut,position:g.position},...Gt])},[K,g.title,g.description,w,g.id]);let Vt=se.useCallback(()=>{ce(!0),kt(Le.current),w(qe=>qe.filter(st=>st.toastId!==g.id)),setTimeout(()=>{R(g)},YY)},[g,R,w,Le]);se.useEffect(()=>{if(g.promise&&Y==="loading"||g.duration===1/0||g.type==="loading")return;let qe;return N||x||z&&Ws?(()=>{if(ft.current<Ee.current){let st=new Date().getTime()-Ee.current;Ae.current=Ae.current-st}ft.current=new Date().getTime()})():Ae.current!==1/0&&(Ee.current=new Date().getTime(),qe=setTimeout(()=>{var st;(st=g.onAutoClose)==null||st.call(g,g),Vt()},Ae.current)),()=>clearTimeout(qe)},[N,x,g,Y,z,Ws,Vt]),se.useEffect(()=>{g.delete&&Vt()},[Vt,g.delete]);function Pn(){var qe,st,ut;return A!=null&&A.loading?se.createElement("div",{className:ti(D==null?void 0:D.loader,(qe=g==null?void 0:g.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Y==="loading"},A.loading):J?se.createElement("div",{className:ti(D==null?void 0:D.loader,(st=g==null?void 0:g.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Y==="loading"},J):se.createElement(MY,{className:ti(D==null?void 0:D.loader,(ut=g==null?void 0:g.classNames)==null?void 0:ut.loader),visible:Y==="loading"})}return se.createElement("li",{tabIndex:0,ref:lt,className:ti(W,Ne,D==null?void 0:D.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Y],(n=g==null?void 0:g.classNames)==null?void 0:n[Y]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:_,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":tt,"data-removed":fe,"data-visible":we,"data-y-position":Ln,"data-x-position":mn,"data-index":k,"data-front":pe,"data-swiping":Re,"data-dismissible":le,"data-type":Y,"data-invert":es,"data-swipe-out":Ze,"data-swipe-direction":re,"data-expanded":!!(N||L&&K),style:{"--index":k,"--toasts-before":k,"--z-index":T.length-k,"--offset":`${fe?it:Le.current}px`,"--initial-height":L?"auto":`${Ot}px`,...B,...g.style},onDragEnd:()=>{Oe(!1),Z(null),gt.current=null},onPointerDown:qe=>{Qt||!le||(Ke.current=new Date,kt(Le.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Oe(!0),gt.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,st,ut,Gt;if(Ze||!le)return;gt.current=null;let gn=Number(((qe=lt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jt=Number(((st=lt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ln=new Date().getTime()-((ut=Ke.current)==null?void 0:ut.getTime()),Kt=O==="x"?gn:jt,rn=Math.abs(Kt)/ln;if(Math.abs(Kt)>=qY||rn>.11){kt(Le.current),(Gt=g.onDismiss)==null||Gt.call(g,g),ne(O==="x"?gn>0?"right":"left":jt>0?"down":"up"),Vt(),ze(!0),De(!1);return}Oe(!1),Z(null)},onPointerMove:qe=>{var st,ut,Gt,gn;if(!gt.current||!le||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let jt=qe.clientY-gt.current.y,ln=qe.clientX-gt.current.x,Kt=(ut=e.swipeDirections)!=null?ut:XY(ee);!O&&(Math.abs(ln)>1||Math.abs(jt)>1)&&Z(Math.abs(ln)>Math.abs(jt)?"x":"y");let rn={x:0,y:0};O==="y"?(Kt.includes("top")||Kt.includes("bottom"))&&(Kt.includes("top")&&jt<0||Kt.includes("bottom")&&jt>0)&&(rn.y=jt):O==="x"&&(Kt.includes("left")||Kt.includes("right"))&&(Kt.includes("left")&&ln<0||Kt.includes("right")&&ln>0)&&(rn.x=ln),(Math.abs(rn.x)>0||Math.abs(rn.y)>0)&&De(!0),(Gt=lt.current)==null||Gt.style.setProperty("--swipe-amount-x",`${rn.x}px`),(gn=lt.current)==null||gn.style.setProperty("--swipe-amount-y",`${rn.y}px`)}},ae&&!g.jsx?se.createElement("button",{"aria-label":G,"data-disabled":Qt,"data-close-button":!0,onClick:Qt||!le?()=>{}:()=>{var qe;Vt(),(qe=g.onDismiss)==null||qe.call(g,g)},className:ti(D==null?void 0:D.closeButton,(o=g==null?void 0:g.classNames)==null?void 0:o.closeButton)},(i=A==null?void 0:A.close)!=null?i:OY):null,g.jsx||y.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:se.createElement(se.Fragment,null,Y||g.icon||g.promise?se.createElement("div",{"data-icon":"",className:ti(D==null?void 0:D.icon,(s=g==null?void 0:g.classNames)==null?void 0:s.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Pn():null,g.type!=="loading"?g.icon||(A==null?void 0:A[Y])||TY(Y):null):null,se.createElement("div",{"data-content":"",className:ti(D==null?void 0:D.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},se.createElement("div",{"data-title":"",className:ti(D==null?void 0:D.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?se.createElement("div",{"data-description":"",className:ti(V,Pe,D==null?void 0:D.description,(c=g==null?void 0:g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),y.isValidElement(g.cancel)?g.cancel:g.cancel&&Zp(g.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:qe=>{var st,ut;Zp(g.cancel)&&le&&((ut=(st=g.cancel).onClick)==null||ut.call(st,qe),Vt())},className:ti(D==null?void 0:D.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,y.isValidElement(g.action)?g.action:g.action&&Zp(g.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||$,onClick:qe=>{var st,ut;Zp(g.action)&&((ut=(st=g.action).onClick)==null||ut.call(st,qe),!qe.defaultPrevented&&Vt())},className:ti(D==null?void 0:D.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function JR(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function QY(e,t){let n={};return[e,t].forEach((r,o)=>{let i=o===1,s=i?"--mobile-offset":"--offset",a=i?VY:HY;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${s}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${s}-${c}`]=a:n[`${s}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var ZY=y.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:v=UY,toastOptions:x,dir:w=JR(),gap:S=KY,loadingIcon:C,icons:k,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:N}=e,[R,_]=se.useState([]),M=se.useMemo(()=>Array.from(new Set([r].concat(R.filter(z=>z.position).map(z=>z.position)))),[R,r]),[B,I]=se.useState([]),[$,W]=se.useState(!1),[V,H]=se.useState(!1),[ee,X]=se.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=se.useRef(null),L=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=se.useRef(null),A=se.useRef(!1),G=se.useCallback(z=>{_(O=>{var Z;return(Z=O.find(re=>re.id===z.id))!=null&&Z.delete||Ur.dismiss(z.id),O.filter(({id:re})=>re!==z.id)})},[]);return se.useEffect(()=>Ur.subscribe(z=>{if(z.dismiss){_(O=>O.map(Z=>Z.id===z.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{zS.flushSync(()=>{_(O=>{let Z=O.findIndex(re=>re.id===z.id);return Z!==-1?[...O.slice(0,Z),{...O[Z],...z},...O.slice(Z+1)]:[z,...O]})})})}),[]),se.useEffect(()=>{if(d!=="system"){X(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:O})=>{X(O?"dark":"light")})}catch{z.addListener(({matches:Z})=>{try{X(Z?"dark":"light")}catch(re){console.error(re)}})}},[d]),se.useEffect(()=>{R.length<=1&&W(!1)},[R]),se.useEffect(()=>{let z=O=>{var Z,re;o.every(ne=>O[ne]||O.code===ne)&&(W(!0),(Z=J.current)==null||Z.focus()),O.code==="Escape"&&(document.activeElement===J.current||(re=J.current)!=null&&re.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[o]),se.useEffect(()=>{if(J.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,A.current=!1)}},[J.current]),se.createElement("section",{ref:t,"aria-label":`${T} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((z,O)=>{var Z;let[re,ne]=z.split("-");return R.length?se.createElement("ol",{key:z,dir:w==="auto"?JR():w,tabIndex:-1,ref:J,className:a,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":re,"data-lifted":$&&R.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((Z=B[0])==null?void 0:Z.height)||0}px`,"--width":`${GY}px`,"--gap":`${S}px`,...g,...QY(l,c)},onBlur:K=>{A.current&&!K.currentTarget.contains(K.relatedTarget)&&(A.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||A.current||(A.current=!0,D.current=K.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{V||W(!1)},onDragEnd:()=>W(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},R.filter(K=>!K.position&&O===0||K.position===z).map((K,ue)=>{var fe,ce;return se.createElement(JY,{key:K.id,icons:k,index:ue,toast:K,defaultRichColors:f,duration:(fe=x==null?void 0:x.duration)!=null?fe:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:v,closeButton:(ce=x==null?void 0:x.closeButton)!=null?ce:s,interacting:V,position:z,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:G,toasts:R.filter(Re=>Re.position==K.position),heights:B.filter(Re=>Re.position==K.position),setHeights:I,expandByDefault:i,gap:S,loadingIcon:C,expanded:$,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const eX=({...e})=>{const{theme:t="system"}=bi();return p.jsx(ZY,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var tX=q1[" useId ".trim().toString()]||(()=>{}),nX=0;function nr(e){const[t,n]=y.useState(tX());return Vn(()=>{n(r=>r??String(nX++))},[e]),t?`radix-${t}`:""}const rX=["top","right","bottom","left"],Ua=Math.min,fo=Math.max,kg=Math.round,em=Math.floor,Hi=e=>({x:e,y:e}),oX={left:"right",right:"left",bottom:"top",top:"bottom"},iX={start:"end",end:"start"};function Ob(e,t,n){return fo(e,Ua(t,n))}function Os(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function Xu(e){return e.split("-")[1]}function JS(e){return e==="x"?"y":"x"}function QS(e){return e==="y"?"height":"width"}function $i(e){return["top","bottom"].includes(Ds(e))?"y":"x"}function ZS(e){return JS($i(e))}function sX(e,t,n){n===void 0&&(n=!1);const r=Xu(e),o=ZS(e),i=QS(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Eg(s)),[s,Eg(s)]}function aX(e){const t=Eg(e);return[Db(e),t,Db(t)]}function Db(e){return e.replace(/start|end/g,t=>iX[t])}function lX(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function cX(e,t,n,r){const o=Xu(e);let i=lX(Ds(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Db)))),i}function Eg(e){return e.replace(/left|right|bottom|top/g,t=>oX[t])}function uX(e){return{top:0,right:0,bottom:0,left:0,...e}}function sD(e){return typeof e!="number"?uX(e):{top:e,right:e,bottom:e,left:e}}function Ng(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function QR(e,t,n){let{reference:r,floating:o}=e;const i=$i(t),s=ZS(t),a=QS(s),l=Ds(t),c=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,m=r[a]/2-o[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-o.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-o.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Xu(t)){case"start":g[s]-=m*(n&&c?-1:1);break;case"end":g[s]+=m*(n&&c?-1:1);break}return g}const dX=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=QR(c,r,l),m=r,g={},v=0;for(let x=0;x<a.length;x++){const{name:w,fn:S}=a[x],{x:C,y:k,data:T,reset:N}=await S({x:d,y:f,initialPlacement:r,placement:m,strategy:o,middlewareData:g,rects:c,platform:s,elements:{reference:e,floating:t}});d=C??d,f=k??f,g={...g,[w]:{...g[w],...T}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:d,y:f}=QR(c,m,l)),x=-1)}return{x:d,y:f,placement:m,strategy:o,middlewareData:g}};async function Bf(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Os(t,e),v=sD(g),w=a[m?f==="floating"?"reference":"floating":f],S=Ng(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),C=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),T=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},N=Ng(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:k,strategy:l}):C);return{top:(S.top-N.top+v.top)/T.y,bottom:(N.bottom-S.bottom+v.bottom)/T.y,left:(S.left-N.left+v.left)/T.x,right:(N.right-S.right+v.right)/T.x}}const fX=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=Os(e,t)||{};if(c==null)return{};const f=sD(d),m={x:n,y:r},g=ZS(o),v=QS(g),x=await s.getDimensions(c),w=g==="y",S=w?"top":"left",C=w?"bottom":"right",k=w?"clientHeight":"clientWidth",T=i.reference[v]+i.reference[g]-m[g]-i.floating[v],N=m[g]-i.reference[g],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let _=R?R[k]:0;(!_||!await(s.isElement==null?void 0:s.isElement(R)))&&(_=a.floating[k]||i.floating[v]);const M=T/2-N/2,B=_/2-x[v]/2-1,I=Ua(f[S],B),$=Ua(f[C],B),W=I,V=_-x[v]-$,H=_/2-x[v]/2+M,ee=Ob(W,H,V),X=!l.arrow&&Xu(o)!=null&&H!==ee&&i.reference[v]/2-(H<W?I:$)-x[v]/2<0,J=X?H<W?H-W:H-V:0;return{[g]:m[g]+J,data:{[g]:ee,centerOffset:H-ee-J,...X&&{alignmentOffset:J}},reset:X}}}),hX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=Os(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=Ds(o),C=$i(a),k=Ds(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=m||(k||!x?[Eg(a)]:aX(a)),R=v!=="none";!m&&R&&N.push(...cX(a,x,v,T));const _=[a,...N],M=await Bf(t,w),B=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&B.push(M[S]),f){const H=sX(o,s,T);B.push(M[H[0]],M[H[1]])}if(I=[...I,{placement:o,overflows:B}],!B.every(H=>H<=0)){var $,W;const H=((($=i.flip)==null?void 0:$.index)||0)+1,ee=_[H];if(ee&&(!(f==="alignment"?C!==$i(ee):!1)||I.every(L=>L.overflows[0]>0&&$i(L.placement)===C)))return{data:{index:H,overflows:I},reset:{placement:ee}};let X=(W=I.filter(J=>J.overflows[0]<=0).sort((J,L)=>J.overflows[1]-L.overflows[1])[0])==null?void 0:W.placement;if(!X)switch(g){case"bestFit":{var V;const J=(V=I.filter(L=>{if(R){const D=$i(L.placement);return D===C||D==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(D=>D>0).reduce((D,A)=>D+A,0)]).sort((L,D)=>L[1]-D[1])[0])==null?void 0:V[0];J&&(X=J);break}case"initialPlacement":X=a;break}if(o!==X)return{reset:{placement:X}}}return{}}}};function ZR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eM(e){return rX.some(t=>e[t]>=0)}const pX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Os(e,t);switch(r){case"referenceHidden":{const i=await Bf(t,{...o,elementContext:"reference"}),s=ZR(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:eM(s)}}}case"escaped":{const i=await Bf(t,{...o,altBoundary:!0}),s=ZR(i,n.floating);return{data:{escapedOffsets:s,escaped:eM(s)}}}default:return{}}}}};async function mX(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ds(n),a=Xu(n),l=$i(n)==="y",c=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,f=Os(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const gX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await mX(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},yX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:S,y:C}=w;return{x:S,y:C}}},...l}=Os(e,t),c={x:n,y:r},d=await Bf(t,l),f=$i(Ds(o)),m=JS(f);let g=c[m],v=c[f];if(i){const w=m==="y"?"top":"left",S=m==="y"?"bottom":"right",C=g+d[w],k=g-d[S];g=Ob(C,g,k)}if(s){const w=f==="y"?"top":"left",S=f==="y"?"bottom":"right",C=v+d[w],k=v-d[S];v=Ob(C,v,k)}const x=a.fn({...t,[m]:g,[f]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:s}}}}}},vX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Os(e,t),d={x:n,y:r},f=$i(o),m=JS(f);let g=d[m],v=d[f];const x=Os(a,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const k=m==="y"?"height":"width",T=i.reference[m]-i.floating[k]+w.mainAxis,N=i.reference[m]+i.reference[k]-w.mainAxis;g<T?g=T:g>N&&(g=N)}if(c){var S,C;const k=m==="y"?"width":"height",T=["top","left"].includes(Ds(o)),N=i.reference[f]-i.floating[k]+(T&&((S=s.offset)==null?void 0:S[f])||0)+(T?0:w.crossAxis),R=i.reference[f]+i.reference[k]+(T?0:((C=s.offset)==null?void 0:C[f])||0)-(T?w.crossAxis:0);v<N?v=N:v>R&&(v=R)}return{[m]:g,[f]:v}}}},xX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=Os(e,t),d=await Bf(t,c),f=Ds(o),m=Xu(o),g=$i(o)==="y",{width:v,height:x}=i.floating;let w,S;f==="top"||f==="bottom"?(w=f,S=m===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(S=f,w=m==="end"?"top":"bottom");const C=x-d.top-d.bottom,k=v-d.left-d.right,T=Ua(x-d[w],C),N=Ua(v-d[S],k),R=!t.middlewareData.shift;let _=T,M=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=C),R&&!m){const I=fo(d.left,0),$=fo(d.right,0),W=fo(d.top,0),V=fo(d.bottom,0);g?M=v-2*(I!==0||$!==0?I+$:fo(d.left,d.right)):_=x-2*(W!==0||V!==0?W+V:fo(d.top,d.bottom))}await l({...t,availableWidth:M,availableHeight:_});const B=await s.getDimensions(a.floating);return v!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function _y(){return typeof window<"u"}function Ju(e){return aD(e)?(e.nodeName||"").toLowerCase():"#document"}function yo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xi(e){var t;return(t=(aD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aD(e){return _y()?e instanceof Node||e instanceof yo(e).Node:!1}function mi(e){return _y()?e instanceof Element||e instanceof yo(e).Element:!1}function Vi(e){return _y()?e instanceof HTMLElement||e instanceof yo(e).HTMLElement:!1}function tM(e){return!_y()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yo(e).ShadowRoot}function Eh(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function wX(e){return["table","td","th"].includes(Ju(e))}function Iy(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function eC(e){const t=tC(),n=mi(e)?gi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bX(e){let t=Ha(e);for(;Vi(t)&&!_u(t);){if(eC(t))return t;if(Iy(t))return null;t=Ha(t)}return null}function tC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _u(e){return["html","body","#document"].includes(Ju(e))}function gi(e){return yo(e).getComputedStyle(e)}function Oy(e){return mi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(Ju(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tM(e)&&e.host||Xi(e);return tM(t)?t.host:t}function lD(e){const t=Ha(e);return _u(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vi(t)&&Eh(t)?t:lD(t)}function Wf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=lD(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=yo(o);if(i){const a=jb(s);return t.concat(s,s.visualViewport||[],Eh(o)?o:[],a&&n?Wf(a):[])}return t.concat(o,Wf(o,[],n))}function jb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cD(e){const t=gi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Vi(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=kg(n)!==i||kg(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function nC(e){return mi(e)?e:e.contextElement}function uu(e){const t=nC(e);if(!Vi(t))return Hi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=cD(t);let s=(i?kg(n.width):n.width)/r,a=(i?kg(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const SX=Hi(0);function uD(e){const t=yo(e);return!tC()||!t.visualViewport?SX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function CX(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==yo(e)?!1:t}function Jl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=nC(e);let s=Hi(1);t&&(r?mi(r)&&(s=uu(r)):s=uu(e));const a=CX(i,n,r)?uD(i):Hi(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const m=yo(i),g=r&&mi(r)?yo(r):r;let v=m,x=jb(v);for(;x&&r&&g!==v;){const w=uu(x),S=x.getBoundingClientRect(),C=gi(x),k=S.left+(x.clientLeft+parseFloat(C.paddingLeft))*w.x,T=S.top+(x.clientTop+parseFloat(C.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=k,c+=T,v=yo(x),x=jb(v)}}return Ng({width:d,height:f,x:l,y:c})}function rC(e,t){const n=Oy(e).scrollLeft;return t?t.left+n:Jl(Xi(e)).left+n}function dD(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:rC(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function kX(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=Xi(r),a=t?Iy(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Hi(1);const d=Hi(0),f=Vi(r);if((f||!f&&!i)&&((Ju(r)!=="body"||Eh(s))&&(l=Oy(r)),Vi(r))){const g=Jl(r);c=uu(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=s&&!f&&!i?dD(s,l,!0):Hi(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function EX(e){return Array.from(e.getClientRects())}function NX(e){const t=Xi(e),n=Oy(e),r=e.ownerDocument.body,o=fo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+rC(e);const a=-n.scrollTop;return gi(r).direction==="rtl"&&(s+=fo(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function TX(e,t){const n=yo(e),r=Xi(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const c=tC();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function RX(e,t){const n=Jl(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Vi(e)?uu(e):Hi(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function nM(e,t,n){let r;if(t==="viewport")r=TX(e,n);else if(t==="document")r=NX(Xi(e));else if(mi(t))r=RX(t,n);else{const o=uD(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ng(r)}function fD(e,t){const n=Ha(e);return n===t||!mi(n)||_u(n)?!1:gi(n).position==="fixed"||fD(n,t)}function MX(e,t){const n=t.get(e);if(n)return n;let r=Wf(e,[],!1).filter(a=>mi(a)&&Ju(a)!=="body"),o=null;const i=gi(e).position==="fixed";let s=i?Ha(e):e;for(;mi(s)&&!_u(s);){const a=gi(s),l=eC(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Eh(s)&&!l&&fD(e,s))?r=r.filter(d=>d!==s):o=a,s=Ha(s)}return t.set(e,r),r}function AX(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Iy(t)?[]:MX(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const f=nM(t,d,o);return c.top=fo(f.top,c.top),c.right=Ua(f.right,c.right),c.bottom=Ua(f.bottom,c.bottom),c.left=fo(f.left,c.left),c},nM(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function PX(e){const{width:t,height:n}=cD(e);return{width:t,height:n}}function _X(e,t,n){const r=Vi(t),o=Xi(t),i=n==="fixed",s=Jl(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Hi(0);function c(){l.x=rC(o)}if(r||!r&&!i)if((Ju(t)!=="body"||Eh(o))&&(a=Oy(t)),r){const g=Jl(t,!0,i,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else o&&c();i&&!r&&o&&c();const d=o&&!r&&!i?dD(o,a):Hi(0),f=s.left+a.scrollLeft-l.x-d.x,m=s.top+a.scrollTop-l.y-d.y;return{x:f,y:m,width:s.width,height:s.height}}function k0(e){return gi(e).position==="static"}function rM(e,t){if(!Vi(e)||gi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xi(e)===n&&(n=n.ownerDocument.body),n}function hD(e,t){const n=yo(e);if(Iy(e))return n;if(!Vi(e)){let o=Ha(e);for(;o&&!_u(o);){if(mi(o)&&!k0(o))return o;o=Ha(o)}return n}let r=rM(e,t);for(;r&&wX(r)&&k0(r);)r=rM(r,t);return r&&_u(r)&&k0(r)&&!eC(r)?n:r||bX(e)||n}const IX=async function(e){const t=this.getOffsetParent||hD,n=this.getDimensions,r=await n(e.floating);return{reference:_X(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OX(e){return gi(e).direction==="rtl"}const DX={convertOffsetParentRelativeRectToViewportRelativeRect:kX,getDocumentElement:Xi,getClippingRect:AX,getOffsetParent:hD,getElementRects:IX,getClientRects:EX,getDimensions:PX,getScale:uu,isElement:mi,isRTL:OX};function pD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jX(e,t){let n=null,r;const o=Xi(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=c;if(a||t(),!m||!g)return;const v=em(f),x=em(o.clientWidth-(d+m)),w=em(o.clientHeight-(f+g)),S=em(d),k={rootMargin:-v+"px "+-x+"px "+-w+"px "+-S+"px",threshold:fo(0,Ua(1,l))||1};let T=!0;function N(R){const _=R[0].intersectionRatio;if(_!==l){if(!T)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!pD(c,e.getBoundingClientRect())&&s(),T=!1}try{n=new IntersectionObserver(N,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(N,k)}n.observe(e)}return s(!0),i}function LX(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=nC(e),d=o||i?[...c?Wf(c):[],...Wf(t)]:[];d.forEach(S=>{o&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const f=c&&a?jX(c,n):null;let m=-1,g=null;s&&(g=new ResizeObserver(S=>{let[C]=S;C&&C.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var k;(k=g)==null||k.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let v,x=l?Jl(e):null;l&&w();function w(){const S=Jl(e);x&&!pD(x,S)&&n(),x=S,v=requestAnimationFrame(w)}return n(),()=>{var S;d.forEach(C=>{o&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),f==null||f(),(S=g)==null||S.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const FX=gX,zX=yX,$X=hX,BX=xX,WX=pX,oM=fX,UX=vX,HX=(e,t,n)=>{const r=new Map,o={platform:DX,...n},i={...o.platform,_c:r};return dX(e,t,{...o,platform:i})};var VX=typeof document<"u",GX=function(){},zm=VX?y.useLayoutEffect:GX;function Tg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Tg(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Tg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function mD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function iM(e,t){const n=mD(e);return Math.round(t*n)/n}function E0(e){const t=y.useRef(e);return zm(()=>{t.current=e}),t}function KX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=y.useState(r);Tg(m,r)||g(r);const[v,x]=y.useState(null),[w,S]=y.useState(null),C=y.useCallback(L=>{L!==R.current&&(R.current=L,x(L))},[]),k=y.useCallback(L=>{L!==_.current&&(_.current=L,S(L))},[]),T=i||v,N=s||w,R=y.useRef(null),_=y.useRef(null),M=y.useRef(d),B=l!=null,I=E0(l),$=E0(o),W=E0(c),V=y.useCallback(()=>{if(!R.current||!_.current)return;const L={placement:t,strategy:n,middleware:m};$.current&&(L.platform=$.current),HX(R.current,_.current,L).then(D=>{const A={...D,isPositioned:W.current!==!1};H.current&&!Tg(M.current,A)&&(M.current=A,Wo.flushSync(()=>{f(A)}))})},[m,t,n,$,W]);zm(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const H=y.useRef(!1);zm(()=>(H.current=!0,()=>{H.current=!1}),[]),zm(()=>{if(T&&(R.current=T),N&&(_.current=N),T&&N){if(I.current)return I.current(T,N,V);V()}},[T,N,V,I,B]);const ee=y.useMemo(()=>({reference:R,floating:_,setReference:C,setFloating:k}),[C,k]),X=y.useMemo(()=>({reference:T,floating:N}),[T,N]),J=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!X.floating)return L;const D=iM(X.floating,d.x),A=iM(X.floating,d.y);return a?{...L,transform:"translate("+D+"px, "+A+"px)",...mD(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:A}},[n,a,X.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:V,refs:ee,elements:X,floatingStyles:J}),[d,V,ee,X,J])}const qX=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?oM({element:r.current,padding:o}).fn(n):{}:r?oM({element:r,padding:o}).fn(n):{}}}},YX=(e,t)=>({...FX(e),options:[e,t]}),XX=(e,t)=>({...zX(e),options:[e,t]}),JX=(e,t)=>({...UX(e),options:[e,t]}),QX=(e,t)=>({...$X(e),options:[e,t]}),ZX=(e,t)=>({...BX(e),options:[e,t]}),eJ=(e,t)=>({...WX(e),options:[e,t]}),tJ=(e,t)=>({...qX(e),options:[e,t]});var nJ="Arrow",gD=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return p.jsx(We.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});gD.displayName=nJ;var rJ=gD;function oC(e){const[t,n]=y.useState(void 0);return Vn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var iC="Popper",[yD,Xa]=Zr(iC),[oJ,vD]=yD(iC),xD=e=>{const{__scopePopper:t,children:n}=e,[r,o]=y.useState(null);return p.jsx(oJ,{scope:t,anchor:r,onAnchorChange:o,children:n})};xD.displayName=iC;var wD="PopperAnchor",bD=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=vD(wD,n),s=y.useRef(null),a=mt(t,s);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(We.div,{...o,ref:a})});bD.displayName=wD;var sC="PopperContent",[iJ,sJ]=yD(sC),SD=y.forwardRef((e,t)=>{var K,ue,fe,ce,Re,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=e,w=vD(sC,n),[S,C]=y.useState(null),k=mt(t,Ze=>C(Ze)),[T,N]=y.useState(null),R=oC(T),_=(R==null?void 0:R.width)??0,M=(R==null?void 0:R.height)??0,B=r+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(c)?c:[c],W=$.length>0,V={padding:I,boundary:$.filter(lJ),altBoundary:W},{refs:H,floatingStyles:ee,placement:X,isPositioned:J,middlewareData:L}=KX({strategy:"fixed",placement:B,whileElementsMounted:(...Ze)=>LX(...Ze,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[YX({mainAxis:o+M,alignmentAxis:s}),l&&XX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?JX():void 0,...V}),l&&QX({...V}),ZX({...V,apply:({elements:Ze,rects:ze,availableWidth:tt,availableHeight:De})=>{const{width:it,height:kt}=ze.reference,Ot=Ze.floating.style;Ot.setProperty("--radix-popper-available-width",`${tt}px`),Ot.setProperty("--radix-popper-available-height",`${De}px`),Ot.setProperty("--radix-popper-anchor-width",`${it}px`),Ot.setProperty("--radix-popper-anchor-height",`${kt}px`)}}),T&&tJ({element:T,padding:a}),cJ({arrowWidth:_,arrowHeight:M}),m&&eJ({strategy:"referenceHidden",...V})]}),[D,A]=ED(X),G=Qr(v);Vn(()=>{J&&(G==null||G())},[J,G]);const z=(K=L.arrow)==null?void 0:K.x,O=(ue=L.arrow)==null?void 0:ue.y,Z=((fe=L.arrow)==null?void 0:fe.centerOffset)!==0,[re,ne]=y.useState();return Vn(()=>{S&&ne(window.getComputedStyle(S).zIndex)},[S]),p.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:J?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(ce=L.transformOrigin)==null?void 0:ce.x,(Re=L.transformOrigin)==null?void 0:Re.y].join(" "),...((Oe=L.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(iJ,{scope:n,placedSide:D,onArrowChange:N,arrowX:z,arrowY:O,shouldHideArrow:Z,children:p.jsx(We.div,{"data-side":D,"data-align":A,...x,ref:k,style:{...x.style,animation:J?void 0:"none"}})})})});SD.displayName=sC;var CD="PopperArrow",aJ={top:"bottom",right:"left",bottom:"top",left:"right"},kD=y.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=sJ(CD,r),s=aJ[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(rJ,{...o,ref:n,style:{...o.style,display:"block"}})})});kD.displayName=CD;function lJ(e){return e!==null}var cJ=e=>({name:"transformOrigin",options:e,fn(t){var w,S,C;const{placement:n,rects:r,middlewareData:o}=t,s=((w=o.arrow)==null?void 0:w.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[c,d]=ED(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((S=o.arrow)==null?void 0:S.x)??0)+a/2,g=(((C=o.arrow)==null?void 0:C.y)??0)+l/2;let v="",x="";return c==="bottom"?(v=s?f:`${m}px`,x=`${-l}px`):c==="top"?(v=s?f:`${m}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=s?f:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=s?f:`${g}px`),{data:{x:v,y:x}}}});function ED(e){const[t,n="center"]=e.split("-");return[t,n]}var aC=xD,Nh=bD,Dy=SD,jy=kD,[Ly,uwe]=Zr("Tooltip",[Xa]),lC=Xa(),ND="TooltipProvider",uJ=700,sM="tooltip.open",[dJ,TD]=Ly(ND),RD=e=>{const{__scopeTooltip:t,delayDuration:n=uJ,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,s=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(dJ,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:i})};RD.displayName=ND;var MD="Tooltip",[dwe,Fy]=Ly(MD),Lb="TooltipTrigger",fJ=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Fy(Lb,n),i=TD(Lb,n),s=lC(n),a=y.useRef(null),l=mt(t,a,o.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(Nh,{asChild:!0,...s,children:p.jsx(We.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Te(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:Te(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:Te(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Te(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:Te(e.onBlur,o.onClose),onClick:Te(e.onClick,o.onClose)})})});fJ.displayName=Lb;var hJ="TooltipPortal",[fwe,pJ]=Ly(hJ,{forceMount:void 0}),Iu="TooltipContent",AD=y.forwardRef((e,t)=>{const n=pJ(Iu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,s=Fy(Iu,e.__scopeTooltip);return p.jsx(ko,{present:r||s.open,children:s.disableHoverableContent?p.jsx(PD,{side:o,...i,ref:t}):p.jsx(mJ,{side:o,...i,ref:t})})}),mJ=y.forwardRef((e,t)=>{const n=Fy(Iu,e.__scopeTooltip),r=TD(Iu,e.__scopeTooltip),o=y.useRef(null),i=mt(t,o),[s,a]=y.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:f}=r,m=y.useCallback(()=>{a(null),f(!1)},[f]),g=y.useCallback((v,x)=>{const w=v.currentTarget,S={x:v.clientX,y:v.clientY},C=wJ(S,w.getBoundingClientRect()),k=bJ(S,C),T=SJ(x.getBoundingClientRect()),N=kJ([...k,...T]);a(N),f(!0)},[f]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(l&&d){const v=w=>g(w,d),x=w=>g(w,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[l,d,g,m]),y.useEffect(()=>{if(s){const v=x=>{const w=x.target,S={x:x.clientX,y:x.clientY},C=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),k=!CJ(S,s);C?m():k&&(m(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,s,c,m]),p.jsx(PD,{...e,ref:i})}),[gJ,yJ]=Ly(MD,{isInside:!1}),vJ=bK("TooltipContent"),PD=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...a}=e,l=Fy(Iu,n),c=lC(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(sM,d),()=>document.removeEventListener(sM,d)),[d]),y.useEffect(()=>{if(l.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),p.jsx(cc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:p.jsxs(Dy,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(vJ,{children:r}),p.jsx(gJ,{scope:n,isInside:!0,children:p.jsx(UK,{id:l.contentId,role:"tooltip",children:o||r})})]})})});AD.displayName=Iu;var _D="TooltipArrow",xJ=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=lC(n);return yJ(_D,n).isInside?null:p.jsx(jy,{...o,...r,ref:t})});xJ.displayName=_D;function wJ(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bJ(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function SJ(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function CJ(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],l=t[s],c=a.x,d=a.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(o=!o)}return o}function kJ(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EJ(t)}function EJ(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var NJ=RD,ID=AD;const TJ=NJ,RJ=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(ID,{ref:r,sideOffset:t,className:Ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));RJ.displayName=ID.displayName;var zy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$y=typeof window>"u"||"Deno"in globalThis;function oi(){}function MJ(e,t){return typeof e=="function"?e(t):e}function AJ(e){return typeof e=="number"&&e>=0&&e!==1/0}function PJ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fb(e,t){return typeof e=="function"?e(t):e}function _J(e,t){return typeof e=="function"?e(t):e}function aM(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==cC(s,t.options))return!1}else if(!Hf(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||i&&!i(t))}function lM(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Uf(t.options.mutationKey)!==Uf(i))return!1}else if(!Hf(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function cC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Uf)(e)}function Uf(e){return JSON.stringify(e,(t,n)=>zb(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Hf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Hf(e[n],t[n])):!1}function OD(e,t){if(e===t)return e;const n=cM(e)&&cM(t);if(n||zb(e)&&zb(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),s=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<s;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=OD(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return o===s&&c===o?e:a}return t}function cM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zb(e){if(!uM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!uM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function uM(e){return Object.prototype.toString.call(e)==="[object Object]"}function IJ(e){return new Promise(t=>{setTimeout(t,e)})}function OJ(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?OD(e,t):t}function DJ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function jJ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var uC=Symbol();function DD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===uC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Pl,pa,gu,vP,LJ=(vP=class extends zy{constructor(){super();It(this,Pl);It(this,pa);It(this,gu);ht(this,gu,t=>{if(!$y&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,pa)||this.setEventListener(he(this,gu))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,pa))==null||t.call(this),ht(this,pa,void 0))}setEventListener(t){var n;ht(this,gu,t),(n=he(this,pa))==null||n.call(this),ht(this,pa,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){he(this,Pl)!==t&&(ht(this,Pl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof he(this,Pl)=="boolean"?he(this,Pl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pl=new WeakMap,pa=new WeakMap,gu=new WeakMap,vP),jD=new LJ,yu,ma,vu,xP,FJ=(xP=class extends zy{constructor(){super();It(this,yu,!0);It(this,ma);It(this,vu);ht(this,vu,t=>{if(!$y&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,ma)||this.setEventListener(he(this,vu))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,ma))==null||t.call(this),ht(this,ma,void 0))}setEventListener(t){var n;ht(this,vu,t),(n=he(this,ma))==null||n.call(this),ht(this,ma,t(this.setOnline.bind(this)))}setOnline(t){he(this,yu)!==t&&(ht(this,yu,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return he(this,yu)}},yu=new WeakMap,ma=new WeakMap,vu=new WeakMap,xP),Rg=new FJ;function zJ(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function $J(e){return Math.min(1e3*2**e,3e4)}function LD(e){return(e??"online")==="online"?Rg.isOnline():!0}var FD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function N0(e){return e instanceof FD}function zD(e){let t=!1,n=0,r=!1,o;const i=zJ(),s=x=>{var w;r||(m(new FD(x)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>jD.isFocused()&&(e.networkMode==="always"||Rg.isOnline())&&e.canRun(),d=()=>LD(e.networkMode)&&e.canRun(),f=x=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,x),o==null||o(),i.resolve(x))},m=x=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,x),o==null||o(),i.reject(x))},g=()=>new Promise(x=>{var w;o=S=>{(r||c())&&x(S)},(w=e.onPause)==null||w.call(e)}).then(()=>{var x;o=void 0,r||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(r)return;let x;const w=n===0?e.initialPromise:void 0;try{x=w??e.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(f).catch(S=>{var R;if(r)return;const C=e.retry??($y?0:3),k=e.retryDelay??$J,T=typeof k=="function"?k(n,S):k,N=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,S);if(t||!N){m(S);return}n++,(R=e.onFail)==null||R.call(e,n,S),IJ(T).then(()=>c()?void 0:g()).then(()=>{t?m(S):v()})})};return{promise:i,cancel:s,continue:()=>(o==null||o(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),i)}}var BJ=e=>setTimeout(e,0);function WJ(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=BJ;const i=a=>{t?e.push(a):o(()=>{n(a)})},s=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Tr=WJ(),_l,wP,$D=(wP=class{constructor(){It(this,_l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AJ(this.gcTime)&&ht(this,_l,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($y?1/0:5*60*1e3))}clearGcTimeout(){he(this,_l)&&(clearTimeout(he(this,_l)),ht(this,_l,void 0))}},_l=new WeakMap,wP),xu,wu,Oo,Il,dr,dh,Ol,ii,ms,bP,UJ=(bP=class extends $D{constructor(t){super();It(this,ii);It(this,xu);It(this,wu);It(this,Oo);It(this,Il);It(this,dr);It(this,dh);It(this,Ol);ht(this,Ol,!1),ht(this,dh,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,Il,t.client),ht(this,Oo,he(this,Il).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,xu,VJ(this.options)),this.state=t.state??he(this,xu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,dr))==null?void 0:t.promise}setOptions(t){this.options={...he(this,dh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Oo).remove(this)}setData(t,n){const r=OJ(this.state.data,t,this.options);return lr(this,ii,ms).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){lr(this,ii,ms).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=he(this,dr))==null?void 0:r.promise;return(o=he(this,dr))==null||o.cancel(t),n?n.then(oi).catch(oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,xu))}isActive(){return this.observers.some(t=>_J(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fb(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!PJ(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,dr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,dr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,Oo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(he(this,dr)&&(he(this,Ol)?he(this,dr).cancel({revert:!0}):he(this,dr).cancelRetry()),this.scheduleGc()),he(this,Oo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||lr(this,ii,ms).call(this,{type:"invalidate"})}fetch(t,n){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(he(this,dr))return he(this,dr).continueRetry(),he(this,dr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ht(this,Ol,!0),r.signal)})},i=()=>{const m=DD(this.options,n),v=(()=>{const x={client:he(this,Il),queryKey:this.queryKey,meta:this.meta};return o(x),x})();return ht(this,Ol,!1),this.options.persister?this.options.persister(m,v,this):m(v)},a=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:he(this,Il),state:this.state,fetchFn:i};return o(m),m})();(c=this.options.behavior)==null||c.onFetch(a,this),ht(this,wu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&lr(this,ii,ms).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var g,v,x,w;N0(m)&&m.silent||lr(this,ii,ms).call(this,{type:"error",error:m}),N0(m)||((v=(g=he(this,Oo).config).onError)==null||v.call(g,m,this),(w=(x=he(this,Oo).config).onSettled)==null||w.call(x,this.state.data,m,this)),this.scheduleGc()};return ht(this,dr,zD({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var g,v,x,w;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(S){l(S);return}(v=(g=he(this,Oo).config).onSuccess)==null||v.call(g,m,this),(w=(x=he(this,Oo).config).onSettled)==null||w.call(x,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,g)=>{lr(this,ii,ms).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{lr(this,ii,ms).call(this,{type:"pause"})},onContinue:()=>{lr(this,ii,ms).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),he(this,dr).start()}},xu=new WeakMap,wu=new WeakMap,Oo=new WeakMap,Il=new WeakMap,dr=new WeakMap,dh=new WeakMap,Ol=new WeakMap,ii=new WeakSet,ms=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HJ(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return N0(o)&&o.revert&&he(this,wu)?{...he(this,wu),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),he(this,Oo).notify({query:this,type:"updated",action:t})})},bP);function HJ(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VJ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oi,SP,GJ=(SP=class extends zy{constructor(t={}){super();It(this,Oi);this.config=t,ht(this,Oi,new Map)}build(t,n,r){const o=n.queryKey,i=n.queryHash??cC(o,n);let s=this.get(i);return s||(s=new UJ({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(s)),s}add(t){he(this,Oi).has(t.queryHash)||(he(this,Oi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=he(this,Oi).get(t.queryHash);n&&(t.destroy(),n===t&&he(this,Oi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,Oi).get(t)}getAll(){return[...he(this,Oi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>aM(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>aM(t,r)):n}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oi=new WeakMap,SP),Di,Er,Dl,ji,na,CP,KJ=(CP=class extends $D{constructor(t){super();It(this,ji);It(this,Di);It(this,Er);It(this,Dl);this.mutationId=t.mutationId,ht(this,Er,t.mutationCache),ht(this,Di,[]),this.state=t.state||qJ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,Di).includes(t)||(he(this,Di).push(t),this.clearGcTimeout(),he(this,Er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,Di,he(this,Di).filter(n=>n!==t)),this.scheduleGc(),he(this,Er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,Di).length||(this.state.status==="pending"?this.scheduleGc():he(this,Er).remove(this))}continue(){var t;return((t=he(this,Dl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,l,c,d,f,m,g,v,x,w,S,C,k,T,N,R,_,M;const n=()=>{lr(this,ji,na).call(this,{type:"continue"})};ht(this,Dl,zD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(B,I)=>{lr(this,ji,na).call(this,{type:"failed",failureCount:B,error:I})},onPause:()=>{lr(this,ji,na).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,Er).canRun(this)}));const r=this.state.status==="pending",o=!he(this,Dl).canStart();try{if(r)n();else{lr(this,ji,na).call(this,{type:"pending",variables:t,isPaused:o}),await((s=(i=he(this,Er).config).onMutate)==null?void 0:s.call(i,t,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));I!==this.state.context&&lr(this,ji,na).call(this,{type:"pending",context:I,variables:t,isPaused:o})}const B=await he(this,Dl).start();return await((d=(c=he(this,Er).config).onSuccess)==null?void 0:d.call(c,B,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,B,t,this.state.context)),await((v=(g=he(this,Er).config).onSettled)==null?void 0:v.call(g,B,null,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,B,null,t,this.state.context)),lr(this,ji,na).call(this,{type:"success",data:B}),B}catch(B){try{throw await((C=(S=he(this,Er).config).onError)==null?void 0:C.call(S,B,t,this.state.context,this)),await((T=(k=this.options).onError)==null?void 0:T.call(k,B,t,this.state.context)),await((R=(N=he(this,Er).config).onSettled)==null?void 0:R.call(N,void 0,B,this.state.variables,this.state.context,this)),await((M=(_=this.options).onSettled)==null?void 0:M.call(_,void 0,B,t,this.state.context)),B}finally{lr(this,ji,na).call(this,{type:"error",error:B})}}finally{he(this,Er).runNext(this)}}},Di=new WeakMap,Er=new WeakMap,Dl=new WeakMap,ji=new WeakSet,na=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tr.batch(()=>{he(this,Di).forEach(r=>{r.onMutationUpdate(t)}),he(this,Er).notify({mutation:this,type:"updated",action:t})})},CP);function qJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ws,si,fh,kP,YJ=(kP=class extends zy{constructor(t={}){super();It(this,ws);It(this,si);It(this,fh);this.config=t,ht(this,ws,new Set),ht(this,si,new Map),ht(this,fh,0)}build(t,n,r){const o=new KJ({mutationCache:this,mutationId:++Ip(this,fh)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){he(this,ws).add(t);const n=tm(t);if(typeof n=="string"){const r=he(this,si).get(n);r?r.push(t):he(this,si).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(he(this,ws).delete(t)){const n=tm(t);if(typeof n=="string"){const r=he(this,si).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&he(this,si).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=tm(t);if(typeof n=="string"){const r=he(this,si).get(n),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=tm(t);if(typeof n=="string"){const o=(r=he(this,si).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{he(this,ws).forEach(t=>{this.notify({type:"removed",mutation:t})}),he(this,ws).clear(),he(this,si).clear()})}getAll(){return Array.from(he(this,ws))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lM(n,r))}findAll(t={}){return this.getAll().filter(n=>lM(t,n))}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tr.batch(()=>Promise.all(t.map(n=>n.continue().catch(oi))))}},ws=new WeakMap,si=new WeakMap,fh=new WeakMap,kP);function tm(e){var t;return(t=e.options.scope)==null?void 0:t.id}function dM(e){return{onFetch:(t,n)=>{var d,f,m,g,v;const r=t.options,o=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],s=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const w=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},S=DD(t.options,t.fetchOptions),C=async(k,T,N)=>{if(x)return Promise.reject();if(T==null&&k.pages.length)return Promise.resolve(k);const _=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:T,direction:N?"backward":"forward",meta:t.options.meta};return w($),$})(),M=await S(_),{maxPages:B}=t.options,I=N?jJ:DJ;return{pages:I(k.pages,M,B),pageParams:I(k.pageParams,T,B)}};if(o&&i.length){const k=o==="backward",T=k?XJ:fM,N={pages:i,pageParams:s},R=T(r,N);a=await C(N,R,k)}else{const k=e??i.length;do{const T=l===0?s[0]??r.initialPageParam:fM(r,a);if(l>0&&T==null)break;a=await C(a,T),l++}while(l<k)}return a};t.options.persister?t.fetchFn=()=>{var x,w;return(w=(x=t.options).persister)==null?void 0:w.call(x,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function fM(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function XJ(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var vn,ga,ya,bu,Su,va,Cu,ku,EP,JJ=(EP=class{constructor(e={}){It(this,vn);It(this,ga);It(this,ya);It(this,bu);It(this,Su);It(this,va);It(this,Cu);It(this,ku);ht(this,vn,e.queryCache||new GJ),ht(this,ga,e.mutationCache||new YJ),ht(this,ya,e.defaultOptions||{}),ht(this,bu,new Map),ht(this,Su,new Map),ht(this,va,0)}mount(){Ip(this,va)._++,he(this,va)===1&&(ht(this,Cu,jD.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,vn).onFocus())})),ht(this,ku,Rg.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,vn).onOnline())})))}unmount(){var e,t;Ip(this,va)._--,he(this,va)===0&&((e=he(this,Cu))==null||e.call(this),ht(this,Cu,void 0),(t=he(this,ku))==null||t.call(this),ht(this,ku,void 0))}isFetching(e){return he(this,vn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,ga).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,vn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=he(this,vn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Fb(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return he(this,vn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=he(this,vn).get(r.queryHash),i=o==null?void 0:o.state.data,s=MJ(t,i);if(s!==void 0)return he(this,vn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Tr.batch(()=>he(this,vn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,vn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=he(this,vn);Tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=he(this,vn);return Tr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tr.batch(()=>he(this,vn).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(oi).catch(oi)}invalidateQueries(e,t={}){return Tr.batch(()=>(he(this,vn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tr.batch(()=>he(this,vn).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,n);return n.throwOnError||(i=i.catch(oi)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(oi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=he(this,vn).build(this,t);return n.isStaleByTime(Fb(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(oi).catch(oi)}fetchInfiniteQuery(e){return e.behavior=dM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(oi).catch(oi)}ensureInfiniteQueryData(e){return e.behavior=dM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rg.isOnline()?he(this,ga).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,vn)}getMutationCache(){return he(this,ga)}getDefaultOptions(){return he(this,ya)}setDefaultOptions(e){ht(this,ya,e)}setQueryDefaults(e,t){he(this,bu).set(Uf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,bu).values()],n={};return t.forEach(r=>{Hf(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){he(this,Su).set(Uf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,Su).values()],n={};return t.forEach(r=>{Hf(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,ya).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===uC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,ya).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,vn).clear(),he(this,ga).clear()}},vn=new WeakMap,ga=new WeakMap,ya=new WeakMap,bu=new WeakMap,Su=new WeakMap,va=new WeakMap,Cu=new WeakMap,ku=new WeakMap,EP),QJ=y.createContext(void 0),ZJ=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(QJ.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}var Sa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sa||(Sa={}));const hM="popstate";function eQ(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:s,hash:a}=r.location;return $b("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Mg(o)}return nQ(t,n,null,e)}function Nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tQ(){return Math.random().toString(36).substr(2,8)}function pM(e,t){return{usr:e.state,key:e.key,idx:t}}function $b(e,t,n,r){return n===void 0&&(n=null),Vf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qu(t):t,{state:n,key:t&&t.key||r||tQ()})}function Mg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nQ(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Sa.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Vf({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){a=Sa.Pop;let w=d(),S=w==null?null:w-c;c=w,l&&l({action:a,location:x.location,delta:S})}function m(w,S){a=Sa.Push;let C=$b(x.location,w,S);c=d()+1;let k=pM(C,c),T=x.createHref(C);try{s.pushState(k,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(T)}i&&l&&l({action:a,location:x.location,delta:1})}function g(w,S){a=Sa.Replace;let C=$b(x.location,w,S);c=d();let k=pM(C,c),T=x.createHref(C);s.replaceState(k,"",T),i&&l&&l({action:a,location:x.location,delta:0})}function v(w){let S=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof w=="string"?w:Mg(w);return C=C.replace(/ $/,"%20"),Nn(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let x={get action(){return a},get location(){return e(o,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(hM,f),l=w,()=>{o.removeEventListener(hM,f),l=null}},createHref(w){return t(o,w)},createURL:v,encodeLocation(w){let S=v(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:g,go(w){return s.go(w)}};return x}var mM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mM||(mM={}));function rQ(e,t,n){return n===void 0&&(n="/"),oQ(e,t,n)}function oQ(e,t,n,r){let o=typeof t=="string"?Qu(t):t,i=dC(o.pathname||"/",n);if(i==null)return null;let s=WD(e);iQ(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=yQ(i);a=pQ(s[l],c)}return a}function WD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Nn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Oa([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Nn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),WD(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:fQ(c,i.index),routesMeta:d})};return e.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of UD(i.path))o(i,s,l)}),t}function UD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=UD(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iQ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hQ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sQ=/^:[\w-]+$/,aQ=3,lQ=2,cQ=1,uQ=10,dQ=-2,gM=e=>e==="*";function fQ(e,t){let n=e.split("/"),r=n.length;return n.some(gM)&&(r+=dQ),t&&(r+=lQ),n.filter(o=>!gM(o)).reduce((o,i)=>o+(sQ.test(i)?aQ:i===""?cQ:uQ),r)}function hQ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function pQ(e,t,n){let{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=mQ({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f)return null;Object.assign(o,f.params),s.push({params:o,pathname:Oa([i,f.pathname]),pathnameBase:bQ(Oa([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Oa([i,f.pathnameBase]))}return s}function mQ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gQ(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let x=a[f]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function gQ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),BD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function yQ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return BD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vQ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Qu(e):e;return{pathname:n?n.startsWith("/")?n:xQ(n,t):t,search:SQ(r),hash:CQ(o)}}function xQ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function T0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wQ(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fC(e,t){let n=wQ(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hC(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Qu(e):(o=Vf({},e),Nn(!o.pathname||!o.pathname.includes("?"),T0("?","pathname","search",o)),Nn(!o.pathname||!o.pathname.includes("#"),T0("#","pathname","hash",o)),Nn(!o.search||!o.search.includes("#"),T0("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;o.pathname=m.join("/")}a=f>=0?t[f]:"/"}let l=vQ(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Oa=e=>e.join("/").replace(/\/\/+/g,"/"),bQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HD=["post","put","patch","delete"];new Set(HD);const EQ=["get",...HD];new Set(EQ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gf.apply(this,arguments)}const pC=y.createContext(null),NQ=y.createContext(null),Ja=y.createContext(null),By=y.createContext(null),Ji=y.createContext({outlet:null,matches:[],isDataRoute:!1}),VD=y.createContext(null);function TQ(e,t){let{relative:n}=t===void 0?{}:t;Zu()||Nn(!1);let{basename:r,navigator:o}=y.useContext(Ja),{hash:i,pathname:s,search:a}=KD(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Oa([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Zu(){return y.useContext(By)!=null}function Qa(){return Zu()||Nn(!1),y.useContext(By).location}function GD(e){y.useContext(Ja).static||y.useLayoutEffect(e)}function ed(){let{isDataRoute:e}=y.useContext(Ji);return e?UQ():RQ()}function RQ(){Zu()||Nn(!1);let e=y.useContext(pC),{basename:t,future:n,navigator:r}=y.useContext(Ja),{matches:o}=y.useContext(Ji),{pathname:i}=Qa(),s=JSON.stringify(fC(o,n.v7_relativeSplatPath)),a=y.useRef(!1);return GD(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=hC(c,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Oa([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,s,i,e])}const MQ=y.createContext(null);function AQ(e){let t=y.useContext(Ji).outlet;return t&&y.createElement(MQ.Provider,{value:e},t)}function PQ(){let{matches:e}=y.useContext(Ji),t=e[e.length-1];return t?t.params:{}}function KD(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Ja),{matches:o}=y.useContext(Ji),{pathname:i}=Qa(),s=JSON.stringify(fC(o,r.v7_relativeSplatPath));return y.useMemo(()=>hC(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function _Q(e,t){return IQ(e,t)}function IQ(e,t,n,r){Zu()||Nn(!1);let{navigator:o}=y.useContext(Ja),{matches:i}=y.useContext(Ji),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Qa(),d;if(t){var f;let w=typeof t=="string"?Qu(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Nn(!1),d=w}else d=c;let m=d.pathname||"/",g=m;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=rQ(e,{pathname:g}),x=FQ(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Oa([l,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Oa([l,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&x?y.createElement(By.Provider,{value:{location:Gf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sa.Pop}},x):x}function OQ(){let e=WQ(),t=kQ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:o},n):null,null)}const DQ=y.createElement(OQ,null);class jQ extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Ji.Provider,{value:this.props.routeContext},y.createElement(VD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LQ(e){let{routeContext:t,match:n,children:r}=e,o=y.useContext(pC);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ji.Provider,{value:t},r)}function FQ(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Nn(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,v=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let g,v=!1,x=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||DQ,l&&(c<0&&m===0?(HQ("route-fallback"),v=!0,w=null):c===m&&(v=!0,w=f.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,m+1)),C=()=>{let k;return g?k=x:v?k=w:f.route.Component?k=y.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,y.createElement(LQ,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(jQ,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var qD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qD||{}),YD=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(YD||{});function zQ(e){let t=y.useContext(pC);return t||Nn(!1),t}function $Q(e){let t=y.useContext(NQ);return t||Nn(!1),t}function BQ(e){let t=y.useContext(Ji);return t||Nn(!1),t}function XD(e){let t=BQ(),n=t.matches[t.matches.length-1];return n.route.id||Nn(!1),n.route.id}function WQ(){var e;let t=y.useContext(VD),n=$Q(),r=XD();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function UQ(){let{router:e}=zQ(qD.UseNavigateStable),t=XD(YD.UseNavigateStable),n=y.useRef(!1);return GD(()=>{n.current=!0}),y.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Gf({fromRouteId:t},i)))},[e,t])}const yM={};function HQ(e,t,n){yM[e]||(yM[e]=!0)}function VQ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bb(e){let{to:t,replace:n,state:r,relative:o}=e;Zu()||Nn(!1);let{future:i,static:s}=y.useContext(Ja),{matches:a}=y.useContext(Ji),{pathname:l}=Qa(),c=ed(),d=hC(t,fC(a,i.v7_relativeSplatPath),l,o==="path"),f=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:o}),[c,f,o,n,r]),null}function GQ(e){return AQ(e.context)}function gs(e){Nn(!1)}function KQ(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Sa.Pop,navigator:i,static:s=!1,future:a}=e;Zu()&&Nn(!1);let l=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:s,future:Gf({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=Qu(r));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:v="default"}=r,x=y.useMemo(()=>{let w=dC(d,l);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:v},navigationType:o}},[l,d,f,m,g,v,o]);return x==null?null:y.createElement(Ja.Provider,{value:c},y.createElement(By.Provider,{children:n,value:x}))}function qQ(e){let{children:t,location:n}=e;return _Q(Wb(t),n)}new Promise(()=>{});function Wb(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,o)=>{if(!y.isValidElement(r))return;let i=[...t,o];if(r.type===y.Fragment){n.push.apply(n,Wb(r.props.children,i));return}r.type!==gs&&Nn(!1),!r.props.index||!r.props.children||Nn(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Wb(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(this,arguments)}function YQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function XQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JQ(e,t){return e.button===0&&(!t||t==="_self")&&!XQ(e)}const QQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZQ="6";try{window.__reactRouterVersion=ZQ}catch{}const eZ="startTransition",vM=q1[eZ];function tZ(e){let{basename:t,children:n,future:r,window:o}=e,i=y.useRef();i.current==null&&(i.current=eQ({window:o,v5Compat:!0}));let s=i.current,[a,l]=y.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=y.useCallback(f=>{c&&vM?vM(()=>l(f)):l(f)},[l,c]);return y.useLayoutEffect(()=>s.listen(d),[s,d]),y.useEffect(()=>VQ(r),[r]),y.createElement(KQ,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const nZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oZ=y.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,m=YQ(t,QQ),{basename:g}=y.useContext(Ja),v,x=!1;if(typeof c=="string"&&rZ.test(c)&&(v=c,nZ))try{let k=new URL(window.location.href),T=c.startsWith("//")?new URL(k.protocol+c):new URL(c),N=dC(T.pathname,g);T.origin===k.origin&&N!=null?c=N+T.search+T.hash:x=!0}catch{}let w=TQ(c,{relative:o}),S=iZ(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:o,viewTransition:f});function C(k){r&&r(k),k.defaultPrevented||S(k)}return y.createElement("a",Ub({},m,{href:v||w,onClick:x||i?r:C,ref:n,target:l}))});var xM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xM||(xM={}));var wM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wM||(wM={}));function iZ(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:a}=t===void 0?{}:t,l=ed(),c=Qa(),d=KD(e,{relative:s});return y.useCallback(f=>{if(JQ(f,n)){f.preventDefault();let m=r!==void 0?r:Mg(c)===Mg(d);l(e,{replace:m,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,d,r,o,n,e,i,s,a])}function sZ(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}=e,[o,i]=y.useState(!1),s=y.useRef(n);s.current=n;const a=y.useRef(r);return a.current=r,y.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=t,l.onload=()=>{var c;i(!0),(c=s.current)===null||c===void 0||c.call(s)},l.onerror=()=>{var c;i(!1),(c=a.current)===null||c===void 0||c.call(a)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[t]),o}const JD=y.createContext(null);function aZ({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r,children:o}){const i=sZ({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}),s=y.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return se.createElement(JD.Provider,{value:s},o)}function lZ(){const e=y.useContext(JD);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function cZ(){var e,t,n;(n=(t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.accounts)===null||t===void 0?void 0:t.id)===null||n===void 0||n.disableAutoSelect()}function uZ({flow:e="implicit",scope:t="",onSuccess:n,onError:r,onNonOAuthError:o,overrideScope:i,state:s,...a}){const{clientId:l,scriptLoadedSuccessfully:c}=lZ(),d=y.useRef(),f=y.useRef(n);f.current=n;const m=y.useRef(r);m.current=r;const g=y.useRef(o);g.current=o,y.useEffect(()=>{var w,S;if(!c)return;const C=e==="implicit"?"initTokenClient":"initCodeClient",k=(S=(w=window==null?void 0:window.google)===null||w===void 0?void 0:w.accounts)===null||S===void 0?void 0:S.oauth2[C]({client_id:l,scope:i?t:`openid profile email ${t}`,callback:T=>{var N,R;if(T.error)return(N=m.current)===null||N===void 0?void 0:N.call(m,T);(R=f.current)===null||R===void 0||R.call(f,T)},error_callback:T=>{var N;(N=g.current)===null||N===void 0||N.call(g,T)},state:s,...a});d.current=k},[l,c,e,t,s]);const v=y.useCallback(w=>{var S;return(S=d.current)===null||S===void 0?void 0:S.requestAccessToken(w)},[]),x=y.useCallback(()=>{var w;return(w=d.current)===null||w===void 0?void 0:w.requestCode()},[]);return e==="implicit"?v:x}const QD=y.createContext(void 0),Si=()=>{const e=y.useContext(QD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},dZ=({children:e})=>{const[t,n]=y.useState(null),[r,o]=y.useState(!0),[i,s]=y.useState(null),[a,l]=y.useState(0),c=y.useRef(0);y.useEffect(()=>{(async()=>{try{console.log("Starting authentication initialization");const w=localStorage.getItem("itemize_token"),S=localStorage.getItem("itemize_user"),C=localStorage.getItem("itemize_expiry");if(console.log("Auth data from storage:",{hasToken:!!w,hasUser:!!S,hasExpiry:!!C}),w&&typeof w=="string"&&S&&typeof S=="string"&&S!=="undefined"&&C&&!isNaN(parseInt(C))&&parseInt(C)>Date.now())try{const k=JSON.parse(S);if(k&&typeof k=="object"&&k.uid)console.log("Restoring authentication with user:",k),s(w),n(k),l(Date.now()),console.log("Authentication restored successfully");else throw console.error("Invalid user data structure:",k),new Error("Invalid user data structure")}catch(k){console.error("Failed to parse saved user data:",k),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry"),s(null),n(null)}else console.log("No valid authentication found, cleaning up storage"),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry"),s(null),n(null)}catch(w){console.error("Error initializing auth:",w),s(null),n(null)}finally{console.log("Authentication initialization complete"),o(!1)}})()},[]);const d=uZ({onSuccess:async x=>{o(!0);try{console.log("Google login successful, getting user info");const S=(await Bt.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${x.access_token}`}})).data;console.log("Received user info from Google:",S);const C=$f();console.log("Sending user info to backend:",`${C}/api/auth/google-login`);try{const k=await Bt.post(`${C}/api/auth/google-login`,{googleId:S.sub,email:S.email,name:S.name,picture:S.picture});if(console.log("Backend auth response:",k.data),!k.data)throw new Error("Empty response data from backend");const T=k.data.token,N=k.data.user;if(!T)throw new Error("Missing token in backend response");if(!N||!N.uid)throw new Error("Missing or invalid user data in backend response");const R=Date.now()+7*24*60*60*1e3;localStorage.setItem("itemize_token",T),localStorage.setItem("itemize_user",JSON.stringify(N)),localStorage.setItem("itemize_expiry",R.toString()),console.log("Setting authentication state with:",{token:T,user:N}),s(T),n(N),l(Date.now()),console.log("Backend auth successful, state updated"),Tb({title:"Welcome!",description:"Successfully signed in with Google."})}catch(k){throw console.error("Backend auth error:",k),new Error(`Backend authentication failed: ${k.message}`)}}catch(w){console.error("Google login failed:",w)}finally{o(!1)}},onError:()=>{console.error("Google login failed"),o(!1)},scope:"email profile"}),f=()=>{d()},m=()=>{console.log("Logging out user..."),s(null),n(null),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry");try{cZ()}catch(x){console.error("Error signing out from Google:",x)}if(c.current<3)try{an.post("/api/auth/logout").catch(x=>{console.error("Backend logout failed:",x),c.current++})}catch(x){console.error("Backend logout failed:",x),c.current++}},g=async x=>{o(!0);try{console.log("Google One Tap login successful");const w=$f(),S=await Bt.post(`${w}/api/auth/google-credential`,{credential:x.credential}),{token:C,user:k}=S.data,T=Date.now()+7*24*60*60*1e3;localStorage.setItem("itemize_token",C),localStorage.setItem("itemize_user",JSON.stringify(k)),localStorage.setItem("itemize_expiry",T.toString()),console.log("Setting authentication state with:",{token:C,user:k}),s(C),n(k),l(Date.now()),Tb({title:"Welcome!",description:"Successfully signed in with Google."})}catch(w){console.error("Google credential login failed:",w)}finally{o(!1)}};y.useEffect(()=>{console.log("Auth context changed:",{isAuthenticated:!!t&&!!i,hasUser:!!t,hasToken:!!i,lastAuthenticated:a,userData:t})},[t,i,a]);const v={currentUser:t,loading:r,login:f,logout:m,handleGoogleSuccess:g,token:i,isAuthenticated:!!t&&!!i};return p.jsx(QD.Provider,{value:v,children:e})},bM="itemize-ai-suggest-enabled",ZD=y.createContext({aiEnabled:!0,setAiEnabled:()=>{}}),fZ=({children:e})=>{const[t,n]=y.useState(()=>{try{const r=localStorage.getItem(bM);return r?JSON.parse(r):!0}catch{return!0}});return y.useEffect(()=>{localStorage.setItem(bM,JSON.stringify(t))},[t]),p.jsx(ZD.Provider,{value:{aiEnabled:t,setAiEnabled:n},children:e})},mC=()=>y.useContext(ZD),hZ=Sh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},i)=>{const s=r?xK:"button";return p.jsx(s,{className:Ve(hZ({variant:t,size:n,className:e})),ref:i,...o})});Me.displayName="Button";function gC(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Wy="Switch",[pZ,hwe]=Zr(Wy),[mZ,gZ]=pZ(Wy),ej=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:s,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=e,[m,g]=y.useState(null),v=mt(t,k=>g(k)),x=y.useRef(!1),w=m?d||!!m.closest("form"):!0,[S,C]=bo({prop:o,defaultProp:i??!1,onChange:c,caller:Wy});return p.jsxs(mZ,{scope:n,checked:S,disabled:a,children:[p.jsx(We.button,{type:"button",role:"switch","aria-checked":S,"aria-required":s,"data-state":oj(S),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:v,onClick:Te(e.onClick,k=>{C(T=>!T),w&&(x.current=k.isPropagationStopped(),x.current||k.stopPropagation())})}),w&&p.jsx(rj,{control:m,bubbles:!x.current,name:r,value:l,checked:S,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});ej.displayName=Wy;var tj="SwitchThumb",nj=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=gZ(tj,n);return p.jsx(We.span,{"data-state":oj(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});nj.displayName=tj;var yZ="SwitchBubbleInput",rj=y.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const s=y.useRef(null),a=mt(s,i),l=gC(n),c=oC(t);return y.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(v)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...o.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rj.displayName=yZ;function oj(e){return e?"checked":"unchecked"}var ij=ej,vZ=nj;const sj=y.forwardRef(({className:e,...t},n)=>p.jsx(ij,{className:Ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-blue-600 data-[state=checked]:to-indigo-600 data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(vZ,{className:Ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sj.displayName=ij.displayName;var xZ="Label",aj=y.forwardRef((e,t)=>p.jsx(We.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aj.displayName=xZ;var lj=aj;const wZ=Sh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mr=y.forwardRef(({className:e,...t},n)=>p.jsx(lj,{ref:n,className:Ve(wZ(),e),...t}));Mr.displayName=lj.displayName;var bZ=y.createContext(void 0);function Th(e){const t=y.useContext(bZ);return e||t||"ltr"}var R0=0;function Uy(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SM()),document.body.insertAdjacentElement("beforeend",e[1]??SM()),R0++,()=>{R0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),R0--}},[])}function SM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var M0="focusScope.autoFocusOnMount",A0="focusScope.autoFocusOnUnmount",CM={bubbles:!1,cancelable:!0},SZ="FocusScope",Rh=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=y.useState(null),c=Qr(o),d=Qr(i),f=y.useRef(null),m=mt(t,x=>l(x)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let x=function(k){if(g.paused||!a)return;const T=k.target;a.contains(T)?f.current=T:ra(f.current,{select:!0})},w=function(k){if(g.paused||!a)return;const T=k.relatedTarget;T!==null&&(a.contains(T)||ra(f.current,{select:!0}))},S=function(k){if(document.activeElement===document.body)for(const N of k)N.removedNodes.length>0&&ra(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const C=new MutationObserver(S);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),C.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){EM.add(g);const x=document.activeElement;if(!a.contains(x)){const S=new CustomEvent(M0,CM);a.addEventListener(M0,c),a.dispatchEvent(S),S.defaultPrevented||(CZ(RZ(cj(a)),{select:!0}),document.activeElement===x&&ra(a))}return()=>{a.removeEventListener(M0,c),setTimeout(()=>{const S=new CustomEvent(A0,CM);a.addEventListener(A0,d),a.dispatchEvent(S),S.defaultPrevented||ra(x??document.body,{select:!0}),a.removeEventListener(A0,d),EM.remove(g)},0)}}},[a,c,d,g]);const v=y.useCallback(x=>{if(!n&&!r||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(w&&S){const C=x.currentTarget,[k,T]=kZ(C);k&&T?!x.shiftKey&&S===T?(x.preventDefault(),n&&ra(k,{select:!0})):x.shiftKey&&S===k&&(x.preventDefault(),n&&ra(T,{select:!0})):S===C&&x.preventDefault()}},[n,r,g.paused]);return p.jsx(We.div,{tabIndex:-1,...s,ref:m,onKeyDown:v})});Rh.displayName=SZ;function CZ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ra(r,{select:t}),document.activeElement!==n)return}function kZ(e){const t=cj(e),n=kM(t,e),r=kM(t.reverse(),e);return[n,r]}function cj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kM(e,t){for(const n of e)if(!EZ(n,{upTo:t}))return n}function EZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NZ(e){return e instanceof HTMLInputElement&&"select"in e}function ra(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&NZ(e)&&t&&e.select()}}var EM=TZ();function TZ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=NM(e,t),e.unshift(t)},remove(t){var n;e=NM(e,t),(n=e[0])==null||n.resume()}}}function NM(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function RZ(e){return e.filter(t=>t.tagName!=="A")}var P0="rovingFocusGroup.onEntryFocus",MZ={bubbles:!1,cancelable:!0},Mh="RovingFocusGroup",[Hb,uj,AZ]=wh(Mh),[PZ,Hy]=Zr(Mh,[AZ]),[_Z,IZ]=PZ(Mh),dj=y.forwardRef((e,t)=>p.jsx(Hb.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Hb.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(OZ,{...e,ref:t})})}));dj.displayName=Mh;var OZ=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,m=y.useRef(null),g=mt(t,m),v=Th(i),[x,w]=bo({prop:s,defaultProp:a??null,onChange:l,caller:Mh}),[S,C]=y.useState(!1),k=Qr(c),T=uj(n),N=y.useRef(!1),[R,_]=y.useState(0);return y.useEffect(()=>{const M=m.current;if(M)return M.addEventListener(P0,k),()=>M.removeEventListener(P0,k)},[k]),p.jsx(_Z,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:x,onItemFocus:y.useCallback(M=>w(M),[w]),onItemShiftTab:y.useCallback(()=>C(!0),[]),onFocusableItemAdd:y.useCallback(()=>_(M=>M+1),[]),onFocusableItemRemove:y.useCallback(()=>_(M=>M-1),[]),children:p.jsx(We.div,{tabIndex:S||R===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Te(e.onMouseDown,()=>{N.current=!0}),onFocus:Te(e.onFocus,M=>{const B=!N.current;if(M.target===M.currentTarget&&B&&!S){const I=new CustomEvent(P0,MZ);if(M.currentTarget.dispatchEvent(I),!I.defaultPrevented){const $=T().filter(X=>X.focusable),W=$.find(X=>X.active),V=$.find(X=>X.id===x),ee=[W,V,...$].filter(Boolean).map(X=>X.ref.current);pj(ee,d)}}N.current=!1}),onBlur:Te(e.onBlur,()=>C(!1))})})}),fj="RovingFocusGroupItem",hj=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:s,...a}=e,l=nr(),c=i||l,d=IZ(fj,n),f=d.currentTabStopId===c,m=uj(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:x}=d;return y.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),p.jsx(Hb.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:p.jsx(We.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Te(e.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:Te(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Te(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const S=LZ(w,d.orientation,d.dir);if(S!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let k=m().filter(T=>T.focusable).map(T=>T.ref.current);if(S==="last")k.reverse();else if(S==="prev"||S==="next"){S==="prev"&&k.reverse();const T=k.indexOf(w.currentTarget);k=d.loop?FZ(k,T+1):k.slice(T+1)}setTimeout(()=>pj(k))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:x!=null}):s})})});hj.displayName=fj;var DZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jZ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LZ(e,t,n){const r=jZ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DZ[r]}function pj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function FZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var mj=dj,gj=hj,zZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_c=new WeakMap,nm=new WeakMap,rm={},_0=0,yj=function(e){return e&&(e.host||yj(e.parentNode))},$Z=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},BZ=function(e,t,n,r){var o=$Z(t,Array.isArray(e)?e:[e]);rm[n]||(rm[n]=new WeakMap);var i=rm[n],s=[],a=new Set,l=new Set(o),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};o.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",x=(_c.get(m)||0)+1,w=(i.get(m)||0)+1;_c.set(m,x),i.set(m,w),s.push(m),x===1&&v&&nm.set(m,!0),w===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return d(t),a.clear(),_0++,function(){s.forEach(function(f){var m=_c.get(f)-1,g=i.get(f)-1;_c.set(f,m),i.set(f,g),m||(nm.has(f)||f.removeAttribute(r),nm.delete(f)),g||f.removeAttribute(n)}),_0--,_0||(_c=new WeakMap,_c=new WeakMap,nm=new WeakMap,rm={})}},Vy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=zZ(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),BZ(r,o,n,"aria-hidden")):function(){return null}},zi=function(){return zi=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zi.apply(this,arguments)};function vj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function WZ(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var $m="right-scroll-bar-position",Bm="width-before-scroll-bar",UZ="with-scroll-bars-hidden",HZ="--removed-body-scroll-bar-size";function I0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VZ(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var GZ=typeof window<"u"?y.useLayoutEffect:y.useEffect,TM=new WeakMap;function KZ(e,t){var n=VZ(null,function(r){return e.forEach(function(o){return I0(o,r)})});return GZ(function(){var r=TM.get(n);if(r){var o=new Set(r),i=new Set(e),s=n.current;o.forEach(function(a){i.has(a)||I0(a,null)}),i.forEach(function(a){o.has(a)||I0(a,s)})}TM.set(n,e)},[e]),n}function qZ(e){return e}function YZ(e,t){t===void 0&&(t=qZ);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var d=s;s=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return o}function XZ(e){e===void 0&&(e={});var t=YZ(null);return t.options=zi({async:!0,ssr:!1},e),t}var xj=function(e){var t=e.sideCar,n=vj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,zi({},n))};xj.isSideCarExport=!0;function JZ(e,t){return e.useMedium(t),xj}var wj=XZ(),O0=function(){},Gy=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:O0,onWheelCapture:O0,onTouchMoveCapture:O0}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,v=e.noIsolation,x=e.inert,w=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,k=e.gapMode,T=vj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,R=KZ([n,t]),_=zi(zi({},T),o);return y.createElement(y.Fragment,null,d&&y.createElement(N,{sideCar:wj,removeScrollBar:c,shards:f,noRelative:g,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:k}),s?y.cloneElement(y.Children.only(a),zi(zi({},_),{ref:R})):y.createElement(C,zi({},_,{className:l,ref:R}),a))});Gy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gy.classNames={fullWidth:Bm,zeroRight:$m};var QZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QZ();return t&&e.setAttribute("nonce",t),e}function eee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tee(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var nee=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ZZ())&&(eee(t,n),tee(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ree=function(){var e=nee();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bj=function(){var e=ree(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},oee={left:0,top:0,right:0,gap:0},D0=function(e){return parseInt(e||"",10)||0},iee=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[D0(n),D0(r),D0(o)]},see=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oee;var t=iee(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},aee=bj(),du="data-scroll-locked",lee=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(UZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(du,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($m,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($m," .").concat($m,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bm," .").concat(Bm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(du,`] {
    `).concat(HZ,": ").concat(a,`px;
  }
`)},RM=function(){var e=parseInt(document.body.getAttribute(du)||"0",10);return isFinite(e)?e:0},cee=function(){y.useEffect(function(){return document.body.setAttribute(du,(RM()+1).toString()),function(){var e=RM()-1;e<=0?document.body.removeAttribute(du):document.body.setAttribute(du,e.toString())}},[])},uee=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;cee();var i=y.useMemo(function(){return see(o)},[o]);return y.createElement(aee,{styles:lee(i,!t,o,n?"":"!important")})},Vb=!1;if(typeof window<"u")try{var om=Object.defineProperty({},"passive",{get:function(){return Vb=!0,!0}});window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{Vb=!1}var Ic=Vb?{passive:!1}:!1,dee=function(e){return e.tagName==="TEXTAREA"},Sj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!dee(e)&&n[t]==="visible")},fee=function(e){return Sj(e,"overflowY")},hee=function(e){return Sj(e,"overflowX")},MM=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Cj(e,r);if(o){var i=kj(e,r),s=i[1],a=i[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pee=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},mee=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Cj=function(e,t){return e==="v"?fee(t):hee(t)},kj=function(e,t){return e==="v"?pee(t):mee(t)},gee=function(e,t){return e==="h"&&t==="rtl"?-1:1},yee=function(e,t,n,r,o){var i=gee(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,l=t.contains(a),c=!1,d=s>0,f=0,m=0;do{if(!a)break;var g=kj(e,a),v=g[0],x=g[1],w=g[2],S=x-w-i*v;(v||S)&&Cj(e,a)&&(f+=S,m+=v);var C=a.parentNode;a=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(c=!0),c},im=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},AM=function(e){return[e.deltaX,e.deltaY]},PM=function(e){return e&&"current"in e?e.current:e},vee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wee=0,Oc=[];function bee(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),o=y.useState(wee++)[0],i=y.useState(bj)[0],s=y.useRef(e);y.useEffect(function(){s.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=WZ([e.lockRef.current],(e.shards||[]).map(PM),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=y.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var S=im(x),C=n.current,k="deltaX"in x?x.deltaX:C[0]-S[0],T="deltaY"in x?x.deltaY:C[1]-S[1],N,R=x.target,_=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in x&&_==="h"&&R.type==="range")return!1;var M=MM(_,R);if(!M)return!0;if(M?N=_:(N=_==="v"?"h":"v",M=MM(_,R)),!M)return!1;if(!r.current&&"changedTouches"in x&&(k||T)&&(r.current=N),!N)return!0;var B=r.current||N;return yee(B,w,x,B==="h"?k:T)},[]),l=y.useCallback(function(x){var w=x;if(!(!Oc.length||Oc[Oc.length-1]!==i)){var S="deltaY"in w?AM(w):im(w),C=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&vee(N.delta,S)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var k=(s.current.shards||[]).map(PM).filter(Boolean).filter(function(N){return N.contains(w.target)}),T=k.length>0?a(w,k[0]):!s.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),c=y.useCallback(function(x,w,S,C){var k={name:x,delta:w,target:S,should:C,shadowParent:See(S)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(T){return T!==k})},1)},[]),d=y.useCallback(function(x){n.current=im(x),r.current=void 0},[]),f=y.useCallback(function(x){c(x.type,AM(x),x.target,a(x,e.lockRef.current))},[]),m=y.useCallback(function(x){c(x.type,im(x),x.target,a(x,e.lockRef.current))},[]);y.useEffect(function(){return Oc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ic),document.addEventListener("touchmove",l,Ic),document.addEventListener("touchstart",d,Ic),function(){Oc=Oc.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,Ic),document.removeEventListener("touchmove",l,Ic),document.removeEventListener("touchstart",d,Ic)}},[]);var g=e.removeScrollBar,v=e.inert;return y.createElement(y.Fragment,null,v?y.createElement(i,{styles:xee(o)}):null,g?y.createElement(uee,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function See(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Cee=JZ(wj,bee);var Ah=y.forwardRef(function(e,t){return y.createElement(Gy,zi({},e,{ref:t,sideCar:Cee}))});Ah.classNames=Gy.classNames;var Gb=["Enter"," "],kee=["ArrowDown","PageUp","Home"],Ej=["ArrowUp","PageDown","End"],Eee=[...kee,...Ej],Nee={ltr:[...Gb,"ArrowRight"],rtl:[...Gb,"ArrowLeft"]},Tee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ph="Menu",[Kf,Ree,Mee]=wh(Ph),[uc,Nj]=Zr(Ph,[Mee,Xa,Hy]),Ky=Xa(),Tj=Hy(),[Aee,dc]=uc(Ph),[Pee,_h]=uc(Ph),Rj=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:s=!0}=e,a=Ky(t),[l,c]=y.useState(null),d=y.useRef(!1),f=Qr(i),m=Th(o);return y.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),p.jsx(aC,{...a,children:p.jsx(Aee,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:p.jsx(Pee,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:s,children:r})})})};Rj.displayName=Ph;var _ee="MenuAnchor",yC=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ky(n);return p.jsx(Nh,{...o,...r,ref:t})});yC.displayName=_ee;var vC="MenuPortal",[Iee,Mj]=uc(vC,{forceMount:void 0}),Aj=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=dc(vC,t);return p.jsx(Iee,{scope:t,forceMount:n,children:p.jsx(ko,{present:n||i.open,children:p.jsx(Ku,{asChild:!0,container:o,children:r})})})};Aj.displayName=vC;var Ho="MenuContent",[Oee,xC]=uc(Ho),Pj=y.forwardRef((e,t)=>{const n=Mj(Ho,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=dc(Ho,e.__scopeMenu),s=_h(Ho,e.__scopeMenu);return p.jsx(Kf.Provider,{scope:e.__scopeMenu,children:p.jsx(ko,{present:r||i.open,children:p.jsx(Kf.Slot,{scope:e.__scopeMenu,children:s.modal?p.jsx(Dee,{...o,ref:t}):p.jsx(jee,{...o,ref:t})})})})}),Dee=y.forwardRef((e,t)=>{const n=dc(Ho,e.__scopeMenu),r=y.useRef(null),o=mt(t,r);return y.useEffect(()=>{const i=r.current;if(i)return Vy(i)},[]),p.jsx(wC,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Te(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jee=y.forwardRef((e,t)=>{const n=dc(Ho,e.__scopeMenu);return p.jsx(wC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Lee=Wa("MenuContent.ScrollLock"),wC=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...x}=e,w=dc(Ho,n),S=_h(Ho,n),C=Ky(n),k=Tj(n),T=Ree(n),[N,R]=y.useState(null),_=y.useRef(null),M=mt(t,_,w.onContentChange),B=y.useRef(0),I=y.useRef(""),$=y.useRef(0),W=y.useRef(null),V=y.useRef("right"),H=y.useRef(0),ee=v?Ah:y.Fragment,X=v?{as:Lee,allowPinchZoom:!0}:void 0,J=D=>{var K,ue;const A=I.current+D,G=T().filter(fe=>!fe.disabled),z=document.activeElement,O=(K=G.find(fe=>fe.ref.current===z))==null?void 0:K.textValue,Z=G.map(fe=>fe.textValue),re=Yee(Z,A,O),ne=(ue=G.find(fe=>fe.textValue===re))==null?void 0:ue.ref.current;(function fe(ce){I.current=ce,window.clearTimeout(B.current),ce!==""&&(B.current=window.setTimeout(()=>fe(""),1e3))})(A),ne&&setTimeout(()=>ne.focus())};y.useEffect(()=>()=>window.clearTimeout(B.current),[]),Uy();const L=y.useCallback(D=>{var G,z;return V.current===((G=W.current)==null?void 0:G.side)&&Jee(D,(z=W.current)==null?void 0:z.area)},[]);return p.jsx(Oee,{scope:n,searchRef:I,onItemEnter:y.useCallback(D=>{L(D)&&D.preventDefault()},[L]),onItemLeave:y.useCallback(D=>{var A;L(D)||((A=_.current)==null||A.focus(),R(null))},[L]),onTriggerLeave:y.useCallback(D=>{L(D)&&D.preventDefault()},[L]),pointerGraceTimerRef:$,onPointerGraceIntentChange:y.useCallback(D=>{W.current=D},[]),children:p.jsx(ee,{...X,children:p.jsx(Rh,{asChild:!0,trapped:o,onMountAutoFocus:Te(i,D=>{var A;D.preventDefault(),(A=_.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:p.jsx(cc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:p.jsx(mj,{asChild:!0,...k,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:R,onEntryFocus:Te(l,D=>{S.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(Dy,{role:"menu","aria-orientation":"vertical","data-state":Kj(w.open),"data-radix-menu-content":"",dir:S.dir,...C,...x,ref:M,style:{outline:"none",...x.style},onKeyDown:Te(x.onKeyDown,D=>{const G=D.target.closest("[data-radix-menu-content]")===D.currentTarget,z=D.ctrlKey||D.altKey||D.metaKey,O=D.key.length===1;G&&(D.key==="Tab"&&D.preventDefault(),!z&&O&&J(D.key));const Z=_.current;if(D.target!==Z||!Eee.includes(D.key))return;D.preventDefault();const ne=T().filter(K=>!K.disabled).map(K=>K.ref.current);Ej.includes(D.key)&&ne.reverse(),Kee(ne)}),onBlur:Te(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(B.current),I.current="")}),onPointerMove:Te(e.onPointerMove,qf(D=>{const A=D.target,G=H.current!==D.clientX;if(D.currentTarget.contains(A)&&G){const z=D.clientX>H.current?"right":"left";V.current=z,H.current=D.clientX}}))})})})})})})});Pj.displayName=Ho;var Fee="MenuGroup",bC=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(We.div,{role:"group",...r,ref:t})});bC.displayName=Fee;var zee="MenuLabel",_j=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(We.div,{...r,ref:t})});_j.displayName=zee;var Ag="MenuItem",_M="menu.itemSelect",qy=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=y.useRef(null),s=_h(Ag,e.__scopeMenu),a=xC(Ag,e.__scopeMenu),l=mt(t,i),c=y.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(_M,{bubbles:!0,cancelable:!0});f.addEventListener(_M,g=>r==null?void 0:r(g),{once:!0}),US(f,m),m.defaultPrevented?c.current=!1:s.onClose()}};return p.jsx(Ij,{...o,ref:l,disabled:n,onClick:Te(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),c.current=!0},onPointerUp:Te(e.onPointerUp,f=>{var m;c.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Te(e.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||Gb.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});qy.displayName=Ag;var Ij=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,s=xC(Ag,n),a=Tj(n),l=y.useRef(null),c=mt(t,l),[d,f]=y.useState(!1),[m,g]=y.useState("");return y.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[i.children]),p.jsx(Kf.ItemSlot,{scope:n,disabled:r,textValue:o??m,children:p.jsx(gj,{asChild:!0,...a,focusable:!r,children:p.jsx(We.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Te(e.onPointerMove,qf(v=>{r?s.onItemLeave(v):(s.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(e.onPointerLeave,qf(v=>s.onItemLeave(v))),onFocus:Te(e.onFocus,()=>f(!0)),onBlur:Te(e.onBlur,()=>f(!1))})})})}),$ee="MenuCheckboxItem",Oj=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(zj,{scope:e.__scopeMenu,checked:n,children:p.jsx(qy,{role:"menuitemcheckbox","aria-checked":Pg(n)?"mixed":n,...o,ref:t,"data-state":CC(n),onSelect:Te(o.onSelect,()=>r==null?void 0:r(Pg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Oj.displayName=$ee;var Dj="MenuRadioGroup",[Bee,Wee]=uc(Dj,{value:void 0,onValueChange:()=>{}}),jj=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=Qr(r);return p.jsx(Bee,{scope:e.__scopeMenu,value:n,onValueChange:i,children:p.jsx(bC,{...o,ref:t})})});jj.displayName=Dj;var Lj="MenuRadioItem",Fj=y.forwardRef((e,t)=>{const{value:n,...r}=e,o=Wee(Lj,e.__scopeMenu),i=n===o.value;return p.jsx(zj,{scope:e.__scopeMenu,checked:i,children:p.jsx(qy,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":CC(i),onSelect:Te(r.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})})});Fj.displayName=Lj;var SC="MenuItemIndicator",[zj,Uee]=uc(SC,{checked:!1}),$j=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=Uee(SC,n);return p.jsx(ko,{present:r||Pg(i.checked)||i.checked===!0,children:p.jsx(We.span,{...o,ref:t,"data-state":CC(i.checked)})})});$j.displayName=SC;var Hee="MenuSeparator",Bj=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Bj.displayName=Hee;var Vee="MenuArrow",Wj=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ky(n);return p.jsx(jy,{...o,...r,ref:t})});Wj.displayName=Vee;var Gee="MenuSub",[pwe,Uj]=uc(Gee),Yd="MenuSubTrigger",Hj=y.forwardRef((e,t)=>{const n=dc(Yd,e.__scopeMenu),r=_h(Yd,e.__scopeMenu),o=Uj(Yd,e.__scopeMenu),i=xC(Yd,e.__scopeMenu),s=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),p.jsx(yC,{asChild:!0,...c,children:p.jsx(Ij,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Kj(n.open),...e,ref:Is(t,o.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Te(e.onPointerMove,qf(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Te(e.onPointerLeave,qf(f=>{var g,v;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const x=(v=n.content)==null?void 0:v.dataset.side,w=x==="right",S=w?-5:5,C=m[w?"left":"right"],k=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+S,y:f.clientY},{x:C,y:m.top},{x:k,y:m.top},{x:k,y:m.bottom},{x:C,y:m.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Te(e.onKeyDown,f=>{var g;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Nee[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});Hj.displayName=Yd;var Vj="MenuSubContent",Gj=y.forwardRef((e,t)=>{const n=Mj(Ho,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=dc(Ho,e.__scopeMenu),s=_h(Ho,e.__scopeMenu),a=Uj(Vj,e.__scopeMenu),l=y.useRef(null),c=mt(t,l);return p.jsx(Kf.Provider,{scope:e.__scopeMenu,children:p.jsx(ko,{present:r||i.open,children:p.jsx(Kf.Slot,{scope:e.__scopeMenu,children:p.jsx(wC,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Te(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Te(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:Te(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=Tee[s.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});Gj.displayName=Vj;function Kj(e){return e?"open":"closed"}function Pg(e){return e==="indeterminate"}function CC(e){return Pg(e)?"indeterminate":e?"checked":"unchecked"}function Kee(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function qee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Yee(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=qee(e,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function Xee(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],l=t[s],c=a.x,d=a.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(o=!o)}return o}function Jee(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Xee(n,t)}function qf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Qee=Rj,Zee=yC,ete=Aj,tte=Pj,nte=bC,rte=_j,ote=qy,ite=Oj,ste=jj,ate=Fj,lte=$j,cte=Bj,ute=Wj,dte=Hj,fte=Gj,Yy="DropdownMenu",[hte,mwe]=Zr(Yy,[Nj]),jr=Nj(),[pte,qj]=hte(Yy),Yj=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=jr(t),c=y.useRef(null),[d,f]=bo({prop:o,defaultProp:i??!1,onChange:s,caller:Yy});return p.jsx(pte,{scope:t,triggerId:nr(),triggerRef:c,contentId:nr(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:a,children:p.jsx(Qee,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};Yj.displayName=Yy;var Xj="DropdownMenuTrigger",Jj=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=qj(Xj,n),s=jr(n);return p.jsx(Zee,{asChild:!0,...s,children:p.jsx(We.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Is(t,i.triggerRef),onPointerDown:Te(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Te(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Jj.displayName=Xj;var mte="DropdownMenuPortal",Qj=e=>{const{__scopeDropdownMenu:t,...n}=e,r=jr(t);return p.jsx(ete,{...r,...n})};Qj.displayName=mte;var Zj="DropdownMenuContent",eL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=qj(Zj,n),i=jr(n),s=y.useRef(!1);return p.jsx(tte,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:t,onCloseAutoFocus:Te(e.onCloseAutoFocus,a=>{var l;s.current||(l=o.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Te(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eL.displayName=Zj;var gte="DropdownMenuGroup",yte=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(nte,{...o,...r,ref:t})});yte.displayName=gte;var vte="DropdownMenuLabel",tL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(rte,{...o,...r,ref:t})});tL.displayName=vte;var xte="DropdownMenuItem",nL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(ote,{...o,...r,ref:t})});nL.displayName=xte;var wte="DropdownMenuCheckboxItem",rL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(ite,{...o,...r,ref:t})});rL.displayName=wte;var bte="DropdownMenuRadioGroup",Ste=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(ste,{...o,...r,ref:t})});Ste.displayName=bte;var Cte="DropdownMenuRadioItem",oL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(ate,{...o,...r,ref:t})});oL.displayName=Cte;var kte="DropdownMenuItemIndicator",iL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(lte,{...o,...r,ref:t})});iL.displayName=kte;var Ete="DropdownMenuSeparator",sL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(cte,{...o,...r,ref:t})});sL.displayName=Ete;var Nte="DropdownMenuArrow",Tte=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(ute,{...o,...r,ref:t})});Tte.displayName=Nte;var Rte="DropdownMenuSubTrigger",aL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(dte,{...o,...r,ref:t})});aL.displayName=Rte;var Mte="DropdownMenuSubContent",lL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jr(n);return p.jsx(fte,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lL.displayName=Mte;var Ate=Yj,Pte=Jj,_te=Qj,cL=eL,uL=tL,dL=nL,fL=rL,hL=oL,pL=iL,mL=sL,gL=aL,yL=lL;const Xy=Ate,Jy=Pte,Ite=y.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(gL,{ref:o,className:Ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,p.jsx(hq,{className:"ml-auto h-4 w-4"})]}));Ite.displayName=gL.displayName;const Ote=y.forwardRef(({className:e,...t},n)=>p.jsx(yL,{ref:n,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ote.displayName=yL.displayName;const Ih=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(_te,{children:p.jsx(cL,{ref:r,sideOffset:t,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ih.displayName=cL.displayName;const js=y.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(dL,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));js.displayName=dL.displayName;const Dte=y.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(fL,{ref:o,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(pL,{children:p.jsx(qo,{className:"h-4 w-4"})})}),t]}));Dte.displayName=fL.displayName;const jte=y.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(hL,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(pL,{children:p.jsx(gq,{className:"h-2 w-2 fill-current"})})}),t]}));jte.displayName=hL.displayName;const vL=y.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(uL,{ref:r,className:Ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));vL.displayName=uL.displayName;const Xd=y.forwardRef(({className:e,...t},n)=>p.jsx(mL,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));Xd.displayName=mL.displayName;const Lte=()=>{const{currentUser:e,login:t,logout:n}=Si(),{theme:r,setTheme:o}=bi(),{aiEnabled:i,setAiEnabled:s}=mC(),{toast:a}=Yo();Qa();const l=ed(),c=()=>{try{t()}catch(m){console.error("Error initiating login:",m),a({title:"Error",description:"Could not start sign-in process. Please try again.",variant:"destructive"})}},d=async()=>{try{await n(),a({title:"Goodbye!",description:"Successfully signed out."})}catch{a({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},f=m=>{l(m==="/"?e?"/canvas":"/home":m)};return p.jsx("nav",{className:"border-b backdrop-blur supports-[backdrop-filter]:bg-background/60",style:{backgroundColor:r==="dark"?"#1e293b":"#ffffff",borderBottomColor:r==="dark"?"#475569":"#e5e7eb"},children:p.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between items-center h-16",children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:r==="dark"?"/cover_whitetext.png":"/cover.png",alt:"Itemize",className:"h-16 w-auto cursor-pointer",onClick:()=>f("/")})}),p.jsx("div",{className:"flex items-center md:space-x-4",children:e?p.jsxs(Xy,{children:[p.jsx(Jy,{asChild:!0,children:p.jsx(Me,{variant:"ghost",className:"relative h-9 w-9 rounded-full p-0 bg-blue-600 hover:bg-blue-700 border-0",children:p.jsx(Lq,{className:"h-5 w-5 text-white"})})}),p.jsxs(Ih,{className:"w-64",align:"end",forceMount:!0,children:[p.jsx(vL,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name||"User"}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(Xd,{}),p.jsxs("div",{className:"px-2 py-2",children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx(_q,{className:"mr-2 h-4 w-4 text-blue-600"}),p.jsx("span",{className:"text-sm font-medium",children:"Theme"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 ml-6",children:[p.jsxs("button",{onClick:()=>o("light"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors ${r==="light"?"bg-accent text-accent-foreground":"hover:bg-accent/80 hover:text-accent-foreground"}`,children:[p.jsx(Oq,{className:"h-4 w-4"}),"Light"]}),p.jsxs("button",{onClick:()=>o("dark"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors ${r==="dark"?"bg-accent text-accent-foreground":"hover:bg-accent/80 hover:text-accent-foreground"}`,children:[p.jsx(Mq,{className:"h-4 w-4"}),"Dark"]})]})]}),p.jsx(Xd,{}),p.jsxs("div",{className:"px-2 py-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(ba,{className:"mr-2 h-4 w-4 text-blue-600"}),p.jsx(Mr,{htmlFor:"ai-suggest-toggle",className:"text-sm font-medium",children:"AI Enhancements"})]}),p.jsx(sj,{id:"ai-suggest-toggle",checked:i,onCheckedChange:s})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:"Get AI-powered suggestions"})]}),p.jsx(Xd,{}),p.jsxs(js,{onClick:()=>f("/help"),children:[p.jsx(BO,{className:"mr-2 h-4 w-4 text-blue-600"}),p.jsx("span",{children:"Help"})]}),p.jsx(Xd,{}),p.jsxs(js,{onClick:d,children:[p.jsx(Eq,{className:"mr-2 h-4 w-4 text-red-600"}),p.jsx("span",{children:"Log out"})]})]})]}):p.jsxs(Me,{onClick:c,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-light",size:"sm",children:[p.jsx(kq,{className:"mr-2 h-4 w-4"}),"Sign in"]})})]})})})},Fte=()=>{const{theme:e}=bi(),t=ed(),{toast:n}=Yo(),r=new Date().getFullYear(),o=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=a=>{t(a)},s=()=>{n({title:"Contact Us",description:"Email us at support@itemize.cloud"})};return p.jsx("footer",{className:"border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 mt-12",children:p.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("div",{className:"flex items-center mb-4",children:p.jsx("img",{src:e==="dark"?"/cover_whitetext.png":"/cover.png",alt:"Itemize",className:"h-10 w-auto cursor-pointer",onClick:()=>i("/")})}),p.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Organize thoughts, ideas, projects and more with AI-enhanced tools."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{}),p.jsx("li",{children:p.jsxs(Me,{variant:"ghost",className:"w-full justify-start pl-0 text-muted-foreground hover:text-foreground",onClick:()=>i("/canvas"),children:[p.jsx(qu,{className:"mr-2 h-4 w-4"}),"Canvas"]})}),p.jsx("li",{children:p.jsxs(Me,{variant:"ghost",className:"w-full justify-start pl-0 text-muted-foreground hover:text-foreground",onClick:()=>i("/help"),children:[p.jsx(BO,{className:"mr-2 h-4 w-4"}),"Help"]})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium mb-4",children:"Connect"}),p.jsxs("div",{className:"flex space-x-4 mb-4",children:[p.jsx(Me,{variant:"outline",size:"icon",onClick:()=>window.open("https://twitter.com/itemize","_blank"),children:p.jsx(Dq,{className:"h-4 w-4"})}),p.jsx(Me,{variant:"outline",size:"icon",onClick:()=>window.open("https://github.com/yourusername/itemize","_blank"),children:p.jsx(wq,{className:"h-4 w-4"})}),p.jsx(Me,{variant:"outline",size:"icon",onClick:s,children:p.jsx(Nq,{className:"h-4 w-4"})})]})]})]}),p.jsxs("div",{className:"border-t pt-6 flex flex-col md:flex-row justify-between items-center",children:[p.jsxs("p",{className:"text-sm text-muted-foreground mb-4 md:mb-0",children:["© ",r," Itemize. All rights reserved."]}),p.jsxs("div",{className:"flex items-center space-x-6",children:[p.jsx(Me,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:()=>i("/help/terms-of-service"),children:"Terms of Service"}),p.jsxs(Me,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground flex items-center",onClick:o,children:["Back to top",p.jsx(fq,{className:"ml-1 h-4 w-4"})]})]})]})]})})},zte=()=>{const{login:e,currentUser:t,isAuthenticated:n,token:r}=Si(),{theme:o}=bi(),i=ed(),s=se.useRef(!1),a=o==="light",l=a?"bg-gradient-to-br from-blue-50 to-indigo-100":"bg-gradient-to-br from-slate-900 to-slate-800",c=a?"text-gray-900":"text-slate-100",d=a?"text-gray-600":"text-slate-400",f=a?"bg-white":"bg-slate-800",m=a?"border-gray-100":"border-slate-700",g=a?"bg-blue-400":"bg-slate-600",v=a?"none":"invert(1) brightness(1.2)";console.log("Home component rendered:",{hasUser:!!t,hasToken:!!r,isAuthenticated:n,alreadyNavigated:s.current}),se.useEffect(()=>{n&&!s.current&&(console.log("Navigating to /canvas due to authenticated user:",{user:t,token:r}),s.current=!0,setTimeout(()=>i("/canvas"),0))},[t,i,n,r]);const x=async()=>{try{console.log("Starting login process"),s.current=!1,await e(),console.log("Login process completed, will navigate to /canvas after auth context updates")}catch(w){console.error("Login failed:",w)}};return p.jsxs("div",{className:`min-h-screen ${l} overflow-hidden relative`,children:[p.jsx("div",{className:"absolute inset-0 z-0 opacity-20",children:p.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:Array.from({length:10}).map((w,S)=>p.jsx("div",{className:`absolute rounded-full ${g}`,style:{width:`${Math.random()*300+50}px`,height:`${Math.random()*300+50}px`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:Math.random()*.2,transform:`scale(${Math.random()*1+.5})`,filter:"blur(60px)"}},`pattern-${S}`))})}),p.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"mb-2",children:p.jsx("img",{src:"/icon.png",alt:"Itemize",className:"h-20 md:h-24 w-auto mx-auto"})}),p.jsxs("h1",{className:`text-4xl font-light italic tracking-tight ${c} sm:text-5xl md:text-6xl`,style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsxs("div",{className:"flex flex-col items-center md:hidden gap-1 pb-2",children:[p.jsx("div",{className:"text-center w-full",children:p.jsx("div",{className:"text-2xl md:text-xl inline-block whitespace-nowrap font-light",children:"Organize your life with"})}),p.jsx("div",{className:"mt-1",children:p.jsx("div",{className:`text-2xl md:text-2xl font-light italic tracking-wide ${d}`,children:"ITEMIZE"})})]}),p.jsxs("div",{className:"hidden md:flex flex-row items-center justify-center gap-3",children:[p.jsx("span",{children:"Organize your life"}),p.jsx("span",{children:"with"}),p.jsx("img",{src:"/profile.png",alt:"Itemize",className:"h-64 inline-block",style:{filter:v}})]})]}),p.jsx("p",{className:`mt-2 max-w-md mx-auto text-base ${d} sm:text-lg md:mt-3 md:text-xl md:max-w-3xl`,style:{fontFamily:'"Raleway", sans-serif'},children:"The complete organizational ecosystem with lists, notes, and intelligent tools to streamline your workflow."}),p.jsx("div",{className:"mt-6 flex flex-col sm:flex-row gap-4 justify-center",children:p.jsxs(Me,{onClick:x,className:"rounded-md px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 font-light text-white",size:"lg",children:["Get Started Free",p.jsx(VR,{className:"ml-2 h-5 w-5"})]})})]}),p.jsxs("div",{className:"mt-16 mb-12",children:[p.jsx("h2",{className:`text-3xl font-light italic text-center ${c} mb-8`,style:{fontFamily:'"Raleway", sans-serif'},children:"Tools to stay organized"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[p.jsxs("div",{className:`${f} p-8 rounded-xl shadow-sm border ${m} transform transition-all duration-300 hover:shadow-md hover:-translate-y-1`,children:[p.jsx("div",{className:`w-14 h-14 ${a?"bg-blue-100":"bg-blue-900"} rounded-full flex items-center justify-center mb-5`,children:p.jsx(Sq,{className:"h-7 w-7 text-blue-600"})}),p.jsx("h3",{className:`text-xl font-semibold ${c} mb-3`,style:{fontFamily:'"Raleway", sans-serif'},children:"Organizational Tools"}),p.jsx("p",{className:d,style:{fontFamily:'"Raleway", sans-serif'},children:"Create and manage lists, notes, and any organizational content you need. From shopping lists to project notes, everything in one place."}),p.jsxs("div",{className:`mt-6 pt-4 border-t ${m}`,children:[p.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Io,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Lists, Notes, & Whiteboards"})]}),p.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Io,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Easy categories & color groupings"})]})]})]}),p.jsxs("div",{className:`${f} p-8 rounded-xl shadow-sm border ${m} transform transition-all duration-300 hover:shadow-md hover:-translate-y-1`,children:[p.jsx("div",{className:`w-14 h-14 ${a?"bg-blue-100":"bg-blue-900"} rounded-full flex items-center justify-center mb-5`,children:p.jsx(ba,{className:"h-7 w-7 text-blue-600"})}),p.jsx("h3",{className:`text-xl font-semibold ${c} mb-3`,style:{fontFamily:'"Raleway", sans-serif'},children:"Smart Suggestions"}),p.jsx("p",{className:d,style:{fontFamily:'"Raleway", sans-serif'},children:"Let AI help you build lists faster with intelligent item suggestions and effortless autocomplete."}),p.jsxs("div",{className:`mt-6 pt-4 border-t ${m}`,children:[p.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Io,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"AI-powered item suggestions"})]}),p.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Io,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Effortless autocomplete"})]}),p.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Io,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Context-aware suggestions"})]})]})]}),p.jsxs("div",{className:`${f} p-8 rounded-xl shadow-sm border ${m} transform transition-all duration-300 hover:shadow-md hover:-translate-y-1`,children:[p.jsx("div",{className:`w-14 h-14 ${a?"bg-blue-100":"bg-blue-900"} rounded-full flex items-center justify-center mb-5`,children:p.jsx(yq,{className:"h-7 w-7 text-blue-600"})}),p.jsx("h3",{className:`text-xl font-semibold ${c} mb-3`,style:{fontFamily:'"Raleway", sans-serif'},children:"Access Anywhere"}),p.jsx("p",{className:d,style:{fontFamily:'"Raleway", sans-serif'},children:"Your organizational tools are synced and available across all your devices whenever and wherever you need them."}),p.jsxs("div",{className:`mt-6 pt-4 border-t ${m}`,children:[p.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Io,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Real-time synchronization"})]}),p.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Io,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Works offline too"})]})]})]})]})]}),p.jsxs("div",{className:"mt-16 mb-12",children:[p.jsx("div",{className:"text-center mb-8",children:p.jsx("h2",{className:`text-3xl font-light italic ${c} mb-4`,style:{fontFamily:'"Raleway", sans-serif'},children:"See them in action"})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[p.jsxs("div",{className:`${f} rounded-xl shadow-sm border ${m} overflow-hidden`,children:[p.jsx("div",{className:"p-4 pb-2",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`inline-block w-3 h-3 rounded-full border ${a?"border-gray-400":"border-slate-500"}`,style:{backgroundColor:"#4F46E5"}}),p.jsx(Cq,{className:`h-4 w-4 ${a?"text-slate-500":"text-slate-400"}`}),p.jsx("h3",{className:`text-lg font-medium ${c}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Itemize Features"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(ks,{className:`h-4 w-4 ${a?"text-gray-400":"text-slate-500"}`}),p.jsx("button",{className:"ml-2 p-1",children:p.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full`})]})})]})]})}),p.jsx("div",{className:"mb-2 px-6",children:p.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a?"border-gray-300 bg-white text-gray-700":"border-slate-600 bg-slate-700 text-slate-300"} cursor-pointer`,style:{fontFamily:'"Raleway", sans-serif'},children:"Productivity"})}),p.jsxs("div",{className:"px-6 py-2",children:[p.jsx("div",{className:`w-full ${a?"bg-gray-100":"bg-slate-700"} rounded-full h-2 mb-1`,children:p.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"75%",backgroundColor:"#4F46E5"}})}),p.jsx("div",{className:`text-xs ${a?"text-gray-500":"text-slate-400"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"6 of 8 completed"})]}),p.jsxs("div",{className:"px-6 py-2 space-y-0.5",children:[p.jsx("div",{className:"flex items-center py-1 group",children:p.jsxs("div",{className:"flex items-center flex-grow",children:[p.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:p.jsx(Io,{className:"h-3 w-3 text-white"})}),p.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Custom color coding"})]})}),p.jsx("div",{className:"flex items-center py-1 group",children:p.jsxs("div",{className:"flex items-center flex-grow",children:[p.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:p.jsx(Io,{className:"h-3 w-3 text-white"})}),p.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Cloud synchronization"})]})}),p.jsx("div",{className:"flex items-center py-1 group",children:p.jsxs("div",{className:"flex items-center flex-grow",children:[p.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:p.jsx(Io,{className:"h-3 w-3 text-white"})}),p.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Category assignment"})]})}),p.jsx("div",{className:"flex items-center py-1 group",children:p.jsxs("div",{className:"flex items-center flex-grow",children:[p.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:p.jsx(Io,{className:"h-3 w-3 text-white"})}),p.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Real-time collaboration"})]})}),p.jsx("div",{className:"flex items-center py-1 group",children:p.jsxs("div",{className:"flex items-center flex-grow",children:[p.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:p.jsx(Io,{className:"h-3 w-3 text-white"})}),p.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Drag & drop reordering"})]})}),p.jsx("div",{className:"flex items-center py-1 group",children:p.jsxs("div",{className:"flex items-center flex-grow",children:[p.jsx("div",{className:`w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 ${a?"border-gray-300":"border-slate-600"}`}),p.jsx("span",{className:c,style:{fontFamily:'"Raleway", sans-serif'},children:"AI-powered suggestions"})]})}),p.jsx("div",{className:"flex items-center py-1 group",children:p.jsxs("div",{className:"flex items-center flex-grow",children:[p.jsx("div",{className:`w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 ${a?"border-gray-300":"border-slate-600"}`}),p.jsx("span",{className:c,style:{fontFamily:'"Raleway", sans-serif'},children:"Cross-device access"})]})})]}),p.jsx("div",{className:`px-6 py-4 border-t ${m}`,children:p.jsxs("div",{className:`flex items-center space-x-2 ${a?"text-gray-400":"text-slate-500"}`,children:[p.jsx(Ch,{className:"h-4 w-4"}),p.jsx("span",{className:"text-sm",style:{fontFamily:'"Raleway", sans-serif'},children:"Add new item..."}),p.jsx("div",{className:"ml-auto",children:p.jsx(ba,{className:"h-4 w-4 text-blue-600"})})]})})]}),p.jsxs("div",{className:`${f} rounded-xl shadow-sm border ${m} overflow-hidden h-full flex flex-col`,children:[p.jsx("div",{className:"p-4 pb-2",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`inline-block w-3 h-3 rounded-full border ${a?"border-gray-400":"border-slate-500"}`,style:{backgroundColor:"#F59E0B"}}),p.jsx(kh,{className:`h-4 w-4 ${a?"text-slate-500":"text-slate-400"}`}),p.jsx("h3",{className:`font-semibold ${c}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Why Choose Itemize?"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(ks,{className:`h-4 w-4 ${a?"text-gray-400":"text-slate-500"}`}),p.jsx("button",{className:"ml-2 p-1",children:p.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full`})]})})]})]})}),p.jsx("div",{className:"mb-2 px-6",children:p.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a?"border-gray-300 bg-white text-gray-700":"border-slate-600 bg-slate-700 text-slate-300"} cursor-pointer`,style:{fontFamily:'"Raleway", sans-serif'},children:"Marketing"})}),p.jsx("div",{className:"mx-6 mb-3",children:p.jsxs("div",{className:`flex items-center gap-1 p-2 border-b ${m} ${a?"bg-gray-50":"bg-slate-700"}`,children:[p.jsxs("div",{className:`w-16 h-7 text-xs ${f} border ${m} rounded px-1 flex items-center justify-between`,children:[p.jsx(qO,{className:"h-3 w-3"}),p.jsx(ks,{className:"h-2 w-2"})]}),p.jsxs("div",{className:"flex",children:[p.jsx("button",{className:"h-7 w-7 p-0 bg-accent text-accent-foreground rounded flex items-center justify-center",children:p.jsx($O,{className:"h-3 w-3"})}),p.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:p.jsx(HO,{className:"h-3 w-3"})}),p.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:p.jsx(YO,{className:"h-3 w-3"})})]}),p.jsx("div",{className:`h-5 w-px ${a?"bg-gray-300":"bg-slate-600"}`}),p.jsxs("div",{className:"flex",children:[p.jsx("button",{className:"h-7 w-7 p-0 bg-accent text-accent-foreground rounded flex items-center justify-center",children:p.jsx(zO,{className:"h-3 w-3"})}),p.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:p.jsx(FO,{className:"h-3 w-3"})})]}),p.jsx("div",{className:`h-5 w-px ${a?"bg-gray-300":"bg-slate-600"}`}),p.jsxs("div",{className:"flex",children:[p.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:p.jsx(GO,{className:"h-3 w-3"})}),p.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:p.jsx(VO,{className:"h-3 w-3"})}),p.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:p.jsx(KO,{className:"h-3 w-3"})})]})]})}),p.jsx("div",{className:"flex-1 mx-6 mb-3",children:p.jsxs("div",{className:`${a?"bg-white":"bg-slate-800"} rounded-lg p-4 space-y-3 min-h-[200px]`,children:[p.jsx("h2",{className:`text-lg font-semibold ${a?"text-gray-900":"text-white"}`,children:"Why Choose Itemize?"}),p.jsxs("p",{className:`text-sm ${a?"text-gray-700":"text-gray-300"}`,style:{fontFamily:'"Raleway", sans-serif'},children:["Itemize combines ",p.jsx("strong",{children:"lists"})," and ",p.jsx("em",{children:"notes"})," into one platform. Planning tasks or brainstorming projects? We adapt to your workflow."]}),p.jsx("div",{className:"space-y-1",children:p.jsxs("p",{className:`text-sm ${a?"text-gray-700":"text-gray-300"}`,style:{fontFamily:'"Raleway", sans-serif'},children:["Key benefits include custom color coding for visual organization, real-time cloud synchr",p.jsx("span",{className:a?"text-gray-400":"text-slate-500",children:"onization across all your devices, intelligent AI suggestions to boost productivity, and seamless category management to keep everything organized."})]})})]})}),p.jsx("div",{className:`px-6 py-4 border-t ${m}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:`text-xs ${a?"text-gray-500":"text-slate-400"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Last edited: Just now"}),p.jsx("div",{title:"AI-powered suggestions",children:p.jsx(ba,{className:"h-4 w-4 text-amber-500"})})]})})]}),p.jsxs("div",{className:`${f} rounded-xl shadow-sm border ${m} overflow-hidden h-full flex flex-col`,children:[p.jsx("div",{className:"p-4 pb-2",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`inline-block w-3 h-3 rounded-full border ${a?"border-gray-400":"border-slate-500"}`,style:{backgroundColor:"#10B981"}}),p.jsx(qu,{className:`h-4 w-4 ${a?"text-slate-500":"text-slate-400"}`}),p.jsx("h3",{className:`font-semibold ${c}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Project Brainstorm"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(ks,{className:`h-4 w-4 ${a?"text-gray-400":"text-slate-500"}`}),p.jsx("button",{className:"ml-2 p-1",children:p.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),p.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full`})]})})]})]})}),p.jsx("div",{className:"mb-3 px-6",children:p.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a?"border-gray-300 bg-white text-gray-700":"border-slate-600 bg-slate-700 text-slate-300"} cursor-pointer`,style:{fontFamily:'"Raleway", sans-serif'},children:"Design"})}),p.jsx("div",{className:"mx-6 mb-3",children:p.jsxs("div",{className:`flex items-center gap-2 p-2 border ${m} ${a?"bg-gray-50":"bg-slate-700"} rounded-t-lg`,children:[p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{className:"h-6 w-6 p-0 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center",children:p.jsx(WO,{className:"h-3 w-3"})}),p.jsx("button",{className:`h-6 w-6 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:p.jsx(UO,{className:"h-3 w-3"})})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{className:"w-5 h-5 rounded border-2 border-blue-700 shadow-sm",style:{backgroundColor:"#2563eb"}}),p.jsx("button",{className:`w-5 h-5 rounded border ${a?"border-gray-300 hover:border-gray-400":"border-slate-600 hover:border-slate-500"} shadow-sm`,style:{backgroundColor:"#000000"}}),p.jsx("button",{className:`w-5 h-5 rounded border ${a?"border-gray-300 hover:border-gray-400":"border-slate-600 hover:border-slate-500"} shadow-sm`,style:{backgroundColor:"#FF0000"}}),p.jsx("button",{className:`w-5 h-5 rounded border ${a?"border-gray-300 hover:border-gray-400":"border-slate-600 hover:border-slate-500"} shadow-sm`,style:{backgroundColor:"#00FF00"}})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:`text-xs ${a?"text-gray-600":"text-slate-400"}`,children:"Size:"}),p.jsx("div",{className:`w-8 h-1.5 ${a?"bg-gray-200":"bg-slate-600"} rounded-full relative`,children:p.jsx("div",{className:"absolute left-1/3 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-blue-600 rounded-full border border-white shadow"})})]})]})}),p.jsx("div",{className:"flex-1 mx-6 mb-3",children:p.jsx("div",{className:"bg-white rounded-b-lg h-full flex flex-col relative border border-gray-200 border-t-0",style:{minHeight:"280px"},children:p.jsx("div",{className:"p-4 flex-1 flex flex-col justify-center items-center",children:p.jsx("img",{src:"/icon.png",alt:"Itemize logo",className:"w-32 h-32 object-contain"})})})}),p.jsx("div",{className:`px-6 py-4 border-t ${m}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:`text-xs ${a?"text-gray-500":"text-slate-400"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Last edited: Just now"}),p.jsx("div",{title:"AI-powered suggestions",children:p.jsx(ba,{className:"h-4 w-4 text-green-500"})})]})})]})]}),p.jsx("div",{className:"text-center mt-8",children:p.jsxs(Me,{onClick:x,className:"rounded-md px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 font-light text-white text-lg",size:"lg",children:["Start Organizing Today",p.jsx(VR,{className:"ml-2 h-6 w-6"})]})})]})]})]})},hn=y.forwardRef(({className:e,type:t,...n},r)=>p.jsx("input",{type:t,className:Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));hn.displayName="Input";var Qy="Popover",[xL,gwe]=Zr(Qy,[Xa]),Oh=Xa(),[$te,Za]=xL(Qy),wL=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!1}=e,a=Oh(t),l=y.useRef(null),[c,d]=y.useState(!1),[f,m]=bo({prop:r,defaultProp:o??!1,onChange:i,caller:Qy});return p.jsx(aC,{...a,children:p.jsx($te,{scope:t,contentId:nr(),triggerRef:l,open:f,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:s,children:n})})};wL.displayName=Qy;var bL="PopoverAnchor",Bte=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Za(bL,n),i=Oh(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=o;return y.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(Nh,{...i,...r,ref:t})});Bte.displayName=bL;var SL="PopoverTrigger",CL=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Za(SL,n),i=Oh(n),s=mt(t,o.triggerRef),a=p.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":RL(o.open),...r,ref:s,onClick:Te(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?a:p.jsx(Nh,{asChild:!0,...i,children:a})});CL.displayName=SL;var kC="PopoverPortal",[Wte,Ute]=xL(kC,{forceMount:void 0}),kL=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=Za(kC,t);return p.jsx(Wte,{scope:t,forceMount:n,children:p.jsx(ko,{present:n||i.open,children:p.jsx(Ku,{asChild:!0,container:o,children:r})})})};kL.displayName=kC;var Ou="PopoverContent",EL=y.forwardRef((e,t)=>{const n=Ute(Ou,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=Za(Ou,e.__scopePopover);return p.jsx(ko,{present:r||i.open,children:i.modal?p.jsx(Vte,{...o,ref:t}):p.jsx(Gte,{...o,ref:t})})});EL.displayName=Ou;var Hte=Wa("PopoverContent.RemoveScroll"),Vte=y.forwardRef((e,t)=>{const n=Za(Ou,e.__scopePopover),r=y.useRef(null),o=mt(t,r),i=y.useRef(!1);return y.useEffect(()=>{const s=r.current;if(s)return Vy(s)},[]),p.jsx(Ah,{as:Hte,allowPinchZoom:!0,children:p.jsx(NL,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Te(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Gte=y.forwardRef((e,t)=>{const n=Za(Ou,e.__scopePopover),r=y.useRef(!1),o=y.useRef(!1);return p.jsx(NL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),NL=y.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=e,m=Za(Ou,n),g=Oh(n);return Uy(),p.jsx(Rh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:p.jsx(cc,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:p.jsx(Dy,{"data-state":RL(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),TL="PopoverClose",Kte=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Za(TL,n);return p.jsx(We.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>o.onOpenChange(!1))})});Kte.displayName=TL;var qte="PopoverArrow",Yte=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Oh(n);return p.jsx(jy,{...o,...r,ref:t})});Yte.displayName=qte;function RL(e){return e?"open":"closed"}var Xte=wL,Jte=CL,Qte=kL,ML=EL;const AL=Xte,PL=Jte,EC=y.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>p.jsx(Qte,{children:p.jsx(ML,{ref:o,align:t,sideOffset:n,className:Ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));EC.displayName=ML.displayName;var IM=1,Zte=.9,ene=.8,tne=.17,j0=.1,L0=.999,nne=.9999,rne=.99,one=/[\\\/_+.#"@\[\(\{&]/,ine=/[\\\/_+.#"@\[\(\{&]/g,sne=/[\s-]/,_L=/[\s-]/g;function Kb(e,t,n,r,o,i,s){if(i===t.length)return o===e.length?IM:rne;var a=`${o},${i}`;if(s[a]!==void 0)return s[a];for(var l=r.charAt(i),c=n.indexOf(l,o),d=0,f,m,g,v;c>=0;)f=Kb(e,t,n,r,c+1,i+1,s),f>d&&(c===o?f*=IM:one.test(e.charAt(c-1))?(f*=ene,g=e.slice(o,c-1).match(ine),g&&o>0&&(f*=Math.pow(L0,g.length))):sne.test(e.charAt(c-1))?(f*=Zte,v=e.slice(o,c-1).match(_L),v&&o>0&&(f*=Math.pow(L0,v.length))):(f*=tne,o>0&&(f*=Math.pow(L0,c-o))),e.charAt(c)!==t.charAt(i)&&(f*=nne)),(f<j0&&n.charAt(c-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(c-1)!==r.charAt(i))&&(m=Kb(e,t,n,r,c+1,i+2,s),m*j0>f&&(f=m*j0)),f>d&&(d=f),c=n.indexOf(l,c+1);return s[a]=d,d}function OM(e){return e.toLowerCase().replace(_L," ")}function ane(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Kb(e,t,OM(e),OM(t),0,0,{})}var Zy="Dialog",[IL,ywe]=Zr(Zy),[lne,Ci]=IL(Zy),OL=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,a=y.useRef(null),l=y.useRef(null),[c,d]=bo({prop:r,defaultProp:o??!1,onChange:i,caller:Zy});return p.jsx(lne,{scope:t,triggerRef:a,contentRef:l,contentId:nr(),titleId:nr(),descriptionId:nr(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};OL.displayName=Zy;var DL="DialogTrigger",cne=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ci(DL,n),i=mt(t,o.triggerRef);return p.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":RC(o.open),...r,ref:i,onClick:Te(e.onClick,o.onOpenToggle)})});cne.displayName=DL;var NC="DialogPortal",[une,jL]=IL(NC,{forceMount:void 0}),LL=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Ci(NC,t);return p.jsx(une,{scope:t,forceMount:n,children:y.Children.map(r,s=>p.jsx(ko,{present:n||i.open,children:p.jsx(Ku,{asChild:!0,container:o,children:s})}))})};LL.displayName=NC;var _g="DialogOverlay",FL=y.forwardRef((e,t)=>{const n=jL(_g,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Ci(_g,e.__scopeDialog);return i.modal?p.jsx(ko,{present:r||i.open,children:p.jsx(fne,{...o,ref:t})}):null});FL.displayName=_g;var dne=Wa("DialogOverlay.RemoveScroll"),fne=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ci(_g,n);return p.jsx(Ah,{as:dne,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(We.div,{"data-state":RC(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ql="DialogContent",zL=y.forwardRef((e,t)=>{const n=jL(Ql,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Ci(Ql,e.__scopeDialog);return p.jsx(ko,{present:r||i.open,children:i.modal?p.jsx(hne,{...o,ref:t}):p.jsx(pne,{...o,ref:t})})});zL.displayName=Ql;var hne=y.forwardRef((e,t)=>{const n=Ci(Ql,e.__scopeDialog),r=y.useRef(null),o=mt(t,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return Vy(i)},[]),p.jsx($L,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:Te(e.onFocusOutside,i=>i.preventDefault())})}),pne=y.forwardRef((e,t)=>{const n=Ci(Ql,e.__scopeDialog),r=y.useRef(!1),o=y.useRef(!1);return p.jsx($L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),$L=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,a=Ci(Ql,n),l=y.useRef(null),c=mt(t,l);return Uy(),p.jsxs(p.Fragment,{children:[p.jsx(Rh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:p.jsx(cc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":RC(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(mne,{titleId:a.titleId}),p.jsx(yne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),TC="DialogTitle",BL=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ci(TC,n);return p.jsx(We.h2,{id:o.titleId,...r,ref:t})});BL.displayName=TC;var WL="DialogDescription",UL=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ci(WL,n);return p.jsx(We.p,{id:o.descriptionId,...r,ref:t})});UL.displayName=WL;var HL="DialogClose",VL=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ci(HL,n);return p.jsx(We.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>o.onOpenChange(!1))})});VL.displayName=HL;function RC(e){return e?"open":"closed"}var GL="DialogTitleWarning",[vwe,KL]=yK(GL,{contentName:Ql,titleName:TC,docsSlug:"dialog"}),mne=({titleId:e})=>{const t=KL(GL),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},gne="DialogDescriptionWarning",yne=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KL(gne).contentName}}.`;return y.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},qL=OL,YL=LL,MC=FL,AC=zL,XL=BL,JL=UL,vne=VL,zd='[cmdk-group=""]',F0='[cmdk-group-items=""]',xne='[cmdk-group-heading=""]',QL='[cmdk-item=""]',DM=`${QL}:not([aria-disabled="true"])`,qb="cmdk-item-select",Fc="data-value",wne=(e,t,n)=>ane(e,t,n),ZL=y.createContext(void 0),Dh=()=>y.useContext(ZL),eF=y.createContext(void 0),PC=()=>y.useContext(eF),tF=y.createContext(void 0),nF=y.forwardRef((e,t)=>{let n=zc(()=>{var z,O;return{search:"",value:(O=(z=e.value)!=null?z:e.defaultValue)!=null?O:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=zc(()=>new Set),o=zc(()=>new Map),i=zc(()=>new Map),s=zc(()=>new Set),a=rF(e),{label:l,children:c,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:v,disablePointerSelection:x=!1,vimBindings:w=!0,...S}=e,C=nr(),k=nr(),T=nr(),N=y.useRef(null),R=Pne();Zl(()=>{if(d!==void 0){let z=d.trim();n.current.value=z,_.emit()}},[d]),Zl(()=>{R(6,V)},[]);let _=y.useMemo(()=>({subscribe:z=>(s.current.add(z),()=>s.current.delete(z)),snapshot:()=>n.current,setState:(z,O,Z)=>{var re,ne,K,ue;if(!Object.is(n.current[z],O)){if(n.current[z]=O,z==="search")W(),I(),R(1,$);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let fe=document.getElementById(T);fe?fe.focus():(re=document.getElementById(C))==null||re.focus()}if(R(7,()=>{var fe;n.current.selectedItemId=(fe=H())==null?void 0:fe.id,_.emit()}),Z||R(5,V),((ne=a.current)==null?void 0:ne.value)!==void 0){let fe=O??"";(ue=(K=a.current).onValueChange)==null||ue.call(K,fe);return}}_.emit()}},emit:()=>{s.current.forEach(z=>z())}}),[]),M=y.useMemo(()=>({value:(z,O,Z)=>{var re;O!==((re=i.current.get(z))==null?void 0:re.value)&&(i.current.set(z,{value:O,keywords:Z}),n.current.filtered.items.set(z,B(O,Z)),R(2,()=>{I(),_.emit()}))},item:(z,O)=>(r.current.add(z),O&&(o.current.has(O)?o.current.get(O).add(z):o.current.set(O,new Set([z]))),R(3,()=>{W(),I(),n.current.value||$(),_.emit()}),()=>{i.current.delete(z),r.current.delete(z),n.current.filtered.items.delete(z);let Z=H();R(4,()=>{W(),(Z==null?void 0:Z.getAttribute("id"))===z&&$(),_.emit()})}),group:z=>(o.current.has(z)||o.current.set(z,new Set),()=>{i.current.delete(z),o.current.delete(z)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:C,inputId:T,labelId:k,listInnerRef:N}),[]);function B(z,O){var Z,re;let ne=(re=(Z=a.current)==null?void 0:Z.filter)!=null?re:wne;return z?ne(z,n.current.search,O):0}function I(){if(!n.current.search||a.current.shouldFilter===!1)return;let z=n.current.filtered.items,O=[];n.current.filtered.groups.forEach(re=>{let ne=o.current.get(re),K=0;ne.forEach(ue=>{let fe=z.get(ue);K=Math.max(fe,K)}),O.push([re,K])});let Z=N.current;ee().sort((re,ne)=>{var K,ue;let fe=re.getAttribute("id"),ce=ne.getAttribute("id");return((K=z.get(ce))!=null?K:0)-((ue=z.get(fe))!=null?ue:0)}).forEach(re=>{let ne=re.closest(F0);ne?ne.appendChild(re.parentElement===ne?re:re.closest(`${F0} > *`)):Z.appendChild(re.parentElement===Z?re:re.closest(`${F0} > *`))}),O.sort((re,ne)=>ne[1]-re[1]).forEach(re=>{var ne;let K=(ne=N.current)==null?void 0:ne.querySelector(`${zd}[${Fc}="${encodeURIComponent(re[0])}"]`);K==null||K.parentElement.appendChild(K)})}function $(){let z=ee().find(Z=>Z.getAttribute("aria-disabled")!=="true"),O=z==null?void 0:z.getAttribute(Fc);_.setState("value",O||void 0)}function W(){var z,O,Z,re;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ne=0;for(let K of r.current){let ue=(O=(z=i.current.get(K))==null?void 0:z.value)!=null?O:"",fe=(re=(Z=i.current.get(K))==null?void 0:Z.keywords)!=null?re:[],ce=B(ue,fe);n.current.filtered.items.set(K,ce),ce>0&&ne++}for(let[K,ue]of o.current)for(let fe of ue)if(n.current.filtered.items.get(fe)>0){n.current.filtered.groups.add(K);break}n.current.filtered.count=ne}function V(){var z,O,Z;let re=H();re&&(((z=re.parentElement)==null?void 0:z.firstChild)===re&&((Z=(O=re.closest(zd))==null?void 0:O.querySelector(xne))==null||Z.scrollIntoView({block:"nearest"})),re.scrollIntoView({block:"nearest"}))}function H(){var z;return(z=N.current)==null?void 0:z.querySelector(`${QL}[aria-selected="true"]`)}function ee(){var z;return Array.from(((z=N.current)==null?void 0:z.querySelectorAll(DM))||[])}function X(z){let O=ee()[z];O&&_.setState("value",O.getAttribute(Fc))}function J(z){var O;let Z=H(),re=ee(),ne=re.findIndex(ue=>ue===Z),K=re[ne+z];(O=a.current)!=null&&O.loop&&(K=ne+z<0?re[re.length-1]:ne+z===re.length?re[0]:re[ne+z]),K&&_.setState("value",K.getAttribute(Fc))}function L(z){let O=H(),Z=O==null?void 0:O.closest(zd),re;for(;Z&&!re;)Z=z>0?Mne(Z,zd):Ane(Z,zd),re=Z==null?void 0:Z.querySelector(DM);re?_.setState("value",re.getAttribute(Fc)):J(z)}let D=()=>X(ee().length-1),A=z=>{z.preventDefault(),z.metaKey?D():z.altKey?L(1):J(1)},G=z=>{z.preventDefault(),z.metaKey?X(0):z.altKey?L(-1):J(-1)};return y.createElement(We.div,{ref:t,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:z=>{var O;(O=S.onKeyDown)==null||O.call(S,z);let Z=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||Z))switch(z.key){case"n":case"j":{w&&z.ctrlKey&&A(z);break}case"ArrowDown":{A(z);break}case"p":case"k":{w&&z.ctrlKey&&G(z);break}case"ArrowUp":{G(z);break}case"Home":{z.preventDefault(),X(0);break}case"End":{z.preventDefault(),D();break}case"Enter":{z.preventDefault();let re=H();if(re){let ne=new Event(qb);re.dispatchEvent(ne)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:Ine},l),ev(e,z=>y.createElement(eF.Provider,{value:_},y.createElement(ZL.Provider,{value:M},z))))}),bne=y.forwardRef((e,t)=>{var n,r;let o=nr(),i=y.useRef(null),s=y.useContext(tF),a=Dh(),l=rF(e),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:s==null?void 0:s.forceMount;Zl(()=>{if(!c)return a.item(o,s==null?void 0:s.id)},[c]);let d=oF(o,i,[e.value,e.children,i],e.keywords),f=PC(),m=Va(R=>R.value&&R.value===d.current),g=Va(R=>c||a.filter()===!1?!0:R.search?R.filtered.items.get(o)>0:!0);y.useEffect(()=>{let R=i.current;if(!(!R||e.disabled))return R.addEventListener(qb,v),()=>R.removeEventListener(qb,v)},[g,e.onSelect,e.disabled]);function v(){var R,_;x(),(_=(R=l.current).onSelect)==null||_.call(R,d.current)}function x(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:w,value:S,onSelect:C,forceMount:k,keywords:T,...N}=e;return y.createElement(We.div,{ref:Is(i,t),...N,id:o,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||a.getDisablePointerSelection()?void 0:x,onClick:w?void 0:v},e.children)}),Sne=y.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:o,...i}=e,s=nr(),a=y.useRef(null),l=y.useRef(null),c=nr(),d=Dh(),f=Va(g=>o||d.filter()===!1?!0:g.search?g.filtered.groups.has(s):!0);Zl(()=>d.group(s),[]),oF(s,a,[e.value,e.heading,l]);let m=y.useMemo(()=>({id:s,forceMount:o}),[o]);return y.createElement(We.div,{ref:Is(a,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&y.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),ev(e,g=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},y.createElement(tF.Provider,{value:m},g))))}),Cne=y.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=y.useRef(null),i=Va(s=>!s.search);return!n&&!i?null:y.createElement(We.div,{ref:Is(o,t),...r,"cmdk-separator":"",role:"separator"})}),kne=y.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,i=PC(),s=Va(c=>c.search),a=Va(c=>c.selectedItemId),l=Dh();return y.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),y.createElement(We.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:o?e.value:s,onChange:c=>{o||i.setState("search",c.target.value),n==null||n(c.target.value)}})}),Ene=y.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...o}=e,i=y.useRef(null),s=y.useRef(null),a=Va(c=>c.selectedItemId),l=Dh();return y.useEffect(()=>{if(s.current&&i.current){let c=s.current,d=i.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=c.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(f),m.unobserve(c)}}},[]),y.createElement(We.div,{ref:Is(i,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},ev(e,c=>y.createElement("div",{ref:Is(s,l.listInnerRef),"cmdk-list-sizer":""},c)))}),Nne=y.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:i,container:s,...a}=e;return y.createElement(qL,{open:n,onOpenChange:r},y.createElement(YL,{container:s},y.createElement(MC,{"cmdk-overlay":"",className:o}),y.createElement(AC,{"aria-label":e.label,"cmdk-dialog":"",className:i},y.createElement(nF,{ref:t,...a}))))}),Tne=y.forwardRef((e,t)=>Va(n=>n.filtered.count===0)?y.createElement(We.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Rne=y.forwardRef((e,t)=>{let{progress:n,children:r,label:o="Loading...",...i}=e;return y.createElement(We.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},ev(e,s=>y.createElement("div",{"aria-hidden":!0},s)))}),eo=Object.assign(nF,{List:Ene,Item:bne,Input:kne,Group:Sne,Separator:Cne,Dialog:Nne,Empty:Tne,Loading:Rne});function Mne(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Ane(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function rF(e){let t=y.useRef(e);return Zl(()=>{t.current=e}),t}var Zl=typeof window>"u"?y.useEffect:y.useLayoutEffect;function zc(e){let t=y.useRef();return t.current===void 0&&(t.current=e()),t}function Va(e){let t=PC(),n=()=>e(t.snapshot());return y.useSyncExternalStore(t.subscribe,n,n)}function oF(e,t,n,r=[]){let o=y.useRef(),i=Dh();return Zl(()=>{var s;let a=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():o.current}})(),l=r.map(c=>c.trim());i.value(e,a,l),(s=t.current)==null||s.setAttribute(Fc,a),o.current=a}),o}var Pne=()=>{let[e,t]=y.useState(),n=zc(()=>new Map);return Zl(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}};function _ne(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ev({asChild:e,children:t},n){return e&&y.isValidElement(t)?y.cloneElement(_ne(t),{ref:t.ref},n(t.props.children)):n(t)}var Ine={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jh=qL,One=YL,iF=y.forwardRef(({className:e,...t},n)=>p.jsx(MC,{ref:n,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));iF.displayName=MC.displayName;const td=y.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(One,{children:[p.jsx(iF,{}),p.jsxs(AC,{ref:r,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(vne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(wi,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));td.displayName=AC.displayName;const nd=({className:e,...t})=>p.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});nd.displayName="DialogHeader";const rd=y.forwardRef(({className:e,...t},n)=>p.jsx(XL,{ref:n,className:Ve("text-lg font-semibold leading-none tracking-tight",e),...t}));rd.displayName=XL.displayName;const Dne=y.forwardRef(({className:e,...t},n)=>p.jsx(JL,{ref:n,className:Ve("text-sm text-muted-foreground",e),...t}));Dne.displayName=JL.displayName;const sF=y.forwardRef(({className:e,...t},n)=>p.jsx(eo,{ref:n,className:Ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));sF.displayName=eo.displayName;const aF=y.forwardRef(({className:e,...t},n)=>p.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[p.jsx(Li,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),p.jsx(eo.Input,{ref:n,className:Ve("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));aF.displayName=eo.Input.displayName;const lF=y.forwardRef(({className:e,...t},n)=>p.jsx(eo.List,{ref:n,className:Ve("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));lF.displayName=eo.List.displayName;const cF=y.forwardRef((e,t)=>p.jsx(eo.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));cF.displayName=eo.Empty.displayName;const uF=y.forwardRef(({className:e,...t},n)=>p.jsx(eo.Group,{ref:n,className:Ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));uF.displayName=eo.Group.displayName;const jne=y.forwardRef(({className:e,...t},n)=>p.jsx(eo.Separator,{ref:n,className:Ve("-mx-1 h-px bg-border",e),...t}));jne.displayName=eo.Separator.displayName;const Wm=y.forwardRef(({className:e,...t},n)=>p.jsx(eo.Item,{ref:n,className:Ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Wm.displayName=eo.Item.displayName;const dF=({isOpen:e,onClose:t,onCreateList:n,existingCategories:r})=>{const[o,i]=y.useState(""),[s,a]=y.useState(""),[l,c]=y.useState(!1),[d,f]=y.useState(""),[m,g]=y.useState("#3B82F6");y.useEffect(()=>{d&&a(d)},[d]),y.useEffect(()=>{s||f("")},[s]);const v=w=>{if(w.preventDefault(),o.trim()){const S=s.trim()||"General";n(o.trim(),S,m),i(""),a(""),g("#3B82F6")}},x=()=>{i(""),a(""),g("#3B82F6"),t()};return p.jsx(jh,{open:e,onOpenChange:x,children:p.jsxs(td,{className:"sm:max-w-md",children:[p.jsx(nd,{children:p.jsx(rd,{children:"Create New List"})}),p.jsxs("form",{onSubmit:v,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx(Mr,{htmlFor:"title",children:"List Title"}),p.jsx(hn,{id:"title",placeholder:"Enter list title...",value:o,onChange:w=>i(w.target.value),className:"mt-1",autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx(Mr,{htmlFor:"customType",children:"Category (Optional)"}),p.jsxs(AL,{open:l,onOpenChange:c,children:[p.jsx(PL,{asChild:!0,children:p.jsxs(Me,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between mt-1 font-normal",children:[s||"Select category or type new...",p.jsx(mq,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),p.jsx(EC,{className:"w-[--radix-popover-trigger-width] p-0",children:p.jsxs(sF,{children:[p.jsx(aF,{placeholder:"Search or create category...",value:s,onValueChange:w=>{a(w),f("")}}),p.jsxs(lF,{children:[p.jsx(cF,{children:s.trim()?`Create "${s}"`:"No category found."}),p.jsxs(uF,{children:[!r.includes("General")&&p.jsxs(Wm,{value:"General",onSelect:w=>{f(w===d?"":w),a(w===s?"":w),c(!1)},children:[p.jsx(qo,{className:Ve("mr-2 h-4 w-4",s==="General"?"opacity-100":"opacity-0")}),"General"]},"General"),r.map(w=>p.jsxs(Wm,{value:w,onSelect:S=>{f(S===d?"":S),a(S===s?"":S),c(!1)},children:[p.jsx(qo,{className:Ve("mr-2 h-4 w-4",s===w?"opacity-100":"opacity-0")}),w]},w))]}),s.trim()&&!r.includes(s.trim())&&p.jsxs(Wm,{value:s.trim(),onSelect:()=>{f(s.trim()),c(!1)},children:[p.jsx(ci,{className:"mr-2 h-4 w-4"}),'Create "',s.trim(),'"']},s.trim())]})]})})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select an existing category, type a new one, or leave empty for "General".'}),r.length===0&&p.jsx("p",{className:"text-xs text-blue-600 mt-1",children:'No categories available yet. You can create your first category or use "General".'})]}),p.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[p.jsx(Me,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),p.jsx(Me,{type:"submit",disabled:!o.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Create List"})]})]})]})})},tv=y.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));tv.displayName="Card";const nv=y.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Ve("flex flex-col space-y-1.5 p-6",e),...t}));nv.displayName="CardHeader";const rv=y.forwardRef(({className:e,...t},n)=>p.jsx("h3",{ref:n,className:Ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));rv.displayName="CardTitle";const Lne=y.forwardRef(({className:e,...t},n)=>p.jsx("p",{ref:n,className:Ve("text-sm text-muted-foreground",e),...t}));Lne.displayName="CardDescription";const fF=y.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Ve("p-6 pt-0",e),...t}));fF.displayName="CardContent";const Fne=y.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Ve("flex items-center p-6 pt-0",e),...t}));Fne.displayName="CardFooter";var ov="Collapsible",[zne,xwe]=Zr(ov),[$ne,_C]=zne(ov),hF=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:s,...a}=e,[l,c]=bo({prop:r,defaultProp:o??!1,onChange:s,caller:ov});return p.jsx($ne,{scope:n,disabled:i,contentId:nr(),open:l,onOpenToggle:y.useCallback(()=>c(d=>!d),[c]),children:p.jsx(We.div,{"data-state":OC(l),"data-disabled":i?"":void 0,...a,ref:t})})});hF.displayName=ov;var pF="CollapsibleTrigger",mF=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=_C(pF,n);return p.jsx(We.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":OC(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:Te(e.onClick,o.onOpenToggle)})});mF.displayName=pF;var IC="CollapsibleContent",gF=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=_C(IC,e.__scopeCollapsible);return p.jsx(ko,{present:n||o.open,children:({present:i})=>p.jsx(Bne,{...r,ref:t,present:i})})});gF.displayName=IC;var Bne=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,s=_C(IC,n),[a,l]=y.useState(r),c=y.useRef(null),d=mt(t,c),f=y.useRef(0),m=f.current,g=y.useRef(0),v=g.current,x=s.open||a,w=y.useRef(x),S=y.useRef(void 0);return y.useEffect(()=>{const C=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(C)},[]),Vn(()=>{const C=c.current;if(C){S.current=S.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const k=C.getBoundingClientRect();f.current=k.height,g.current=k.width,w.current||(C.style.transitionDuration=S.current.transitionDuration,C.style.animationName=S.current.animationName),l(r)}},[s.open,r]),p.jsx(We.div,{"data-state":OC(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!x,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&o})});function OC(e){return e?"open":"closed"}var Wne=hF;const DC=Wne,jC=mF,LC=gF,Une=30*60*1e3,Hne=500,jM=2e3,Vne=({enabled:e,listTitle:t,existingItems:n})=>{const[r,o]=y.useState([]),[i,s]=y.useState(0),[a,l]=y.useState(null),[c,d]=y.useState(!1),[f,m]=y.useState(null),g=y.useRef(null),v=y.useRef(0),{token:x}=Si();y.useEffect(()=>{e||l(null)},[e]);const w=y.useCallback(()=>{try{const M=`itemize-suggestions-${t}-${n.join(",")}`,B=localStorage.getItem(M);if(B){const{suggestions:I,timestamp:$}=JSON.parse(B);if(Date.now()-$<Une&&I&&I.length>0)return I}}catch(M){console.warn("Failed to read suggestion cache:",M)}return null},[t,n]),S=y.useCallback(M=>{try{if(!t||!M.length)return;const B=`itemize-suggestions-${t}-${n.join(",")}`,I={suggestions:M,timestamp:Date.now()};localStorage.setItem(B,JSON.stringify(I))}catch(B){console.warn("Failed to cache suggestions:",B)}},[t,n]),C=y.useCallback(async()=>{var $;if(g.current&&(clearTimeout(g.current),g.current=null),!e||!t||n.length===0){o([]),l(null);return}if(!x){m("You must be logged in to use AI suggestions");return}const M=w();if(M){console.log("Using cached suggestions for:",t),o(M),l(M[0]||null),d(!1);return}const I=Date.now()-v.current;if(I<jM){d(!0);const W=jM-I;console.log(`Throttling API call for ${W}ms`),g.current=setTimeout(()=>{C()},W);return}try{d(!0),m(null),v.current=Date.now();const W=$f(),V=await Bt.post(`${W}/api/suggestions`,{listTitle:t,existingItems:n.filter(H=>H.trim()!=="")},{withCredentials:!0,headers:{Authorization:`Bearer ${x}`}});if(V.data&&V.data.suggestions&&V.data.suggestions.length>0){const H=V.data.suggestions;o(H),l(H[0]),s(0),S(H)}else o([]),l(null)}catch(W){console.error("Failed to fetch AI suggestions:",W),(($=W==null?void 0:W.response)==null?void 0:$.status)===401?m("Session expired. Please log in again to use AI suggestions."):m(W instanceof Error?W.message:"Failed to get suggestions"),o([]),l(null)}finally{d(!1)}},[e,t,n,x,w,S]),k=y.useCallback(()=>{g.current&&clearTimeout(g.current),d(!0),g.current=setTimeout(()=>{C()},Hne)},[C]),T=y.useCallback(M=>{if(!e||!M.trim())return null;if(r.length>0){const B=M.toLowerCase().trim(),I=r.filter(W=>W.toLowerCase().startsWith(B)&&W.toLowerCase()!==B);if(I.length>0)return console.log("Using API suggestion (prefix match):",I[0]),I[0];const $=r.filter(W=>W.toLowerCase().includes(B)&&W.toLowerCase()!==B);if($.length>0)return console.log("Using API suggestion (contains match):",$[0]),$[0]}return null},[e,r]),N=y.useCallback(M=>{const B=r.filter(I=>I.toLowerCase()!==M.toLowerCase());return B.length>0?l(B[0]):l(null),M},[r]),R=y.useCallback(()=>{if(r.length===0)return null;const M=(i+1)%r.length;s(M);const B=r[M];return l(B),B},[r,i]),_=y.useCallback(()=>r.length>0?r[0]:null,[r]);return y.useEffect(()=>{if(e&&!a){const M=_();M?l(M):k()}},[e,a,_,k]),{currentSuggestion:a,suggestions:r,isLoading:c,error:f,debouncedFetchSuggestions:k,fetchSuggestions:C,getSuggestionForInput:T,acceptSuggestion:N,getNextSuggestion:R,generateContextSuggestion:_}},Gne=({list:e,onUpdate:t,onDelete:n,isCollapsed:r,onToggleCollapsed:o,existingCategories:i=[],addCategory:s,updateCategory:a})=>{const{aiEnabled:l,setAiEnabled:c}=mC(),d=e.items.map(_e=>_e.text),{currentSuggestion:f,suggestions:m,isLoading:g,debouncedFetchSuggestions:v,getNextSuggestion:x,getSuggestionForInput:w}=Vne({enabled:l,listTitle:e.title,existingItems:d});y.useEffect(()=>{l&&!f&&v()},[l,f,v]);const{toast:S}=Yo(),[C,k]=y.useState(!0),T=r!==void 0?!r:C,N=o||k,[R,_]=y.useState(!1),[M,B]=y.useState(e.title),[I,$]=y.useState(!1),[W,V]=y.useState(!1),[H,ee]=y.useState(""),[X,J]=y.useState(""),[L,D]=y.useState(null),[A,G]=y.useState(""),[z,O]=y.useState(!1),Z=y.useRef(null),re=y.useRef(null);y.useEffect(()=>{B(e.title)},[e.title]);const ne=()=>{M.trim()!==""?(t({...e,title:M.trim()}),_(!1)):S({title:"Title cannot be empty",description:"Please enter a valid list title",variant:"destructive"})},K=()=>{n(e.id)},ue=async _e=>{if(_e==="__custom__"){V(!0);return}if(_e.trim()&&!i.find(Ae=>Ae.name===_e)&&s)try{await s({name:_e.trim(),color_value:"#3B82F6"})}catch(Ae){console.error("Failed to create category in database:",Ae)}t({...e,type:_e}),$(!1),V(!1)},fe=async()=>{if(H.trim()!=="")try{s&&await s({name:H.trim(),color_value:"#3B82F6"}),t({...e,type:H.trim()}),$(!1),V(!1),ee("")}catch(_e){console.error("Failed to create category:",_e),S({title:"Error creating category",description:"Could not create the category. Please try again.",variant:"destructive"})}else S({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},ce=async(_e,Ae)=>{try{await a(_e,{color_value:Ae})}catch(Ke){console.error("Failed to update category color:",Ke),S({title:"Error",description:"Could not update category color.",variant:"destructive"})}},Re=()=>{if(X.trim()!==""){const _e={id:crypto.randomUUID(),text:X.trim(),completed:!1};t({...e,items:[...e.items,_e]}),J("")}},Oe=_e=>{const Ae=e.items.map(Ke=>Ke.id===_e?{...Ke,completed:!Ke.completed}:Ke);t({...e,items:Ae})},Ze=_e=>{const Ae=e.items.filter(Ke=>Ke.id!==_e);t({...e,items:Ae})},ze=_e=>{D(_e.id),G(_e.text)},tt=()=>{if(L&&A.trim()!==""){const _e=e.items.map(Ae=>Ae.id===L?{...Ae,text:A.trim()}:Ae);t({...e,items:_e}),D(null),G("")}else A.trim()===""&&S({title:"Item text cannot be empty",description:"Please enter valid text for the item",variant:"destructive"})},De=y.useMemo(()=>!l||!X?null:w(X),[l,X,w]);return{isCollapsibleOpen:T,setIsCollapsibleOpen:N,isEditing:R,setIsEditing:_,editTitle:M,setEditTitle:B,handleEditTitle:ne,handleDeleteList:K,handleSaveListColor:async _e=>{O(!0);try{await new Promise(Ae=>setTimeout(Ae,1e3)),t({...e,color_value:_e})}catch(Ae){throw console.error("Failed to save list color:",Ae),Ae}finally{O(!1)}},isSavingColor:z,isEditingCategory:I,setIsEditingCategory:$,showNewCategoryInput:W,setShowNewCategoryInput:V,newCategory:H,setNewCategory:ee,handleEditCategory:ue,handleAddCustomCategory:fe,handleUpdateCategoryColor:ce,newItemText:X,setNewItemText:J,editingItemId:L,editingItemText:A,setEditingItemText:G,handleAddItem:Re,toggleItemCompleted:Oe,removeItem:Ze,startEditingItem:ze,handleEditItem:tt,suggestions:m,isLoadingSuggestions:g,aiEnabled:l,setAiEnabled:c,currentSuggestion:f,currentInputSuggestion:De,handleGetSuggestion:()=>{if(console.log("Getting next suggestion"),!l)c(!0),setTimeout(()=>v(),100);else if(f){const _e={id:crypto.randomUUID(),text:f,completed:!1};t({...e,items:[...e.items,_e]}),x()}else v()},handleAcceptSuggestion:()=>{De?J(De):f&&J(f)},titleEditRef:Z,newItemInputRef:re}},Kne=["#EF4444","#F97316","#EAB308","#22C55E","#10B981","#14B8A6","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#A855F7","#EC4899","#F87171","#FBBF24","#4ADE80","#60A5FA","#C084FC","#78716C","#D1D5DB","#9CA3AF","#6B7280","#4B5563","#374151","#1F2937"],Fs=({color:e,onChange:t,onSave:n,children:r,className:o})=>{const[i,s]=se.useState(!1),a=l=>{t(l),n&&n(l),s(!1)};return p.jsxs(AL,{open:i,onOpenChange:s,children:[p.jsx(PL,{asChild:!0,className:o,children:r}),p.jsx(EC,{className:"w-auto p-2 shadow-xl grid grid-cols-6 gap-1",align:"start",children:Kne.map(l=>p.jsx("button",{title:l,onClick:()=>a(l),className:`w-6 h-6 rounded-full border-2 transition-all
                        ${e===l?"ring-2 ring-offset-1 ring-primary":"hover:opacity-80"}
                        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary`,style:{backgroundColor:l,borderColor:l===e?"var(--primary)":l}},l))})]})},qne=({title:e,listColor:t,isEditing:n,editTitle:r,isCollapsibleOpen:o,setEditTitle:i,setIsEditing:s,handleEditTitle:a,handleDeleteList:l,titleEditRef:c,onColorSave:d,isSavingColor:f})=>{const{toast:m}=Yo(),[g,v]=se.useState(t||"#808080");se.useEffect(()=>{v(t||"#808080")},[t]);const x=g;return p.jsx(nv,{className:"pb-2",children:p.jsx("div",{className:"flex justify-between items-center",children:n?p.jsxs("div",{className:"flex gap-1 w-full",children:[p.jsx(hn,{ref:c,value:r,onChange:w=>i(w.target.value),className:"h-8",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&a()}}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:a,className:"h-8 w-8 p-0",children:p.jsx(qo,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>s(!1),className:"h-8 w-8 p-0",children:p.jsx(wi,{className:"h-4 w-4"})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Fs,{color:x,onChange:w=>{v(w)},onSave:async w=>{if(w!==(t||"#808080"))try{await d(w)}catch{m({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),v(t||"#808080")}},children:p.jsxs(Me,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change list color",disabled:f,children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-gray-400 transition-colors duration-150",style:{backgroundColor:x}}),f&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 rounded-full",children:p.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),p.jsx(Ay,{className:"h-4 w-4 text-slate-500"}),p.jsx(rv,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>s(!0),children:e})]}),p.jsxs("div",{className:"flex",children:[p.jsx(jC,{asChild:!0,children:p.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:p.jsx(ks,{className:Ve("h-4 w-4 transition-transform",o?"":"transform rotate-180")})})}),p.jsxs(Xy,{children:[p.jsx(Jy,{asChild:!0,children:p.jsx(Me,{variant:"ghost",className:"h-8 w-8 p-0",children:p.jsx(KS,{className:"h-4 w-4"})})}),p.jsxs(Ih,{align:"end",children:[p.jsxs(js,{onClick:()=>s(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Ch,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),p.jsxs(js,{onClick:l,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Py,{className:"mr-2 h-4 w-4"}),"Delete List"]})]})]})]})]})})})};function Ig(e,[t,n]){return Math.min(n,Math.max(t,e))}var Yne=[" ","Enter","ArrowUp","ArrowDown"],Xne=[" ","Enter"],ec="Select",[iv,sv,Jne]=wh(ec),[od,wwe]=Zr(ec,[Jne,Xa]),av=Xa(),[Qne,el]=od(ec),[Zne,ere]=od(ec),yF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:s,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:m,required:g,form:v}=e,x=av(t),[w,S]=y.useState(null),[C,k]=y.useState(null),[T,N]=y.useState(!1),R=Th(c),[_,M]=bo({prop:r,defaultProp:o??!1,onChange:i,caller:ec}),[B,I]=bo({prop:s,defaultProp:a,onChange:l,caller:ec}),$=y.useRef(null),W=w?v||!!w.closest("form"):!0,[V,H]=y.useState(new Set),ee=Array.from(V).map(X=>X.props.value).join(";");return p.jsx(aC,{...x,children:p.jsxs(Qne,{required:g,scope:t,trigger:w,onTriggerChange:S,valueNode:C,onValueNodeChange:k,valueNodeHasChildren:T,onValueNodeHasChildrenChange:N,contentId:nr(),value:B,onValueChange:I,open:_,onOpenChange:M,dir:R,triggerPointerDownPosRef:$,disabled:m,children:[p.jsx(iv.Provider,{scope:t,children:p.jsx(Zne,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(X=>{H(J=>new Set(J).add(X))},[]),onNativeOptionRemove:y.useCallback(X=>{H(J=>{const L=new Set(J);return L.delete(X),L})},[]),children:n})}),W?p.jsxs(BF,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:B,onChange:X=>I(X.target.value),disabled:m,form:v,children:[B===void 0?p.jsx("option",{value:""}):null,Array.from(V)]},ee):null]})})};yF.displayName=ec;var vF="SelectTrigger",xF=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=av(n),s=el(vF,n),a=s.disabled||r,l=mt(t,s.onTriggerChange),c=sv(n),d=y.useRef("touch"),[f,m,g]=UF(x=>{const w=c().filter(k=>!k.disabled),S=w.find(k=>k.value===s.value),C=HF(w,x,S);C!==void 0&&s.onValueChange(C.value)}),v=x=>{a||(s.onOpenChange(!0),g()),x&&(s.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return p.jsx(Nh,{asChild:!0,...i,children:p.jsx(We.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":WF(s.value)?"":void 0,...o,ref:l,onClick:Te(o.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:Te(o.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Te(o.onKeyDown,x=>{const w=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(w&&x.key===" ")&&Yne.includes(x.key)&&(v(),x.preventDefault())})})})});xF.displayName=vF;var wF="SelectValue",bF=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:s="",...a}=e,l=el(wF,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=mt(t,l.onValueNodeChange);return Vn(()=>{c(d)},[c,d]),p.jsx(We.span,{...a,ref:f,style:{pointerEvents:"none"},children:WF(l.value)?p.jsx(p.Fragment,{children:s}):i})});bF.displayName=wF;var tre="SelectIcon",SF=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return p.jsx(We.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});SF.displayName=tre;var nre="SelectPortal",CF=e=>p.jsx(Ku,{asChild:!0,...e});CF.displayName=nre;var tc="SelectContent",kF=y.forwardRef((e,t)=>{const n=el(tc,e.__scopeSelect),[r,o]=y.useState();if(Vn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?Wo.createPortal(p.jsx(EF,{scope:e.__scopeSelect,children:p.jsx(iv.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),i):null}return p.jsx(NF,{...e,ref:t})});kF.displayName=tc;var ni=10,[EF,tl]=od(tc),rre="SelectContentImpl",ore=Wa("SelectContent.RemoveScroll"),NF=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:w,...S}=e,C=el(tc,n),[k,T]=y.useState(null),[N,R]=y.useState(null),_=mt(t,K=>T(K)),[M,B]=y.useState(null),[I,$]=y.useState(null),W=sv(n),[V,H]=y.useState(!1),ee=y.useRef(!1);y.useEffect(()=>{if(k)return Vy(k)},[k]),Uy();const X=y.useCallback(K=>{const[ue,...fe]=W().map(Oe=>Oe.ref.current),[ce]=fe.slice(-1),Re=document.activeElement;for(const Oe of K)if(Oe===Re||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===ue&&N&&(N.scrollTop=0),Oe===ce&&N&&(N.scrollTop=N.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Re))return},[W,N]),J=y.useCallback(()=>X([M,k]),[X,M,k]);y.useEffect(()=>{V&&J()},[V,J]);const{onOpenChange:L,triggerPointerDownPosRef:D}=C;y.useEffect(()=>{if(k){let K={x:0,y:0};const ue=ce=>{var Re,Oe;K={x:Math.abs(Math.round(ce.pageX)-(((Re=D.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Oe=D.current)==null?void 0:Oe.y)??0))}},fe=ce=>{K.x<=10&&K.y<=10?ce.preventDefault():k.contains(ce.target)||L(!1),document.removeEventListener("pointermove",ue),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",fe,{capture:!0})}}},[k,L,D]),y.useEffect(()=>{const K=()=>L(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[L]);const[A,G]=UF(K=>{const ue=W().filter(Re=>!Re.disabled),fe=ue.find(Re=>Re.ref.current===document.activeElement),ce=HF(ue,K,fe);ce&&setTimeout(()=>ce.ref.current.focus())}),z=y.useCallback((K,ue,fe)=>{const ce=!ee.current&&!fe;(C.value!==void 0&&C.value===ue||ce)&&(B(K),ce&&(ee.current=!0))},[C.value]),O=y.useCallback(()=>k==null?void 0:k.focus(),[k]),Z=y.useCallback((K,ue,fe)=>{const ce=!ee.current&&!fe;(C.value!==void 0&&C.value===ue||ce)&&$(K)},[C.value]),re=r==="popper"?Yb:TF,ne=re===Yb?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return p.jsx(EF,{scope:n,content:k,viewport:N,onViewportChange:R,itemRefCallback:z,selectedItem:M,onItemLeave:O,itemTextRefCallback:Z,focusSelectedItem:J,selectedItemText:I,position:r,isPositioned:V,searchRef:A,children:p.jsx(Ah,{as:ore,allowPinchZoom:!0,children:p.jsx(Rh,{asChild:!0,trapped:C.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Te(o,K=>{var ue;(ue=C.trigger)==null||ue.focus({preventScroll:!0}),K.preventDefault()}),children:p.jsx(cc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:p.jsx(re,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:K=>K.preventDefault(),...S,...ne,onPlaced:()=>H(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Te(S.onKeyDown,K=>{const ue=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ue&&K.key.length===1&&G(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ce=W().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Re=K.target,Oe=ce.indexOf(Re);ce=ce.slice(Oe+1)}setTimeout(()=>X(ce)),K.preventDefault()}})})})})})})});NF.displayName=rre;var ire="SelectItemAlignedPosition",TF=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=el(tc,n),s=tl(tc,n),[a,l]=y.useState(null),[c,d]=y.useState(null),f=mt(t,_=>d(_)),m=sv(n),g=y.useRef(!1),v=y.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:S,focusSelectedItem:C}=s,k=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&x&&w&&S){const _=i.trigger.getBoundingClientRect(),M=c.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),I=S.getBoundingClientRect();if(i.dir!=="rtl"){const Re=I.left-M.left,Oe=B.left-Re,Ze=_.left-Oe,ze=_.width+Ze,tt=Math.max(ze,M.width),De=window.innerWidth-ni,it=Ig(Oe,[ni,Math.max(ni,De-tt)]);a.style.minWidth=ze+"px",a.style.left=it+"px"}else{const Re=M.right-I.right,Oe=window.innerWidth-B.right-Re,Ze=window.innerWidth-_.right-Oe,ze=_.width+Ze,tt=Math.max(ze,M.width),De=window.innerWidth-ni,it=Ig(Oe,[ni,Math.max(ni,De-tt)]);a.style.minWidth=ze+"px",a.style.right=it+"px"}const $=m(),W=window.innerHeight-ni*2,V=x.scrollHeight,H=window.getComputedStyle(c),ee=parseInt(H.borderTopWidth,10),X=parseInt(H.paddingTop,10),J=parseInt(H.borderBottomWidth,10),L=parseInt(H.paddingBottom,10),D=ee+X+V+L+J,A=Math.min(w.offsetHeight*5,D),G=window.getComputedStyle(x),z=parseInt(G.paddingTop,10),O=parseInt(G.paddingBottom,10),Z=_.top+_.height/2-ni,re=W-Z,ne=w.offsetHeight/2,K=w.offsetTop+ne,ue=ee+X+K,fe=D-ue;if(ue<=Z){const Re=$.length>0&&w===$[$.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-x.offsetTop-x.offsetHeight,Ze=Math.max(re,ne+(Re?O:0)+Oe+J),ze=ue+Ze;a.style.height=ze+"px"}else{const Re=$.length>0&&w===$[0].ref.current;a.style.top="0px";const Ze=Math.max(Z,ee+x.offsetTop+(Re?z:0)+ne)+fe;a.style.height=Ze+"px",x.scrollTop=ue-Z+x.offsetTop}a.style.margin=`${ni}px 0`,a.style.minHeight=A+"px",a.style.maxHeight=W+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,a,c,x,w,S,i.dir,r]);Vn(()=>k(),[k]);const[T,N]=y.useState();Vn(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const R=y.useCallback(_=>{_&&v.current===!0&&(k(),C==null||C(),v.current=!1)},[k,C]);return p.jsx(are,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:p.jsx(We.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});TF.displayName=ire;var sre="SelectPopperPosition",Yb=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=ni,...i}=e,s=av(n);return p.jsx(Dy,{...s,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yb.displayName=sre;var[are,FC]=od(tc,{}),Xb="SelectViewport",RF=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=tl(Xb,n),s=FC(Xb,n),a=mt(t,i.onViewportChange),l=y.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(iv.Slot,{scope:n,children:p.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Te(o.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const v=window.innerHeight-ni*2,x=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),S=Math.max(x,w);if(S<v){const C=S+g,k=Math.min(v,C),T=C-k;f.style.height=k+"px",f.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});RF.displayName=Xb;var MF="SelectGroup",[lre,cre]=od(MF),ure=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=nr();return p.jsx(lre,{scope:n,id:o,children:p.jsx(We.div,{role:"group","aria-labelledby":o,...r,ref:t})})});ure.displayName=MF;var AF="SelectLabel",PF=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=cre(AF,n);return p.jsx(We.div,{id:o.id,...r,ref:t})});PF.displayName=AF;var Og="SelectItem",[dre,_F]=od(Og),IF=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...s}=e,a=el(Og,n),l=tl(Og,n),c=a.value===r,[d,f]=y.useState(i??""),[m,g]=y.useState(!1),v=mt(t,C=>{var k;return(k=l.itemRefCallback)==null?void 0:k.call(l,C,r,o)}),x=nr(),w=y.useRef("touch"),S=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(dre,{scope:n,value:r,disabled:o,textId:x,isSelected:c,onItemTextChange:y.useCallback(C=>{f(k=>k||((C==null?void 0:C.textContent)??"").trim())},[]),children:p.jsx(iv.ItemSlot,{scope:n,value:r,disabled:o,textValue:d,children:p.jsx(We.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...s,ref:v,onFocus:Te(s.onFocus,()=>g(!0)),onBlur:Te(s.onBlur,()=>g(!1)),onClick:Te(s.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:Te(s.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:Te(s.onPointerDown,C=>{w.current=C.pointerType}),onPointerMove:Te(s.onPointerMove,C=>{var k;w.current=C.pointerType,o?(k=l.onItemLeave)==null||k.call(l):w.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(s.onPointerLeave,C=>{var k;C.currentTarget===document.activeElement&&((k=l.onItemLeave)==null||k.call(l))}),onKeyDown:Te(s.onKeyDown,C=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&C.key===" "||(Xne.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});IF.displayName=Og;var Jd="SelectItemText",OF=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,s=el(Jd,n),a=tl(Jd,n),l=_F(Jd,n),c=ere(Jd,n),[d,f]=y.useState(null),m=mt(t,S=>f(S),l.onItemTextChange,S=>{var C;return(C=a.itemTextRefCallback)==null?void 0:C.call(a,S,l.value,l.disabled)}),g=d==null?void 0:d.textContent,v=y.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=c;return Vn(()=>(x(v),()=>w(v)),[x,w,v]),p.jsxs(p.Fragment,{children:[p.jsx(We.span,{id:l.textId,...i,ref:m}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Wo.createPortal(i.children,s.valueNode):null]})});OF.displayName=Jd;var DF="SelectItemIndicator",jF=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return _F(DF,n).isSelected?p.jsx(We.span,{"aria-hidden":!0,...r,ref:t}):null});jF.displayName=DF;var Jb="SelectScrollUpButton",LF=y.forwardRef((e,t)=>{const n=tl(Jb,e.__scopeSelect),r=FC(Jb,e.__scopeSelect),[o,i]=y.useState(!1),s=mt(t,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?p.jsx(zF,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});LF.displayName=Jb;var Qb="SelectScrollDownButton",FF=y.forwardRef((e,t)=>{const n=tl(Qb,e.__scopeSelect),r=FC(Qb,e.__scopeSelect),[o,i]=y.useState(!1),s=mt(t,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?p.jsx(zF,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});FF.displayName=Qb;var zF=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=tl("SelectScrollButton",n),s=y.useRef(null),a=sv(n),l=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Vn(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),p.jsx(We.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Te(o.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Te(o.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Te(o.onPointerLeave,()=>{l()})})}),fre="SelectSeparator",$F=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p.jsx(We.div,{"aria-hidden":!0,...r,ref:t})});$F.displayName=fre;var Zb="SelectArrow",hre=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=av(n),i=el(Zb,n),s=tl(Zb,n);return i.open&&s.position==="popper"?p.jsx(jy,{...o,...r,ref:t}):null});hre.displayName=Zb;var pre="SelectBubbleInput",BF=y.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=y.useRef(null),i=mt(r,o),s=gC(t);return y.useEffect(()=>{const a=o.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[s,t]),p.jsx(We.select,{...n,style:{...mO,...n.style},ref:i,defaultValue:t})});BF.displayName=pre;function WF(e){return e===""||e===void 0}function UF(e){const t=Qr(e),n=y.useRef(""),r=y.useRef(0),o=y.useCallback(s=>{const a=n.current+s;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function HF(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=mre(e,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function mre(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gre=yF,VF=xF,yre=bF,vre=SF,xre=CF,GF=kF,wre=RF,KF=PF,qF=IF,bre=OF,Sre=jF,YF=LF,XF=FF,JF=$F;const nl=gre,rl=yre,zs=y.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(VF,{ref:r,className:Ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,p.jsx(vre,{asChild:!0,children:p.jsx(ks,{className:"h-4 w-4 opacity-50"})})]}));zs.displayName=VF.displayName;const QF=y.forwardRef(({className:e,...t},n)=>p.jsx(YF,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(pq,{className:"h-4 w-4"})}));QF.displayName=YF.displayName;const ZF=y.forwardRef(({className:e,...t},n)=>p.jsx(XF,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(ks,{className:"h-4 w-4"})}));ZF.displayName=XF.displayName;const $s=y.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>p.jsx(xre,{children:p.jsxs(GF,{ref:o,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[p.jsx(QF,{}),p.jsx(wre,{className:Ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),p.jsx(ZF,{})]})}));$s.displayName=GF.displayName;const Cre=y.forwardRef(({className:e,...t},n)=>p.jsx(KF,{ref:n,className:Ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Cre.displayName=KF.displayName;const En=y.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(qF,{ref:r,className:Ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Sre,{children:p.jsx(qo,{className:"h-4 w-4"})})}),p.jsx(bre,{children:t})]}));En.displayName=qF.displayName;const kre=y.forwardRef(({className:e,...t},n)=>p.jsx(JF,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));kre.displayName=JF.displayName;const Ere=Sh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zC({className:e,variant:t,...n}){return p.jsx("div",{className:Ve(Ere({variant:t}),e),...n})}const Nre=({currentCategory:e,categoryColor:t,itemColor:n,existingCategories:r,isEditingCategory:o,showNewCategoryInput:i,newCategory:s,setNewCategory:a,setIsEditingCategory:l,setShowNewCategoryInput:c,handleEditCategory:d,handleAddCustomCategory:f,handleUpdateCategoryColor:m})=>{const g=e&&e!==""?e:"General",v=t||n||"#808080",x=()=>"#ffffff";return p.jsx("div",{className:"mb-2 px-6 flex items-center gap-2",children:o?p.jsx("div",{className:"mb-2 w-full",children:i?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(hn,{value:s,onChange:w=>a(w.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&f()}}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:f,className:"h-8 w-8 p-0",children:p.jsx(qo,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>{c(!1),a("")},className:"h-8 w-8 p-0",children:p.jsx(wi,{className:"h-4 w-4"})})]}):p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsxs(nl,{onValueChange:d,defaultValue:g,children:[p.jsx(zs,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:p.jsx(rl,{placeholder:"Select a category"})}),p.jsxs($s,{children:[r.map(w=>p.jsx(En,{value:w.name,style:{fontFamily:'"Raleway", sans-serif'},children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:w.color_value}}),w.name]})},w.name)),p.jsx(En,{value:"__custom__",className:"text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:"+ Add new category"})]})]}),g!=="__custom__"&&p.jsx("div",{className:"flex items-center gap-2 ml-2",children:p.jsx(Fs,{color:v,onChange:w=>m(g,w),onSave:w=>m(g,w),children:p.jsxs(Me,{variant:"outline",size:"sm",className:"h-8 px-3 flex items-center gap-2",children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:v}}),"Category Color"]})})}),p.jsx(Me,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>l(!1),children:"Cancel"})]})}):p.jsx(zC,{variant:"outline",className:"cursor-pointer hover:opacity-80 transition-opacity border-none",style:{fontFamily:'"Raleway", sans-serif',backgroundColor:v,color:x()},onClick:()=>l(!0),children:g})})};function Tre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function id(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $C(e){return"nodeType"in e}function to(e){var t,n;return e?id(e)?e:$C(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function BC(e){const{Document:t}=to(e);return e instanceof t}function Lh(e){return id(e)?!1:e instanceof to(e).HTMLElement}function e4(e){return e instanceof to(e).SVGElement}function sd(e){return e?id(e)?e.document:$C(e)?BC(e)?e:Lh(e)||e4(e)?e.ownerDocument:document:document:document}const Gi=lv?y.useLayoutEffect:y.useEffect;function WC(e){const t=y.useRef(e);return Gi(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Rre(){const e=y.useRef(null),t=y.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Yf(e,t){t===void 0&&(t=[e]);const n=y.useRef(e);return Gi(()=>{n.current!==e&&(n.current=e)},t),n}function Fh(e,t){const n=y.useRef();return y.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Dg(e){const t=WC(e),n=y.useRef(null),r=y.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function e1(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let z0={};function zh(e,t){return y.useMemo(()=>{if(t)return t;const n=z0[e]==null?0:z0[e]+1;return z0[e]=n,e+"-"+n},[e,t])}function t4(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[l,c]of a){const d=i[l];d!=null&&(i[l]=d+e*c)}return i},{...t})}}const fu=t4(1),Xf=t4(-1);function Mre(e){return"clientX"in e&&"clientY"in e}function UC(e){if(!e)return!1;const{KeyboardEvent:t}=to(e.target);return t&&e instanceof t}function Are(e){if(!e)return!1;const{TouchEvent:t}=to(e.target);return t&&e instanceof t}function t1(e){if(Are(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Mre(e)?{x:e.clientX,y:e.clientY}:null}const Jf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Jf.Translate.toString(e),Jf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),LM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Pre(e){return e.matches(LM)?e:e.querySelector(LM)}const _re={display:"none"};function Ire(e){let{id:t,value:n}=e;return se.createElement("div",{id:t,style:_re},n)}function Ore(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return se.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Dre(){const[e,t]=y.useState("");return{announce:y.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const n4=y.createContext(null);function jre(e){const t=y.useContext(n4);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Lre(){const[e]=y.useState(()=>new Set),t=y.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[y.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const Fre={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},zre={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function $re(e){let{announcements:t=zre,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Fre}=e;const{announce:i,announcement:s}=Dre(),a=zh("DndLiveRegion"),[l,c]=y.useState(!1);if(y.useEffect(()=>{c(!0)},[]),jre(y.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:g}=f;t.onDragMove&&i(t.onDragMove({active:m,over:g}))},onDragOver(f){let{active:m,over:g}=f;i(t.onDragOver({active:m,over:g}))},onDragEnd(f){let{active:m,over:g}=f;i(t.onDragEnd({active:m,over:g}))},onDragCancel(f){let{active:m,over:g}=f;i(t.onDragCancel({active:m,over:g}))}}),[i,t])),!l)return null;const d=se.createElement(se.Fragment,null,se.createElement(Ire,{id:r,value:o.draggable}),se.createElement(Ore,{id:a,announcement:s}));return n?Wo.createPortal(d,n):d}var Dn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Dn||(Dn={}));function jg(){}function FM(e,t){return y.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Bre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const yi=Object.freeze({x:0,y:0});function r4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function o4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Wre(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function zM(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function i4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function $M(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Ure=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=$M(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=r4($M(l),o);i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(o4)},Hre=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=zM(t),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=zM(l),d=o.reduce((m,g,v)=>m+r4(c[v],g),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(o4)};function Vre(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const l=t.width*t.height,c=e.width*e.height,d=s*a,f=d/(l+c-d);return Number(f.toFixed(4))}return 0}const Gre=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const l=Vre(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(Wre)};function Kre(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function s4(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:yi}function qre(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const Yre=qre(1);function Xre(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Jre(e,t,n){const r=Xre(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:c,right:l+d,bottom:c+f,left:l}}const Qre={ignoreTransform:!1};function ad(e,t){t===void 0&&(t=Qre);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=to(e).getComputedStyle(e);c&&(n=Jre(n,c,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function BM(e){return ad(e,{ignoreTransform:!0})}function Zre(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function eoe(e,t){return t===void 0&&(t=to(e).getComputedStyle(e)),t.position==="fixed"}function toe(e,t){t===void 0&&(t=to(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function cv(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(BC(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Lh(o)||e4(o)||n.includes(o))return n;const i=to(e).getComputedStyle(o);return o!==e&&toe(o,i)&&n.push(o),eoe(o,i)?n:r(o.parentNode)}return e?r(e):n}function a4(e){const[t]=cv(e,1);return t??null}function $0(e){return!lv||!e?null:id(e)?e:$C(e)?BC(e)||e===sd(e).scrollingElement?window:Lh(e)?e:null:null}function l4(e){return id(e)?e.scrollX:e.scrollLeft}function c4(e){return id(e)?e.scrollY:e.scrollTop}function n1(e){return{x:l4(e),y:c4(e)}}var $n;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($n||($n={}));function u4(e){return!lv||!e?!1:e===document.scrollingElement}function d4(e){const t={x:0,y:0},n=u4(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const noe={x:.2,y:.2};function roe(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=noe);const{isTop:c,isBottom:d,isLeft:f,isRight:m}=d4(e),g={x:0,y:0},v={x:0,y:0},x={height:t.height*o.y,width:t.width*o.x};return!c&&i<=t.top+x.height?(g.y=$n.Backward,v.y=r*Math.abs((t.top+x.height-i)/x.height)):!d&&l>=t.bottom-x.height&&(g.y=$n.Forward,v.y=r*Math.abs((t.bottom-x.height-l)/x.height)),!m&&a>=t.right-x.width?(g.x=$n.Forward,v.x=r*Math.abs((t.right-x.width-a)/x.width)):!f&&s<=t.left+x.width&&(g.x=$n.Backward,v.x=r*Math.abs((t.left+x.width-s)/x.width)),{direction:g,speed:v}}function ooe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function f4(e){return e.reduce((t,n)=>fu(t,n1(n)),yi)}function ioe(e){return e.reduce((t,n)=>t+l4(n),0)}function soe(e){return e.reduce((t,n)=>t+c4(n),0)}function aoe(e,t){if(t===void 0&&(t=ad),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);a4(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const loe=[["x",["left","right"],ioe],["y",["top","bottom"],soe]];class HC{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=cv(n),o=f4(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of loe)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=a(r),d=o[i]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ff{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function coe(e){const{EventTarget:t}=to(e);return e instanceof t?e:sd(e)}function B0(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Do;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Do||(Do={}));function WM(e){e.preventDefault()}function uoe(e){e.stopPropagation()}var At;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(At||(At={}));const h4={start:[At.Space,At.Enter],cancel:[At.Esc],end:[At.Space,At.Enter,At.Tab]},doe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case At.Right:return{...n,x:n.x+25};case At.Left:return{...n,x:n.x-25};case At.Down:return{...n,y:n.y+25};case At.Up:return{...n,y:n.y-25}}};class VC{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ff(sd(n)),this.windowListeners=new ff(to(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Do.Resize,this.handleCancel),this.windowListeners.add(Do.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Do.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&aoe(r),n(yi)}handleKeyDown(t){if(UC(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=h4,coordinateGetter:s=doe,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:yi;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const m=Xf(f,d),g={x:0,y:0},{scrollableAncestors:v}=r.current;for(const x of v){const w=t.code,{isTop:S,isRight:C,isLeft:k,isBottom:T,maxScroll:N,minScroll:R}=d4(x),_=ooe(x),M={x:Math.min(w===At.Right?_.right-_.width/2:_.right,Math.max(w===At.Right?_.left:_.left+_.width/2,f.x)),y:Math.min(w===At.Down?_.bottom-_.height/2:_.bottom,Math.max(w===At.Down?_.top:_.top+_.height/2,f.y))},B=w===At.Right&&!C||w===At.Left&&!k,I=w===At.Down&&!T||w===At.Up&&!S;if(B&&M.x!==f.x){const $=x.scrollLeft+m.x,W=w===At.Right&&$<=N.x||w===At.Left&&$>=R.x;if(W&&!m.y){x.scrollTo({left:$,behavior:a});return}W?g.x=x.scrollLeft-$:g.x=w===At.Right?x.scrollLeft-N.x:x.scrollLeft-R.x,g.x&&x.scrollBy({left:-g.x,behavior:a});break}else if(I&&M.y!==f.y){const $=x.scrollTop+m.y,W=w===At.Down&&$<=N.y||w===At.Up&&$>=R.y;if(W&&!m.x){x.scrollTo({top:$,behavior:a});return}W?g.y=x.scrollTop-$:g.y=w===At.Down?x.scrollTop-N.y:x.scrollTop-R.y,g.y&&x.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(t,fu(Xf(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}VC.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=h4,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function UM(e){return!!(e&&"distance"in e)}function HM(e){return!!(e&&"delay"in e)}class GC{constructor(t,n,r){var o;r===void 0&&(r=coe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=sd(s),this.documentListeners=new ff(this.document),this.listeners=new ff(r),this.windowListeners=new ff(to(s)),this.initialCoordinates=(o=t1(i))!=null?o:yi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Do.Resize,this.handleCancel),this.windowListeners.add(Do.DragStart,WM),this.windowListeners.add(Do.VisibilityChange,this.handleCancel),this.windowListeners.add(Do.ContextMenu,WM),this.documentListeners.add(Do.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(HM(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(UM(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Do.Click,uoe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Do.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const l=(n=t1(t))!=null?n:yi,c=Xf(o,l);if(!r&&a){if(UM(a)){if(a.tolerance!=null&&B0(c,a.tolerance))return this.handleCancel();if(B0(c,a.distance))return this.handleStart()}if(HM(a)&&B0(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===At.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const foe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class KC extends GC{constructor(t){const{event:n}=t,r=sd(n.target);super(t,foe,r)}}KC.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const hoe={move:{name:"mousemove"},end:{name:"mouseup"}};var r1;(function(e){e[e.RightClick=2]="RightClick"})(r1||(r1={}));class poe extends GC{constructor(t){super(t,hoe,sd(t.event.target))}}poe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===r1.RightClick?!1:(r==null||r({event:n}),!0)}}];const W0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class moe extends GC{constructor(t){super(t,W0)}static setup(){return window.addEventListener(W0.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(W0.move.name,t)};function t(){}}}moe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var hf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(hf||(hf={}));var Lg;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lg||(Lg={}));function goe(e){let{acceleration:t,activator:n=hf.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=Lg.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:m}=e;const g=voe({delta:f,disabled:!i}),[v,x]=Rre(),w=y.useRef({x:0,y:0}),S=y.useRef({x:0,y:0}),C=y.useMemo(()=>{switch(n){case hf.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case hf.DraggableRect:return o}},[n,o,l]),k=y.useRef(null),T=y.useCallback(()=>{const R=k.current;if(!R)return;const _=w.current.x*S.current.x,M=w.current.y*S.current.y;R.scrollBy(_,M)},[]),N=y.useMemo(()=>a===Lg.TreeOrder?[...c].reverse():c,[a,c]);y.useEffect(()=>{if(!i||!c.length||!C){x();return}for(const R of N){if((r==null?void 0:r(R))===!1)continue;const _=c.indexOf(R),M=d[_];if(!M)continue;const{direction:B,speed:I}=roe(R,M,C,t,m);for(const $ of["x","y"])g[$][B[$]]||(I[$]=0,B[$]=0);if(I.x>0||I.y>0){x(),k.current=R,v(T,s),w.current=I,S.current=B;return}}w.current={x:0,y:0},S.current={x:0,y:0},x()},[t,T,r,x,i,s,JSON.stringify(C),JSON.stringify(g),v,c,N,d,JSON.stringify(m)])}const yoe={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function voe(e){let{delta:t,disabled:n}=e;const r=e1(t);return Fh(o=>{if(n||!r||!o)return yoe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[$n.Backward]:o.x[$n.Backward]||i.x===-1,[$n.Forward]:o.x[$n.Forward]||i.x===1},y:{[$n.Backward]:o.y[$n.Backward]||i.y===-1,[$n.Forward]:o.y[$n.Forward]||i.y===1}}},[n,t,r])}function xoe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Fh(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function woe(e,t){return y.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Qf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Qf||(Qf={}));var o1;(function(e){e.Optimized="optimized"})(o1||(o1={}));const VM=new Map;function boe(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=y.useState(null),{frequency:a,measure:l,strategy:c}=o,d=y.useRef(e),f=w(),m=Yf(f),g=y.useCallback(function(S){S===void 0&&(S=[]),!m.current&&s(C=>C===null?S:C.concat(S.filter(k=>!C.includes(k))))},[m]),v=y.useRef(null),x=Fh(S=>{if(f&&!n)return VM;if(!S||S===VM||d.current!==e||i!=null){const C=new Map;for(let k of e){if(!k)continue;if(i&&i.length>0&&!i.includes(k.id)&&k.rect.current){C.set(k.id,k.rect.current);continue}const T=k.node.current,N=T?new HC(l(T),T):null;k.rect.current=N,N&&C.set(k.id,N)}return C}return S},[e,i,n,f,l]);return y.useEffect(()=>{d.current=e},[e]),y.useEffect(()=>{f||g()},[n,f]),y.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),y.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},a))},[a,f,g,...r]),{droppableRects:x,measureDroppableContainers:g,measuringScheduled:i!=null};function w(){switch(c){case Qf.Always:return!1;case Qf.BeforeDragging:return n;default:return!n}}}function p4(e,t){return Fh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Soe(e,t){return p4(e,t)}function Coe(e){let{callback:t,disabled:n}=e;const r=WC(t),o=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return y.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function uv(e){let{callback:t,disabled:n}=e;const r=WC(t),o=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return y.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function koe(e){return new HC(ad(e),e)}function GM(e,t,n){t===void 0&&(t=koe);const[r,o]=y.useState(null);function i(){o(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const s=Coe({callback(l){if(e)for(const c of l){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),a=uv({callback:i});return Gi(()=>{i(),e?(a==null||a.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[e]),r}function Eoe(e){const t=p4(e);return s4(e,t)}const KM=[];function Noe(e){const t=y.useRef(e),n=Fh(r=>e?r&&r!==KM&&e&&t.current&&e.parentNode===t.current.parentNode?r:cv(e):KM,[e]);return y.useEffect(()=>{t.current=e},[e]),n}function Toe(e){const[t,n]=y.useState(null),r=y.useRef(e),o=y.useCallback(i=>{const s=$0(i.target);s&&n(a=>a?(a.set(s,n1(s)),new Map(a)):null)},[]);return y.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(l=>{const c=$0(l);return c?(c.addEventListener("scroll",o,{passive:!0}),[c,n1(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{const c=$0(l);c==null||c.removeEventListener("scroll",o)})}},[o,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>fu(i,s),yi):f4(e):yi,[e,t])}function qM(e,t){t===void 0&&(t=[]);const n=y.useRef(null);return y.useEffect(()=>{n.current=null},t),y.useEffect(()=>{const r=e!==yi;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Xf(e,n.current):yi}function Roe(e){y.useEffect(()=>{if(!lv)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Moe(e,t){return y.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function m4(e){return y.useMemo(()=>e?Zre(e):null,[e])}const YM=[];function Aoe(e,t){t===void 0&&(t=ad);const[n]=e,r=m4(n?to(n):null),[o,i]=y.useState(YM);function s(){i(()=>e.length?e.map(l=>u4(l)?r:new HC(t(l),l)):YM)}const a=uv({callback:s});return Gi(()=>{a==null||a.disconnect(),s(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),o}function Poe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Lh(t)?t:e}function _oe(e){let{measure:t}=e;const[n,r]=y.useState(null),o=y.useCallback(c=>{for(const{target:d}of c)if(Lh(d)){r(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=uv({callback:o}),s=y.useCallback(c=>{const d=Poe(c);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,l]=Dg(s);return y.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Ioe=[{sensor:KC,options:{}},{sensor:VC,options:{}}],Ooe={current:{}},Um={draggable:{measure:BM},droppable:{measure:BM,strategy:Qf.WhileDragging,frequency:o1.Optimized},dragOverlay:{measure:ad}};class pf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Doe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:jg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Um,measureDroppableContainers:jg,windowRect:null,measuringScheduled:!1},joe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:jg,draggableNodes:new Map,over:null,measureDroppableContainers:jg},dv=y.createContext(joe),g4=y.createContext(Doe);function Loe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pf}}}function Foe(e,t){switch(t.type){case Dn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Dn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Dn.DragEnd:case Dn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dn.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new pf(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Dn.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new pf(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case Dn.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new pf(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function zoe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=y.useContext(dv),i=e1(r),s=e1(n==null?void 0:n.id);return y.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!UC(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[l.current,c.current]){if(!d)continue;const f=Pre(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function $oe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function Boe(e){return y.useMemo(()=>({draggable:{...Um.draggable,...e==null?void 0:e.draggable},droppable:{...Um.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Um.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Woe(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=y.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Gi(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),f=s4(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=a4(c);m&&m.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const y4=y.createContext({...yi,scaleX:1,scaleY:1});var la;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(la||(la={}));const Uoe=y.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:c,sensors:d=Ioe,collisionDetection:f=Gre,measuring:m,modifiers:g,...v}=t;const x=y.useReducer(Foe,void 0,Loe),[w,S]=x,[C,k]=Lre(),[T,N]=y.useState(la.Uninitialized),R=T===la.Initialized,{draggable:{active:_,nodes:M,translate:B},droppable:{containers:I}}=w,$=_!=null?M.get(_):null,W=y.useRef({initial:null,translated:null}),V=y.useMemo(()=>{var Qt;return _!=null?{id:_,data:(Qt=$==null?void 0:$.data)!=null?Qt:Ooe,rect:W}:null},[_,$]),H=y.useRef(null),[ee,X]=y.useState(null),[J,L]=y.useState(null),D=Yf(v,Object.values(v)),A=zh("DndDescribedBy",s),G=y.useMemo(()=>I.getEnabled(),[I]),z=Boe(m),{droppableRects:O,measureDroppableContainers:Z,measuringScheduled:re}=boe(G,{dragging:R,dependencies:[B.x,B.y],config:z.droppable}),ne=xoe(M,_),K=y.useMemo(()=>J?t1(J):null,[J]),ue=es(),fe=Soe(ne,z.draggable.measure);Woe({activeNode:_!=null?M.get(_):null,config:ue.layoutShiftCompensation,initialRect:fe,measure:z.draggable.measure});const ce=GM(ne,z.draggable.measure,fe),Re=GM(ne?ne.parentElement:null),Oe=y.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=I.getNodeFor((n=Oe.current.over)==null?void 0:n.id),ze=_oe({measure:z.dragOverlay.measure}),tt=(r=ze.nodeRef.current)!=null?r:ne,De=R?(o=ze.rect)!=null?o:ce:null,it=!!(ze.nodeRef.current&&ze.rect),kt=Eoe(it?null:ce),Ot=m4(tt?to(tt):null),_e=Noe(R?Ze??ne:null),Ae=Aoe(_e),Ke=$oe(g,{transform:{x:B.x-kt.x,y:B.y-kt.y,scaleX:1,scaleY:1},activatorEvent:J,active:V,activeNodeRect:ce,containerNodeRect:Re,draggingNodeRect:De,over:Oe.current.over,overlayNodeRect:ze.rect,scrollableAncestors:_e,scrollableAncestorRects:Ae,windowRect:Ot}),lt=K?fu(K,B):null,pe=Toe(_e),we=qM(pe),Y=qM(pe,[ce]),le=fu(Ke,we),Ne=De?Yre(De,Ke):null,Pe=V&&Ne?f({active:V,collisionRect:Ne,droppableRects:O,droppableContainers:G,pointerCoordinates:lt}):null,Je=i4(Pe,"id"),[ae,Ie]=y.useState(null),Ee=it?Ke:fu(Ke,Y),Le=Kre(Ee,(i=ae==null?void 0:ae.rect)!=null?i:null,ce),ft=y.useRef(null),gt=y.useCallback((Qt,Vt)=>{let{sensor:Pn,options:qe}=Vt;if(H.current==null)return;const st=M.get(H.current);if(!st)return;const ut=Qt.nativeEvent,Gt=new Pn({active:H.current,activeNode:st,event:ut,options:qe,context:Oe,onAbort(jt){if(!M.get(jt))return;const{onDragAbort:Kt}=D.current,rn={id:jt};Kt==null||Kt(rn),C({type:"onDragAbort",event:rn})},onPending(jt,ln,Kt,rn){if(!M.get(jt))return;const{onDragPending:ye}=D.current,ve={id:jt,constraint:ln,initialCoordinates:Kt,offset:rn};ye==null||ye(ve),C({type:"onDragPending",event:ve})},onStart(jt){const ln=H.current;if(ln==null)return;const Kt=M.get(ln);if(!Kt)return;const{onDragStart:rn}=D.current,ts={activatorEvent:ut,active:{id:ln,data:Kt.data,rect:W}};Wo.unstable_batchedUpdates(()=>{rn==null||rn(ts),N(la.Initializing),S({type:Dn.DragStart,initialCoordinates:jt,active:ln}),C({type:"onDragStart",event:ts}),X(ft.current),L(ut)})},onMove(jt){S({type:Dn.DragMove,coordinates:jt})},onEnd:gn(Dn.DragEnd),onCancel:gn(Dn.DragCancel)});ft.current=Gt;function gn(jt){return async function(){const{active:Kt,collisions:rn,over:ts,scrollAdjustedTranslate:ye}=Oe.current;let ve=null;if(Kt&&ye){const{cancelDrop:Se}=D.current;ve={activatorEvent:ut,active:Kt,collisions:rn,delta:ye,over:ts},jt===Dn.DragEnd&&typeof Se=="function"&&await Promise.resolve(Se(ve))&&(jt=Dn.DragCancel)}H.current=null,Wo.unstable_batchedUpdates(()=>{S({type:jt}),N(la.Uninitialized),Ie(null),X(null),L(null),ft.current=null;const Se=jt===Dn.DragEnd?"onDragEnd":"onDragCancel";if(ve){const Ue=D.current[Se];Ue==null||Ue(ve),C({type:Se,event:ve})}})}}},[M]),Ln=y.useCallback((Qt,Vt)=>(Pn,qe)=>{const st=Pn.nativeEvent,ut=M.get(qe);if(H.current!==null||!ut||st.dndKit||st.defaultPrevented)return;const Gt={active:ut};Qt(Pn,Vt.options,Gt)===!0&&(st.dndKit={capturedBy:Vt.sensor},H.current=qe,gt(Pn,Vt))},[M,gt]),mn=woe(d,Ln);Roe(d),Gi(()=>{ce&&T===la.Initializing&&N(la.Initialized)},[ce,T]),y.useEffect(()=>{const{onDragMove:Qt}=D.current,{active:Vt,activatorEvent:Pn,collisions:qe,over:st}=Oe.current;if(!Vt||!Pn)return;const ut={active:Vt,activatorEvent:Pn,collisions:qe,delta:{x:le.x,y:le.y},over:st};Wo.unstable_batchedUpdates(()=>{Qt==null||Qt(ut),C({type:"onDragMove",event:ut})})},[le.x,le.y]),y.useEffect(()=>{const{active:Qt,activatorEvent:Vt,collisions:Pn,droppableContainers:qe,scrollAdjustedTranslate:st}=Oe.current;if(!Qt||H.current==null||!Vt||!st)return;const{onDragOver:ut}=D.current,Gt=qe.get(Je),gn=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,jt={active:Qt,activatorEvent:Vt,collisions:Pn,delta:{x:st.x,y:st.y},over:gn};Wo.unstable_batchedUpdates(()=>{Ie(gn),ut==null||ut(jt),C({type:"onDragOver",event:jt})})},[Je]),Gi(()=>{Oe.current={activatorEvent:J,active:V,activeNode:ne,collisionRect:Ne,collisions:Pe,droppableRects:O,draggableNodes:M,draggingNode:tt,draggingNodeRect:De,droppableContainers:I,over:ae,scrollableAncestors:_e,scrollAdjustedTranslate:le},W.current={initial:De,translated:Ne}},[V,ne,Pe,Ne,M,tt,De,O,I,ae,_e,le]),goe({...ue,delta:B,draggingRect:Ne,pointerCoordinates:lt,scrollableAncestors:_e,scrollableAncestorRects:Ae});const Zi=y.useMemo(()=>({active:V,activeNode:ne,activeNodeRect:ce,activatorEvent:J,collisions:Pe,containerNodeRect:Re,dragOverlay:ze,draggableNodes:M,droppableContainers:I,droppableRects:O,over:ae,measureDroppableContainers:Z,scrollableAncestors:_e,scrollableAncestorRects:Ae,measuringConfiguration:z,measuringScheduled:re,windowRect:Ot}),[V,ne,ce,J,Pe,Re,ze,M,I,O,ae,Z,_e,Ae,z,re,Ot]),Ws=y.useMemo(()=>({activatorEvent:J,activators:mn,active:V,activeNodeRect:ce,ariaDescribedById:{draggable:A},dispatch:S,draggableNodes:M,over:ae,measureDroppableContainers:Z}),[J,mn,V,ce,S,A,M,ae,Z]);return se.createElement(n4.Provider,{value:k},se.createElement(dv.Provider,{value:Ws},se.createElement(g4.Provider,{value:Zi},se.createElement(y4.Provider,{value:Le},c)),se.createElement(zoe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),se.createElement($re,{...a,hiddenTextDescribedById:A}));function es(){const Qt=(ee==null?void 0:ee.autoScrollEnabled)===!1,Vt=typeof l=="object"?l.enabled===!1:l===!1,Pn=R&&!Qt&&!Vt;return typeof l=="object"?{...l,enabled:Pn}:{enabled:Pn}}}),Hoe=y.createContext(null),XM="button",Voe="Draggable";function Goe(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=zh(Voe),{activators:s,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:m}=y.useContext(dv),{role:g=XM,roleDescription:v="draggable",tabIndex:x=0}=o??{},w=(l==null?void 0:l.id)===t,S=y.useContext(w?y4:Hoe),[C,k]=Dg(),[T,N]=Dg(),R=Moe(s,t),_=Yf(n);Gi(()=>(f.set(t,{id:t,key:i,node:C,activatorNode:T,data:_}),()=>{const B=f.get(t);B&&B.key===i&&f.delete(t)}),[f,t]);const M=y.useMemo(()=>({role:g,tabIndex:x,"aria-disabled":r,"aria-pressed":w&&g===XM?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,g,x,w,v,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:M,isDragging:w,listeners:r?void 0:R,node:C,over:m,setNodeRef:k,setActivatorNodeRef:N,transform:S}}function Koe(){return y.useContext(g4)}const qoe="Droppable",Yoe={timeout:25};function Xoe(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=zh(qoe),{active:s,dispatch:a,over:l,measureDroppableContainers:c}=y.useContext(dv),d=y.useRef({disabled:n}),f=y.useRef(!1),m=y.useRef(null),g=y.useRef(null),{disabled:v,updateMeasurementsFor:x,timeout:w}={...Yoe,...o},S=Yf(x??r),C=y.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(S.current)?S.current:[S.current]),g.current=null},w)},[w]),k=uv({callback:C,disabled:v||!s}),T=y.useCallback((M,B)=>{k&&(B&&(k.unobserve(B),f.current=!1),M&&k.observe(M))},[k]),[N,R]=Dg(T),_=Yf(t);return y.useEffect(()=>{!k||!N.current||(k.disconnect(),f.current=!1,k.observe(N.current))},[N,k]),y.useEffect(()=>(a({type:Dn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:N,rect:m,data:_}}),()=>a({type:Dn.UnregisterDroppable,key:i,id:r})),[r]),y.useEffect(()=>{n!==d.current.disabled&&(a({type:Dn.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:m,isOver:(l==null?void 0:l.id)===r,node:N,over:l,setNodeRef:R}}function qC(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Joe(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function sm(e){return e!==null&&e>=0}function Qoe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Zoe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const v4=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=qC(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},am={scaleX:1,scaleY:1},eie=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const c=i[s];return c?{x:0,y:n<s?c.top+c.height-(a.top+a.height):c.top-a.top,...am}:null}const l=tie(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-l,...am}:o<n&&o>=s?{x:0,y:a.height+l,...am}:{x:0,y:0,...am}};function tie(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const x4="Sortable",w4=se.createContext({activeIndex:-1,containerId:x4,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:v4,disabled:{draggable:!1,droppable:!1}});function nie(e){let{children:t,id:n,items:r,strategy:o=v4,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:d}=Koe(),f=zh(x4,n),m=a.rect!==null,g=y.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),v=s!=null,x=s?g.indexOf(s.id):-1,w=c?g.indexOf(c.id):-1,S=y.useRef(g),C=!Qoe(g,S.current),k=w!==-1&&x===-1||C,T=Zoe(i);Gi(()=>{C&&v&&d(g)},[C,g,v,d]),y.useEffect(()=>{S.current=g},[g]);const N=y.useMemo(()=>({activeIndex:x,containerId:f,disabled:T,disableTransforms:k,items:g,overIndex:w,useDragOverlay:m,sortedRects:Joe(g,l),strategy:o}),[x,f,T.draggable,T.droppable,k,g,w,l,m,o]);return se.createElement(w4.Provider,{value:N},t)}const rie=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return qC(n,r,o).indexOf(t)},oie=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===l},iie={duration:200,easing:"ease"},b4="transform",sie=Jf.Transition.toString({property:b4,duration:0,easing:"linear"}),aie={roleDescription:"sortable"};function lie(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=y.useState(null),a=y.useRef(n);return Gi(()=>{if(!t&&n!==a.current&&r.current){const l=o.current;if(l){const c=ad(r.current,{ignoreTransform:!0}),d={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),y.useEffect(()=>{i&&s(null)},[i]),i}function cie(e){let{animateLayoutChanges:t=oie,attributes:n,disabled:r,data:o,getNewIndex:i=rie,id:s,strategy:a,resizeObserverConfig:l,transition:c=iie}=e;const{items:d,containerId:f,activeIndex:m,disabled:g,disableTransforms:v,sortedRects:x,overIndex:w,useDragOverlay:S,strategy:C}=y.useContext(w4),k=uie(r,g),T=d.indexOf(s),N=y.useMemo(()=>({sortable:{containerId:f,index:T,items:d},...o}),[f,o,T,d]),R=y.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:_,node:M,isOver:B,setNodeRef:I}=Xoe({id:s,data:N,disabled:k.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...l}}),{active:$,activatorEvent:W,activeNodeRect:V,attributes:H,setNodeRef:ee,listeners:X,isDragging:J,over:L,setActivatorNodeRef:D,transform:A}=Goe({id:s,data:N,attributes:{...aie,...n},disabled:k.draggable}),G=Tre(I,ee),z=!!$,O=z&&!v&&sm(m)&&sm(w),Z=!S&&J,re=Z&&O?A:null,K=O?re??(a??C)({rects:x,activeNodeRect:V,activeIndex:m,overIndex:w,index:T}):null,ue=sm(m)&&sm(w)?i({id:s,items:d,activeIndex:m,overIndex:w}):T,fe=$==null?void 0:$.id,ce=y.useRef({activeId:fe,items:d,newIndex:ue,containerId:f}),Re=d!==ce.current.items,Oe=t({active:$,containerId:f,isDragging:J,isSorting:z,id:s,index:T,items:d,newIndex:ce.current.newIndex,previousItems:ce.current.items,previousContainerId:ce.current.containerId,transition:c,wasDragging:ce.current.activeId!=null}),Ze=lie({disabled:!Oe,index:T,node:M,rect:_});return y.useEffect(()=>{z&&ce.current.newIndex!==ue&&(ce.current.newIndex=ue),f!==ce.current.containerId&&(ce.current.containerId=f),d!==ce.current.items&&(ce.current.items=d)},[z,ue,f,d]),y.useEffect(()=>{if(fe===ce.current.activeId)return;if(fe!=null&&ce.current.activeId==null){ce.current.activeId=fe;return}const tt=setTimeout(()=>{ce.current.activeId=fe},50);return()=>clearTimeout(tt)},[fe]),{active:$,activeIndex:m,attributes:H,data:N,rect:_,index:T,newIndex:ue,items:d,isOver:B,isSorting:z,isDragging:J,listeners:X,node:M,overIndex:w,over:L,setNodeRef:G,setActivatorNodeRef:D,setDroppableNodeRef:I,setDraggableNodeRef:ee,transform:Ze??K,transition:ze()};function ze(){if(Ze||Re&&ce.current.newIndex===T)return sie;if(!(Z&&!UC(W)||!c)&&(z||Oe))return Jf.Transition.toString({...c,property:b4})}}function uie(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Fg(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const die=[At.Down,At.Right,At.Up,At.Left],fie=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(die.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=o.get(f.id);if(m)switch(e.code){case At.Down:r.top<m.top&&l.push(f);break;case At.Up:r.top>m.top&&l.push(f);break;case At.Left:r.left>m.left&&l.push(f);break;case At.Right:r.left<m.left&&l.push(f);break}});const c=Hre({collisionRect:r,droppableRects:o,droppableContainers:l});let d=i4(c,"id");if(d===(s==null?void 0:s.id)&&c.length>1&&(d=c[1].id),d!=null){const f=i.get(n.id),m=i.get(d),g=m?o.get(m.id):null,v=m==null?void 0:m.node.current;if(v&&g&&f&&m){const w=cv(v).some((R,_)=>a[_]!==R),S=S4(f,m),C=hie(f,m),k=w||!S?{x:0,y:0}:{x:C?r.width-g.width:0,y:C?r.height-g.height:0},T={x:g.left,y:g.top};return k.x&&k.y?T:Xf(T,k)}}}};function S4(e,t){return!Fg(e)||!Fg(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function hie(e,t){return!Fg(e)||!Fg(t)||!S4(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const pie=({item:e,editingItemId:t,editingItemText:n,setEditingItemText:r,toggleItemCompleted:o,startEditingItem:i,handleEditItem:s,removeItem:a})=>{const l=t===e.id,{attributes:c,listeners:d,setNodeRef:f,transform:m,transition:g,isDragging:v}=cie({id:e.id,disabled:l}),x={transform:Jf.Transform.toString(m),transition:g,opacity:v?.5:1};return p.jsx("div",{ref:f,style:x,className:"flex items-center py-1 group","data-sortable-item":!0,children:l?p.jsxs("div",{className:"flex items-center gap-1 w-full",children:[p.jsx(hn,{value:n,onChange:w=>r(w.target.value),className:"h-8 flex-grow",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&s()}}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:s,className:"h-8 w-8 p-0",children:p.jsx(qo,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>r(""),className:"h-8 w-8 p-0",children:p.jsx(wi,{className:"h-4 w-4"})})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{...c,...d,className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing mr-2 p-1","data-sortable-handle":!0,children:p.jsx(bq,{className:"h-4 w-4 text-gray-400 dark:text-gray-300","data-lucide":"grip-vertical"})}),p.jsxs("div",{className:"flex items-center flex-grow cursor-pointer",onClick:()=>o(e.id),children:[p.jsx("div",{style:e.completed?{backgroundColor:"var(--list-color)",borderColor:"var(--list-color)"}:{},className:`w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 ${e.completed?"":"border-gray-300 hover:border-[var(--list-color)]"}`,children:e.completed&&p.jsx(qo,{className:"h-3 w-3 text-white"})}),p.jsx("span",{className:`${e.completed?"line-through text-gray-400 dark:text-gray-300":""}`,style:{fontFamily:'"Raleway", sans-serif'},children:e.text})]}),p.jsxs("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>i(e),className:"h-8 w-8 p-0",children:p.jsx(Ch,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>a(e.id),className:"h-8 w-8 p-0 text-red-600",children:p.jsx(Py,{className:"h-4 w-4"})})]})]})})},mie=({progress:e,totalItems:t,completedItems:n})=>p.jsxs("div",{className:"px-6 py-2",children:[p.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mb-1",children:p.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${e}%`,backgroundColor:"var(--list-color)"}})}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-white",style:{fontFamily:'"Raleway", sans-serif'},children:[n," of ",t," completed"]})]}),gie=e=>{const{newItemText:t,setNewItemText:n,handleAddItem:r,inputRef:o,currentInputSuggestion:i,currentSuggestion:s,handleAcceptSuggestion:a,handleGetSuggestion:l,aiEnabled:c,isLoadingSuggestions:d}=e,f=m=>{if(console.log("Key pressed:",m.key,{currentInputSuggestion:i}),m.key==="Enter")r();else if(m.key==="Escape")n("");else if(m.key==="Tab"&&i)m.preventDefault(),a(),console.log("Accepting suggestion with Tab");else if(m.key==="ArrowRight"&&i){const g=m.currentTarget;g.selectionStart===g.value.length&&(m.preventDefault(),a(),console.log("Accepting suggestion with ArrowRight"))}};return p.jsxs("div",{className:"flex flex-col p-2 border-t",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex-1 rounded-md border",children:[p.jsx(hn,{ref:o,value:t,onChange:m=>n(m.target.value),placeholder:"Add new item...",className:`h-8 border-0 focus-visible:ring-0 focus-visible:ring-offset-0 ${c?"pr-8":""}`,style:{fontFamily:'"Raleway", sans-serif'},onKeyDown:f}),c&&p.jsx("button",{type:"button",onClick:l,className:"absolute right-2 top-1/2 transform -translate-y-1/2 cursor-pointer",children:p.jsx(ba,{size:14,style:{color:"var(--list-color)"},className:`${d?"animate-pulse":""}`})}),c&&i&&t&&i.toLowerCase().startsWith(t.toLowerCase())&&p.jsx("div",{className:"absolute left-0 top-0 right-8 bottom-0 flex items-center pointer-events-none z-10",children:p.jsxs("div",{className:"px-3 flex items-center w-full pr-2",children:[p.jsx("span",{className:"text-transparent",children:t}),p.jsx("span",{className:"text-gray-500 overflow-hidden text-ellipsis whitespace-nowrap font-medium",style:{pointerEvents:"none",fontFamily:'"Raleway", sans-serif',maxWidth:"calc(100% - 2rem)"},title:"Press Tab or Right Arrow to accept",children:i.substring(t.length)})]})})]}),p.jsx(Me,{size:"sm",variant:"secondary",onClick:r,className:"h-8 w-8 p-0",disabled:!t.trim(),children:p.jsx(ci,{className:"h-4 w-4"})}),p.jsxs(Me,{size:"sm",variant:"ghost",onClick:()=>n(""),className:"h-8 w-8 p-0",children:[p.jsx("span",{className:"sr-only",children:"Clear"}),p.jsx("span",{"aria-hidden":"true",children:"×"})]})]}),c&&p.jsxs("button",{onClick:l,className:"mt-2 w-full flex items-center gap-1.5 px-2 py-1.5 text-sm text-foreground hover:bg-muted rounded-md transition-colors",style:{fontFamily:'"Raleway", sans-serif'},disabled:d,children:[p.jsx(ba,{className:"w-4 h-4",style:{color:"var(--list-color)"}}),p.jsx("span",{className:"font-medium",children:"Suggest:"}),s&&p.jsx("span",{style:{color:"var(--list-color)"},className:"font-medium overflow-hidden text-ellipsis whitespace-nowrap",children:s})]})]})},YC=({list:e,onUpdate:t,onDelete:n,existingCategories:r,isCollapsed:o,onToggleCollapsed:i,addCategory:s,updateCategory:a})=>{var tt;const{isCollapsibleOpen:l,isEditing:c,setIsEditing:d,editTitle:f,setEditTitle:m,handleEditTitle:g,handleDeleteList:v,handleSaveListColor:x,isSavingColor:w,isEditingCategory:S,setIsEditingCategory:C,showNewCategoryInput:k,setShowNewCategoryInput:T,newCategory:N,setNewCategory:R,handleEditCategory:_,handleAddCustomCategory:M,handleUpdateCategoryColor:B,newItemText:I,setNewItemText:$,editingItemId:W,editingItemText:V,setEditingItemText:H,handleAddItem:ee,toggleItemCompleted:X,removeItem:J,startEditingItem:L,handleEditItem:D,isLoadingSuggestions:A,handleGetSuggestion:G,handleAcceptSuggestion:z,currentSuggestion:O,currentInputSuggestion:Z,aiEnabled:re,titleEditRef:ne,newItemInputRef:K}=Gne({list:e,onUpdate:t,onDelete:n,isCollapsed:o,onToggleCollapsed:i,existingCategories:r,addCategory:s,updateCategory:a}),ue=Bre(FM(KC),FM(VC,{coordinateGetter:fie})),fe=De=>{const{active:it,over:kt}=De;if(kt&&it.id!==kt.id){const Ot=e.items.findIndex(lt=>lt.id===it.id),_e=e.items.findIndex(lt=>lt.id===kt.id),Ae=qC(e.items,Ot,_e),Ke={...e,items:Ae};t(Ke)}};y.useEffect(()=>{if(!c)return;const De=it=>{ne.current&&!ne.current.contains(it.target)&&g()};return document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}},[c,g]);const ce=e.items.length,Re=e.items.filter(De=>De.completed).length,Oe=ce>0?Re/ce*100:0,Ze=(tt=r.find(De=>De.name===e.type))==null?void 0:tt.color_value,ze=e.color_value||Ze||"#808080";return p.jsx(DC,{open:l,onOpenChange:De=>{i&&o!==void 0&&!o!==De&&i()},className:"w-full",style:{"--list-color":ze},children:p.jsxs(tv,{className:"w-full border shadow-sm",children:[p.jsx(qne,{title:e.title,listColor:e.color_value,isEditing:c,editTitle:f,isCollapsibleOpen:l,setEditTitle:m,setIsEditing:d,handleEditTitle:g,handleDeleteList:v,titleEditRef:ne,onColorSave:x,isSavingColor:w}),p.jsx(Nre,{currentCategory:e.type,categoryColor:Ze,itemColor:e.color_value,existingCategories:r,isEditingCategory:S,showNewCategoryInput:k,newCategory:N,setNewCategory:R,setIsEditingCategory:C,setShowNewCategoryInput:T,handleEditCategory:_,handleAddCustomCategory:M,handleUpdateCategoryColor:B}),p.jsx(LC,{children:p.jsxs(fF,{className:"p-0",children:[ce>0&&p.jsx(mie,{progress:Oe,totalItems:ce,completedItems:Re}),p.jsxs("div",{className:"px-6 py-2 space-y-0.5",children:[p.jsx(Uoe,{sensors:ue,collisionDetection:Ure,onDragEnd:fe,children:p.jsx(nie,{items:e.items.map(De=>De.id),strategy:eie,children:e.items.map(De=>p.jsx(pie,{item:De,editingItemId:W,editingItemText:V,setEditingItemText:H,toggleItemCompleted:X,startEditingItem:L,handleEditItem:D,removeItem:J},De.id))})}),e.items.length===0&&p.jsx("div",{className:"text-gray-400 dark:text-gray-300 text-sm py-2 italic",style:{fontFamily:'"Raleway", sans-serif'},children:"No items yet. Add one below or use AI suggestions."})]}),p.jsx(gie,{newItemText:I,setNewItemText:$,handleAddItem:ee,inputRef:K,currentInputSuggestion:Z,currentSuggestion:O,handleAcceptSuggestion:z,handleGetSuggestion:G,aiEnabled:re,isLoadingSuggestions:A})]})})]})})},yie=()=>{const[e,t]=y.useState([]),[n,r]=y.useState(""),[o,i]=y.useState(!1),[s,a]=y.useState("all"),[l,c]=y.useState(!0),{toast:d}=Yo(),{isAuthenticated:f,token:m}=Si();y.useEffect(()=>{f&&g()},[f]);const g=async()=>{try{c(!0);const R=(await an.get("/api/lists",{headers:{Authorization:`Bearer ${m}`}})).data.map(_=>({id:_.id,title:_.title,type:_.category||"General",items:_.items||[],createdAt:new Date(_.createdAt),color_value:_.color_value||"#808080"}));t(R)}catch(N){console.error("Failed to fetch lists:",N),d({title:"Error fetching lists",description:"Could not retrieve your lists. Please try again later.",variant:"destructive"})}finally{c(!1)}},v=async(N,R)=>{try{const _=await an.post("/api/lists",{title:N,category:R,items:[]},{headers:{Authorization:`Bearer ${m}`}}),M={..._.data,type:_.data.category,items:_.data.items||[],createdAt:new Date(_.data.createdAt),color_value:_.data.color_value||"#808080"};t(B=>[M,...B]),i(!1),d({title:"List created!",description:`Your ${R} list "${N}" has been created.`})}catch(_){console.error("Failed to create list:",_),d({title:"Error creating list",description:"Could not create your list. Please try again.",variant:"destructive"})}},x=async N=>{try{await an.delete(`/api/lists/${N}`,{headers:{Authorization:`Bearer ${m}`}}),t(R=>R.filter(_=>_.id!==N)),d({title:"List deleted",description:"Your list has been removed."})}catch(R){console.error("Failed to delete list:",R),d({title:"Error deleting list",description:"Could not delete your list. Please try again.",variant:"destructive"})}},w=async N=>{try{const R={title:N.title,category:N.type,items:N.items,color_value:N.color_value};await an.put(`/api/lists/${N.id}`,R,{headers:{Authorization:`Bearer ${m}`}});const _=N.type,M=e.find(I=>I.id===N.id),B=M?M.type:void 0;t(I=>I.map($=>$.id===N.id?{...N,color_value:N.color_value||"#808080"}:$))}catch(R){console.error("Failed to update list:",R),d({title:"Error updating list",description:"Could not update your list. Please try again.",variant:"destructive"})}},S=e.filter(N=>{const R=N.title.toLowerCase().includes(n.toLowerCase())||N.items.some(M=>M.text.toLowerCase().includes(n.toLowerCase())),_=s==="all"||N.type===s;return R&&_}),C=()=>{const N=new Set(e.map(R=>R.type||"General"));return["all",...Array.from(N).sort()]},k=()=>{const N=Array.from(new Set(e.map(R=>R.type).filter(R=>R&&R.toLowerCase()!=="general")));return N.length===0&&e.some(R=>R.type&&R.type.toLowerCase()==="general")?["General"]:N.length>0?N.sort():["General"]},T=()=>{const N={all:e.length};return e.forEach(R=>{N[R.type]=(N[R.type]||0)+1}),N};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/50",children:[p.jsx("div",{className:"bg-background border-b border-border sticky top-0 z-40",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsx("div",{className:"py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Lists"}),p.jsxs("div",{className:"relative hidden sm:block ml-4",children:[p.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),p.jsx(hn,{placeholder:"Search lists...",value:n,onChange:N=>r(N.target.value),className:"pl-10 w-48 h-9"})]})]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs(Me,{onClick:()=>i(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:[p.jsx(ci,{className:"h-4 w-4 mr-1"}),p.jsx("span",{className:"hidden sm:inline",children:"New List"}),p.jsx("span",{className:"sm:hidden",children:"New"})]})})]})}),p.jsx("div",{className:"sm:hidden pb-4",children:p.jsxs("div",{className:"relative",children:[p.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),p.jsx(hn,{placeholder:"Search lists...",value:n,onChange:N=>r(N.target.value),className:"pl-10"})]})})]})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:C().map(N=>{const R=T()[N]||0;return p.jsxs(Me,{variant:s===N?"default":"outline",size:"sm",onClick:()=>a(N),className:`capitalize ${s===N?"bg-blue-600 hover:bg-blue-700":""}`,children:[N," (",R,")"]},N)})}),l?p.jsx("div",{className:"text-center py-12",children:p.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[p.jsx("div",{className:"h-8 bg-slate-200 rounded w-32 mb-4"}),p.jsx("div",{className:"h-4 bg-slate-200 rounded w-64"})]})}):S.length===0?p.jsx("div",{className:"text-center py-12",children:e.length===0?p.jsx("div",{className:"max-w-md mx-auto",children:p.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border p-8",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(ci,{className:"h-8 w-8 text-blue-600"})}),p.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Create your first list"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Get organized with custom lists for any purpose - shopping, notes, tasks, and more."}),p.jsxs(Me,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[p.jsx(ci,{className:"h-4 w-4 mr-2"}),"Create List"]})]})}):p.jsxs("div",{className:"text-muted-foreground",children:[p.jsx(Li,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"No lists match your search criteria."})]})}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(N=>p.jsx(YC,{list:N,onUpdate:w,onDelete:x,existingCategories:k()},N.id))})]}),p.jsx(dF,{isOpen:o,onClose:()=>i(!1),onCreateList:v,existingCategories:k()})]})},vie=()=>{const e=Qa();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},xie=()=>{const e=ed();return y.useEffect(()=>{(async()=>{var n,r,o;try{const i=new URLSearchParams(window.location.search),s=i.get("code"),a=i.get("error");if(console.log("AuthCallback received:",{hasCode:!!s,codeLength:s==null?void 0:s.length,error:a||"none",searchParams:window.location.search}),a){console.error("OAuth error:",a),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:a},window.location.origin),window.close()):e("/",{replace:!0});return}if(!s){console.error("No authorization code received"),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:"No authorization code received"},window.location.origin),window.close()):e("/",{replace:!0});return}const l=$f();console.log("Authorization code found, length:",s.length),console.log("Sending request to backend at:",`${l}/api/auth/google-login`);const c=await fetch(`${l}/api/auth/google-login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s})});if(console.log("Backend response received, status:",c.status),!c.ok)throw new Error("Failed to authenticate with backend");const d=await c.json();console.log("User authenticated successfully:",((n=d.user)==null?void 0:n.email)||"unknown"),window.opener?(console.log("Window opener found, posting success message"),window.opener.postMessage({type:"GOOGLE_AUTH_SUCCESS",user:d.user,token:d.accessToken},window.location.origin),window.close()):(console.log("No opener window, navigating to home page"),e("/",{replace:!0}))}catch(i){console.error("Error during auth callback:",i),console.error("Response data:",(r=i.response)==null?void 0:r.data),console.error("Response status:",(o=i.response)==null?void 0:o.status),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:i instanceof Error?i.message:"Authentication failed"},window.location.origin),window.close()):e("/",{replace:!0})}})()},[e]),p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Completing authentication..."})]})})};function wie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const bie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cie={};function JM(e,t){return(Cie.jsx?Sie:bie).test(e)}const kie=/[ \t\n\f\r]/g;function Eie(e){return typeof e=="object"?e.type==="text"?QM(e.value):!1:QM(e)}function QM(e){return e.replace(kie,"")===""}let $h=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};$h.prototype.normal={};$h.prototype.property={};$h.prototype.space=void 0;function C4(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new $h(n,r,t)}function i1(e){return e.toLowerCase()}class no{constructor(t,n){this.attribute=n,this.property=t}}no.prototype.attribute="";no.prototype.booleanish=!1;no.prototype.boolean=!1;no.prototype.commaOrSpaceSeparated=!1;no.prototype.commaSeparated=!1;no.prototype.defined=!1;no.prototype.mustUseProperty=!1;no.prototype.number=!1;no.prototype.overloadedBoolean=!1;no.prototype.property="";no.prototype.spaceSeparated=!1;no.prototype.space=void 0;let Nie=0;const xt=fc(),Tn=fc(),s1=fc(),ke=fc(),Xt=fc(),hu=fc(),co=fc();function fc(){return 2**++Nie}const a1=Object.freeze(Object.defineProperty({__proto__:null,boolean:xt,booleanish:Tn,commaOrSpaceSeparated:co,commaSeparated:hu,number:ke,overloadedBoolean:s1,spaceSeparated:Xt},Symbol.toStringTag,{value:"Module"})),U0=Object.keys(a1);class XC extends no{constructor(t,n,r,o){let i=-1;if(super(t,n),ZM(this,"space",o),typeof r=="number")for(;++i<U0.length;){const s=U0[i];ZM(this,U0[i],(r&a1[s])===a1[s])}}}XC.prototype.defined=!0;function ZM(e,t,n){n&&(e[t]=n)}function ld(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new XC(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[i1(r)]=r,n[i1(i.attribute)]=r}return new $h(t,n,e.space)}const k4=ld({properties:{ariaActiveDescendant:null,ariaAtomic:Tn,ariaAutoComplete:null,ariaBusy:Tn,ariaChecked:Tn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Xt,ariaCurrent:null,ariaDescribedBy:Xt,ariaDetails:null,ariaDisabled:Tn,ariaDropEffect:Xt,ariaErrorMessage:null,ariaExpanded:Tn,ariaFlowTo:Xt,ariaGrabbed:Tn,ariaHasPopup:null,ariaHidden:Tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xt,ariaLevel:ke,ariaLive:null,ariaModal:Tn,ariaMultiLine:Tn,ariaMultiSelectable:Tn,ariaOrientation:null,ariaOwns:Xt,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Tn,ariaReadOnly:Tn,ariaRelevant:null,ariaRequired:Tn,ariaRoleDescription:Xt,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Tn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function E4(e,t){return t in e?e[t]:t}function N4(e,t){return E4(e,t.toLowerCase())}const Tie=ld({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hu,acceptCharset:Xt,accessKey:Xt,action:null,allow:null,allowFullScreen:xt,allowPaymentRequest:xt,allowUserMedia:xt,alt:null,as:null,async:xt,autoCapitalize:null,autoComplete:Xt,autoFocus:xt,autoPlay:xt,blocking:Xt,capture:null,charSet:null,checked:xt,cite:null,className:Xt,cols:ke,colSpan:null,content:null,contentEditable:Tn,controls:xt,controlsList:Xt,coords:ke|hu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xt,defer:xt,dir:null,dirName:null,disabled:xt,download:s1,draggable:Tn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xt,formTarget:null,headers:Xt,height:ke,hidden:s1,high:ke,href:null,hrefLang:null,htmlFor:Xt,httpEquiv:Xt,id:null,imageSizes:null,imageSrcSet:null,inert:xt,inputMode:null,integrity:null,is:null,isMap:xt,itemId:null,itemProp:Xt,itemRef:Xt,itemScope:xt,itemType:Xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:xt,muted:xt,name:null,nonce:null,noModule:xt,noValidate:xt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xt,optimum:ke,pattern:null,ping:Xt,placeholder:null,playsInline:xt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xt,referrerPolicy:null,rel:Xt,required:xt,reversed:xt,rows:ke,rowSpan:ke,sandbox:Xt,scope:null,scoped:xt,seamless:xt,selected:xt,shadowRootClonable:xt,shadowRootDelegatesFocus:xt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:xt,useMap:null,value:Tn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xt,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xt,declare:xt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:xt,noHref:xt,noShade:xt,noWrap:xt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Tn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xt,disableRemotePlayback:xt,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:N4}),Rie=ld({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:co,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:xt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hu,g2:hu,glyphName:hu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:co,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:co,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:co,rev:co,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:co,requiredFeatures:co,requiredFonts:co,requiredFormats:co,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:co,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:co,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:co,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:E4}),T4=ld({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),R4=ld({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:N4}),M4=ld({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Mie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Aie=/[A-Z]/g,eA=/-[a-z]/g,Pie=/^data[-\w.:]+$/i;function _ie(e,t){const n=i1(t);let r=t,o=no;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Pie.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(eA,Oie);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!eA.test(i)){let s=i.replace(Aie,Iie);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}o=XC}return new o(r,t)}function Iie(e){return"-"+e.toLowerCase()}function Oie(e){return e.charAt(1).toUpperCase()}const Die=C4([k4,Tie,T4,R4,M4],"html"),JC=C4([k4,Rie,T4,R4,M4],"svg");function jie(e){return e.join(" ").trim()}var QC={},tA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Lie=/\n/g,Fie=/^\s*/,zie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,$ie=/^:\s*/,Bie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Wie=/^[;\s]*/,Uie=/^\s+|\s+$/g,Hie=`
`,nA="/",rA="*",bl="",Vie="comment",Gie="declaration",Kie=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function o(v){var x=v.match(Lie);x&&(n+=x.length);var w=v.lastIndexOf(Hie);r=~w?v.length-w:r+v.length}function i(){var v={line:n,column:r};return function(x){return x.position=new s(v),c(),x}}function s(v){this.start=v,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(v){var x=new Error(t.source+":"+n+":"+r+": "+v);if(x.reason=v,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function l(v){var x=v.exec(e);if(x){var w=x[0];return o(w),e=e.slice(w.length),x}}function c(){l(Fie)}function d(v){var x;for(v=v||[];x=f();)x!==!1&&v.push(x);return v}function f(){var v=i();if(!(nA!=e.charAt(0)||rA!=e.charAt(1))){for(var x=2;bl!=e.charAt(x)&&(rA!=e.charAt(x)||nA!=e.charAt(x+1));)++x;if(x+=2,bl===e.charAt(x-1))return a("End of comment missing");var w=e.slice(2,x-2);return r+=2,o(w),e=e.slice(x),r+=2,v({type:Vie,comment:w})}}function m(){var v=i(),x=l(zie);if(x){if(f(),!l($ie))return a("property missing ':'");var w=l(Bie),S=v({type:Gie,property:oA(x[0].replace(tA,bl)),value:w?oA(w[0].replace(tA,bl)):bl});return l(Wie),S}}function g(){var v=[];d(v);for(var x;x=m();)x!==!1&&(v.push(x),d(v));return v}return c(),g()};function oA(e){return e?e.replace(Uie,bl):bl}var qie=bs&&bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(QC,"__esModule",{value:!0});QC.default=Xie;var Yie=qie(Kie);function Xie(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Yie.default)(e),o=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var s=i.property,a=i.value;o?t(s,a,i):a&&(n=n||{},n[s]=a)}}),n}var fv={};Object.defineProperty(fv,"__esModule",{value:!0});fv.camelCase=void 0;var Jie=/^--[a-zA-Z0-9_-]+$/,Qie=/-([a-z])/g,Zie=/^[^-]+$/,ese=/^-(webkit|moz|ms|o|khtml)-/,tse=/^-(ms)-/,nse=function(e){return!e||Zie.test(e)||Jie.test(e)},rse=function(e,t){return t.toUpperCase()},iA=function(e,t){return"".concat(t,"-")},ose=function(e,t){return t===void 0&&(t={}),nse(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(tse,iA):e=e.replace(ese,iA),e.replace(Qie,rse))};fv.camelCase=ose;var ise=bs&&bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},sse=ise(QC),ase=fv;function l1(e,t){var n={};return!e||typeof e!="string"||(0,sse.default)(e,function(r,o){r&&o&&(n[(0,ase.camelCase)(r,t)]=o)}),n}l1.default=l1;var lse=l1;const cse=oy(lse),A4=P4("end"),ZC=P4("start");function P4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function use(e){const t=ZC(e),n=A4(e);if(t&&n)return{start:t,end:n}}function mf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?sA(e.position):"start"in e||"end"in e?sA(e):"line"in e||"column"in e?c1(e):""}function c1(e){return aA(e&&e.line)+":"+aA(e&&e.column)}function sA(e){return c1(e&&e.start)+"-"+c1(e&&e.end)}function aA(e){return e&&typeof e=="number"?e:1}class vr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?o=t:!i.cause&&t&&(s=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=a?a.line:void 0,this.name=mf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}vr.prototype.file="";vr.prototype.name="";vr.prototype.reason="";vr.prototype.message="";vr.prototype.stack="";vr.prototype.column=void 0;vr.prototype.line=void 0;vr.prototype.ancestors=void 0;vr.prototype.cause=void 0;vr.prototype.fatal=void 0;vr.prototype.place=void 0;vr.prototype.ruleId=void 0;vr.prototype.source=void 0;const ek={}.hasOwnProperty,dse=new Map,fse=/[A-Z]/g,hse=new Set(["table","tbody","thead","tfoot","tr"]),pse=new Set(["td","th"]),_4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mse(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Cse(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Sse(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?JC:Die,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=I4(o,e,void 0);return i&&typeof i!="string"?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function I4(e,t,n){if(t.type==="element")return gse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return yse(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return xse(e,t,n);if(t.type==="mdxjsEsm")return vse(e,t);if(t.type==="root")return wse(e,t,n);if(t.type==="text")return bse(e,t)}function gse(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=JC,e.schema=o),e.ancestors.push(t);const i=D4(e,t.tagName,!1),s=kse(e,t);let a=nk(e,t);return hse.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Eie(l):!0})),O4(e,s,i,t),tk(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function yse(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Zf(e,t.position)}function vse(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Zf(e,t.position)}function xse(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=JC,e.schema=o),e.ancestors.push(t);const i=t.name===null?e.Fragment:D4(e,t.name,!0),s=Ese(e,t),a=nk(e,t);return O4(e,s,i,t),tk(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function wse(e,t,n){const r={};return tk(r,nk(e,t)),e.create(t,e.Fragment,r,n)}function bse(e,t){return t.value}function O4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function tk(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Sse(e,t,n){return r;function r(o,i,s,a){const c=Array.isArray(s.children)?n:t;return a?c(i,s,a):c(i,s)}}function Cse(e,t){return n;function n(r,o,i,s){const a=Array.isArray(i.children),l=ZC(r);return t(o,i,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function kse(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&ek.call(t.properties,o)){const i=Nse(e,o,t.properties[o]);if(i){const[s,a]=i;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&pse.has(t.tagName)?r=a:n[s]=a}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ese(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Zf(e,t.position);else{const o=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,i=e.evaluater.evaluateExpression(a.expression)}else Zf(e,t.position);else i=r.value===null?!0:r.value;n[o]=i}return n}function nk(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:dse;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=o.get(l)||0;s=l+"-"+c,o.set(l,c+1)}}const a=I4(e,i,s);a!==void 0&&n.push(a)}return n}function Nse(e,t,n){const r=_ie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?wie(n):jie(n)),r.property==="style"){let o=typeof n=="object"?n:Tse(e,String(n));return e.stylePropertyNameCase==="css"&&(o=Rse(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?Mie[r.property]||r.property:r.attribute,n]}}function Tse(e,t){try{return cse(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new vr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=_4+"#cannot-parse-style-attribute",o}}function D4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let i=-1,s;for(;++i<o.length;){const a=JM(o[i])?{type:"Identifier",name:o[i]}:{type:"Literal",value:o[i]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(i&&a.type==="Literal"),optional:!1}:a}r=s}else r=JM(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return ek.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Zf(e)}function Zf(e,t){const n=new vr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=_4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Rse(e){const t={};let n;for(n in e)ek.call(e,n)&&(t[Mse(n)]=e[n]);return t}function Mse(e){let t=e.replace(fse,Ase);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Ase(e){return"-"+e.toLowerCase()}const H0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Pse={};function rk(e,t){const n=Pse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return j4(e,r,o)}function j4(e,t,n){if(_se(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return lA(e.children,t,n)}return Array.isArray(e)?lA(e,t,n):""}function lA(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=j4(e[o],t,n);return r.join("")}function _se(e){return!!(e&&typeof e=="object")}const cA=document.createElement("i");function ok(e){const t="&"+e+";";cA.innerHTML=t;const n=cA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vo(e,t,n,r){const o=e.length;let i=0,s;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function zo(e,t){return e.length>0?(vo(e,e.length,0,t),e):t}const uA={}.hasOwnProperty;function L4(e){const t={};let n=-1;for(;++n<e.length;)Ise(t,e[n]);return t}function Ise(e,t){let n;for(n in t){const o=(uA.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let s;if(i)for(s in i){uA.call(o,s)||(o[s]=[]);const a=i[s];Ose(o[s],Array.isArray(a)?a:a?[a]:[])}}}function Ose(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vo(e,0,0,r)}function F4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function hi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rr=ol(/[A-Za-z]/),mr=ol(/[\dA-Za-z]/),Dse=ol(/[#-'*+\--9=?A-Z^-~]/);function zg(e){return e!==null&&(e<32||e===127)}const u1=ol(/\d/),jse=ol(/[\dA-Fa-f]/),Lse=ol(/[!-/:-@[-`{-~]/);function et(e){return e!==null&&e<-2}function Ht(e){return e!==null&&(e<0||e===32)}function Nt(e){return e===-2||e===-1||e===32}const hv=ol(new RegExp("\\p{P}|\\p{S}","u")),nc=ol(/\s/);function ol(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function cd(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(i===37&&mr(e.charCodeAt(n+1))&&mr(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const a=e.charCodeAt(n+1);i<56320&&a>56319&&a<57344?(s=String.fromCharCode(i,a),o=1):s="�"}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+o+1,s=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Pt(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(l){return Nt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Nt(l)&&i++<o?(e.consume(l),a):(e.exit(n),t(l))}}const Fse={tokenize:zse};function zse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Pt(e,t,"linePrefix")}function o(a){return e.enter("paragraph"),i(a)}function i(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return et(a)?(e.consume(a),e.exit("chunkText"),i):(e.consume(a),s)}}const $se={tokenize:Bse},dA={tokenize:Wse};function Bse(e){const t=this,n=[];let r=0,o,i,s;return a;function a(k){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,l,c)(k)}return c(k)}function l(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&C();const T=t.events.length;let N=T,R;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){R=t.events[N][1].end;break}S(r);let _=T;for(;_<t.events.length;)t.events[_][1].end={...R},_++;return vo(t.events,N+1,0,t.events.slice(T)),t.events.length=_,c(k)}return a(k)}function c(k){if(r===n.length){if(!o)return m(k);if(o.currentConstruct&&o.currentConstruct.concrete)return v(k);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dA,d,f)(k)}function d(k){return o&&C(),S(r),m(k)}function f(k){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,v(k)}function m(k){return t.containerState={},e.attempt(dA,g,v)(k)}function g(k){return r++,n.push([t.currentConstruct,t.containerState]),m(k)}function v(k){if(k===null){o&&C(),S(0),e.consume(k);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:i}),x(k)}function x(k){if(k===null){w(e.exit("chunkFlow"),!0),S(0),e.consume(k);return}return et(k)?(e.consume(k),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(k),x)}function w(k,T){const N=t.sliceStream(k);if(T&&N.push(null),k.previous=i,i&&(i.next=k),i=k,o.defineSkip(k.start),o.write(N),t.parser.lazy[k.start.line]){let R=o.events.length;for(;R--;)if(o.events[R][1].start.offset<s&&(!o.events[R][1].end||o.events[R][1].end.offset>s))return;const _=t.events.length;let M=_,B,I;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(B){I=t.events[M][1].end;break}B=!0}for(S(r),R=_;R<t.events.length;)t.events[R][1].end={...I},R++;vo(t.events,M+1,0,t.events.slice(_)),t.events.length=R}}function S(k){let T=n.length;for(;T-- >k;){const N=n[T];t.containerState=N[1],N[0].exit.call(t,e)}n.length=k}function C(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Wse(e,t,n){return Pt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Du(e){if(e===null||Ht(e)||nc(e))return 1;if(hv(e))return 2}function pv(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const d1={name:"attention",resolveAll:Use,tokenize:Hse};function Use(e,t){let n=-1,r,o,i,s,a,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};fA(f,-l),fA(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=zo(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=zo(c,[["enter",o,t],["enter",s,t],["exit",s,t],["enter",i,t]]),c=zo(c,pv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=zo(c,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=zo(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,vo(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Hse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Du(r);let i;return s;function s(l){return i=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===i)return e.consume(l),a;const c=e.exit("attentionSequence"),d=Du(l),f=!d||d===2&&o||n.includes(l),m=!o||o===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(o||!m)),c._close=!!(i===42?m:m&&(d||!f)),t(l)}}function fA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Vse={name:"autolink",tokenize:Gse};function Gse(e,t,n){let r=0;return o;function o(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(g){return Rr(g)?(e.consume(g),s):g===64?n(g):c(g)}function s(g){return g===43||g===45||g===46||mr(g)?(r=1,a(g)):c(g)}function a(g){return g===58?(e.consume(g),r=0,l):(g===43||g===45||g===46||mr(g))&&r++<32?(e.consume(g),a):(r=0,c(g))}function l(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||zg(g)?n(g):(e.consume(g),l)}function c(g){return g===64?(e.consume(g),d):Dse(g)?(e.consume(g),c):n(g)}function d(g){return mr(g)?f(g):n(g)}function f(g){return g===46?(e.consume(g),r=0,d):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):m(g)}function m(g){if((g===45||mr(g))&&r++<63){const v=g===45?m:f;return e.consume(g),v}return n(g)}}const Bh={partial:!0,tokenize:Kse};function Kse(e,t,n){return r;function r(i){return Nt(i)?Pt(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||et(i)?t(i):n(i)}}const z4={continuation:{tokenize:Yse},exit:Xse,name:"blockQuote",tokenize:qse};function qse(e,t,n){const r=this;return o;function o(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return n(s)}function i(s){return Nt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Yse(e,t,n){const r=this;return o;function o(s){return Nt(s)?Pt(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(z4,t,n)(s)}}function Xse(e){e.exit("blockQuote")}const $4={name:"characterEscape",tokenize:Jse};function Jse(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return Lse(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const B4={name:"characterReference",tokenize:Qse};function Qse(e,t,n){const r=this;let o=0,i,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,s=mr,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=jse,d):(e.enter("characterReferenceValue"),i=7,s=u1,d(f))}function d(f){if(f===59&&o){const m=e.exit("characterReferenceValue");return s===mr&&!ok(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&o++<i?(e.consume(f),d):n(f)}}const hA={partial:!0,tokenize:eae},pA={concrete:!0,name:"codeFenced",tokenize:Zse};function Zse(e,t,n){const r=this,o={partial:!0,tokenize:N};let i=0,s=0,a;return l;function l(R){return c(R)}function c(R){const _=r.events[r.events.length-1];return i=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(R)}function d(R){return R===a?(s++,e.consume(R),d):s<3?n(R):(e.exit("codeFencedFenceSequence"),Nt(R)?Pt(e,f,"whitespace")(R):f(R))}function f(R){return R===null||et(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(hA,x,T)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(R))}function m(R){return R===null||et(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(R)):Nt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pt(e,g,"whitespace")(R)):R===96&&R===a?n(R):(e.consume(R),m)}function g(R){return R===null||et(R)?f(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===null||et(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(R)):R===96&&R===a?n(R):(e.consume(R),v)}function x(R){return e.attempt(o,T,w)(R)}function w(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),S}function S(R){return i>0&&Nt(R)?Pt(e,C,"linePrefix",i+1)(R):C(R)}function C(R){return R===null||et(R)?e.check(hA,x,T)(R):(e.enter("codeFlowValue"),k(R))}function k(R){return R===null||et(R)?(e.exit("codeFlowValue"),C(R)):(e.consume(R),k)}function T(R){return e.exit("codeFenced"),t(R)}function N(R,_,M){let B=0;return I;function I(ee){return R.enter("lineEnding"),R.consume(ee),R.exit("lineEnding"),$}function $(ee){return R.enter("codeFencedFence"),Nt(ee)?Pt(R,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):W(ee)}function W(ee){return ee===a?(R.enter("codeFencedFenceSequence"),V(ee)):M(ee)}function V(ee){return ee===a?(B++,R.consume(ee),V):B>=s?(R.exit("codeFencedFenceSequence"),Nt(ee)?Pt(R,H,"whitespace")(ee):H(ee)):M(ee)}function H(ee){return ee===null||et(ee)?(R.exit("codeFencedFence"),_(ee)):M(ee)}}}function eae(e,t,n){const r=this;return o;function o(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const V0={name:"codeIndented",tokenize:nae},tae={partial:!0,tokenize:rae};function nae(e,t,n){const r=this;return o;function o(c){return e.enter("codeIndented"),Pt(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):et(c)?e.attempt(tae,s,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||et(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function rae(e,t,n){const r=this;return o;function o(s){return r.parser.lazy[r.now().line]?n(s):et(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):Pt(e,i,"linePrefix",5)(s)}function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):et(s)?o(s):n(s)}}const oae={name:"codeText",previous:sae,resolve:iae,tokenize:aae};function iae(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function sae(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aae(e,t,n){let r=0,o,i;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),o=0,d(f)):et(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||et(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),o++,d):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class lae{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&$d(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$d(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$d(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$d(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$d(this.left,n.reverse())}}}function $d(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function W4(e){const t={};let n=-1,r,o,i,s,a,l,c;const d=new lae(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,cae(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,o=void 0;i--;)if(s=d.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(o&&(d.get(o)[1].type="lineEndingBlank"),s[1].type="lineEnding",o=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;o&&(r[1].end={...d.get(o)[1].start},a=d.slice(o,n),a.unshift(r),d.splice(o,n-o+1,a))}}return vo(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function cae(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],c={};let d,f,m=-1,g=n,v=0,x=0;const w=[x];for(;g;){for(;e.get(++o)[1]!==g;);i.push(o),g._tokenizer||(d=r.sliceStream(g),g.next||d.push(null),f&&s.defineSkip(g.start),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=g,g=g.next}for(g=n;++m<a.length;)a[m][0]==="exit"&&a[m-1][0]==="enter"&&a[m][1].type===a[m-1][1].type&&a[m][1].start.line!==a[m][1].end.line&&(x=m+1,w.push(x),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(s.events=[],g?(g._tokenizer=void 0,g.previous=void 0):w.pop(),m=w.length;m--;){const S=a.slice(w[m],w[m+1]),C=i.pop();l.push([C,C+S.length-1]),e.splice(C,2,S)}for(l.reverse(),m=-1;++m<l.length;)c[v+l[m][0]]=v+l[m][1],v+=l[m][1]-l[m][0]-1;return c}const uae={resolve:fae,tokenize:hae},dae={partial:!0,tokenize:pae};function fae(e){return W4(e),e}function hae(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(a)}function o(a){return a===null?i(a):et(a)?e.check(dae,s,i)(a):(e.consume(a),o)}function i(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function pae(e,t,n){const r=this;return o;function o(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Pt(e,i,"linePrefix")}function i(s){if(s===null||et(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function U4(e,t,n,r,o,i,s,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(S){return S===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(S),e.exit(i),m):S===null||S===32||S===41||zg(S)?n(S):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),x(S))}function m(S){return S===62?(e.enter(i),e.consume(S),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===62?(e.exit("chunkString"),e.exit(a),m(S)):S===null||S===60||et(S)?n(S):(e.consume(S),S===92?v:g)}function v(S){return S===60||S===62||S===92?(e.consume(S),g):g(S)}function x(S){return!d&&(S===null||S===41||Ht(S))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(S)):d<c&&S===40?(e.consume(S),d++,x):S===41?(e.consume(S),d--,x):S===null||S===32||S===40||zg(S)?n(S):(e.consume(S),S===92?w:x)}function w(S){return S===40||S===41||S===92?(e.consume(S),x):x(S)}}function H4(e,t,n,r,o,i){const s=this;let a=0,l;return c;function c(g){return e.enter(r),e.enter(o),e.consume(g),e.exit(o),e.enter(i),d}function d(g){return a>999||g===null||g===91||g===93&&!l||g===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(g):g===93?(e.exit(i),e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):et(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||g===91||g===93||et(g)||a++>999?(e.exit("chunkString"),d(g)):(e.consume(g),l||(l=!Nt(g)),g===92?m:f)}function m(g){return g===91||g===92||g===93?(e.consume(g),a++,f):f(g)}}function V4(e,t,n,r,o,i){let s;return a;function a(m){return m===34||m===39||m===40?(e.enter(r),e.enter(o),e.consume(m),e.exit(o),s=m===40?41:m,l):n(m)}function l(m){return m===s?(e.enter(o),e.consume(m),e.exit(o),e.exit(r),t):(e.enter(i),c(m))}function c(m){return m===s?(e.exit(i),l(s)):m===null?n(m):et(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Pt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===s||m===null||et(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?f:d)}function f(m){return m===s||m===92?(e.consume(m),d):d(m)}}function gf(e,t){let n;return r;function r(o){return et(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Nt(o)?Pt(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const mae={name:"definition",tokenize:yae},gae={partial:!0,tokenize:vae};function yae(e,t,n){const r=this;let o;return i;function i(g){return e.enter("definition"),s(g)}function s(g){return H4.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return o=hi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),l):n(g)}function l(g){return Ht(g)?gf(e,c)(g):c(g)}function c(g){return U4(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return e.attempt(gae,f,f)(g)}function f(g){return Nt(g)?Pt(e,m,"whitespace")(g):m(g)}function m(g){return g===null||et(g)?(e.exit("definition"),r.parser.defined.push(o),t(g)):n(g)}}function vae(e,t,n){return r;function r(a){return Ht(a)?gf(e,o)(a):n(a)}function o(a){return V4(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return Nt(a)?Pt(e,s,"whitespace")(a):s(a)}function s(a){return a===null||et(a)?t(a):n(a)}}const xae={name:"hardBreakEscape",tokenize:wae};function wae(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return et(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const bae={name:"headingAtx",resolve:Sae,tokenize:Cae};function Sae(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vo(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function Cae(e,t,n){let r=0;return o;function o(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Ht(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||et(d)?(e.exit("atxHeading"),t(d)):Nt(d)?Pt(e,a,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||Ht(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),c)}}const kae=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mA=["pre","script","style","textarea"],Eae={concrete:!0,name:"htmlFlow",resolveTo:Rae,tokenize:Mae},Nae={partial:!0,tokenize:Pae},Tae={partial:!0,tokenize:Aae};function Rae(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Mae(e,t,n){const r=this;let o,i,s,a,l;return c;function c(O){return d(O)}function d(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),f}function f(O){return O===33?(e.consume(O),m):O===47?(e.consume(O),i=!0,x):O===63?(e.consume(O),o=3,r.interrupt?t:A):Rr(O)?(e.consume(O),s=String.fromCharCode(O),w):n(O)}function m(O){return O===45?(e.consume(O),o=2,g):O===91?(e.consume(O),o=5,a=0,v):Rr(O)?(e.consume(O),o=4,r.interrupt?t:A):n(O)}function g(O){return O===45?(e.consume(O),r.interrupt?t:A):n(O)}function v(O){const Z="CDATA[";return O===Z.charCodeAt(a++)?(e.consume(O),a===Z.length?r.interrupt?t:W:v):n(O)}function x(O){return Rr(O)?(e.consume(O),s=String.fromCharCode(O),w):n(O)}function w(O){if(O===null||O===47||O===62||Ht(O)){const Z=O===47,re=s.toLowerCase();return!Z&&!i&&mA.includes(re)?(o=1,r.interrupt?t(O):W(O)):kae.includes(s.toLowerCase())?(o=6,Z?(e.consume(O),S):r.interrupt?t(O):W(O)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):i?C(O):k(O))}return O===45||mr(O)?(e.consume(O),s+=String.fromCharCode(O),w):n(O)}function S(O){return O===62?(e.consume(O),r.interrupt?t:W):n(O)}function C(O){return Nt(O)?(e.consume(O),C):I(O)}function k(O){return O===47?(e.consume(O),I):O===58||O===95||Rr(O)?(e.consume(O),T):Nt(O)?(e.consume(O),k):I(O)}function T(O){return O===45||O===46||O===58||O===95||mr(O)?(e.consume(O),T):N(O)}function N(O){return O===61?(e.consume(O),R):Nt(O)?(e.consume(O),N):k(O)}function R(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),l=O,_):Nt(O)?(e.consume(O),R):M(O)}function _(O){return O===l?(e.consume(O),l=null,B):O===null||et(O)?n(O):(e.consume(O),_)}function M(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Ht(O)?N(O):(e.consume(O),M)}function B(O){return O===47||O===62||Nt(O)?k(O):n(O)}function I(O){return O===62?(e.consume(O),$):n(O)}function $(O){return O===null||et(O)?W(O):Nt(O)?(e.consume(O),$):n(O)}function W(O){return O===45&&o===2?(e.consume(O),X):O===60&&o===1?(e.consume(O),J):O===62&&o===4?(e.consume(O),G):O===63&&o===3?(e.consume(O),A):O===93&&o===5?(e.consume(O),D):et(O)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(Nae,z,V)(O)):O===null||et(O)?(e.exit("htmlFlowData"),V(O)):(e.consume(O),W)}function V(O){return e.check(Tae,H,z)(O)}function H(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),ee}function ee(O){return O===null||et(O)?V(O):(e.enter("htmlFlowData"),W(O))}function X(O){return O===45?(e.consume(O),A):W(O)}function J(O){return O===47?(e.consume(O),s="",L):W(O)}function L(O){if(O===62){const Z=s.toLowerCase();return mA.includes(Z)?(e.consume(O),G):W(O)}return Rr(O)&&s.length<8?(e.consume(O),s+=String.fromCharCode(O),L):W(O)}function D(O){return O===93?(e.consume(O),A):W(O)}function A(O){return O===62?(e.consume(O),G):O===45&&o===2?(e.consume(O),A):W(O)}function G(O){return O===null||et(O)?(e.exit("htmlFlowData"),z(O)):(e.consume(O),G)}function z(O){return e.exit("htmlFlow"),t(O)}}function Aae(e,t,n){const r=this;return o;function o(s){return et(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Pae(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Bh,t,n)}}const _ae={name:"htmlText",tokenize:Iae};function Iae(e,t,n){const r=this;let o,i,s;return a;function a(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),l}function l(A){return A===33?(e.consume(A),c):A===47?(e.consume(A),N):A===63?(e.consume(A),k):Rr(A)?(e.consume(A),M):n(A)}function c(A){return A===45?(e.consume(A),d):A===91?(e.consume(A),i=0,v):Rr(A)?(e.consume(A),C):n(A)}function d(A){return A===45?(e.consume(A),g):n(A)}function f(A){return A===null?n(A):A===45?(e.consume(A),m):et(A)?(s=f,J(A)):(e.consume(A),f)}function m(A){return A===45?(e.consume(A),g):f(A)}function g(A){return A===62?X(A):A===45?m(A):f(A)}function v(A){const G="CDATA[";return A===G.charCodeAt(i++)?(e.consume(A),i===G.length?x:v):n(A)}function x(A){return A===null?n(A):A===93?(e.consume(A),w):et(A)?(s=x,J(A)):(e.consume(A),x)}function w(A){return A===93?(e.consume(A),S):x(A)}function S(A){return A===62?X(A):A===93?(e.consume(A),S):x(A)}function C(A){return A===null||A===62?X(A):et(A)?(s=C,J(A)):(e.consume(A),C)}function k(A){return A===null?n(A):A===63?(e.consume(A),T):et(A)?(s=k,J(A)):(e.consume(A),k)}function T(A){return A===62?X(A):k(A)}function N(A){return Rr(A)?(e.consume(A),R):n(A)}function R(A){return A===45||mr(A)?(e.consume(A),R):_(A)}function _(A){return et(A)?(s=_,J(A)):Nt(A)?(e.consume(A),_):X(A)}function M(A){return A===45||mr(A)?(e.consume(A),M):A===47||A===62||Ht(A)?B(A):n(A)}function B(A){return A===47?(e.consume(A),X):A===58||A===95||Rr(A)?(e.consume(A),I):et(A)?(s=B,J(A)):Nt(A)?(e.consume(A),B):X(A)}function I(A){return A===45||A===46||A===58||A===95||mr(A)?(e.consume(A),I):$(A)}function $(A){return A===61?(e.consume(A),W):et(A)?(s=$,J(A)):Nt(A)?(e.consume(A),$):B(A)}function W(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),o=A,V):et(A)?(s=W,J(A)):Nt(A)?(e.consume(A),W):(e.consume(A),H)}function V(A){return A===o?(e.consume(A),o=void 0,ee):A===null?n(A):et(A)?(s=V,J(A)):(e.consume(A),V)}function H(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Ht(A)?B(A):(e.consume(A),H)}function ee(A){return A===47||A===62||Ht(A)?B(A):n(A)}function X(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function J(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),L}function L(A){return Nt(A)?Pt(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):D(A)}function D(A){return e.enter("htmlTextData"),s(A)}}const ik={name:"labelEnd",resolveAll:Lae,resolveTo:Fae,tokenize:zae},Oae={tokenize:$ae},Dae={tokenize:Bae},jae={tokenize:Wae};function Lae(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&vo(e,0,e.length,n),e}function Fae(e,t){let n=e.length,r=0,o,i,s,a;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(s=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=zo(a,e.slice(i+1,i+r+3)),a=zo(a,[["enter",d,t]]),a=zo(a,pv(t.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),t)),a=zo(a,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),a=zo(a,e.slice(s+1)),a=zo(a,[["exit",l,t]]),vo(e,i,e.length,a),e}function zae(e,t,n){const r=this;let o=r.events.length,i,s;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return a;function a(m){return i?i._inactive?f(m):(s=r.parser.defined.includes(hi(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(Oae,d,s?d:f)(m):m===91?e.attempt(Dae,d,s?c:f)(m):s?d(m):f(m)}function c(m){return e.attempt(jae,d,f)(m)}function d(m){return t(m)}function f(m){return i._balanced=!0,n(m)}}function $ae(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),o}function o(f){return Ht(f)?gf(e,i)(f):i(f)}function i(f){return f===41?d(f):U4(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ht(f)?gf(e,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?V4(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ht(f)?gf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Bae(e,t,n){const r=this;return o;function o(a){return H4.call(r,e,i,s,"reference","referenceMarker","referenceString")(a)}function i(a){return r.parser.defined.includes(hi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function Wae(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Uae={name:"labelStartImage",resolveAll:ik.resolveAll,tokenize:Hae};function Hae(e,t,n){const r=this;return o;function o(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),i}function i(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Vae={name:"labelStartLink",resolveAll:ik.resolveAll,tokenize:Gae};function Gae(e,t,n){const r=this;return o;function o(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const G0={name:"lineEnding",tokenize:Kae};function Kae(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Pt(e,t,"linePrefix")}}const Hm={name:"thematicBreak",tokenize:qae};function qae(e,t,n){let r=0,o;return i;function i(c){return e.enter("thematicBreak"),s(c)}function s(c){return o=c,a(c)}function a(c){return c===o?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||et(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===o?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Nt(c)?Pt(e,a,"whitespace")(c):a(c))}}const Wr={continuation:{tokenize:Qae},exit:ele,name:"list",tokenize:Jae},Yae={partial:!0,tokenize:tle},Xae={partial:!0,tokenize:Zae};function Jae(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,s=0;return a;function a(g){const v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:u1(g)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Hm,n,c)(g):c(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(g)}return n(g)}function l(g){return u1(g)&&++s<10?(e.consume(g),l):(!r.interrupt||s<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),c(g)):n(g)}function c(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Bh,r.interrupt?n:d,e.attempt(Yae,m,f))}function d(g){return r.containerState.initialBlankLine=!0,i++,m(g)}function f(g){return Nt(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),m):n(g)}function m(g){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function Qae(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Bh,o,i);function o(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pt(e,t,"listItemIndent",r.containerState.size+1)(a)}function i(a){return r.containerState.furtherBlankLines||!Nt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Xae,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pt(e,e.attempt(Wr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Zae(e,t,n){const r=this;return Pt(e,o,"listItemIndent",r.containerState.size+1);function o(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(i):n(i)}}function ele(e){e.exit(this.containerState.type)}function tle(e,t,n){const r=this;return Pt(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){const s=r.events[r.events.length-1];return!Nt(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const gA={name:"setextUnderline",resolveTo:nle,tokenize:rle};function nle(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function rle(e,t,n){const r=this;let o;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),o=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===o?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Nt(c)?Pt(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||et(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const ole={tokenize:ile};function ile(e){const t=this,n=e.attempt(Bh,r,e.attempt(this.parser.constructs.flowInitial,o,Pt(e,e.attempt(this.parser.constructs.flow,o,e.attempt(uae,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const sle={resolveAll:K4()},ale=G4("string"),lle=G4("text");function G4(e){return{resolveAll:K4(e==="text"?cle:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,s,a);return s;function s(d){return c(d)?i(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=o[d];let m=-1;if(f)for(;++m<f.length;){const g=f[m];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function K4(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function cle(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,s=-1,a=0,l;for(;i--;){const c=o[i];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)l=!0,a++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const ule={42:Wr,43:Wr,45:Wr,48:Wr,49:Wr,50:Wr,51:Wr,52:Wr,53:Wr,54:Wr,55:Wr,56:Wr,57:Wr,62:z4},dle={91:mae},fle={[-2]:V0,[-1]:V0,32:V0},hle={35:bae,42:Hm,45:[gA,Hm],60:Eae,61:gA,95:Hm,96:pA,126:pA},ple={38:B4,92:$4},mle={[-5]:G0,[-4]:G0,[-3]:G0,33:Uae,38:B4,42:d1,60:[Vse,_ae],91:Vae,92:[xae,$4],93:ik,95:d1,96:oae},gle={null:[d1,sle]},yle={null:[42,95]},vle={null:[]},xle=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yle,contentInitial:dle,disable:vle,document:ule,flow:hle,flowInitial:fle,insideSpan:gle,string:ple,text:mle},Symbol.toStringTag,{value:"Module"}));function wle(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let s=[],a=[];const l={attempt:_(N),check:_(R),consume:C,enter:k,exit:T,interrupt:_(R,{interrupt:!0})},c={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:null,sliceSerialize:m,sliceStream:g,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f($){return s=zo(s,$),w(),s[s.length-1]!==null?[]:(M(t,0),c.events=pv(i,c.events,c),c.events)}function m($,W){return Sle(g($),W)}function g($){return ble(s,$)}function v(){const{_bufferIndex:$,_index:W,line:V,column:H,offset:ee}=r;return{_bufferIndex:$,_index:W,line:V,column:H,offset:ee}}function x($){o[$.line]=$.column,I()}function w(){let $;for(;r._index<s.length;){const W=s[r._index];if(typeof W=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<W.length;)S(W.charCodeAt(r._bufferIndex));else S(W)}}function S($){d=d($)}function C($){et($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,I()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=$}function k($,W){const V=W||{};return V.type=$,V.start=v(),c.events.push(["enter",V,c]),a.push(V),V}function T($){const W=a.pop();return W.end=v(),c.events.push(["exit",W,c]),W}function N($,W){M($,W.from)}function R($,W){W.restore()}function _($,W){return V;function V(H,ee,X){let J,L,D,A;return Array.isArray(H)?z(H):"tokenize"in H?z([H]):G(H);function G(ne){return K;function K(ue){const fe=ue!==null&&ne[ue],ce=ue!==null&&ne.null,Re=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return z(Re)(ue)}}function z(ne){return J=ne,L=0,ne.length===0?X:O(ne[L])}function O(ne){return K;function K(ue){return A=B(),D=ne,ne.partial||(c.currentConstruct=ne),ne.name&&c.parser.constructs.disable.null.includes(ne.name)?re():ne.tokenize.call(W?Object.assign(Object.create(c),W):c,l,Z,re)(ue)}}function Z(ne){return $(D,A),ee}function re(ne){return A.restore(),++L<J.length?O(J[L]):X}}}function M($,W){$.resolveAll&&!i.includes($)&&i.push($),$.resolve&&vo(c.events,W,c.events.length-W,$.resolve(c.events.slice(W),c)),$.resolveTo&&(c.events=$.resolveTo(c.events,c))}function B(){const $=v(),W=c.previous,V=c.currentConstruct,H=c.events.length,ee=Array.from(a);return{from:H,restore:X};function X(){r=$,c.previous=W,c.currentConstruct=V,c.events.length=H,a=ee,I()}}function I(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function ble(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let s;if(n===o)s=[e[n].slice(r,i)];else{if(s=e.slice(n,o),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}i>0&&s.push(e[o].slice(0,i))}return s}function Sle(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&o)continue;s=" ";break}default:s=String.fromCharCode(i)}o=i===-2,r.push(s)}return r.join("")}function Cle(e){const r={constructs:L4([xle,...(e||{}).extensions||[]]),content:o(Fse),defined:[],document:o($se),flow:o(ole),lazy:{},string:o(ale),text:o(lle)};return r;function o(i){return s;function s(a){return wle(r,i,a)}}}function kle(e){for(;!W4(e););return e}const yA=/[\0\t\n\r]/g;function Ele(){let e=1,t="",n=!0,r;return o;function o(i,s,a){const l=[];let c,d,f,m,g;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(yA.lastIndex=f,c=yA.exec(i),m=c&&c.index!==void 0?c.index:i.length,g=i.charCodeAt(m),!c){t=i.slice(f);break}if(g===10&&f===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<m&&(l.push(i.slice(f,m)),e+=m-f),g){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Nle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Tle(e){return e.replace(Nle,Rle)}function Rle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),i=o===120||o===88;return F4(n.slice(i?2:1),i?16:10)}return ok(n)||e}const q4={}.hasOwnProperty;function Mle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Ale(n)(kle(Cle(n).document().write(Ele()(e,t,!0))))}function Ale(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ot),autolinkProtocol:B,autolinkEmail:B,atxHeading:i(tt),blockQuote:i(ce),characterEscape:B,characterReference:B,codeFenced:i(Re),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(Re,s),codeText:i(Oe,s),codeTextData:B,data:B,codeFlowValue:B,definition:i(Ze),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ze),hardBreakEscape:i(De),hardBreakTrailing:i(De),htmlFlow:i(it,s),htmlFlowData:B,htmlText:i(it,s),htmlTextData:B,image:i(kt),label:s,link:i(Ot),listItem:i(Ae),listItemValue:m,listOrdered:i(_e,f),listUnordered:i(_e),paragraph:i(Ke),reference:O,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(tt),strong:i(lt),thematicBreak:i(we)},exit:{atxHeading:l(),atxHeadingSequence:N,autolink:l(),autolinkEmail:fe,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:ne,characterReference:K,codeFenced:l(w),codeFencedFence:x,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:I,codeIndented:l(S),codeText:l(ee),codeTextData:I,data:I,definition:l(),definitionDestinationString:T,definitionLabelString:C,definitionTitleString:k,emphasis:l(),hardBreakEscape:l(W),hardBreakTrailing:l(W),htmlFlow:l(V),htmlFlowData:I,htmlText:l(H),htmlTextData:I,image:l(J),label:D,labelText:L,lineEnding:$,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Z,resourceDestinationString:A,resourceTitleString:G,resource:z,setextHeading:l(M),setextHeadingLineSequence:_,setextHeadingText:R,strong:l(),thematicBreak:l()}};Y4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Y){let le={type:"root",children:[]};const Ne={stack:[le],tokenStack:[],config:t,enter:a,exit:c,buffer:s,resume:d,data:n},Pe=[];let Je=-1;for(;++Je<Y.length;)if(Y[Je][1].type==="listOrdered"||Y[Je][1].type==="listUnordered")if(Y[Je][0]==="enter")Pe.push(Je);else{const ae=Pe.pop();Je=o(Y,ae,Je)}for(Je=-1;++Je<Y.length;){const ae=t[Y[Je][0]];q4.call(ae,Y[Je][1].type)&&ae[Y[Je][1].type].call(Object.assign({sliceSerialize:Y[Je][2].sliceSerialize},Ne),Y[Je][1])}if(Ne.tokenStack.length>0){const ae=Ne.tokenStack[Ne.tokenStack.length-1];(ae[1]||vA).call(Ne,void 0,ae[0])}for(le.position={start:ta(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:ta(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<t.transforms.length;)le=t.transforms[Je](le)||le;return le}function o(Y,le,Ne){let Pe=le-1,Je=-1,ae=!1,Ie,Ee,Le,ft;for(;++Pe<=Ne;){const gt=Y[Pe];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?Je++:Je--,ft=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(Ie&&!ft&&!Je&&!Le&&(Le=Pe),ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ft=void 0}if(!Je&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||Je===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(Ie){let Ln=Pe;for(Ee=void 0;Ln--;){const mn=Y[Ln];if(mn[1].type==="lineEnding"||mn[1].type==="lineEndingBlank"){if(mn[0]==="exit")continue;Ee&&(Y[Ee][1].type="lineEndingBlank",ae=!0),mn[1].type="lineEnding",Ee=Ln}else if(!(mn[1].type==="linePrefix"||mn[1].type==="blockQuotePrefix"||mn[1].type==="blockQuotePrefixWhitespace"||mn[1].type==="blockQuoteMarker"||mn[1].type==="listItemIndent"))break}Le&&(!Ee||Le<Ee)&&(Ie._spread=!0),Ie.end=Object.assign({},Ee?Y[Ee][1].start:gt[1].end),Y.splice(Ee||Pe,0,["exit",Ie,gt[2]]),Pe++,Ne++}if(gt[1].type==="listItemPrefix"){const Ln={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};Ie=Ln,Y.splice(Pe,0,["enter",Ln,gt[2]]),Pe++,Ne++,Le=void 0,ft=!0}}}return Y[le][1]._spread=ae,Ne}function i(Y,le){return Ne;function Ne(Pe){a.call(this,Y(Pe),Pe),le&&le.call(this,Pe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(Y,le,Ne){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([le,Ne||void 0]),Y.position={start:ta(le.start),end:void 0}}function l(Y){return le;function le(Ne){Y&&Y.call(this,Ne),c.call(this,Ne)}}function c(Y,le){const Ne=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==Y.type&&(le?le.call(this,Y,Pe[0]):(Pe[1]||vA).call(this,Y,Pe[0]));else throw new Error("Cannot close `"+Y.type+"` ("+mf({start:Y.start,end:Y.end})+"): it’s not open");Ne.position.end=ta(Y.end)}function d(){return rk(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(Y){if(this.data.expectingFirstListItemValue){const le=this.stack[this.stack.length-2];le.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function g(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.lang=Y}function v(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.meta=Y}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.value=Y.replace(/(\r?\n|\r)$/g,"")}function C(Y){const le=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=le,Ne.identifier=hi(this.sliceSerialize(Y)).toLowerCase()}function k(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.title=Y}function T(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.url=Y}function N(Y){const le=this.stack[this.stack.length-1];if(!le.depth){const Ne=this.sliceSerialize(Y).length;le.depth=Ne}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function _(Y){const le=this.stack[this.stack.length-1];le.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function B(Y){const Ne=this.stack[this.stack.length-1].children;let Pe=Ne[Ne.length-1];(!Pe||Pe.type!=="text")&&(Pe=pe(),Pe.position={start:ta(Y.start),end:void 0},Ne.push(Pe)),this.stack.push(Pe)}function I(Y){const le=this.stack.pop();le.value+=this.sliceSerialize(Y),le.position.end=ta(Y.end)}function $(Y){const le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ne=le.children[le.children.length-1];Ne.position.end=ta(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(le.type)&&(B.call(this,Y),I.call(this,Y))}function W(){this.data.atHardBreak=!0}function V(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.value=Y}function H(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.value=Y}function ee(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.value=Y}function X(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=le,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function J(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=le,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function L(Y){const le=this.sliceSerialize(Y),Ne=this.stack[this.stack.length-2];Ne.label=Tle(le),Ne.identifier=hi(le).toLowerCase()}function D(){const Y=this.stack[this.stack.length-1],le=this.resume(),Ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ne.type==="link"){const Pe=Y.children;Ne.children=Pe}else Ne.alt=le}function A(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.url=Y}function G(){const Y=this.resume(),le=this.stack[this.stack.length-1];le.title=Y}function z(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Z(Y){const le=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=le,Ne.identifier=hi(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function re(Y){this.data.characterReferenceType=Y.type}function ne(Y){const le=this.sliceSerialize(Y),Ne=this.data.characterReferenceType;let Pe;Ne?(Pe=F4(le,Ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=ok(le);const Je=this.stack[this.stack.length-1];Je.value+=Pe}function K(Y){const le=this.stack.pop();le.position.end=ta(Y.end)}function ue(Y){I.call(this,Y);const le=this.stack[this.stack.length-1];le.url=this.sliceSerialize(Y)}function fe(Y){I.call(this,Y);const le=this.stack[this.stack.length-1];le.url="mailto:"+this.sliceSerialize(Y)}function ce(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function Oe(){return{type:"inlineCode",value:""}}function Ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ze(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function De(){return{type:"break"}}function it(){return{type:"html",value:""}}function kt(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function _e(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function Ae(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function pe(){return{type:"text",value:""}}function we(){return{type:"thematicBreak"}}}function ta(e){return{line:e.line,column:e.column,offset:e.offset}}function Y4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Y4(e,r):Ple(e,r)}}function Ple(e,t){let n;for(n in t)if(q4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function vA(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+mf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+mf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+mf({start:t.start,end:t.end})+") is still open")}function _le(e){const t=this;t.parser=n;function n(r){return Mle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Ile(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Ole(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Dle(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function jle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Lle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=cd(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function zle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $le(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function X4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const s=o[o.length-1];return s&&s.type==="text"?s.value+=r:o.push({type:"text",value:r}),o}function Ble(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return X4(e,t);const o={src:cd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)}function Wle(e,t){const n={src:cd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Ule(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Hle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return X4(e,t);const o={href:cd(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Vle(e,t){const n={href:cd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Gle(e,t,n){const r=e.all(t),o=n?Kle(n):J4(t),i={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(o||a!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!o?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(o||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,c),e.applyData(t,c)}function Kle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=J4(n[r])}return t}function J4(e){const t=e.spread;return t??e.children.length>1}function qle(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const s=r[o];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Yle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Xle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Jle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Qle(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),o.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=ZC(t.children[1]),l=A4(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),o.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)}function Zle(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const f=t.children[l],m={},g=s?s[l]:void 0;g&&(m.align=g);let v={type:"element",tagName:i,properties:m,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function ece(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const xA=9,wA=32;function tce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(bA(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(bA(t.slice(o),o>0,!1)),i.join("")}function bA(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===xA||i===wA;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===xA||i===wA;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function nce(e,t){const n={type:"text",value:tce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function rce(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const oce={blockquote:Ile,break:Ole,code:Dle,delete:jle,emphasis:Lle,footnoteReference:Fle,heading:zle,html:$le,imageReference:Ble,image:Wle,inlineCode:Ule,linkReference:Hle,link:Vle,listItem:Gle,list:qle,paragraph:Yle,root:Xle,strong:Jle,table:Qle,tableCell:ece,tableRow:Zle,text:nce,thematicBreak:rce,toml:lm,yaml:lm,definition:lm,footnoteDefinition:lm};function lm(){}const Q4=-1,mv=0,yf=1,$g=2,sk=3,ak=4,lk=5,ck=6,Z4=7,e3=8,SA=typeof self=="object"?self:globalThis,ice=(e,t)=>{const n=(o,i)=>(e.set(i,o),o),r=o=>{if(e.has(o))return e.get(o);const[i,s]=t[o];switch(i){case mv:case Q4:return n(s,o);case yf:{const a=n([],o);for(const l of s)a.push(r(l));return a}case $g:{const a=n({},o);for(const[l,c]of s)a[r(l)]=r(c);return a}case sk:return n(new Date(s),o);case ak:{const{source:a,flags:l}=s;return n(new RegExp(a,l),o)}case lk:{const a=n(new Map,o);for(const[l,c]of s)a.set(r(l),r(c));return a}case ck:{const a=n(new Set,o);for(const l of s)a.add(r(l));return a}case Z4:{const{name:a,message:l}=s;return n(new SA[a](l),o)}case e3:return n(BigInt(s),o);case"BigInt":return n(Object(BigInt(s)),o);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new SA[i](s),o)};return r},CA=e=>ice(new Map,e)(0),Dc="",{toString:sce}={},{keys:ace}=Object,Bd=e=>{const t=typeof e;if(t!=="object"||!e)return[mv,t];const n=sce.call(e).slice(8,-1);switch(n){case"Array":return[yf,Dc];case"Object":return[$g,Dc];case"Date":return[sk,Dc];case"RegExp":return[ak,Dc];case"Map":return[lk,Dc];case"Set":return[ck,Dc];case"DataView":return[yf,n]}return n.includes("Array")?[yf,n]:n.includes("Error")?[Z4,n]:[$g,n]},cm=([e,t])=>e===mv&&(t==="function"||t==="symbol"),lce=(e,t,n,r)=>{const o=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},i=s=>{if(n.has(s))return n.get(s);let[a,l]=Bd(s);switch(a){case mv:{let d=s;switch(l){case"bigint":a=e3,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return o([Q4],s)}return o([a,d],s)}case yf:{if(l){let m=s;return l==="DataView"?m=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(s)),o([l,[...m]],s)}const d=[],f=o([a,d],s);for(const m of s)d.push(i(m));return f}case $g:{if(l)switch(l){case"BigInt":return o([l,s.toString()],s);case"Boolean":case"Number":case"String":return o([l,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const d=[],f=o([a,d],s);for(const m of ace(s))(e||!cm(Bd(s[m])))&&d.push([i(m),i(s[m])]);return f}case sk:return o([a,s.toISOString()],s);case ak:{const{source:d,flags:f}=s;return o([a,{source:d,flags:f}],s)}case lk:{const d=[],f=o([a,d],s);for(const[m,g]of s)(e||!(cm(Bd(m))||cm(Bd(g))))&&d.push([i(m),i(g)]);return f}case ck:{const d=[],f=o([a,d],s);for(const m of s)(e||!cm(Bd(m)))&&d.push(i(m));return f}}const{message:c}=s;return o([a,{name:l,message:c}],s)};return i},kA=(e,{json:t,lossy:n}={})=>{const r=[];return lce(!(t||n),!!t,new Map,r)(e),r},Bg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?CA(kA(e,t)):structuredClone(e):(e,t)=>CA(kA(e,t));function cce(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function uce(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dce(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||cce,r=e.options.footnoteBackLabel||uce,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),m=cd(f.toLowerCase());let g=0;const v=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++g<=x;){v.length>0&&v.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,g);typeof C=="string"&&(C={type:"text",value:C}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const C=w.children[w.children.length-1];C&&C.type==="text"?C.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else d.push(...v);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(c,S),a.push(S)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Bg(s),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const gv=function(e){if(e==null)return mce;if(typeof e=="function")return yv(e);if(typeof e=="object")return Array.isArray(e)?fce(e):hce(e);if(typeof e=="string")return pce(e);throw new Error("Expected function, string, or object as test")};function fce(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gv(e[n]);return yv(r);function r(...o){let i=-1;for(;++i<t.length;)if(t[i].apply(this,o))return!0;return!1}}function hce(e){const t=e;return yv(n);function n(r){const o=r;let i;for(i in e)if(o[i]!==t[i])return!1;return!0}}function pce(e){return yv(t);function t(n){return n&&n.type===e}}function yv(e){return t;function t(n,r,o){return!!(gce(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function mce(){return!0}function gce(e){return e!==null&&typeof e=="object"&&"type"in e}const t3=[],yce=!0,f1=!1,vce="skip";function n3(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=gv(o),s=r?-1:1;a(e,void 0,[])();function a(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const g=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=t3,v,x,w;if((!t||i(l,c,d[d.length-1]||void 0))&&(g=xce(n(l,d)),g[0]===f1))return g;if("children"in l&&l.children){const S=l;if(S.children&&g[0]!==vce)for(x=(r?S.children.length:-1)+s,w=d.concat(S);x>-1&&x<S.children.length;){const C=S.children[x];if(v=a(C,x,w)(),v[0]===f1)return v;x=typeof v[1]=="number"?v[1]:x+s}}return g}}}function xce(e){return Array.isArray(e)?e:typeof e=="number"?[yce,e]:e==null?t3:[e]}function uk(e,t,n,r){let o,i,s;typeof t=="function"&&typeof n!="function"?(i=void 0,s=t,o=n):(i=t,s=n,o=r),n3(e,i,a,o);function a(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const h1={}.hasOwnProperty,wce={};function bce(e,t){const n=t||wce,r=new Map,o=new Map,i=new Map,s={...oce,...n.handlers},a={all:c,applyData:Cce,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:s,one:l,options:n,patch:Sce,wrap:Ece};return uk(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:o,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),a;function l(d,f){const m=d.type,g=a.handlers[m];if(h1.call(a.handlers,m)&&g)return g(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(m)){if("children"in d){const{children:x,...w}=d,S=Bg(w);return S.children=a.all(d),S}return Bg(d)}return(a.options.unknownHandler||kce)(a,d,f)}function c(d){const f=[];if("children"in d){const m=d.children;let g=-1;for(;++g<m.length;){const v=a.one(m[g],d);if(v){if(g&&m[g-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=EA(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=EA(x.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function Sce(e,t){e.position&&(t.position=use(e))}function Cce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,Bg(i)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function kce(e,t){const n=t.data||{},r="value"in t&&!(h1.call(n,"hProperties")||h1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ece(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function EA(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function NA(e,t){const n=bce(e,t),r=n.one(e,void 0),o=dce(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:`
`},o),i}function Nce(e,t){return e&&"run"in e?async function(n,r){const o=NA(n,{file:r,...t});await e.run(o,r)}:function(n,r){return NA(n,{file:r,...e||t})}}function TA(e){if(e)throw e}var Vm=Object.prototype.hasOwnProperty,r3=Object.prototype.toString,RA=Object.defineProperty,MA=Object.getOwnPropertyDescriptor,AA=function(t){return typeof Array.isArray=="function"?Array.isArray(t):r3.call(t)==="[object Array]"},PA=function(t){if(!t||r3.call(t)!=="[object Object]")return!1;var n=Vm.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Vm.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var o;for(o in t);return typeof o>"u"||Vm.call(t,o)},_A=function(t,n){RA&&n.name==="__proto__"?RA(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},IA=function(t,n){if(n==="__proto__")if(Vm.call(t,n)){if(MA)return MA(t,n).value}else return;return t[n]},Tce=function e(){var t,n,r,o,i,s,a=arguments[0],l=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=IA(a,n),o=IA(t,n),a!==o&&(d&&o&&(PA(o)||(i=AA(o)))?(i?(i=!1,s=r&&AA(r)?r:[]):s=r&&PA(r)?r:{},_A(a,{name:n,newValue:e(d,s,o)})):typeof o<"u"&&_A(a,{name:n,newValue:o}));return a};const K0=oy(Tce);function p1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Rce(){const e=[],t={run:n,use:r};return t;function n(...o){let i=-1;const s=o.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...o);function a(l,...c){const d=e[++i];let f=-1;if(l){s(l);return}for(;++f<o.length;)(c[f]===null||c[f]===void 0)&&(c[f]=o[f]);o=c,d?Mce(d,a)(...c):s(null,...c)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function Mce(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(o);try{l=e.apply(this,s)}catch(c){const d=c;if(a&&n)throw d;return o(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(i,o):l instanceof Error?o(l):i(l))}function o(s,...a){n||(n=!0,t(s,...a))}function i(s){o(null,s)}}const _i={basename:Ace,dirname:Pce,extname:_ce,join:Ice,sep:"/"};function Ace(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Wh(e);let n=0,r=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else r<0&&(i=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else s<0&&(i=!0,s=o+1),a>-1&&(e.codePointAt(o)===t.codePointAt(a--)?a<0&&(r=o):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Pce(e){if(Wh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function _ce(e){Wh(e);let t=e.length,n=-1,r=0,o=-1,i=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||n<0||i===0||i===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function Ice(...e){let t=-1,n;for(;++t<e.length;)Wh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Oce(n)}function Oce(e){Wh(e);const t=e.codePointAt(0)===47;let n=Dce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Dce(e,t){let n="",r=0,o=-1,i=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(o===s-1||i===1))if(o!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),o=s,i=0;continue}}else if(n.length>0){n="",r=0,o=s,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),r=s-o-1;o=s,i=0}else a===46&&i>-1?i++:i=-1}return n}function Wh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const jce={cwd:Lce};function Lce(){return"/"}function m1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Fce(e){if(typeof e=="string")e=new URL(e);else if(!m1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zce(e)}function zce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const q0=["history","path","basename","stem","extname","dirname"];class o3{constructor(t){let n;t?m1(t)?n={path:t}:typeof t=="string"||$ce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":jce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<q0.length;){const i=q0[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let o;for(o in n)q0.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?_i.basename(this.path):void 0}set basename(t){X0(t,"basename"),Y0(t,"basename"),this.path=_i.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?_i.dirname(this.path):void 0}set dirname(t){OA(this.basename,"dirname"),this.path=_i.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?_i.extname(this.path):void 0}set extname(t){if(Y0(t,"extname"),OA(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_i.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){m1(t)&&(t=Fce(t)),X0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?_i.basename(this.path,this.extname):void 0}set stem(t){X0(t,"stem"),Y0(t,"stem"),this.path=_i.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new vr(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Y0(e,t){if(e&&e.includes(_i.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+_i.sep+"`")}function X0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function OA(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $ce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bce=function(e){const r=this.constructor.prototype,o=r[e],i=function(){return o.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},Wce={}.hasOwnProperty;class dk extends Bce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Rce()}copy(){const t=new dk;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(K0(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Z0("data",this.frozen),this.namespace[t]=n,this):Wce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Z0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=um(t),r=this.parser||this.Parser;return J0("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),J0("process",this.parser||this.Parser),Q0("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,s){const a=um(t),l=r.parse(a);r.run(l,a,function(d,f,m){if(d||!f||!m)return c(d);const g=f,v=r.stringify(g,m);Vce(v)?m.value=v:m.result=v,c(d,m)});function c(d,f){d||!f?s(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),J0("processSync",this.parser||this.Parser),Q0("processSync",this.compiler||this.Compiler),this.process(t,o),jA("processSync","process",n),r;function o(i,s){n=!0,TA(i),r=s}}run(t,n,r){DA(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,a){const l=um(n);o.run(t,l,c);function c(d,f,m){const g=f||t;d?a(d):s?s(g):r(void 0,g,m)}}}runSync(t,n){let r=!1,o;return this.run(t,n,i),jA("runSync","run",r),o;function i(s,a){TA(s),o=a,r=!0}}stringify(t,n){this.freeze();const r=um(n),o=this.compiler||this.Compiler;return Q0("stringify",o),DA(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Z0("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(o.settings=K0(!0,o.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===c){m=f;break}if(m===-1)r.push([c,...d]);else if(d.length>0){let[g,...v]=d;const x=r[m][1];p1(x)&&p1(g)&&(g=K0(!0,x,g)),r[m]=[c,g,...v]}}}}const Uce=new dk().freeze();function J0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Q0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Z0(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function DA(e){if(!p1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function jA(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function um(e){return Hce(e)?e:new o3(e)}function Hce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Vce(e){return typeof e=="string"||Gce(e)}function Gce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Kce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",LA=[],FA={allowDangerousHtml:!0},qce=/^(https?|ircs?|mailto|xmpp)$/i,Yce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Xce(e){const t=Jce(e),n=Qce(e);return Zce(t.runSync(t.parse(n),n),e)}function Jce(e){const t=e.rehypePlugins||LA,n=e.remarkPlugins||LA,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...FA}:FA;return Uce().use(_le).use(n).use(Nce,r).use(t)}function Qce(e){const t=e.children||"",n=new o3;return typeof t=="string"&&(n.value=t),n}function Zce(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||eue;for(const d of Yce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Kce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),uk(e,c),mse(e,{Fragment:p.Fragment,components:o,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function c(d,f,m){if(d.type==="raw"&&m&&typeof f=="number")return s?m.children.splice(f,1):m.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let g;for(g in H0)if(Object.hasOwn(H0,g)&&Object.hasOwn(d.properties,g)){const v=d.properties[g],x=H0[g];(x===null||x.includes(d.tagName))&&(d.properties[g]=l(String(v||""),g,d))}}if(d.type==="element"){let g=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!g&&r&&typeof f=="number"&&(g=!r(d,f,m)),g&&m&&typeof f=="number")return a&&d.children?m.children.splice(f,1,...d.children):m.children.splice(f,1),f}}}function eue(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||qce.test(e.slice(0,t))?e:""}function zA(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function tue(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function nue(e,t,n){const o=gv((n||{}).ignore||[]),i=rue(t);let s=-1;for(;++s<i.length;)n3(e,"text",a);function a(c,d){let f=-1,m;for(;++f<d.length;){const g=d[f],v=m?m.children:void 0;if(o(g,v?v.indexOf(g):void 0,m))return;m=g}if(m)return l(c,d)}function l(c,d){const f=d[d.length-1],m=i[s][0],g=i[s][1];let v=0;const w=f.children.indexOf(c);let S=!1,C=[];m.lastIndex=0;let k=m.exec(c.value);for(;k;){const T=k.index,N={index:k.index,input:k.input,stack:[...d,c]};let R=g(...k,N);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?m.lastIndex=T+1:(v!==T&&C.push({type:"text",value:c.value.slice(v,T)}),Array.isArray(R)?C.push(...R):R&&C.push(R),v=T+k[0].length,S=!0),!m.global)break;k=m.exec(c.value)}return S?(v<c.value.length&&C.push({type:"text",value:c.value.slice(v)}),f.children.splice(w,1,...C)):C=[c],w+C.length}}function rue(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([oue(o[0]),iue(o[1])])}return t}function oue(e){return typeof e=="string"?new RegExp(tue(e),"g"):e}function iue(e){return typeof e=="function"?e:function(){return e}}const ew="phrasing",tw=["autolink","link","image","label"];function sue(){return{transforms:[hue],enter:{literalAutolink:lue,literalAutolinkEmail:nw,literalAutolinkHttp:nw,literalAutolinkWww:nw},exit:{literalAutolink:fue,literalAutolinkEmail:due,literalAutolinkHttp:cue,literalAutolinkWww:uue}}}function aue(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ew,notInConstruct:tw},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ew,notInConstruct:tw},{character:":",before:"[ps]",after:"\\/",inConstruct:ew,notInConstruct:tw}]}}function lue(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function nw(e){this.config.enter.autolinkProtocol.call(this,e)}function cue(e){this.config.exit.autolinkProtocol.call(this,e)}function uue(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function due(e){this.config.exit.autolinkEmail.call(this,e)}function fue(e){this.exit(e)}function hue(e){nue(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,pue],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),mue]],{ignore:["link","linkReference"]})}function pue(e,t,n,r,o){let i="";if(!i3(o)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!gue(n)))return!1;const s=yue(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function mue(e,t,n,r){return!i3(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function gue(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function yue(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=zA(e,"(");let i=zA(e,")");for(;r!==-1&&o>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function i3(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||nc(n)||hv(n))&&(!t||n!==47)}s3.peek=Nue;function vue(){this.buffer()}function xue(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function wue(){this.buffer()}function bue(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Sue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hi(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Cue(e){this.exit(e)}function kue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hi(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Eue(e){this.exit(e)}function Nue(){return"["}function s3(e,t,n,r){const o=n.createTracker(r);let i=o.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return i+=o.move(n.safe(n.associationId(e),{after:"]",before:i})),a(),s(),i+=o.move("]"),i}function Tue(){return{enter:{gfmFootnoteCallString:vue,gfmFootnoteCall:xue,gfmFootnoteDefinitionLabelString:wue,gfmFootnoteDefinition:bue},exit:{gfmFootnoteCallString:Sue,gfmFootnoteCall:Cue,gfmFootnoteDefinitionLabelString:kue,gfmFootnoteDefinition:Eue}}}function Rue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:s3},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,i,s){const a=i.createTracker(s);let l=a.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=a.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,a.current()),t?a3:Mue))),c(),l}}function Mue(e,t,n){return t===0?e:a3(e,t,n)}function a3(e,t,n){return(n?"":"    ")+e}const Aue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];l3.peek=Due;function Pue(){return{canContainEols:["delete"],enter:{strikethrough:Iue},exit:{strikethrough:Oue}}}function _ue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Aue}],handlers:{delete:l3}}}function Iue(e){this.enter({type:"delete",children:[]},e)}function Oue(e){this.exit(e)}function l3(e,t,n,r){const o=n.createTracker(r),i=n.enter("strikethrough");let s=o.move("~~");return s+=n.containerPhrasing(e,{...o.current(),before:s,after:"~"}),s+=o.move("~~"),i(),s}function Due(){return"~"}function jue(e){return e.length}function Lue(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||jue,i=[],s=[],a=[],l=[];let c=0,d=-1;for(;++d<e.length;){const x=[],w=[];let S=-1;for(e[d].length>c&&(c=e[d].length);++S<e[d].length;){const C=Fue(e[d][S]);if(n.alignDelimiters!==!1){const k=o(C);w[S]=k,(l[S]===void 0||k>l[S])&&(l[S]=k)}x.push(C)}s[d]=x,a[d]=w}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=$A(r[f]);else{const x=$A(r);for(;++f<c;)i[f]=x}f=-1;const m=[],g=[];for(;++f<c;){const x=i[f];let w="",S="";x===99?(w=":",S=":"):x===108?w=":":x===114&&(S=":");let C=n.alignDelimiters===!1?1:Math.max(1,l[f]-w.length-S.length);const k=w+"-".repeat(C)+S;n.alignDelimiters!==!1&&(C=w.length+C+S.length,C>l[f]&&(l[f]=C),g[f]=C),m[f]=k}s.splice(1,0,m),a.splice(1,0,g),d=-1;const v=[];for(;++d<s.length;){const x=s[d],w=a[d];f=-1;const S=[];for(;++f<c;){const C=x[f]||"";let k="",T="";if(n.alignDelimiters!==!1){const N=l[f]-(w[f]||0),R=i[f];R===114?k=" ".repeat(N):R===99?N%2?(k=" ".repeat(N/2+.5),T=" ".repeat(N/2-.5)):(k=" ".repeat(N/2),T=k):T=" ".repeat(N)}n.delimiterStart!==!1&&!f&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||f)&&S.push(" "),n.alignDelimiters!==!1&&S.push(k),S.push(C),n.alignDelimiters!==!1&&S.push(T),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&S.push("|")}v.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return v.join(`
`)}function Fue(e){return e==null?"":String(e)}function $A(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function zue(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(e,i.current()),$ue);return o(),s}function $ue(e,t,n){return">"+(n?"":" ")+e}function Bue(e,t){return BA(e,t.inConstruct,!0)&&!BA(e,t.notInConstruct,!1)}function BA(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function WA(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Bue(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Wue(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++i>s&&(s=i):i=1,o=r+t.length,r=n.indexOf(t,o);return s}function Uue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Hue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Vue(e,t,n,r){const o=Hue(n),i=e.value||"",s=o==="`"?"GraveAccent":"Tilde";if(Uue(e,n)){const f=n.enter("codeIndented"),m=n.indentLines(i,Gue);return f(),m}const a=n.createTracker(r),l=o.repeat(Math.max(Wue(i,o)+1,3)),c=n.enter("codeFenced");let d=a.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=a.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...a.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=a.move(" "),d+=a.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...a.current()})),f()}return d+=a.move(`
`),i&&(d+=a.move(i+`
`)),d+=a.move(l),c(),d}function Gue(e,t,n){return(n?"":"    ")+e}function fk(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Kue(e,t,n,r){const o=fk(n),i=o==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,{before:c,after:o,...l.current()})),c+=l.move(o),a()),s(),c}function que(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function eh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Wg(e,t,n){const r=Du(e),o=Du(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}c3.peek=Yue;function c3(e,t,n,r){const o=que(n),i=n.enter("emphasis"),s=n.createTracker(r),a=s.move(o);let l=s.move(n.containerPhrasing(e,{after:o,before:a,...s.current()}));const c=l.charCodeAt(0),d=Wg(r.before.charCodeAt(r.before.length-1),c,o);d.inside&&(l=eh(c)+l.slice(1));const f=l.charCodeAt(l.length-1),m=Wg(r.after.charCodeAt(0),f,o);m.inside&&(l=l.slice(0,-1)+eh(f));const g=s.move(o);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},a+l+g}function Yue(e,t,n){return n.options.emphasis||"*"}function Xue(e,t){let n=!1;return uk(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,f1}),!!((!e.depth||e.depth<3)&&rk(e)&&(t.options.setext||n))}function Jue(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Xue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),m+`
`+(o===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const s="#".repeat(o),a=n.enter("headingAtx"),l=n.enter("phrasing");i.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=eh(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c}u3.peek=Que;function u3(e){return e.value||""}function Que(){return"<"}d3.peek=Zue;function d3(e,t,n,r){const o=fk(n),i=o==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,{before:c,after:o,...l.current()})),c+=l.move(o),a()),c+=l.move(")"),s(),c}function Zue(){return"!"}f3.peek=ede;function f3(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,i(),o==="full"||!c||c!==f?l+=a.move(f+"]"):o==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function ede(){return"!"}h3.peek=tde;function h3(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const s=n.unsafe[i],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return o+r+o}function tde(){return"`"}function p3(e,t){const n=rk(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}m3.peek=nde;function m3(e,t,n,r){const o=fk(n),i=o==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(p3(e,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),a(),n.stack=d,f}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=s.move(" "+o),c+=s.move(n.safe(e.title,{before:c,after:o,...s.current()})),c+=s.move(o),l()),c+=s.move(")"),a(),c}function nde(e,t,n){return p3(e,n)?"<":"["}g3.peek=rde;function g3(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,i(),o==="full"||!c||c!==f?l+=a.move(f+"]"):o==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function rde(){return"["}function hk(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ode(e){const t=hk(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ide(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function y3(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function sde(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let s=e.ordered?ide(n):hk(n);const a=e.ordered?s==="."?")":".":ode(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),y3(n)===s&&d){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=i,o(),c}function ade(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function lde(e,t,n,r){const o=ade(n);let i=n.bulletCurrent||hk(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(i+" ".repeat(s-i.length)),a.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),d);return l(),c;function d(f,m,g){return m?(g?"":" ".repeat(s))+f:(g?i:i+" ".repeat(s-i.length))+f}}function cde(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(e,r);return i(),o(),s}const ude=gv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function dde(e,t,n,r){return(e.children.some(function(s){return ude(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function fde(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}v3.peek=hde;function v3(e,t,n,r){const o=fde(n),i=n.enter("strong"),s=n.createTracker(r),a=s.move(o+o);let l=s.move(n.containerPhrasing(e,{after:o,before:a,...s.current()}));const c=l.charCodeAt(0),d=Wg(r.before.charCodeAt(r.before.length-1),c,o);d.inside&&(l=eh(c)+l.slice(1));const f=l.charCodeAt(l.length-1),m=Wg(r.after.charCodeAt(0),f,o);m.inside&&(l=l.slice(0,-1)+eh(f));const g=s.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},a+l+g}function hde(e,t,n){return n.options.strong||"*"}function pde(e,t,n,r){return n.safe(e.value,r)}function mde(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function gde(e,t,n){const r=(y3(n)+(n.options.ruleSpaces?" ":"")).repeat(mde(n));return n.options.ruleSpaces?r.slice(0,-1):r}const x3={blockquote:zue,break:WA,code:Vue,definition:Kue,emphasis:c3,hardBreak:WA,heading:Jue,html:u3,image:d3,imageReference:f3,inlineCode:h3,link:m3,linkReference:g3,list:sde,listItem:lde,paragraph:cde,root:dde,strong:v3,text:pde,thematicBreak:gde};function yde(){return{enter:{table:vde,tableData:UA,tableHeader:UA,tableRow:wde},exit:{codeText:bde,table:xde,tableData:rw,tableHeader:rw,tableRow:rw}}}function vde(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function xde(e){this.exit(e),this.data.inTable=void 0}function wde(e){this.enter({type:"tableRow",children:[]},e)}function rw(e){this.exit(e)}function UA(e){this.enter({type:"tableCell",children:[]},e)}function bde(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Sde));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Sde(e,t){return t==="|"?t:e}function Cde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:s,tableCell:l,tableRow:a}};function s(g,v,x,w){return c(d(g,x,w),g.align)}function a(g,v,x,w){const S=f(g,x,w),C=c([S]);return C.slice(0,C.indexOf(`
`))}function l(g,v,x,w){const S=x.enter("tableCell"),C=x.enter("phrasing"),k=x.containerPhrasing(g,{...w,before:i,after:i});return C(),S(),k}function c(g,v){return Lue(g,{align:v,alignDelimiters:r,padding:n,stringLength:o})}function d(g,v,x){const w=g.children;let S=-1;const C=[],k=v.enter("table");for(;++S<w.length;)C[S]=f(w[S],v,x);return k(),C}function f(g,v,x){const w=g.children;let S=-1;const C=[],k=v.enter("tableRow");for(;++S<w.length;)C[S]=l(w[S],g,v,x);return k(),C}function m(g,v,x){let w=x3.inlineCode(g,v,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function kde(){return{exit:{taskListCheckValueChecked:HA,taskListCheckValueUnchecked:HA,paragraph:Nde}}}function Ede(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Tde}}}function HA(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Nde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let i=-1,s;for(;++i<o.length;){const a=o[i];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Tde(e,t,n,r){const o=e.children[0],i=typeof e.checked=="boolean"&&o&&o.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);i&&a.move(s);let l=x3.listItem(e,t,n,{...r,...a.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function Rde(){return[sue(),Tue(),Pue(),yde(),kde()]}function Mde(e){return{extensions:[aue(),Rue(e),_ue(),Cde(e),Ede()]}}const Ade={tokenize:jde,partial:!0},w3={tokenize:Lde,partial:!0},b3={tokenize:Fde,partial:!0},S3={tokenize:zde,partial:!0},Pde={tokenize:$de,partial:!0},C3={name:"wwwAutolink",tokenize:Ode,previous:E3},k3={name:"protocolAutolink",tokenize:Dde,previous:N3},Bs={name:"emailAutolink",tokenize:Ide,previous:T3},Qi={};function _de(){return{text:Qi}}let vl=48;for(;vl<123;)Qi[vl]=Bs,vl++,vl===58?vl=65:vl===91&&(vl=97);Qi[43]=Bs;Qi[45]=Bs;Qi[46]=Bs;Qi[95]=Bs;Qi[72]=[Bs,k3];Qi[104]=[Bs,k3];Qi[87]=[Bs,C3];Qi[119]=[Bs,C3];function Ide(e,t,n){const r=this;let o,i;return s;function s(f){return!g1(f)||!T3.call(r,r.previous)||pk(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(f))}function a(f){return g1(f)?(e.consume(f),a):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Pde,d,c)(f):f===45||f===95||mr(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),o=!0,l}function d(f){return i&&o&&Rr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Ode(e,t,n){const r=this;return o;function o(s){return s!==87&&s!==119||!E3.call(r,r.previous)||pk(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Ade,e.attempt(w3,e.attempt(b3,i),n),n)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Dde(e,t,n){const r=this;let o="",i=!1;return s;function s(f){return(f===72||f===104)&&N3.call(r,r.previous)&&!pk(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(f),e.consume(f),a):n(f)}function a(f){if(Rr(f)&&o.length<5)return o+=String.fromCodePoint(f),e.consume(f),a;if(f===58){const m=o.toLowerCase();if(m==="http"||m==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||zg(f)||Ht(f)||nc(f)||hv(f)?n(f):e.attempt(w3,e.attempt(b3,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function jde(e,t,n){let r=0;return o;function o(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),o):s===46&&r===3?(e.consume(s),i):n(s)}function i(s){return s===null?n(s):t(s)}}function Lde(e,t,n){let r,o,i;return s;function s(c){return c===46||c===95?e.check(S3,l,a)(c):c===null||Ht(c)||nc(c)||c!==45&&hv(c)?l(c):(i=!0,e.consume(c),s)}function a(c){return c===95?r=!0:(o=r,r=void 0),e.consume(c),s}function l(c){return o||r||!i?n(c):t(c)}}function Fde(e,t){let n=0,r=0;return o;function o(s){return s===40?(n++,e.consume(s),o):s===41&&r<n?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(S3,t,i)(s):s===null||Ht(s)||nc(s)?t(s):(e.consume(s),o)}function i(s){return s===41&&r++,e.consume(s),o}}function zde(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),i):a===93?(e.consume(a),o):a===60||a===null||Ht(a)||nc(a)?t(a):n(a)}function o(a){return a===null||a===40||a===91||Ht(a)||nc(a)?t(a):r(a)}function i(a){return Rr(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):Rr(a)?(e.consume(a),s):n(a)}}function $de(e,t,n){return r;function r(i){return e.consume(i),o}function o(i){return mr(i)?n(i):t(i)}}function E3(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ht(e)}function N3(e){return!Rr(e)}function T3(e){return!(e===47||g1(e))}function g1(e){return e===43||e===45||e===46||e===95||mr(e)}function pk(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Bde={tokenize:Yde,partial:!0};function Wde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Gde,continuation:{tokenize:Kde},exit:qde}},text:{91:{name:"gfmFootnoteCall",tokenize:Vde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ude,resolveTo:Hde}}}}function Ude(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;o--;){const l=r.events[o][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const c=hi(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Hde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function Vde(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,s;return a;function a(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!s||f===null||f===91||Ht(f))return n(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return o.includes(hi(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ht(f)||(s=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function Gde(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0,a;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(v)}function d(v){if(s>999||v===93&&!a||v===null||v===91||Ht(v))return n(v);if(v===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return i=hi(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Ht(v)||(a=!0),s++,e.consume(v),v===92?f:d}function f(v){return v===91||v===92||v===93?(e.consume(v),s++,d):d(v)}function m(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),o.includes(i)||o.push(i),Pt(e,g,"gfmFootnoteDefinitionWhitespace")):n(v)}function g(v){return t(v)}}function Kde(e,t,n){return e.check(Bh,t,e.attempt(Bde,t,n))}function qde(e){e.exit("gfmFootnoteDefinition")}function Yde(e,t,n){const r=this;return Pt(e,o,"gfmFootnoteDefinitionIndent",5);function o(i){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):n(i)}}function Xde(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},m=[["enter",d,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",f,a]],g=a.parser.constructs.insideSpan.null;g&&vo(m,m.length,0,pv(g,s.slice(c+1,l),a)),vo(m,m.length,0,[["exit",f,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",d,a]]),vo(s,c-1,l-c+3,m),l=c+m.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function i(s,a,l){const c=this.previous,d=this.events;let f=0;return m;function m(v){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(s.enter("strikethroughSequenceTemporary"),g(v))}function g(v){const x=Du(c);if(v===126)return f>1?l(v):(s.consume(v),f++,g);if(f<2&&!n)return l(v);const w=s.exit("strikethroughSequenceTemporary"),S=Du(v);return w._open=!S||S===2&&!!x,w._close=!x||x===2&&!!S,a(v)}}}class Jde{constructor(){this.map=[]}add(t,n,r){Qde(this,t,n,r)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const i of o)t.push(i);o=r.pop()}this.map.length=0}}function Qde(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function Zde(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function efe(){return{flow:{null:{name:"table",tokenize:tfe,resolveAll:nfe}}}}function tfe(e,t,n){const r=this;let o=0,i=0,s;return a;function a(I){let $=r.events.length-1;for(;$>-1;){const H=r.events[$][1].type;if(H==="lineEnding"||H==="linePrefix")$--;else break}const W=$>-1?r.events[$][1].type:null,V=W==="tableHead"||W==="tableRow"?R:l;return V===R&&r.parser.lazy[r.now().line]?n(I):V(I)}function l(I){return e.enter("tableHead"),e.enter("tableRow"),c(I)}function c(I){return I===124||(s=!0,i+=1),d(I)}function d(I){return I===null?n(I):et(I)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),g):n(I):Nt(I)?Pt(e,d,"whitespace")(I):(i+=1,s&&(s=!1,o+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(I)))}function f(I){return I===null||I===124||Ht(I)?(e.exit("data"),d(I)):(e.consume(I),I===92?m:f)}function m(I){return I===92||I===124?(e.consume(I),f):f(I)}function g(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),s=!1,Nt(I)?Pt(e,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):v(I))}function v(I){return I===45||I===58?w(I):I===124?(s=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),x):N(I)}function x(I){return Nt(I)?Pt(e,w,"whitespace")(I):w(I)}function w(I){return I===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),S):I===45?(i+=1,S(I)):I===null||et(I)?T(I):N(I)}function S(I){return I===45?(e.enter("tableDelimiterFiller"),C(I)):N(I)}function C(I){return I===45?(e.consume(I),C):I===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k(I))}function k(I){return Nt(I)?Pt(e,T,"whitespace")(I):T(I)}function T(I){return I===124?v(I):I===null||et(I)?!s||o!==i?N(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):N(I)}function N(I){return n(I)}function R(I){return e.enter("tableRow"),_(I)}function _(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),_):I===null||et(I)?(e.exit("tableRow"),t(I)):Nt(I)?Pt(e,_,"whitespace")(I):(e.enter("data"),M(I))}function M(I){return I===null||I===124||Ht(I)?(e.exit("data"),_(I)):(e.consume(I),I===92?B:M)}function B(I){return I===92||I===124?(e.consume(I),M):M(I)}}function nfe(e,t){let n=-1,r=!0,o=0,i=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,c,d,f;const m=new Jde;for(;++n<e.length;){const g=e[n],v=g[1];g[0]==="enter"?v.type==="tableHead"?(a=!1,l!==0&&(VA(m,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(n,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(n,0,[["enter",d,t]])),o=v.type==="tableDelimiterRow"?2:d?3:1):o&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],f=dm(m,t,i,o,void 0,f),i=[0,0,0,0]),s[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(s[0]=s[1],f=dm(m,t,i,o,void 0,f)),i=s,s=[i[1],n,0,0])):v.type==="tableHead"?(a=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,i[1]!==0?(s[0]=s[1],f=dm(m,t,i,o,n,f)):s[1]!==0&&(f=dm(m,t,s,o,n,f)),o=0):o&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&VA(m,t,l,c,d),m.consume(t.events),n=-1;++n<t.events.length;){const g=t.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Zde(t.events,n))}return e}function dm(e,t,n,r,o,i){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(i.end=Object.assign({},$c(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=$c(t.events,n[1]);if(i={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=$c(t.events,n[2]),d=$c(t.events,n[3]),f={type:a,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const m=t.events[n[2]],g=t.events[n[3]];if(m[1].end=Object.assign({},g[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,x=n[3]-n[2]-1;e.add(v,x,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return o!==void 0&&(i.end=Object.assign({},$c(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function VA(e,t,n,r,o){const i=[],s=$c(t.events,n);o&&(o.end=Object.assign({},s),i.push(["exit",o,t])),r.end=Object.assign({},s),i.push(["exit",r,t]),e.add(n+1,0,i)}function $c(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const rfe={name:"tasklistCheck",tokenize:ife};function ofe(){return{text:{91:rfe}}}function ife(e,t,n){const r=this;return o;function o(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Ht(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return et(l)?t(l):Nt(l)?e.check({tokenize:sfe},t,n)(l):n(l)}}function sfe(e,t,n){return Pt(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function afe(e){return L4([_de(),Wde(),Xde(e),efe(),ofe()])}const lfe={};function cfe(e){const t=this,n=e||lfe,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(afe(n)),i.push(Rde()),s.push(Mde(n))}const ufe=()=>{const{"*":e}=PQ(),{theme:t}=bi(),[n,r]=y.useState(""),[o,i]=y.useState(null),[s,a]=y.useState([]),[l,c]=y.useState(!0),[d,f]=y.useState(!1),[m,g]=y.useState(""),v=y.useRef(null),x=t==="dark"?"bg-slate-800":"bg-gray-50",w=t==="dark"?"bg-slate-700":"bg-white",S=t==="dark"?"text-slate-100":"text-gray-900",C=t==="dark"?"text-slate-400":"text-gray-500",k=t==="dark"?"border-slate-600":"border-gray-200",T=t==="dark"?"hover:bg-slate-600":"hover:bg-gray-100",N=t==="dark"?"bg-blue-900 text-blue-300":"bg-blue-200 text-blue-800",R=t==="dark"?"bg-slate-600 hover:bg-slate-500":"bg-gray-200 hover:bg-gray-300",_=t==="dark"?"shadow-slate-900/50":"shadow-md",M=$=>$.replace(/-/g," ").replace(/\b\w/g,W=>W.toUpperCase()),B=($,W)=>{if(!W.trim())return $;const V=W.toLowerCase(),H=ee=>{const X=[];for(const J of ee){const L=M(J.name).toLowerCase().includes(V),D=J.path.toLowerCase().includes(V);if(J.children){const A=H(J.children);(L||D||A.length>0)&&X.push({...J,children:A.length>0?A:J.children})}else(L||D)&&X.push(J)}return X};return H($)},I=($,W=0)=>$.map(V=>p.jsxs("div",{style:{paddingLeft:`${W*16}px`},children:[p.jsxs(oZ,{to:`/help/${V.path}`,className:`flex items-center px-3 py-2.5 rounded-lg text-sm transition-all duration-200 ${e===V.path||e===void 0&&V.path==="getting-started"?N+" shadow-sm":`${S} ${T}`}`,style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>f(!1),children:[V.type==="folder"?p.jsx(xq,{className:`h-4 w-4 mr-3 flex-shrink-0 ${e===V.path||e===void 0&&V.path==="getting-started"?t==="dark"?"text-blue-300":"text-blue-600":t==="dark"?"text-blue-400":"text-blue-500"}`}):p.jsx(vq,{className:`h-4 w-4 mr-3 flex-shrink-0 ${e===V.path||e===void 0&&V.path==="getting-started"?t==="dark"?"text-blue-300":"text-blue-600":t==="dark"?"text-blue-400":"text-blue-500"}`}),p.jsx("span",{className:"truncate font-medium",children:M(V.name)})]}),V.children&&p.jsx("div",{className:"mt-1 space-y-1",children:I(V.children,W+1)})]},V.path));return y.useEffect(()=>{const $=async()=>{c(!0);try{i(null);const V=!e||e==="/"?"getting-started":e,H=await Bt.get(`/api/docs/content?path=${V}`);r(H.data.content)}catch(V){console.error("Error fetching documentation content:",V),i("Failed to load documentation content. Please try again later."),r("")}finally{c(!1)}},W=async()=>{try{const V=await Bt.get("/api/docs/structure");a(V.data)}catch(V){console.error("Error fetching documentation structure:",V)}};$(),W()},[e]),y.useEffect(()=>{const $=W=>{var V;if(W.key==="/"&&!W.ctrlKey&&!W.metaKey&&!W.altKey){const H=document.activeElement;if(H&&(H.tagName==="INPUT"||H.tagName==="TEXTAREA"))return;W.preventDefault(),(V=v.current)==null||V.focus()}};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[]),o?p.jsx("div",{className:`min-h-screen flex items-center justify-center ${x}`,style:{fontFamily:'"Raleway", sans-serif'},children:p.jsxs("div",{className:`max-w-md mx-auto p-8 text-center rounded-lg border ${k} ${w} ${_}`,children:[p.jsx("div",{className:`text-lg font-medium mb-2 ${t==="dark"?"text-red-400":"text-red-600"}`,children:"Documentation Error"}),p.jsx("div",{className:C,children:o})]})}):p.jsxs("div",{className:`flex min-h-screen ${x} ${S}`,style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx("div",{className:`w-80 ${w} overflow-y-auto fixed inset-y-0 left-0 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 z-30 border-r ${k} ${d?"translate-x-0":"-translate-x-full"}`,style:{fontFamily:'"Raleway", sans-serif'},children:p.jsxs("div",{className:"p-6",children:[p.jsx("h2",{className:`text-xl font-bold mb-6 ${S}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Documentation"}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),p.jsx("input",{ref:v,type:"text",value:m,onChange:$=>g($.target.value),placeholder:"Search documentation... (Press / to focus)",className:`w-full pl-10 pr-4 py-2 rounded-lg border ${k} ${t==="dark"?"bg-slate-700 text-slate-100 placeholder-slate-400":"bg-gray-50 text-gray-900 placeholder-gray-500"} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`,style:{fontFamily:'"Raleway", sans-serif'}}),m&&p.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:p.jsx(wi,{className:"w-4 h-4"})})]}),m&&p.jsx("div",{className:`mt-2 text-xs ${C}`,style:{fontFamily:'"Raleway", sans-serif'},children:(()=>{const W=B(s,m).reduce((V,H)=>{const ee=X=>X.reduce((J,L)=>J+1+(L.children?ee(L.children):0),0);return V+ee([H])},0);return W===0?"No results found":`${W} result${W===1?"":"s"} found`})()})]}),p.jsx("nav",{className:"space-y-1",children:l&&s.length===0?p.jsx("div",{className:`text-center py-4 ${C}`,style:{fontFamily:'"Raleway", sans-serif'},children:p.jsx("div",{className:"text-sm",children:"Loading structure..."})}):(()=>{const $=B(s,m);return $.length===0&&m?p.jsxs("div",{className:`text-center py-4 ${C}`,style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsxs("div",{className:"text-sm",children:['No results found for "',m,'"']}),p.jsx("button",{onClick:()=>g(""),className:`text-xs mt-2 ${t==="dark"?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:"Clear search"})]}):I($)})()})]})}),d&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>f(!1)}),p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsx("div",{className:"lg:hidden mb-6",children:p.jsxs("button",{onClick:()=>f(!0),className:`flex items-center px-4 py-3 rounded-lg ${R} ${S} transition-colors shadow-sm`,style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Tq,{className:"h-5 w-5 mr-3"}),p.jsx("span",{className:"text-sm font-medium",children:"Documentation Menu"})]})}),l&&!n?p.jsx("div",{className:`text-center py-12 ${C}`,style:{fontFamily:'"Raleway", sans-serif'},children:p.jsx("div",{className:"text-lg",children:"Loading documentation..."})}):p.jsx("div",{className:`prose lg:prose-xl max-w-none ${t==="dark"?"prose-invert prose-headings:text-slate-100 prose-p:text-slate-300 prose-strong:text-slate-200 prose-code:text-slate-200 prose-pre:bg-slate-700 prose-blockquote:text-slate-300":"prose-headings:text-gray-900 prose-p:text-gray-700"}`,style:{fontFamily:'"Raleway", sans-serif',"--tw-prose-body":'"Raleway", sans-serif',"--tw-prose-headings":'"Raleway", sans-serif',"--tw-prose-lead":'"Raleway", sans-serif',"--tw-prose-links":'"Raleway", sans-serif',"--tw-prose-bold":'"Raleway", sans-serif',"--tw-prose-counters":'"Raleway", sans-serif',"--tw-prose-bullets":'"Raleway", sans-serif',"--tw-prose-hr":'"Raleway", sans-serif',"--tw-prose-quotes":'"Raleway", sans-serif',"--tw-prose-quote-borders":'"Raleway", sans-serif',"--tw-prose-captions":'"Raleway", sans-serif',"--tw-prose-kbd":'"Raleway", sans-serif',"--tw-prose-code":'"Raleway", sans-serif',"--tw-prose-pre-code":'"Raleway", sans-serif',"--tw-prose-th-borders":'"Raleway", sans-serif'},children:p.jsx(Xce,{remarkPlugins:[cfe],children:n})})]})})]})},dfe=({children:e})=>{const{currentUser:t,loading:n,isAuthenticated:r}=Si();return console.log("ProtectedRoute evaluation:",{hasUser:!!t,loading:n,isAuthenticated:r,userData:t}),n?(console.log("Protected route loading state"),p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})):t?(console.log("Protected route rendering content"),e?p.jsx(p.Fragment,{children:e}):p.jsx(GQ,{})):(console.log("Protected route redirect - not authenticated"),p.jsx(Bb,{to:"/home",replace:!0}))},ffe=({list:e,onUpdate:t,onDelete:n,existingCategories:r,canvasTransform:o,onPositionChange:i,isCollapsed:s,onToggleCollapsed:a,addCategory:l,updateCategory:c})=>{const d=y.useRef(null),[f,m]=y.useState(!1),[g,v]=y.useState(!1),[x,w]=y.useState({x:0,y:0}),[S,C]=y.useState({startX:0,startY:0,startWidth:0,startHeight:0});y.useEffect(()=>{d.current&&(d.current.style.left=`${e.position_x||0}px`,d.current.style.top=`${e.position_y||0}px`)},[e.position_x,e.position_y]);const k=_=>{var B;if(!_.target.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle')&&(_.preventDefault(),d.current)){const I=(B=d.current.parentElement)==null?void 0:B.getBoundingClientRect();if(I){const $=(_.clientX-I.left-o.x)/o.scale,W=(_.clientY-I.top-o.y)/o.scale,V=parseFloat(d.current.style.left)||0,H=parseFloat(d.current.style.top)||0;w({x:($-V)*o.scale,y:(W-H)*o.scale}),m(!0)}}},T=_=>{var M;if(f&&d.current){const B=(M=d.current.parentElement)==null?void 0:M.getBoundingClientRect();if(!B)return;const I=(_.clientX-B.left-o.x)/o.scale,$=(_.clientY-B.top-o.y)/o.scale,W=I-x.x/o.scale,V=$-x.y/o.scale;d.current.style.left=`${W}px`,d.current.style.top=`${V}px`}if(g&&d.current){const I=(_.clientX-S.startX)/o.scale,$=Math.max(320,S.startWidth+I);d.current.style.width=`${$}px`}},N=()=>{if(f&&d.current){m(!1);const _=parseFloat(d.current.style.left)||0,M=parseFloat(d.current.style.top)||0,B={x:Math.round(_),y:Math.round(M)};i(e.id,B)}if(g&&d.current){v(!1);const _=parseFloat(d.current.style.left)||0,M=parseFloat(d.current.style.top)||0,B=parseFloat(d.current.style.width)||e.width||340;t({...e,position_x:Math.round(_),position_y:Math.round(M),width:Math.round(B)})}};y.useEffect(()=>((f||g)&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",N)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",N)}),[f,g,x,S]);const R=_=>{if(_.preventDefault(),_.stopPropagation(),d.current){const M=parseFloat(d.current.style.width)||e.width||340;C({startX:_.clientX,startY:_.clientY,startWidth:M,startHeight:0}),v(!0)}};return p.jsxs("div",{ref:d,onMouseDown:k,className:"draggable-list-card shadow-lg rounded-lg flex flex-col overflow-hidden border relative",style:{position:"absolute",width:`${e.width||340}px`,height:"auto",minHeight:"150px",zIndex:f||g?1e3:1,cursor:f?"grabbing":g?"ew-resize":"grab",transition:f||g?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:f||g?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:f||g?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[p.jsx(YC,{list:e,onUpdate:t,onDelete:n,existingCategories:r,isCollapsed:s,onToggleCollapsed:a,addCategory:l,updateCategory:c}),!s&&p.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-ew-resize",onMouseDown:R,style:{background:"linear-gradient(90deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6,zIndex:10}})]})},R3=({position:e,onAddList:t,onAddNote:n,onAddWhiteboard:r,onClose:o,isFromButton:i=!1,absolutePosition:s})=>{const a=(l,c)=>{l.stopPropagation(),c()};return p.jsx("div",{className:`context-menu ${i?"dropdown-menu":""} bg-background border border-border rounded-md shadow-lg`,style:{position:i?"fixed":"absolute",top:i&&s?`${s.y}px`:`${e.y}px`,left:i&&s?`${s.x}px`:`${e.x}px`,transform:"translateX(-50%)",zIndex:2e3,padding:"0.5rem 0",minWidth:"180px",marginTop:i?"0":"10px"},onClick:l=>l.stopPropagation(),children:p.jsxs("div",{className:"menu-items",children:[p.jsxs("button",{className:"menu-item flex items-center px-4 py-3 cursor-pointer bg-transparent border-none w-full text-left font-light text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-foreground",onClick:l=>a(l,t),children:[p.jsx(Ay,{className:"h-4 w-4 mr-3 text-muted-foreground"}),p.jsx("span",{children:"Add List"})]}),n&&p.jsxs("button",{className:"menu-item flex items-center px-4 py-3 cursor-pointer bg-transparent border-none w-full text-left font-light text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-foreground",onClick:l=>a(l,n),children:[p.jsx(kh,{className:"h-4 w-4 mr-3 text-muted-foreground"}),p.jsx("span",{children:"Add Note"})]}),r&&p.jsxs("button",{className:"menu-item flex items-center px-4 py-3 cursor-pointer bg-transparent border-none w-full text-left font-light text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-foreground",onClick:l=>a(l,r),children:[p.jsx(qu,{className:"h-4 w-4 mr-3 text-muted-foreground"}),p.jsx("span",{children:"Add Whiteboard"})]})]})})},ir=e=>e?{Authorization:`Bearer ${e}`}:{},M3=async e=>(await an.get("/api/canvas/lists",{headers:ir(e)})).data,A3=async(e,t)=>{const n={...e,category:e.type||e.category||"General"};delete n.type;const r=await an.post("/api/lists",n,{headers:ir(t)});return{...r.data,type:r.data.category}},P3=async(e,t)=>{const n={...e,category:e.type||e.category};delete n.type;const r=await an.put(`/api/lists/${e.id}`,n,{headers:ir(t)});return{...r.data,type:r.data.category}},_3=async(e,t)=>(await an.delete(`/api/lists/${e}`,{headers:ir(t)})).data,hfe=async(e,t,n,r)=>(await an.put(`/api/lists/${e}/position`,{x:t,y:n},{headers:ir(r)})).data,pfe=async e=>(await an.get("/api/notes",{headers:ir(e)})).data,GA=async(e,t)=>(await an.post("/api/notes",e,{headers:ir(t)})).data,mfe=async(e,t,n)=>(await an.put(`/api/notes/${e}`,t,{headers:ir(n)})).data,gfe=async(e,t)=>(await an.delete(`/api/notes/${e}`,{headers:ir(t)})).data,yfe=async e=>(await an.get("/api/whiteboards",{headers:ir(e)})).data,vfe=async(e,t)=>(await an.post("/api/whiteboards",e,{headers:ir(t)})).data,xfe=async(e,t,n)=>(console.log("Sending whiteboard update to backend:",{whiteboardId:e,whiteboardData:t}),(await an.put(`/api/whiteboards/${e}`,t,{headers:ir(n)})).data),wfe=async(e,t)=>(await an.delete(`/api/whiteboards/${e}`,{headers:ir(t)})).data,bfe=async e=>(await an.get("/api/categories",{headers:ir(e)})).data,Sfe=async(e,t)=>(await an.post("/api/categories",e,{headers:ir(t)})).data,Cfe=async(e,t,n)=>(await an.put(`/api/categories/${e}`,t,{headers:ir(n)})).data,kfe=async(e,t)=>(await an.delete(`/api/categories/${e}`,{headers:ir(t)})).data,I3=({isOpen:e,onClose:t,onListCreated:n,existingCategories:r,position:o})=>{const{token:i}=Si(),[s,a]=y.useState(""),[l,c]=y.useState(""),[d,f]=y.useState(""),[m,g]=y.useState(!1),[v,x]=y.useState("#3B82F6"),[w,S]=y.useState(!1),[C,k]=y.useState(""),T=async N=>{if(N.preventDefault(),!s.trim()){k("Please enter a title");return}const _=(m?d.trim():l)||"General";S(!0),k("");try{const M={title:s,type:_,color_value:v,items:[],...o&&{position_x:o.x,position_y:o.y}},B=await A3(M,i);n(B),a(""),c(""),f(""),g(!1),x("#3B82F6"),t()}catch(M){console.error("Failed to create list:",M),k("Failed to create list. Please try again.")}finally{S(!1)}};return p.jsx(jh,{open:e,onOpenChange:N=>!N&&t(),children:p.jsxs(td,{className:"sm:max-w-[425px]",children:[p.jsx(nd,{children:p.jsxs(rd,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Ay,{className:"h-5 w-5 text-slate-500"}),"Add List"]})}),p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"title",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),p.jsx(hn,{id:"title",value:s,onChange:N=>a(N.target.value),placeholder:"Enter list title",autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[m?p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"newCategory",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(hn,{id:"newCategory",value:d,onChange:N=>f(N.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:N=>{N.key==="Enter"&&d.trim()&&(c(d.trim()),g(!1),k(""))}}),p.jsx(Me,{type:"button",variant:"outline",onClick:()=>{d.trim()&&(c(d.trim()),g(!1),k(""))},disabled:!d.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),p.jsx(Me,{type:"button",variant:"outline",onClick:()=>{g(!1),f("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"category",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),p.jsxs(nl,{value:l,onValueChange:N=>{N==="__add_new__"?(g(!0),c("")):(c(N),k(""))},children:[p.jsx(zs,{children:p.jsx(rl,{placeholder:"Select a category"})}),p.jsxs($s,{children:[!r.includes("General")&&p.jsx(En,{value:"General",children:"General"}),r.map(N=>p.jsx(En,{value:N,children:N},N)),p.jsx(En,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),p.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:r.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),p.jsx(Fs,{color:v,onChange:x,onSave:x,children:p.jsx(Me,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change list color",children:p.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:v}})})})]})]}),C&&p.jsx("p",{className:"text-red-500 text-sm",style:{fontFamily:'"Raleway", sans-serif'},children:C}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Me,{type:"button",variant:"outline",onClick:t,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),p.jsx(Me,{type:"submit",disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:w?"Creating...":"Create List"})]})]})]})})},Efe=({size:e="md",className:t=""})=>{const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[e];return p.jsx("div",{className:`${t}`,children:p.jsx("div",{className:`${r} animate-spin rounded-full border-2 border-t-transparent border-primary`})})},Nfe=({note:e,onUpdate:t,onDelete:n,isCollapsed:r,onToggleCollapsed:o,updateCategory:i,addCategory:s})=>{const{toast:a}=Yo(),[l,c]=y.useState(!0),d=r!==void 0?!r:l,f=o||c,[m,g]=y.useState(!1),[v,x]=y.useState(e.title||"Untitled Note"),[w,S]=y.useState(!1),[C,k]=y.useState(e.content||""),[T,N]=y.useState(!1),[R,_]=y.useState(!1),[M,B]=y.useState(!1),[I,$]=y.useState(""),W=y.useRef(null),V=y.useRef(null);se.useEffect(()=>{x(e.title||"Untitled Note")},[e.title]),se.useEffect(()=>{k(e.content||"")},[e.content]);const H=y.useCallback(async()=>{v.trim()!==e.title&&await t(e.id,{title:v.trim()}),g(!1)},[v,e.title,e.id,t]),ee=y.useCallback(async()=>{C.trim()!==e.content&&await t(e.id,{content:C.trim(),updated_at:new Date().toISOString()}),S(!1)},[C,e.content,e.id,t]),X=y.useCallback(async()=>{await n(e.id)},[e.id,n]),J=y.useCallback(async A=>{N(!0);try{await t(e.id,{color_value:A})}catch(G){throw console.error("Failed to save note color:",G),a({title:"Error updating color",description:"Could not update note color. Please try again.",variant:"destructive"}),G}finally{N(!1)}},[e.id,t,a]),L=y.useCallback(async A=>{if(A==="__custom__"){B(!0);return}try{await t(e.id,{category:A}),_(!1),B(!1)}catch(G){console.error("Failed to update note category:",G),a({title:"Error updating category",description:"Could not update note category. Please try again.",variant:"destructive"})}},[e.id,t,a]),D=y.useCallback(async()=>{if(I.trim()!=="")try{await t(e.id,{category:I.trim()}),_(!1),B(!1),$("")}catch(A){console.error("Failed to add custom category:",A),a({title:"Error adding category",description:"Could not add custom category. Please try again.",variant:"destructive"})}else a({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},[I,e.id,t,a]);return{noteTitle:e.title||"Untitled Note",isCollapsibleOpen:d,setIsCollapsibleOpen:f,isEditing:m,setIsEditing:g,editTitle:v,setEditTitle:x,handleEditTitle:H,isEditingContent:w,setIsEditingContent:S,editContent:C,setEditContent:k,handleEditContent:ee,handleDeleteNote:X,handleSaveNoteColor:J,isSavingColor:T,isEditingCategory:R,setIsEditingCategory:_,showNewCategoryInput:M,setShowNewCategoryInput:B,newCategory:I,setNewCategory:$,handleEditCategory:L,handleAddCustomCategory:D,titleEditRef:W,contentEditRef:V}};function Jn(e){this.content=e}Jn.prototype={constructor:Jn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return o==-1?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new Jn(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Jn(n)},addToStart:function(e,t){return new Jn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Jn(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(i==-1?o.length:i,0,t,n),new Jn(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Jn.from(e),e.size?new Jn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Jn.from(e),e.size?new Jn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Jn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Jn.from=function(e){if(e instanceof Jn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Jn(t)};function O3(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=O3(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function D3(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=e.child(--o),a=t.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,d=Math.min(s.text.length,a.text.length);for(;c<d&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=D3(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class be{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,i){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&r(l,o+a,i||null,s)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,n-d),r,o+d)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let i="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:i+=r),i+=c},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new be(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let i=0,s=0;s<n;i++){let a=this.content[i],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new be(r,o)}cutByIndex(t,n){return t==n?be.empty:t==0&&n==this.content.length?this:new be(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new be(o,i)}addToStart(t){return new be([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new be(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return O3(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return D3(this,t,n,r)}findIndex(t,n=-1){if(t==0)return fm(0,t);if(t==this.size)return fm(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=t)return s==t||n>0?fm(r+1,s):fm(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return be.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new be(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return be.empty;let n,r=0;for(let o=0;o<t.length;o++){let i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new be(n||t,r)}static from(t){if(!t)return be.empty;if(t instanceof be)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new be([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}be.empty=new be([],0);const ow={index:0,offset:0};function fm(e,t){return ow.index=e,ow.offset=t,ow}function Ug(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Ug(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Ug(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Ut=class y1{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Ug(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return y1.none;if(t instanceof y1)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Ut.none=[];class Hg extends Error{}class Fe{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=L3(this.content,t+this.openStart,n);return r&&new Fe(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Fe(j3(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Fe.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Fe(be.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new Fe(t,r,o)}}Fe.empty=new Fe(be.empty,0,0);function j3(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(o==t||i.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(j3(i.content,t-o-1,n-o-1)))}function L3(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=L3(s.content,t-i-1,n);return a&&e.replaceChild(o,s.copy(a))}function Tfe(e,t,n){if(n.openStart>e.depth)throw new Hg("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Hg("Inconsistent open depths");return F3(e,t,n,0)}function F3(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=F3(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,a=s.content;return $l(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=Rfe(n,e);return $l(i,$3(e,s,a,t,r))}else return $l(i,Vg(e,t,r))}function z3(e,t){if(!t.type.compatibleContent(e.type))throw new Hg("Cannot join "+t.type.name+" onto "+e.type.name)}function v1(e,t,n){let r=e.node(n);return z3(r,t.node(n)),r}function zl(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function vf(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(zl(e.nodeAfter,r),i++));for(let a=i;a<s;a++)zl(o.child(a),r);t&&t.depth==n&&t.textOffset&&zl(t.nodeBefore,r)}function $l(e,t){return e.type.checkContent(t),e.copy(t)}function $3(e,t,n,r,o){let i=e.depth>o&&v1(e,t,o+1),s=r.depth>o&&v1(n,r,o+1),a=[];return vf(null,e,o,a),i&&s&&t.index(o)==n.index(o)?(z3(i,s),zl($l(i,$3(e,t,n,r,o+1)),a)):(i&&zl($l(i,Vg(e,t,o+1)),a),vf(t,n,o,a),s&&zl($l(s,Vg(n,r,o+1)),a)),vf(r,null,o,a),new be(a)}function Vg(e,t,n){let r=[];if(vf(null,e,n,r),e.depth>n){let o=v1(e,t,n+1);zl($l(o,Vg(e,t,n+1)),r)}return vf(t,null,n,r),new be(r)}function Rfe(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)o=t.node(i).copy(be.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}class th{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)o+=r.child(i).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ut.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let a=r;r=o,o=a}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Gg(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(i),c=i-l;if(r.push(s,a,o+l),!c||(s=s.child(a),s.isText))break;i=c-1,o+=l+1}return new th(n,r,i)}static resolveCached(t,n){let r=KA.get(t);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else KA.set(t,r=new Mfe);let o=r.elts[r.i]=th.resolve(t,n);return r.i=(r.i+1)%Afe,o}}class Mfe{constructor(){this.elts=[],this.i=0}}const Afe=12,KA=new WeakMap;class Gg{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Pfe=Object.create(null);let Da=class x1{constructor(t,n,r,o=Ut.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||be.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Ug(this.attrs,n||t.defaultAttrs||Pfe)&&Ut.sameSet(this.marks,r||Ut.none)}copy(t=null){return t==this.content?this:new x1(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new x1(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Fe.empty;let o=this.resolve(t),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),c=o.node(s).content.cut(o.pos-a,i.pos-a);return new Fe(c,o.depth-s,i.depth-s)}replace(t,n,r){return Tfe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return th.resolveCached(this,t)}resolveNoCache(t){return th.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),B3(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=be.empty,o=0,i=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(t).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ut.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ut.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=be.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};Da.prototype.text=void 0;class Kg extends Da{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):B3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Kg(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Kg(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function B3(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class rc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new _fe(t,n);if(r.next==null)return rc.empty;let o=W3(r);r.next&&r.err("Unexpected trailing text");let i=zfe(Ffe(o));return $fe(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(t.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function i(s,a){let l=s.matchFragment(t,r);if(l&&(!n||l.validEnd))return be.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:d,next:f}=s.next[c];if(!(d.isText||d.hasRequiredAttrs())&&o.indexOf(f)==-1){o.push(f);let m=i(f,a.concat(d));if(m)return m}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(t)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return i}).join(`
`)}}rc.empty=new rc(!0);class _fe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function W3(e){let t=[];do t.push(Ife(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Ife(e){let t=[];do t.push(Ofe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Ofe(e){let t=Lfe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Dfe(e,t);else break;return t}function qA(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Dfe(e,t){let n=qA(e),r=n;return e.eat(",")&&(e.next!="}"?r=qA(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function jfe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.isInGroup(t)&&o.push(s)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function Lfe(e){if(e.eat("(")){let t=W3(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=jfe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Ffe(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),o(i(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return o(i(s.expr,a),l),o(i(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let d=n();o(i(s.expr,l),d),l=d}if(s.max==-1)o(i(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let d=n();r(l,d),o(i(s.expr,l),d),l=d}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function U3(e,t){return t-e}function YA(e,t){let n=[];return r(t),n.sort(U3);function r(o){let i=e[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&n.indexOf(l)==-1&&r(l)}}}function zfe(e){let t=Object.create(null);return n(YA(e,0));function n(r){let o=[];r.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<o.length;d++)o[d][0]==a&&(c=o[d][1]);YA(e,l).forEach(d=>{c||o.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let i=t[r.join(",")]=new rc(r.indexOf(e.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(U3);i.next.push({type:o[s][0],next:t[a.join(",")]||n(a)})}return i}}function $fe(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:c}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function H3(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function V3(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let i=e[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function G3(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let i=e[o];i.validate&&i.validate(t[o])}}function K3(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Wfe(e,r,t[r]);return n}let XA=class q3{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=K3(t,r.attrs),this.defaultAttrs=H3(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==rc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:V3(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Da(this,this.computeAttrs(t),be.from(n),Ut.setFrom(r))}createChecked(t=null,n,r){return n=be.from(n),this.checkContent(n),new Da(this,this.computeAttrs(t),n,Ut.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=be.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(be.empty,!0);return i?new Da(this,t,n.append(i),Ut.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){G3(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ut.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,s)=>r[i]=new q3(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Bfe(e,t,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class Wfe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Bfe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class vv{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=K3(t,o.attrs),this.excluded=null;let i=H3(this.attrs);this.instance=i?new Ut(this,i):null}create(t=null){return!t&&this.instance?this.instance:new Ut(this,V3(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((i,s)=>r[i]=new vv(i,o++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){G3(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Y3{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in t)n[o]=t[o];n.nodes=Jn.from(t.nodes),n.marks=Jn.from(t.marks||{}),this.nodes=XA.compile(this.spec.nodes,this),this.marks=vv.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=rc.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?JA(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:JA(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof XA){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,o)}text(t,n){let r=this.nodes.text;return new Kg(r,r.defaultAttrs,t,Ut.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Da.fromJSON(this,t)}markFromJSON(t){return Ut.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function JA(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let a in e.marks){let l=e.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Ufe(e){return e.tag!=null}function Hfe(e){return e.style!=null}class ja{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(Ufe(o))this.tags.push(o);else if(Hfe(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new ZA(this,n,!1);return r.addAll(t,Ut.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new ZA(this,n,!0);return r.addAll(t,Ut.none,n.from,n.to),Fe.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(Kfe(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(t);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(t,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<i)break}n.splice(s,0,o)}for(let o in t.marks){let i=t.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=e2(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in t.nodes){let i=t.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=e2(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new ja(t,ja.schemaRules(t)))}}const X3={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Vfe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},J3={ol:!0,ul:!0},nh=1,w1=2,xf=4;function QA(e,t,n){return t!=null?(t?nh:0)|(t==="full"?w1:0):e&&e.whitespace=="pre"?nh|w1:n&~xf}class hm{constructor(t,n,r,o,i,s){this.type=t,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=Ut.none,this.match=i||(s&xf?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(be.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&nh)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=be.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(be.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!X3.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class ZA{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,s=QA(null,n.preserveWhitespace,0)|(r?xf:0);o?i=new hm(o.type,o.attrs,Ut.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new hm(null,null,Ut.none,!0,null,s):i=new hm(t.schema.topNodeType,null,Ut.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,o=this.top,i=o.options&w1?"full":this.localPreserveWS||(o.options&nh)>0;if(i==="full"||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let o=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;J3.hasOwnProperty(s)&&this.parser.normalizeLists&&Gfe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:Vfe.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(X3.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let f=l&&l.skip?n:this.readStyles(t,n);f&&this.addAll(t,f),c&&this.sync(i),this.needsBlock=d}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}i&&this.sync(a)&&this.open--}addAll(t,n,r,o){let i=r||0;for(let s=r?t.childNodes[r]:t.firstChild,a=o==null?null:t.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s,n);this.findAtPoint(t,i)}findPlace(t,n,r){let o,i;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(t);if(c&&(!o||o.length>c.length+a)&&(o=c,i=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!o)return null;this.sync(i);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(t,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let s=Ut.none;for(let a of o.concat(t.marks))(i.type?i.type.allowsMarkType(a.type):t2(a.type,t.type))&&(s=a.addToSet(s));return i.content.push(t.mark(s)),!0}return!1}enter(t,n,r,o){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,o)),i}enterInner(t,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=QA(t,i,s.options);s.options&xf&&s.content.length==0&&(a|=xf);let l=Ut.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):t2(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new hm(t,n,l,o,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=nh)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let d=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Gfe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&J3.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Kfe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function e2(e){let t={};for(let n in e)t[n]=e[n];return t}function t2(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==t||i.indexOf(d)<0&&s(d))return!0}};if(s(o.contentMatch))return!0}}class hc{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=iw(n).createDocumentFragment());let o=r,i=[];return t.forEach(s=>{if(i.length||s.marks.length){let a=0,l=0;for(;a<i.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)o=i.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],d=this.serializeMark(c,s.isInline,n);d&&(i.push([c,o]),o.appendChild(d.dom),o=d.contentDOM||d.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=Gm(iw(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let i=this.serializeMark(t.marks[o],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&Gm(iw(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null,o){return Gm(t,n,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new hc(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=n2(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return n2(t.marks)}}function n2(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function iw(e){return e.document||window.document}const r2=new WeakMap;function qfe(e){let t=r2.get(e);return t===void 0&&r2.set(e,t=Yfe(e)),t}function Yfe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function Gm(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=qfe(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let a,l=n?e.createElementNS(n,o):e.createElement(o),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let f in c)if(c[f]!=null){let m=f.indexOf(" ");m>0?l.setAttributeNS(f.slice(0,m),f.slice(m+1),c[f]):l.setAttribute(f,c[f])}}for(let f=d;f<t.length;f++){let m=t[f];if(m===0){if(f<t.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:v}=Gm(e,m,n,r);if(l.appendChild(g),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}const Q3=65535,Z3=Math.pow(2,16);function Xfe(e,t){return e+t*Z3}function o2(e){return e&Q3}function Jfe(e){return(e-(e&Q3))/Z3}const ez=1,tz=2,Km=4,nz=8;class b1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&nz)>0}get deletedBefore(){return(this.delInfo&(ez|Km))>0}get deletedAfter(){return(this.delInfo&(tz|Km))>0}get deletedAcross(){return(this.delInfo&Km)>0}}class ho{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ho.empty)return ho.empty}recover(t){let n=0,r=o2(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+Jfe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>t)break;let c=this.ranges[a+i],d=this.ranges[a+s],f=l+c;if(t<=f){let m=c?t==l?-1:t==f?1:n:n,g=l+o+(m<0?0:d);if(r)return g;let v=t==(n<0?l:f)?null:Xfe(a/3,t-l),x=t==l?tz:t==f?ez:Km;return(n<0?t!=l:t!=f)&&(x|=nz),new b1(g,x,v)}o+=d-c}return r?t+o:new b1(t+o,0,null)}touches(t,n){let r=0,o=o2(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+i],d=l+c;if(t<=d&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],d=this.ranges[o+r];t(a,a+c,l,l+d),i+=d-c}}invert(){return new ho(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ho.empty:new ho(t<0?[0,-t,0]:[0,0,t])}}ho.empty=new ho([]);class rh{constructor(t,n,r=0,o=t?t.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new rh(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let o=t.getMirror(n);this.appendMap(t._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new rh;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,t=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,t=a.pos}return r?t:new b1(t,o,null)}}const sw=Object.create(null);class xr{getMap(){return ho.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=sw[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in sw)throw new RangeError("Duplicate use of step JSON ID "+t);return sw[t]=n,n.prototype.jsonID=t,n}}class An{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new An(t,null)}static fail(t){return new An(null,t)}static fromReplace(t,n,r,o){try{return An.ok(t.replace(n,r,o))}catch(i){if(i instanceof Hg)return An.fail(i.message);throw i}}}function mk(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(mk(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return be.fromArray(r)}class Ca extends xr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new Fe(mk(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return An.fromReplace(t,this.from,this.to,i)}invert(){return new Bi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ca(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ca&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ca(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ca(n.from,n.to,t.markFromJSON(n.mark))}}xr.jsonID("addMark",Ca);class Bi extends xr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Fe(mk(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return An.fromReplace(t,this.from,this.to,r)}invert(){return new Ca(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Bi(n.pos,r.pos,this.mark)}merge(t){return t instanceof Bi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Bi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Bi(n.from,n.to,t.markFromJSON(n.mark))}}xr.jsonID("removeMark",Bi);class ka extends xr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return An.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return An.fromReplace(t,this.pos,this.pos+1,new Fe(be.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new ka(this.pos,n.marks[o]);return new ka(this.pos,this.mark)}}return new oc(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ka(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ka(n.pos,t.markFromJSON(n.mark))}}xr.jsonID("addNodeMark",ka);class oc extends xr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return An.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return An.fromReplace(t,this.pos,this.pos+1,new Fe(be.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ka(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new oc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new oc(n.pos,t.markFromJSON(n.mark))}}xr.jsonID("removeNodeMark",oc);class Bn extends xr{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&S1(t,this.from,this.to)?An.fail("Structure replace would overwrite content"):An.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ho([this.from,this.to-this.from,this.slice.size])}invert(t){return new Bn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Bn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Bn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Fe.empty:new Fe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Bn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Fe.empty:new Fe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Bn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Bn(n.from,n.to,Fe.fromJSON(t,n.slice),!!n.structure)}}xr.jsonID("replace",Bn);class Un extends xr{constructor(t,n,r,o,i,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(t){if(this.structure&&(S1(t,this.from,this.gapFrom)||S1(t,this.gapTo,this.to)))return An.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return An.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?An.fromReplace(t,this.from,this.to,r):An.fail("Content does not fit in gap")}getMap(){return new ho([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Un(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new Un(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Un(n.from,n.to,n.gapFrom,n.gapTo,Fe.fromJSON(t,n.slice),n.insert,!!n.structure)}}xr.jsonID("replaceAround",Un);function S1(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function Qfe(e,t,n,r){let o=[],i=[],s,a;e.doc.nodesBetween(t,n,(l,c,d)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let m=Math.max(c,t),g=Math.min(c+l.nodeSize,n),v=r.addToSet(f);for(let x=0;x<f.length;x++)f[x].isInSet(v)||(s&&s.to==m&&s.mark.eq(f[x])?s.to=g:o.push(s=new Bi(m,g,f[x])));a&&a.to==m?a.to=g:i.push(a=new Ca(m,g,r))}}),o.forEach(l=>e.step(l)),i.forEach(l=>e.step(l))}function Zfe(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof vv){let c=s.marks,d;for(;d=r.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let d=0;d<l.length;d++){let f=l[d],m;for(let g=0;g<o.length;g++){let v=o[g];v.step==i-1&&f.eq(o[g].style)&&(m=v)}m?(m.to=c,m.step=i):o.push({style:f,from:Math.max(a,t),to:c,step:i})}}}),o.forEach(s=>e.step(new Bi(s.from,s.to,s.style)))}function gk(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),d=a+c.nodeSize,f=r.matchType(c.type);if(!f)s.push(new Bn(a,d,Fe.empty));else{r=f;for(let m=0;m<c.marks.length;m++)n.allowsMarkType(c.marks[m].type)||e.step(new Bi(a,d,c.marks[m]));if(o&&c.isText&&n.whitespace!="pre"){let m,g=/\r?\n|\r/g,v;for(;m=g.exec(c.text);)v||(v=new Fe(be.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Bn(a+m.index,a+m.index+m[0].length,v))}}a=d}if(!r.validEnd){let l=r.fillBefore(be.empty,!0);e.replace(a,a,new Fe(l,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function ehe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ud(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let o=e.$from.node(r),i=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!ehe(o,i,s))break}return null}function the(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),a=o.after(i+1),l=s,c=a,d=be.empty,f=0;for(let v=i,x=!1;v>n;v--)x||r.index(v)>0?(x=!0,d=be.from(r.node(v).copy(d)),f++):l--;let m=be.empty,g=0;for(let v=i,x=!1;v>n;v--)x||o.after(v+1)<o.end(v)?(x=!0,m=be.from(o.node(v).copy(m)),g++):c++;e.step(new Un(l,c,s,a,new Fe(d.append(m),f,g),d.size-f,!0))}function yk(e,t,n=null,r=e){let o=nhe(e,t),i=o&&rhe(r,t);return i?o.map(i2).concat({type:t,attrs:n}).concat(i.map(i2)):null}function i2(e){return{type:e,attrs:null}}function nhe(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}function rhe(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function ohe(e,t,n){let r=be.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=be.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new Un(o,i,o,i,new Fe(r,0,0),n.length,!0))}function ihe(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&she(e.doc,e.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!v?c=!1:!g&&v&&(c=!0)}c===!1&&oz(e,s,a,i),gk(e,e.mapping.slice(i).map(a,1),r,void 0,c===null);let d=e.mapping.slice(i),f=d.map(a,1),m=d.map(a+s.nodeSize,1);return e.step(new Un(f,m,f+1,m-1,new Fe(be.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&rz(e,s,a,i),!1}})}function rz(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=e.mapping.slice(r).map(n+1+i+s.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function oz(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+i);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function she(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function ahe(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Un(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Fe(be.from(s),0,0),1,!0))}function Ts(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,d=n-2;c>i;c--,d--){let f=o.node(c),m=o.index(c);if(f.type.spec.isolating)return!1;let g=f.content.cutByIndex(m,f.childCount),v=r&&r[d+1];v&&(g=g.replaceChild(0,v.type.create(v.attrs)));let x=r&&r[d]||f;if(!f.canReplace(m+1,f.childCount)||!x.type.validContent(g))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function lhe(e,t,n=1,r){let o=e.doc.resolve(t),i=be.empty,s=be.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=be.from(o.node(a).copy(i));let d=r&&r[c];s=be.from(d?d.type.create(d.attrs,s):o.node(a).copy(s))}e.step(new Bn(t,t,new Fe(i.append(s),n,n),!0))}function il(e,t){let n=e.resolve(t),r=n.index();return iz(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function che(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),s=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function iz(e,t){return!!(e&&t&&!e.isLeaf&&che(e,t))}function xv(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let i,s,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&iz(i,s)&&r.node(o).canReplace(a,a+1))return t;if(o==0)break;t=n<0?r.before(o):r.after(o)}}function uhe(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),s=i.node().type;if(o&&s.inlineContent){let d=s.whitespace=="pre",f=!!s.contentMatch.matchType(o);d&&!f?r=!1:!d&&f&&(r=!0)}let a=e.steps.length;if(r===!1){let d=e.doc.resolve(t+n);oz(e,d.node(),d.before(),a)}s.inlineContent&&gk(e,t+n-1,s,i.node().contentMatchAt(i.index()),r==null);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new Bn(c,l.map(t+n,-1),Fe.empty,!0)),r===!0){let d=e.doc.resolve(c);rz(e,d.node(),d.before(),e.steps.length)}return e}function dhe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function sz(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),d=!1;if(i==1)d=c.canReplace(l,l,o);else{let f=c.contentMatchAt(l).findWrapping(o.firstChild.type);d=f&&c.canReplaceWith(l,l,f[0])}if(d)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function wv(e,t,n=t,r=Fe.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return az(o,i,r)?new Bn(t,n,r):new fhe(o,i,r).fit()}function az(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class fhe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=be.empty;for(let o=0;o<=t.depth;o++){let i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=be.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new Fe(i,s,a);return t>-1?new Un(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Bn(r.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=aw(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,f=null;if(n==1&&(s?c.matchType(s.type)||(f=c.fillBefore(be.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:f};if(n==2&&s&&(d=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:d};if(i&&c.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=aw(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Fe(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=aw(t,n);if(o.childCount<=1&&n>0){let i=t.size-n<=n+o.size;this.unplaced=new Fe(Qd(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Fe(Qd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let x=0;x<i.length;x++)this.openFrontierNode(i[x]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,d=[],{match:f,type:m}=this.frontier[n];if(o){for(let x=0;x<o.childCount;x++)d.push(o.child(x));f=f.matchFragment(o)}let g=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let x=a.child(c),w=f.matchType(x.type);if(!w)break;c++,(c>1||l==0||x.content.size)&&(f=w,d.push(lz(x.mark(m.allowedMarks(x.marks)),c==1?l:0,c==a.childCount?g:-1)))}let v=c==a.childCount;v||(g=-1),this.placed=Zd(this.placed,n,be.from(d)),this.frontier[n].match=f,v&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,w=a;x<g;x++){let S=w.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),w=S.content}this.unplaced=v?t==0?Fe.empty:new Fe(Qd(s.content,t-1,1),t-1,g<0?s.openEnd:t-1):new Fe(Qd(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!lw(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=lw(t,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=lw(t,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Zd(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,i)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=Zd(this.placed,this.depth,be.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(be.empty,!0);n.childCount&&(this.placed=Zd(this.placed,this.frontier.length,n))}}function Qd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Qd(e.firstChild.content,t-1,n)))}function Zd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Zd(e.lastChild.content,t-1,n)))}function aw(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function lz(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,lz(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(be.empty,!0)))),e.copy(r)}function lw(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!hhe(n,i.content,s)?a:null}function hhe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function phe(e){return e.spec.defining||e.spec.definingForContent}function mhe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(az(o,i,r))return e.step(new Bn(t,n,r));let s=uz(o,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let m=o.depth,g=o.pos-1;m>0;m--,g--){let v=o.node(m).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;s.indexOf(m)>-1?a=m:o.before(m)==g&&s.splice(1,0,-m)}let l=s.indexOf(a),c=[],d=r.openStart;for(let m=r.content,g=0;;g++){let v=m.firstChild;if(c.push(v),g==r.openStart)break;m=v.content}for(let m=d-1;m>=0;m--){let g=c[m],v=phe(g.type);if(v&&!g.sameMarkup(o.node(Math.abs(a)-1)))d=m;else if(v||!g.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let g=(m+d+1)%(r.openStart+1),v=c[g];if(v)for(let x=0;x<s.length;x++){let w=s[(x+l)%s.length],S=!0;w<0&&(S=!1,w=-w);let C=o.node(w-1),k=o.index(w-1);if(C.canReplaceWith(k,k,v.type,v.marks))return e.replace(o.before(w),S?i.after(w):n,new Fe(cz(r.content,0,r.openStart,g),g,r.openEnd))}}let f=e.steps.length;for(let m=s.length-1;m>=0&&(e.replace(t,n,r),!(e.steps.length>f));m--){let g=s[m];g<0||(t=o.before(g),n=i.after(g))}}function cz(e,t,n,r,o){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(cz(i.content,t+1,n,r,i)))}if(t>r){let i=o.contentMatchAt(0),s=i.fillBefore(e).append(e);e=s.append(i.matchFragment(s).fillBefore(be.empty,!0))}return e}function ghe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=dhe(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new Fe(be.from(r),0,0))}function yhe(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=uz(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return e.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function uz(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let i=e.start(o);if(i<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&n.push(o)}return n}class pu extends xr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return An.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return An.fromReplace(t,this.pos,this.pos+1,new Fe(be.from(o),0,n.isLeaf?0:1))}getMap(){return ho.empty}invert(t){return new pu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new pu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pu(n.pos,n.attr,n.value)}}xr.jsonID("attr",pu);class oh extends xr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return An.ok(r)}getMap(){return ho.empty}invert(t){return new oh(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new oh(n.attr,n.value)}}xr.jsonID("docAttr",oh);let ju=class extends Error{};ju=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};ju.prototype=Object.create(Error.prototype);ju.prototype.constructor=ju;ju.prototype.name="TransformError";class vhe{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new rh}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new ju(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Fe.empty){let o=wv(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new Fe(be.from(r),0,0))}delete(t,n){return this.replace(t,n,Fe.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return mhe(this,t,n,r),this}replaceRangeWith(t,n,r){return ghe(this,t,n,r),this}deleteRange(t,n){return yhe(this,t,n),this}lift(t,n){return the(this,t,n),this}join(t,n=1){return uhe(this,t,n),this}wrap(t,n){return ohe(this,t,n),this}setBlockType(t,n=t,r,o=null){return ihe(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return ahe(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new pu(t,n,r)),this}setDocAttribute(t,n){return this.step(new oh(t,n)),this}addNodeMark(t,n){return this.step(new ka(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Ut)n.isInSet(r.marks)&&this.step(new oc(t,n));else{let o=r.marks,i,s=[];for(;i=n.isInSet(o);)s.push(new oc(t,i)),o=i.removeFromSet(o);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,n=1,r){return lhe(this,t,n,r),this}addMark(t,n,r){return Qfe(this,t,n,r),this}removeMark(t,n,r){return Zfe(this,t,n,r),this}clearIncompatible(t,n,r){return gk(this,t,n,r),this}}const cw=Object.create(null);class wt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new xhe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Fe.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let i=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],d=t.mapping.slice(i);t.replaceRange(d.map(l.pos),d.map(c.pos),a?Fe.empty:n),a==0&&l2(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=t.mapping.slice(r),c=l.map(s.pos),d=l.map(a.pos);i?t.deleteRange(c,d):(t.replaceRangeWith(c,d,n),l2(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new at(t):Bc(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let i=t.depth-1;i>=0;i--){let s=n<0?Bc(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):Bc(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new xo(t.node(0))}static atStart(t){return Bc(t,t,0,0,1)||new xo(t)}static atEnd(t){return Bc(t,t,t.content.size,t.childCount,-1)||new xo(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=cw[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in cw)throw new RangeError("Duplicate use of selection JSON ID "+t);return cw[t]=n,n.prototype.jsonID=t,n}getBookmark(){return at.between(this.$anchor,this.$head).getBookmark()}}wt.prototype.visible=!0;class xhe{constructor(t,n){this.$from=t,this.$to=n}}let s2=!1;function a2(e){!s2&&!e.parent.inlineContent&&(s2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class at extends wt{constructor(t,n=t){a2(t),a2(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return wt.near(r);let o=t.resolve(n.map(this.anchor));return new at(o.parent.inlineContent?o:r,r)}replace(t,n=Fe.empty){if(super.replace(t,n),n==Fe.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof at&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new bv(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new at(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=wt.findFrom(n,r,!0)||wt.findFrom(n,-r,!0);if(i)n=i.$head;else return wt.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=(wt.findFrom(t,-r,!0)||wt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new at(t,n)}}wt.jsonID("text",at);class bv{constructor(t,n){this.anchor=t,this.head=n}map(t){return new bv(t.map(this.anchor),t.map(this.head))}resolve(t){return at.between(t.resolve(this.anchor),t.resolve(this.head))}}class Xe extends wt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=t.resolve(o);return r?wt.near(i):new Xe(i)}content(){return new Fe(be.from(this.node),0,0)}eq(t){return t instanceof Xe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new vk(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xe(t.resolve(n.anchor))}static create(t,n){return new Xe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Xe.prototype.visible=!1;wt.jsonID("node",Xe);class vk{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new bv(r,r):new vk(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Xe.isSelectable(r)?new Xe(n):wt.near(n)}}class xo extends wt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Fe.empty){if(n==Fe.empty){t.delete(0,t.doc.content.size);let r=wt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new xo(t)}map(t){return new xo(t)}eq(t){return t instanceof xo}getBookmark(){return whe}}wt.jsonID("all",xo);const whe={map(){return this},resolve(e){return new xo(e)}};function Bc(e,t,n,r,o,i=!1){if(t.inlineContent)return at.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let a=t.child(s);if(a.isAtom){if(!i&&Xe.isSelectable(a))return Xe.create(e,n-(o<0?a.nodeSize:0))}else{let l=Bc(e,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function l2(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof Bn||o instanceof Un))return;let i=e.mapping.maps[r],s;i.forEach((a,l,c,d)=>{s==null&&(s=d)}),e.setSelection(wt.near(e.doc.resolve(s),n))}const c2=1,pm=2,u2=4;class bhe extends vhe{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|c2)&~pm,this.storedMarks=null,this}get selectionSet(){return(this.updated&c2)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=pm,this}ensureMarks(t){return Ut.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&pm)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~pm,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ut.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,i)),this.selection.empty||this.setSelection(wt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=u2,this}get scrolledIntoView(){return(this.updated&u2)>0}}function d2(e,t){return!t||!e?e:e.bind(t)}class ef{constructor(t,n,r){this.name=t,this.init=d2(n.init,r),this.apply=d2(n.apply,r)}}const She=[new ef("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new ef("selection",{init(e,t){return e.selection||wt.atStart(t.doc)},apply(e){return e.selection}}),new ef("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new ef("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class uw{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=She.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ef(r.key,r.spec.state,r))})}}class tu{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=o?o[s].n:0,c=o?o[s].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",t),!o){o=[];for(let f=0;f<this.config.plugins.length;f++)o.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new tu(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new bhe(this)}static create(t){let n=new uw(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new tu(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new uw(this.schema,t.plugins),r=n.fields,o=new tu(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new uw(t.schema,t.plugins),i=new tu(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Da.fromJSON(t.schema,n.doc);else if(s.name=="selection")i.selection=wt.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=c.fromJSON.call(l,t,n[a],i);return}}i[s.name]=s.init(t,i)}}),i}}function dz(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=dz(o,t,{})),n[r]=o}return n}class Lr{constructor(t){this.spec=t,this.props={},t.props&&dz(t.props,this,this.props),this.key=t.key?t.key.key:fz("plugin")}getState(t){return t[this.key]}}const dw=Object.create(null);function fz(e){return e in dw?e+"$"+ ++dw[e]:(dw[e]=0,e+"$")}class ki{constructor(t="key"){this.key=fz(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Qn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Lu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let C1=null;const vs=function(e,t,n){let r=C1||(C1=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Che=function(){C1=null},ic=function(e,t,n,r){return n&&(f2(e,t,n,r,-1)||f2(e,t,n,r,1))},khe=/^(img|br|input|textarea|hr)$/i;function f2(e,t,n,r,o){for(var i;;){if(e==n&&t==r)return!0;if(t==(o<0?0:$o(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Uh(e)||khe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Qn(e)+(o<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(o<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((i=s.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=o;else return!1;else e=s,t=o<0?$o(e):0}else return!1}}function $o(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ehe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=$o(e)}else if(e.parentNode&&!Uh(e))t=Qn(e),e=e.parentNode;else return null}}function Nhe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Uh(e))t=Qn(e)+1,e=e.parentNode;else return null}}function The(e,t,n){for(let r=t==0,o=t==$o(e);r||o;){if(e==n)return!0;let i=Qn(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,o=o&&i==$o(e)}}function Uh(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Sv=function(e){return e.focusNode&&ic(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Sl(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Rhe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Mhe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min($o(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min($o(r.startContainer),r.startOffset)}}}const Ki=typeof navigator<"u"?navigator:null,h2=typeof document<"u"?document:null,sl=Ki&&Ki.userAgent||"",k1=/Edge\/(\d+)/.exec(sl),hz=/MSIE \d/.exec(sl),E1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(sl),Jr=!!(hz||E1||k1),La=hz?document.documentMode:E1?+E1[1]:k1?+k1[1]:0,vi=!Jr&&/gecko\/(\d+)/i.test(sl);vi&&+(/Firefox\/(\d+)/.exec(sl)||[0,0])[1];const N1=!Jr&&/Chrome\/(\d+)/.exec(sl),gr=!!N1,pz=N1?+N1[1]:0,Pr=!Jr&&!!Ki&&/Apple Computer/.test(Ki.vendor),Fu=Pr&&(/Mobile\/\w+/.test(sl)||!!Ki&&Ki.maxTouchPoints>2),jo=Fu||(Ki?/Mac/.test(Ki.platform):!1),Ahe=Ki?/Win/.test(Ki.platform):!1,Es=/Android \d/.test(sl),Hh=!!h2&&"webkitFontSmoothing"in h2.documentElement.style,Phe=Hh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _he(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ps(e,t){return typeof e=="number"?e:e[t]}function Ihe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function p2(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=Lu(s);continue}let a=s,l=a==i.body,c=l?_he(i):Ihe(a),d=0,f=0;if(t.top<c.top+ps(r,"top")?f=-(c.top-t.top+ps(o,"top")):t.bottom>c.bottom-ps(r,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+ps(o,"top")-c.top:t.bottom-c.bottom+ps(o,"bottom")),t.left<c.left+ps(r,"left")?d=-(c.left-t.left+ps(o,"left")):t.right>c.right-ps(r,"right")&&(d=t.right-c.right+ps(o,"right")),d||f)if(l)i.defaultView.scrollBy(d,f);else{let g=a.scrollLeft,v=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let x=a.scrollLeft-g,w=a.scrollTop-v;t={left:t.left-x,top:t.top-w,right:t.right-x,bottom:t.bottom-w}}let m=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(m))break;s=m=="absolute"?s.offsetParent:Lu(s)}}function Ohe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let i=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(i,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:mz(e.dom)}}function mz(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Lu(r));return t}function Dhe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;gz(n,r==0?0:r-t)}function gz(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let jc=null;function jhe(e){if(e.setActive)return e.setActive();if(jc)return e.focus(jc);let t=mz(e);e.focus(jc==null?{get preventScroll(){return jc={preventScroll:!0},!0}}:void 0),jc||(jc=!1,gz(t,0))}function yz(e,t){let n,r=2e8,o,i=0,s=t.top,a=t.top,l,c;for(let d=e.firstChild,f=0;d;d=d.nextSibling,f++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=vs(d).getClientRects();else continue;for(let g=0;g<m.length;g++){let v=m[g];if(v.top<=s&&v.bottom>=a){s=Math.max(v.bottom,s),a=Math.min(v.top,a);let x=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(x<r){n=d,r=x,o=x&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,d.nodeType==1&&x&&(i=f+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!l&&v.left<=t.left&&v.right>=t.left&&(l=d,c={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(i=f+1)}}return!n&&l&&(n=l,o=c,r=0),n&&n.nodeType==3?Lhe(n,o):!n||r&&n.nodeType==1?{node:e,offset:i}:yz(n,o)}function Lhe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let i=oa(r,1);if(i.top!=i.bottom&&xk(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function xk(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Fhe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function zhe(e,t,n){let{node:r,offset:o}=yz(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function $he(e,t,n,r){let o=-1;for(let i=t,s=!1;i!=e.dom;){let a=e.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?o=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),s=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function vz(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=e.childNodes[i];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(xk(t,c))return vz(s,t,c)}}if((i=(i+1)%r)==o)break}return e}function Bhe(e,t){let n=e.dom.ownerDocument,r,o=0,i=Mhe(n,t.left,t.top);i&&({node:r,offset:o}=i);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!xk(t,c)||(s=vz(e.dom,t,c),!s))return null}if(Pr)for(let c=s;r&&c;c=Lu(c))c.draggable&&(r=void 0);if(s=Fhe(s,t),r){if(vi&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let d=r.childNodes[o],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&o++}let c;Hh&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=$he(e,r,o,t))}a==null&&(a=zhe(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function m2(e){return e.top<e.bottom||e.left<e.right}function oa(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(m2(r))return r}return Array.prototype.find.call(n,m2)||e.getBoundingClientRect()}const Whe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function xz(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=Hh||vi;if(r.nodeType==3)if(s&&(Whe.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=oa(vs(r,o,o),n);if(vi&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=oa(vs(r,o-1,o-1),-1);if(c.top==l.top){let d=oa(vs(r,o,o+1),-1);if(d.top!=l.top)return Wd(d,d.left<c.left)}}return l}else{let l=o,c=o,d=n<0?1:-1;return n<0&&!o?(c++,d=-1):n>=0&&o==r.nodeValue.length?(l--,d=1):n<0?l--:c++,Wd(oa(vs(r,l,c),d),d<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==$o(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return fw(l.getBoundingClientRect(),!1)}if(i==null&&o<$o(r)){let l=r.childNodes[o];if(l.nodeType==1)return fw(l.getBoundingClientRect(),!0)}return fw(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==$o(r))){let l=r.childNodes[o-1],c=l.nodeType==3?vs(l,$o(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Wd(oa(c,1),!1)}if(i==null&&o<$o(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?vs(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Wd(oa(c,-1),!0)}return Wd(oa(r.nodeType==3?vs(r):r,-n),n>=0)}function Wd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function fw(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function wz(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function Uhe(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return wz(e,t,()=>{let{node:i}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let s=xz(e,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=vs(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const Hhe=/[\u0590-\u08ac]/;function Vhe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=e.domSelection();return a?!Hhe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:s:wz(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:f}=e.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",n,"character");let g=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:x}=e.domSelectionRange(),w=v&&!g.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==x;try{a.collapse(d,f),l&&(l!=d||c!=f)&&a.extend&&a.extend(l,c)}catch{}return m!=null&&(a.caretBidiLevel=m),w}):r.pos==r.start()||r.pos==r.end()}let g2=null,y2=null,v2=!1;function Ghe(e,t,n){return g2==t&&y2==n?v2:(g2=t,y2=n,v2=n=="up"||n=="down"?Uhe(e,t,n):Vhe(e,t,n))}const Vo=0,x2=1,Rl=2,qi=3;class Vh{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Vo,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,s;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>Qn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let a=o.children[s];if(a.size){o=a;break}}return o}if(t<i)return o.descAt(t-r-o.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],a=i+s.size;if(a>t||s instanceof Sz){o=t-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof bz&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Qn(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Qn(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(o==-1&&t<=c){let d=s+l.border;if(t>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,d);t=s;for(let f=a;f>0;f--){let m=this.children[f-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){o=Qn(m.dom)+1;break}t-=m.size}o==-1&&(o=0)}if(o>-1&&(c>n||a==this.children.length-1)){n=c;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Qn(f.dom);break}n+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let i=Math.min(t,n),s=Math.max(t,n);for(let g=0,v=0;g<this.children.length;g++){let x=this.children[g],w=v+x.size;if(i>v&&s<w)return x.setSelection(t-v-x.border,n-v-x.border,r,o);v=w}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((vi||Pr)&&t==n){let{node:g,offset:v}=a;if(g.nodeType==3){if(f=!!(v&&g.nodeValue[v-1]==`
`),f&&v==g.nodeValue.length)for(let x=g,w;x;x=x.parentNode){if(w=x.nextSibling){w.nodeName=="BR"&&(a=l={node:w.parentNode,offset:Qn(w)+1});break}let S=x.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let x=g.childNodes[v-1];f=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(vi&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(o=!0)}if(!(o||f&&Pr)&&ic(a.node,a.offset,d.anchorNode,d.anchorOffset)&&ic(l.node,l.offset,d.focusNode,d.focusOffset))return;let m=!1;if((c.extend||t==n)&&!f){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(t>n){let v=a;a=l,l=v}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let a=r+i.border,l=s-i.border;if(t>=a&&n<=l){this.dirty=t==r||n==s?Rl:x2,t==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=qi:i.markDirty(t-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Rl:qi}r=s}this.dirty=Rl}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Rl:x2;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class bz extends Vh{constructor(t,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==Vo&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Khe extends Vh{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class sc extends Vh{constructor(t,n,r,o,i){super(t,[],r,o),this.mark=n,this.spec=i}static create(t,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=hc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new sc(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&qi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=qi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Vo){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Vo}}slice(t,n,r){let o=sc.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=R1(i,n,s,r)),t>0&&(i=R1(i,0,t,r));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fa extends Vh{constructor(t,n,r,o,i,s,a,l,c){super(t,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(t,n,r,o,i,s){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,o),d=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=hc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=Ez(d,r,n),c?l=new qhe(t,n,r,o,d,f||null,m,c,i,s+1):n.isText?new Cv(t,n,r,o,d,m,i):new Fa(t,n,r,o,d,f||null,m,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>be.empty)}return t}matchesNode(t,n,r){return this.dirty==Vo&&t.eq(this.node)&&qg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,i=t.composing?this.localCompositionInfo(t,n):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new Xhe(this,s&&s.node,t);Zhe(this.node,this.innerDeco,(c,d,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?Ut.none:this.node.child(d).marks,r,t),l.placeWidget(c,t,o)},(c,d,f,m)=>{l.syncToMarks(c.marks,r,t);let g;l.findNodeMatch(c,d,f,m)||a&&t.state.selection.from>o&&t.state.selection.to<o+c.nodeSize&&(g=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,d,f,g,t)||l.updateNextNode(c,d,f,t,m,o)||l.addNode(c,d,f,t,o),o+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Rl)&&(s&&this.protectLocalComposition(t,s),Cz(this.contentDOM,this.children,t),Fu&&epe(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof at)||r<n||o>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,a=tpe(this.node.content,s,r-n,o-n);return a<0?null:{node:i,pos:a,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new Khe(this,i,n,o);t.input.compositionNodes.push(s),this.children=R1(this.children,r,r+o.length,t,s)}update(t,n,r,o){return this.dirty==qi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Vo}updateOuterDeco(t){if(qg(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kz(this.dom,this.nodeDOM,T1(this.outerDeco,this.node,n),T1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function w2(e,t,n,r,o){Ez(r,t,e);let i=new Fa(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class Cv extends Fa{constructor(t,n,r,o,i,s,a){super(t,n,r,o,i,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==qi||this.dirty!=Vo&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Vo||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=Vo,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),i=document.createTextNode(o.text);return new Cv(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=qi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Sz extends Vh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Vo&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class qhe extends Fa{constructor(t,n,r,o,i,s,a,l,c,d){super(t,n,r,o,i,s,a,c,d),this.spec=l}update(t,n,r,o){if(this.dirty==qi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Cz(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=b2(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(a,r);if(s instanceof sc){let l=r?r.previousSibling:e.lastChild;Cz(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=b2(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const wf=function(e){e&&(this.nodeName=e)};wf.prototype=Object.create(null);const Ml=[new wf];function T1(e,t,n){if(e.length==0)return Ml;let r=n?Ml[0]:new wf,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new wf(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&o.length==1&&o.push(r=new wf(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function kz(e,t,n,r){if(n==Ml&&r==Ml)return t;let o=t;for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(i){let l;a&&a.nodeName==s.nodeName&&o!=e&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Ml[0]),o=l}Yhe(o,a||Ml[0],s)}return o}function Yhe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&e.classList.add(o[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function Ez(e,t,n){return kz(e,e,Ml,T1(t,n,e.nodeType!=1))}function qg(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function b2(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Xhe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Jhe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,t.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Vo,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=sc.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))i=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,o,i){let s=this.top.children[o];return s.dirty==qi&&s.dom==s.contentDOM&&(s.dirty=Rl),s.update(t,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,i,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Fa){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let d=l.dom,f,m=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=qi&&qg(n,l.outerDeco));if(!m&&l.update(t,n,r,o))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(f=this.recreateWrapper(l,t,n,r,o,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Rl,f.updateChildren(o,s+1),f.dirty=Vo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,i,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!qg(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let a=Fa.create(this.top,n,r,o,i,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,o,i){let s=Fa.create(this.top,t,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new bz(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof sc;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Cv)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Pr||gr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new Sz(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Jhe(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof sc)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function Qhe(e,t){return e.type.side-t.type.side}function Zhe(e,t,n,r){let o=t.locals(e),i=0;if(o.length==0){for(let c=0;c<e.childCount;c++){let d=e.child(c);r(d,o,t.forChild(i,d),c),i+=d.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let d,f;for(;s<o.length&&o[s].to==i;){let w=o[s++];w.widget&&(d?(f||(f=[d])).push(w):d=w)}if(d)if(f){f.sort(Qhe);for(let w=0;w<f.length;w++)n(f[w],c,!!l)}else n(d,c,!!l);let m,g;if(l)g=-1,m=l,l=null;else if(c<e.childCount)g=c,m=e.child(c++);else break;for(let w=0;w<a.length;w++)a[w].to<=i&&a.splice(w--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let v=i+m.nodeSize;if(m.isText){let w=v;s<o.length&&o[s].from<w&&(w=o[s].from);for(let S=0;S<a.length;S++)a[S].to<w&&(w=a[S].to);w<v&&(l=m.cut(w-i),m=m.cut(0,w-i),v=w,g=-1)}else for(;s<o.length&&o[s].to<v;)s++;let x=m.isInline&&!m.isLeaf?a.filter(w=>!w.inline):a.slice();r(m,x,t.forChild(i,m),g),i=v}}function epe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function tpe(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<e.childCount;){let c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function R1(e,t,n,r,o){let i=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,d=a+=l.size;c>=n||d<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),d>n&&i.push(l.slice(n-c,l.size,r)))}return i}function wk(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Sv(n)){for(l=s;o&&!o.node;)o=o.parent;let f=o.node;if(o&&f.isAtom&&Xe.isSelectable(f)&&o.parent&&!(f.isInline&&The(n.focusNode,n.focusOffset,o.dom))){let m=o.posBefore;c=new Xe(s==m?a:r.resolve(m))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=s,m=s;for(let g=0;g<n.rangeCount;g++){let v=n.getRangeAt(g);f=Math.min(f,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),m=Math.max(m,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(f<0)return null;[l,s]=m==e.state.selection.anchor?[m,f]:[f,m],a=r.resolve(s)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!c){let f=t=="pointer"||e.state.selection.head<a.pos&&!i?1:-1;c=bk(e,d,a,f)}return c}function Nz(e){return e.editable?e.hasFocus():Rz(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Rs(e,t=!1){let n=e.state.selection;if(Tz(e,n),!!Nz(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&gr){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&ic(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)rpe(e);else{let{anchor:r,head:o}=n,i,s;S2&&!(n instanceof at)&&(n.$from.parent.inlineContent||(i=C2(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=C2(e,n.to))),e.docView.setSelection(r,o,e,t),S2&&(i&&k2(i),s&&k2(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&npe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const S2=Pr||gr&&pz<63;function C2(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Pr&&o&&o.contentEditable=="false")return hw(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return hw(o);if(i)return hw(i)}}function hw(e){return e.contentEditable="true",Pr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function k2(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function npe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Nz(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function rpe(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,Qn(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Jr&&La<=11&&(r.disabled=!0,r.disabled=!1)}function Tz(e,t){if(t instanceof Xe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(E2(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else E2(e)}function E2(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function bk(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||at.between(t,n,r)}function N2(e){return e.editable&&!e.hasFocus()?!1:Rz(e)}function Rz(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function ope(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return ic(t.node,t.offset,n.anchorNode,n.anchorOffset)}function M1(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&wt.findFrom(i,t)}function ca(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function T2(e,t,n){let r=e.state.selection;if(r instanceof at)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=e.state.doc.resolve(o.pos+i.nodeSize*(t<0?-1:1));return ca(e,new at(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=M1(e.state,t);return o&&o instanceof Xe?ca(e,o):!1}else if(!(jo&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let a=t<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?Xe.isSelectable(i)?ca(e,new Xe(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):Hh?ca(e,new at(e.state.doc.resolve(t<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Xe&&r.node.isInline)return ca(e,new at(t>0?r.$to:r.$from));{let o=M1(e.state,t);return o?ca(e,o):!1}}}function Yg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function bf(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Lc(e,t){return t<0?ipe(e):spe(e)}function ipe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(vi&&n.nodeType==1&&r<Yg(n)&&bf(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(bf(a,-1))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Mz(n))break;{let a=n.previousSibling;for(;a&&bf(a,-1);)o=n.parentNode,i=Qn(a),a=a.previousSibling;if(a)n=a,r=Yg(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?A1(e,n,r):o&&A1(e,o,i)}function spe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=Yg(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(bf(a,1))i=n,s=++r;else break}else{if(Mz(n))break;{let a=n.nextSibling;for(;a&&bf(a,1);)i=a.parentNode,s=Qn(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=Yg(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}i&&A1(e,i,s)}function Mz(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ape(e,t){for(;e&&t==e.childNodes.length&&!Uh(e);)t=Qn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function lpe(e,t){for(;e&&!t&&!Uh(e);)t=Qn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function A1(e,t,n){if(t.nodeType!=3){let i,s;(s=ape(t,n))?(t=s,n=0):(i=lpe(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Sv(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Rs(e)},50)}function R2(e,t){let n=e.state.doc.resolve(t);if(!(gr||Ahe)&&n.parent.inlineContent){let o=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function M2(e,t,n){let r=e.state.selection;if(r instanceof at&&!r.empty||n.indexOf("s")>-1||jo&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=M1(e.state,t);if(s&&s instanceof Xe)return ca(e,s)}if(!o.parent.inlineContent){let s=t<0?o:i,a=r instanceof xo?wt.near(s,t):wt.findFrom(s,t);return a?ca(e,a):!1}return!1}function A2(e,t){if(!(e.state.selection instanceof at))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=e.state.tr;return t<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),e.dispatch(s),!0}return!1}function P2(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function cpe(e){if(!Pr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;P2(e,r,"true"),setTimeout(()=>P2(e,r,"false"),20)}return!1}function upe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function dpe(e,t){let n=t.keyCode,r=upe(t);if(n==8||jo&&n==72&&r=="c")return A2(e,-1)||Lc(e,-1);if(n==46&&!t.shiftKey||jo&&n==68&&r=="c")return A2(e,1)||Lc(e,1);if(n==13||n==27)return!0;if(n==37||jo&&n==66&&r=="c"){let o=n==37?R2(e,e.state.selection.from)=="ltr"?-1:1:-1;return T2(e,o,r)||Lc(e,o)}else if(n==39||jo&&n==70&&r=="c"){let o=n==39?R2(e,e.state.selection.from)=="ltr"?1:-1:1;return T2(e,o,r)||Lc(e,o)}else{if(n==38||jo&&n==80&&r=="c")return M2(e,-1,r)||Lc(e,-1);if(n==40||jo&&n==78&&r=="c")return cpe(e)||M2(e,1,r)||Lc(e,1);if(r==(jo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Sk(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let s=e.someProp("clipboardSerializer")||hc.fromSchema(e.state.schema),a=Dz(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,d,f=0;for(;c&&c.nodeType==1&&(d=Oz[c.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let v=a.createElement(d[g]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${i}${f?` -${f}`:""} ${JSON.stringify(n)}`);let m=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:m,slice:t}}function Az(e,t,n,r,o){let i=o.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=t&&(r||i||!n);if(l){if(e.someProp("transformPastedText",m=>{t=m(t,i||r,e)}),i)return t?new Fe(be.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Fe.empty;let f=e.someProp("clipboardTextParser",m=>m(t,o,r,e));if(f)a=f;else{let m=o.marks(),{schema:g}=e.state,v=hc.fromSchema(g);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let w=s.appendChild(document.createElement("p"));x&&w.appendChild(v.serializeNode(g.text(x,m)))})}}else e.someProp("transformPastedHTML",f=>{n=f(n,e)}),s=mpe(n),Hh&&gpe(s);let c=s&&s.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let m=s.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;s=m}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||ja.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||d),context:o,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!fpe.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)a=ype(_2(a,+d[1],+d[2]),d[4]);else if(a=Fe.maxOpen(hpe(a.content,o),!0),a.openStart||a.openEnd){let f=0,m=0;for(let g=a.content.firstChild;f<a.openStart&&!g.type.spec.isolating;f++,g=g.firstChild);for(let g=a.content.lastChild;m<a.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);a=_2(a,f,m)}return e.someProp("transformPasted",f=>{a=f(a,e)}),a}const fpe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hpe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.index(n)),i,s=[];if(e.forEach(a=>{if(!s)return;let l=o.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&i.length&&_z(l,i,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=Iz(s[s.length-1],i.length));let d=Pz(a,l);s.push(d),o=o.matchType(d.type),i=l}}),s)return be.from(s)}return e}function Pz(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,be.from(e));return e}function _z(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=_z(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(be.from(Pz(n,e,o+1))))}}function Iz(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Iz(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(be.empty,!0);return e.copy(n.append(r))}function P1(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(i=0),o<r-1&&(a=P1(a,t,n,r,o+1,i)),o>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(be.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function _2(e,t,n){return t<e.openStart&&(e=new Fe(P1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Fe(P1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Oz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let I2=null;function Dz(){return I2||(I2=document.implementation.createHTMLDocument("title"))}let pw=null;function ppe(e){let t=window.trustedTypes;return t?(pw||(pw=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),pw.createHTML(e)):e}function mpe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Dz().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&Oz[r[1].toLowerCase()])&&(e=o.map(i=>"<"+i+">").join("")+e+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=ppe(e),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function gpe(e){let t=e.querySelectorAll(gr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function ype(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:i,openEnd:s}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=be.from(l.create(r[a+1],o)),i++,s++}return new Fe(o,i,s)}const _r={},Ir={},vpe={touchstart:!0,touchmove:!0};class xpe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function wpe(e){for(let t in _r){let n=_r[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Spe(e,r)&&!Ck(e,r)&&(e.editable||!(r.type in Ir))&&n(e,r)},vpe[t]?{passive:!0}:void 0)}Pr&&e.dom.addEventListener("input",()=>null),_1(e)}function Ea(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function bpe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function _1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>Ck(e,r))})}function Ck(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Spe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Cpe(e,t){!Ck(e,t)&&_r[t.type]&&(e.editable||!(t.type in Ir))&&_r[t.type](e,t)}Ir.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!Lz(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Es&&gr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Fu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,Sl(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||dpe(e,n)?n.preventDefault():Ea(e,"key")};Ir.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Ir.keypress=(e,t)=>{let n=t;if(Lz(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||jo&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof at)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,o,i))&&e.dispatch(i()),n.preventDefault()}};function kv(e){return{left:e.clientX,top:e.clientY}}function kpe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function kk(e,t,n,r,o){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,a=>s>i.depth?a(e,n,i.nodeAfter,i.before(s),o,!0):a(e,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function mu(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function Epe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Xe.isSelectable(r)?(mu(e,new Xe(n)),!0):!1}function Npe(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof Xe&&(r=n.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s);if(Xe.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(mu(e,Xe.create(e.state.doc,o)),!0):!1}function Tpe(e,t,n,r,o){return kk(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(o?Npe(e,n):Epe(e,n))}function Rpe(e,t,n,r){return kk(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function Mpe(e,t,n,r){return kk(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||Ape(e,n,r)}function Ape(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(mu(e,at.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)mu(e,at.create(r,a+1,a+1+s.content.size));else if(Xe.isSelectable(s))mu(e,Xe.create(r,a));else continue;return!0}}function Ek(e){return Xg(e)}const jz=jo?"metaKey":"ctrlKey";_r.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Ek(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&kpe(n,e.input.lastClick)&&!n[jz]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=e.posAtCoords(kv(n));s&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Ppe(e,s,n,!!r)):(i=="doubleClick"?Rpe:Mpe)(e,s.pos,s.inside,n)?n.preventDefault():Ea(e,"pointer"))};class Ppe{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[jz],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),s=n.inside;else{let d=t.state.doc.resolve(n.pos);i=d.parent,s=d.depth?d.before():0}const a=o?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof Xe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ea(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Rs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(kv(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ea(this.view,"pointer"):Tpe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Pr&&this.mightDrag&&!this.mightDrag.node.isAtom||gr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(mu(this.view,wt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ea(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ea(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}_r.touchstart=e=>{e.input.lastTouch=Date.now(),Ek(e),Ea(e,"pointer")};_r.touchmove=e=>{e.input.lastTouch=Date.now(),Ea(e,"pointer")};_r.contextmenu=e=>Ek(e);function Lz(e,t){return e.composing?!0:Pr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const _pe=Es?5e3:-1;Ir.compositionstart=Ir.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof at&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Xg(e,!0),e.markCursor=null;else if(Xg(e,!t.selection.empty),vi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let a=e.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}e.input.composing=!0}Fz(e,_pe)};Ir.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Fz(e,20))};function Fz(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Xg(e),t))}function zz(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Ope());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Ipe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Ehe(t.focusNode,t.focusOffset),r=Nhe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function Ope(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Xg(e,t=!1){if(!(Es&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),zz(e),t||e.docView&&e.docView.dirty){let n=wk(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Dpe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const ih=Jr&&La<15||Fu&&Phe<604;_r.copy=Ir.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let i=ih?null:n.clipboardData,s=r.content(),{dom:a,text:l}=Sk(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):Dpe(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jpe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Lpe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?sh(e,r.value,null,o,t):sh(e,r.textContent,r.innerHTML,o,t)},50)}function sh(e,t,n,r,o){let i=Az(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,o,i||Fe.empty)))return!0;if(!i)return!1;let s=jpe(i),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function $z(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ir.paste=(e,t)=>{let n=t;if(e.composing&&!Es)return;let r=ih?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&sh(e,$z(r),r.getData("text/html"),o,n)?n.preventDefault():Lpe(e,n)};class Bz{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const Fpe=jo?"altKey":"ctrlKey";function Wz(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[Fpe]}_r.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(kv(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof Xe?o.to-1:o.to))){if(r&&r.mightDrag)s=Xe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=e.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(s=Xe.create(e.state.doc,f.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:c,slice:d}=Sk(e,a);(!n.dataTransfer.files.length||!gr||pz>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ih?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",ih||n.dataTransfer.setData("text/plain",c),e.dragging=new Bz(d,Wz(e,n),s)};_r.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Ir.dragover=Ir.dragenter=(e,t)=>t.preventDefault();Ir.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(kv(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",v=>{s=v(s,e)}):s=Az(e,$z(n.dataTransfer),ih?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&Wz(e,n));if(e.someProp("handleDrop",v=>v(e,n,s||Fe.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?sz(e.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let c=e.state.tr;if(a){let{node:v}=r;v?v.replace(c):c.deleteSelection()}let d=c.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=c.doc;if(f?c.replaceRangeWith(d,d,s.content.firstChild):c.replaceRange(d,d,s),c.doc.eq(m))return;let g=c.doc.resolve(d);if(f&&Xe.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Xe(g));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,w,S,C)=>v=C),c.setSelection(bk(e,g,c.doc.resolve(v)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};_r.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Rs(e)},20))};_r.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};_r.beforeinput=(e,t)=>{if(gr&&Es&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,Sl(8,"Backspace")))))return;let{$cursor:o}=e.state.selection;o&&o.pos>0&&e.dispatch(e.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let e in Ir)_r[e]=Ir[e];function ah(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Jg{constructor(t,n){this.toDOM=t,this.spec=n||Bl,this.side=this.spec.side||0}map(t,n,r,o){let{pos:i,deleted:s}=t.mapResult(n.from+o,this.side<0?-1:1);return s?null:new mo(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Jg&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ah(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class za{constructor(t,n){this.attrs=t,this.spec=n||Bl}map(t,n,r,o){let i=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new mo(i,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof za&&ah(this.attrs,t.attrs)&&ah(this.spec,t.spec)}static is(t){return t.type instanceof za}destroy(){}}class Nk{constructor(t,n){this.attrs=t,this.spec=n||Bl}map(t,n,r,o){let i=t.mapResult(n.from+o,1);if(i.deleted)return null;let s=t.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new mo(i.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),i;return o==n.from&&!(i=t.child(r)).isText&&o+i.nodeSize==n.to}eq(t){return this==t||t instanceof Nk&&ah(this.attrs,t.attrs)&&ah(this.spec,t.spec)}destroy(){}}class mo{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new mo(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new mo(t,t,new Jg(n,r))}static inline(t,n,r,o){return new mo(t,n,new za(r,o))}static node(t,n,r,o){return new mo(t,n,new Nk(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof za}get widget(){return this.type instanceof Jg}}const Wc=[],Bl={};class Rn{constructor(t,n){this.local=t.length?t:Wc,this.children=n.length?n:Wc}static create(t,n){return n.length?Qg(n,t,0,Bl):fr}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,i){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,r,o+a,i)}}map(t,n,r){return this==fr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Bl)}mapInner(t,n,r,o,i){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?zpe(this.children,s||[],t,n,r,o,i):s?new Rn(s.sort(Wl),Wc):fr}add(t,n){return n.length?this==fr?Rn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,i=0;t.forEach((a,l)=>{let c=l+r,d;if(d=Hz(n,a,c)){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(a,d,c+1):o.splice(i,0,l,l+a.nodeSize,Qg(d,a,c+1,Bl)),i+=3}});let s=Uz(i?Vz(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new Rn(s.length?this.local.concat(s).sort(Wl):this.local,o||this.children)}remove(t){return t.length==0||this==fr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,a=r[i]+n,l=r[i+1]+n;for(let d=0,f;d<t.length;d++)(f=t[d])&&f.from>a&&f.to<l&&(t[d]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(s,a+1);c!=fr?r[i+2]=c:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<t.length;i++)if(s=t[i])for(let a=0;a<o.length;a++)o[a].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Rn(o,r):fr}forChild(t,n){if(this==fr)return this;if(n.isLeaf)return Rn.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let i=t+1,s=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof za){let c=Math.max(i,l.from)-i,d=Math.min(s,l.to)-i;c<d&&(o||(o=[])).push(l.copy(c,d))}}if(o){let a=new Rn(o.sort(Wl),Wc);return r?new ha([a,r]):a}return r||fr}eq(t){if(this==t)return!0;if(!(t instanceof Rn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Tk(this.localsInner(t))}localsInner(t){if(this==fr)return Wc;if(t.inlineContent||!this.local.some(za.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof za||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Rn.empty=new Rn([],[]);Rn.removeOverlap=Tk;const fr=Rn.empty;class ha{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,Bl));return ha.from(r)}forChild(t,n){if(n.isLeaf)return Rn.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(t,n);i!=fr&&(i instanceof ha?r=r.concat(i.members):r.push(i))}return ha.from(r)}eq(t){if(!(t instanceof ha)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?Tk(r?n:n.sort(Wl)):Wc}static from(t){switch(t.length){case 0:return fr;case 1:return t[0];default:return new ha(t.every(n=>n instanceof Rn)?t:t.reduce((n,r)=>n.concat(r instanceof Rn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function zpe(e,t,n,r,o,i,s){let a=e.slice();for(let c=0,d=i;c<n.maps.length;c++){let f=0;n.maps[c].forEach((m,g,v,x)=>{let w=x-v-(g-m);for(let S=0;S<a.length;S+=3){let C=a[S+1];if(C<0||m>C+d-f)continue;let k=a[S]+d-f;g>=k?a[S+1]=m<=k?-2:-1:m>=d&&w&&(a[S]+=w,a[S+1]+=w)}f+=w}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=n.map(e[c]+i),f=d-o;if(f<0||f>=r.content.size){l=!0;continue}let m=n.map(e[c+1]+i,-1),g=m-o,{index:v,offset:x}=r.content.findIndex(f),w=r.maybeChild(v);if(w&&x==f&&x+w.nodeSize==g){let S=a[c+2].mapInner(n,w,d+1,e[c]+i+1,s);S!=fr?(a[c]=f,a[c+1]=g,a[c+2]=S):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=$pe(a,e,t,n,o,i,s),d=Qg(c,r,0,s);t=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,m=0;f<d.children.length;f+=3){let g=d.children[f];for(;m<a.length&&a[m]<g;)m+=3;a.splice(m,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Rn(t.sort(Wl),a)}function Uz(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new mo(o.from+t,o.to+t,o.type))}return n}function $pe(e,t,n,r,o,i,s){function a(l,c){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(r,o,c);f?n.push(f):s.onRemove&&s.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+i+1);return n}function Hz(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i=0,s;i<e.length;i++)(s=e[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),e[i]=null);return o}function Vz(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Qg(e,t,n,r){let o=[],i=!1;t.forEach((a,l)=>{let c=Hz(e,a,l+n);if(c){i=!0;let d=Qg(c,a,n+l+1,r);d!=fr&&o.push(l,l+a.nodeSize,d)}});let s=Uz(i?Vz(e):e,-n).sort(Wl);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Rn(s,o):fr}function Wl(e,t){return e.from-t.from||e.to-t.to}function Tk(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),O2(t,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),O2(t,o,r.copy(i.from,r.to)));break}}}return t}function O2(e,t,n){for(;t<e.length&&Wl(n,e[t])>0;)t++;e.splice(t,0,n)}function mw(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=fr&&t.push(r)}),e.cursorWrapper&&t.push(Rn.create(e.state.doc,[e.cursorWrapper.deco])),ha.from(t)}const Bpe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Wpe=Jr&&La<=11;class Upe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Hpe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Upe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Jr&&La<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Wpe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Bpe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(N2(this.view)){if(this.suppressingSelectionUpdates)return Rs(this.view);if(Jr&&La<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ic(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Lu(i))n.add(i);for(let i=t.anchorNode;i;i=Lu(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&N2(t)&&!this.ignoreSelectionChange(r),i=-1,s=-1,a=!1,l=[];if(t.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],l);f&&(i=i<0?f.from:Math.min(f.from,i),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(a=!0))}if(vi&&l.length){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,m]=d;f.parentNode&&f.parentNode.parentNode==m.parentNode?m.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let m of d){let g=m.parentNode;g&&g.nodeName=="LI"&&(!f||Kpe(t,f)!=g)&&m.remove()}}}let c=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Sv(r)&&(c=wk(t))&&c.eq(wt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Rs(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,s),Vpe(t)),this.handleDOMChange(i,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Rs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let f=t.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,i=t.nextSibling;if(Jr&&La<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:f,nextSibling:m}=t.addedNodes[d];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(o=f),(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m)}let s=o&&o.parentNode==t.target?Qn(o)+1:0,a=r.localPosFromDOM(t.target,s,-1),l=i&&i.parentNode==t.target?Qn(i):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let D2=new WeakMap,j2=!1;function Vpe(e){if(!D2.has(e)&&(D2.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=vi,j2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),j2=!0}}function L2(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return ic(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function Gpe(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return L2(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?L2(e,n):null}function Kpe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function qpe(e,t,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,d=l.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],Sv(l)||c.push({node:l.focusNode,offset:l.focusOffset})),gr&&e.input.lastKeyCode===8)for(let w=i;w>o;w--){let S=r.childNodes[w-1],C=S.pmViewDesc;if(S.nodeName=="BR"&&!C){i=w;break}if(!C||C.size)break}let f=e.state.doc,m=e.someProp("domParser")||ja.fromSchema(e.state.schema),g=f.resolve(s),v=null,x=m.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:o,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Ype,context:g});if(c&&c[0].pos!=null){let w=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=w),v={anchor:w+s,head:S+s}}return{doc:x,sel:v,from:s,to:a}}function Ype(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Pr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Pr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Xpe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Jpe(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let M=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,B=wk(e,M);if(B&&!e.state.selection.eq(B)){if(gr&&Es&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",$=>$(e,Sl(13,"Enter"))))return;let I=e.state.tr.setSelection(B);M=="pointer"?I.setMeta("pointer",!0):M=="key"&&I.scrollIntoView(),i&&I.setMeta("composition",i),e.dispatch(I)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=qpe(e,t,n),d=e.state.doc,f=d.slice(c.from,c.to),m,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(m=e.state.selection.to,g="end"):(m=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let v=eme(f.content,c.doc.content,c.from,m,g);if(v&&e.input.domChangeCount++,(Fu&&e.input.lastIOSEnter>Date.now()-225||Es)&&o.some(M=>M.nodeType==1&&!Xpe.test(M.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",M=>M(e,Sl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&l instanceof at&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let M=F2(e,e.state.doc,c.sel);if(M&&!M.eq(e.state.selection)){let B=e.state.tr.setSelection(M);i&&B.setMeta("composition",i),e.dispatch(B)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof at&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),Jr&&La<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)=="  "&&(v.start--,v.endA--,v.endB--);let x=c.doc.resolveNoCache(v.start-c.from),w=c.doc.resolveNoCache(v.endB-c.from),S=d.resolve(v.start),C=x.sameParent(w)&&x.parent.inlineContent&&S.end()>=v.endA,k;if((Fu&&e.input.lastIOSEnter>Date.now()-225&&(!C||o.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!C&&x.pos<c.doc.content.size&&(!x.sameParent(w)||!x.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(x.pos,w.pos,"",""))&&(k=wt.findFrom(c.doc.resolve(x.pos+1),1,!0))&&k.head>x.pos)&&e.someProp("handleKeyDown",M=>M(e,Sl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&Zpe(d,v.start,v.endA,x,w)&&e.someProp("handleKeyDown",M=>M(e,Sl(8,"Backspace")))){Es&&gr&&e.domObserver.suppressSelectionUpdates();return}gr&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Es&&!C&&x.start()!=w.start()&&w.parentOffset==0&&x.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,w=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(M){return M(e,Sl(13,"Enter"))})},20));let T=v.start,N=v.endA,R=M=>{let B=M||e.state.tr.replace(T,N,c.doc.slice(v.start-c.from,v.endB-c.from));if(c.sel){let I=F2(e,B.doc,c.sel);I&&!(gr&&e.composing&&I.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(I.head==T||I.head==B.mapping.map(N)-1)||Jr&&I.empty&&I.head==T)&&B.setSelection(I)}return i&&B.setMeta("composition",i),B.scrollIntoView()},_;if(C){if(x.pos==w.pos){Jr&&La<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Rs(e),20));let M=R(e.state.tr.delete(T,N)),B=d.resolve(v.start).marksAcross(d.resolve(v.endA));B&&M.ensureMarks(B),e.dispatch(M)}else if(v.endA==v.endB&&(_=Qpe(x.parent.content.cut(x.parentOffset,w.parentOffset),S.parent.content.cut(S.parentOffset,v.endA-S.start())))){let M=R(e.state.tr);_.type=="add"?M.addMark(T,N,_.mark):M.removeMark(T,N,_.mark),e.dispatch(M)}else if(x.parent.child(x.index()).isText&&x.index()==w.index()-(w.textOffset?0:1)){let M=x.parent.textBetween(x.parentOffset,w.parentOffset),B=()=>R(e.state.tr.insertText(M,T,N));e.someProp("handleTextInput",I=>I(e,T,N,M,B))||e.dispatch(B())}}else e.dispatch(R())}function F2(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:bk(e,t.resolve(n.anchor),t.resolve(n.head))}function Qpe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,i=r,s,a,l;for(let d=0;d<r.length;d++)o=r[d].removeFromSet(o);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=d=>d.mark(a.addToSet(d.marks));else if(o.length==0&&i.length==1)a=i[0],s="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(be.from(c).eq(e))return{mark:a,type:s}}function Zpe(e,t,n,r,o){if(n-t<=o.pos-r.pos||gw(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==t+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(gw(i,!0,!0));return!s.parent.isTextblock||s.pos>n||gw(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function gw(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function eme(e,t,n,r,o){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let l=Math.max(0,i-Math.min(s,a));r-=s+l-i}if(s<i&&e.size<t.size){let l=r<=i&&r>=s?i-r:0;i-=l,i&&i<t.size&&z2(t.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<e.size&&z2(e.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}function z2(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Gz{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xpe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(H2),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=W2(this),B2(this),this.nodeViews=U2(this),this.docView=w2(this.state.doc,$2(this),mw(this),this.dom,this),this.domObserver=new Hpe(this,(r,o,i,s)=>Jpe(this,r,o,i,s)),this.domObserver.start(),wpe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(H2),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,i=!1,s=!1;t.storedMarks&&this.composing&&(zz(this),s=!0),this.state=t;let a=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=U2(this);nme(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&_1(this),this.editable=W2(this),B2(this);let l=mw(this),c=$2(this),d=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(o.selection))&&(s=!0);let m=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Ohe(this);if(s){this.domObserver.stop();let g=f&&(Jr||gr)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&tme(o.selection,t.selection);if(f){let v=gr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ipe(this)),(i||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=w2(t.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ope(this))?Rs(this,g):(Tz(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&Dhe(m)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Xe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&p2(this,n.getBoundingClientRect(),t)}else p2(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new Bz(t.slice,t.move,o<0?void 0:Xe.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(o=n?n(a):a))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let a=i[s].props[t];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(Jr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jhe(this.dom),Rs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Bhe(this,t)}coordsAtPos(t,n=1){return xz(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return Ghe(this,n||this.state,t)}pasteHTML(t,n){return sh(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return sh(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return Sk(this,t)}destroy(){this.docView&&(bpe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],mw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Che())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Cpe(this,t)}domSelectionRange(){let t=this.domSelection();return t?Pr&&this.root.nodeType===11&&Rhe(this.dom.ownerDocument)==this.dom&&Gpe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Gz.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function $2(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[mo.node(0,e.state.doc.content.size,t)]}function B2(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:mo.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function W2(e){return!e.someProp("editable",t=>t(e.state)===!1)}function tme(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function U2(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function nme(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function H2(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ga={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rme=typeof navigator<"u"&&/Mac/.test(navigator.platform),ome=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Zn=0;Zn<10;Zn++)Ga[48+Zn]=Ga[96+Zn]=String(Zn);for(var Zn=1;Zn<=24;Zn++)Ga[Zn+111]="F"+Zn;for(var Zn=65;Zn<=90;Zn++)Ga[Zn]=String.fromCharCode(Zn+32),Zg[Zn]=String.fromCharCode(Zn);for(var yw in Ga)Zg.hasOwnProperty(yw)||(Zg[yw]=Ga[yw]);function ime(e){var t=rme&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||ome&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Zg:Ga)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const sme=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ame=typeof navigator<"u"&&/Win/.test(navigator.platform);function lme(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))sme?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function cme(e){let t=Object.create(null);for(let n in e)t[lme(n)]=e[n];return t}function vw(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function ume(e){return new Lr({props:{handleKeyDown:Kz(e)}})}function Kz(e){let t=cme(e);return function(n,r){let o=ime(r),i,s=t[vw(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=t[vw(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(ame&&r.ctrlKey&&r.altKey)&&(i=Ga[r.keyCode])&&i!=o){let a=t[vw(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Rk=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function qz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Yz=(e,t,n)=>{let r=qz(e,n);if(!r)return!1;let o=Mk(r);if(!o){let s=r.blockRange(),a=s&&ud(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(o$(e,o,t,-1))return!0;if(r.parent.content.size==0&&(zu(i,"end")||Xe.isSelectable(i)))for(let s=r.depth;;s--){let a=wv(e.doc,r.before(s),r.after(s),Fe.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(zu(i,"end")?wt.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Xe.create(l.doc,o.pos-i.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},dme=(e,t,n)=>{let r=qz(e,n);if(!r)return!1;let o=Mk(r);return o?Xz(e,o,t):!1},fme=(e,t,n)=>{let r=Qz(e,n);if(!r)return!1;let o=Ak(r);return o?Xz(e,o,t):!1};function Xz(e,t,n){let r=t.nodeBefore,o=r,i=t.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let d=o.lastChild;if(!d)return!1;o=d}let s=t.nodeAfter,a=s,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let c=wv(e.doc,i,l,Fe.empty);if(!c||c.from!=i||c instanceof Bn&&c.slice.size>=l-i)return!1;if(n){let d=e.tr.step(c);d.setSelection(at.create(d.doc,i)),n(d.scrollIntoView())}return!0}function zu(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Jz=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=Mk(r)}let s=i&&i.nodeBefore;return!s||!Xe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function Mk(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Qz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Zz=(e,t,n)=>{let r=Qz(e,n);if(!r)return!1;let o=Ak(r);if(!o)return!1;let i=o.nodeAfter;if(o$(e,o,t,1))return!0;if(r.parent.content.size==0&&(zu(i,"start")||Xe.isSelectable(i))){let s=wv(e.doc,r.before(),r.after(),Fe.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(zu(i,"start")?wt.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Xe.create(a.doc,a.mapping.map(o.pos))),t(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},e$=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=Ak(r)}let s=i&&i.nodeAfter;return!s||!Xe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,i.pos)).scrollIntoView()),!0)};function Ak(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const hme=(e,t)=>{let n=e.selection,r=n instanceof Xe,o;if(r){if(n.node.isTextblock||!il(e.doc,n.from))return!1;o=n.from}else if(o=xv(e.doc,n.from,-1),o==null)return!1;if(t){let i=e.tr.join(o);r&&i.setSelection(Xe.create(i.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},pme=(e,t)=>{let n=e.selection,r;if(n instanceof Xe){if(n.node.isTextblock||!il(e.doc,n.to))return!1;r=n.to}else if(r=xv(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},mme=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&ud(o);return i==null?!1:(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)},t$=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function Pk(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gme=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=Pk(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(wt.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},n$=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof xo||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=Pk(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(s,i.createAndFill());a.setSelection(at.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},r$=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Ts(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&ud(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};function yme(e){return(t,n)=>{let{$from:r,$to:o}=t.selection;if(t.selection instanceof Xe&&t.selection.node.isBlock)return!r.parentOffset||!Ts(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],s,a,l=!1,c=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){l=r.end(g)==r.pos+(r.depth-g),c=r.start(g)==r.pos-(r.depth-g),a=Pk(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(l&&a?{type:a}:null),s=g;break}else{if(g==1)return!1;i.unshift(null)}let d=t.tr;(t.selection instanceof at||t.selection instanceof xo)&&d.deleteSelection();let f=d.mapping.map(r.pos),m=Ts(d.doc,f,i.length,i);if(m||(i[0]=a?{type:a}:null,m=Ts(d.doc,f,i.length,i)),!m)return!1;if(d.split(f,i.length,i),!l&&c&&r.node(s).type!=a){let g=d.mapping.map(r.before(s)),v=d.doc.resolve(g);a&&r.node(s-1).canReplaceWith(v.index(),v.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(s)),a)}return n&&n(d.scrollIntoView()),!0}}const vme=yme(),xme=(e,t)=>{let{$from:n,to:r}=e.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),t&&t(e.tr.setSelection(Xe.create(e.doc,o))),!0)};function wme(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(o.isTextblock||il(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function o$(e,t,n,r){let o=t.nodeBefore,i=t.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&wme(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(n){let g=t.pos+i.nodeSize,v=be.empty;for(let S=s.length-1;S>=0;S--)v=be.from(s[S].create(null,v));v=be.from(o.copy(v));let x=e.tr.step(new Un(t.pos-1,g,t.pos,g,new Fe(v,1,0),s.length,!0)),w=x.doc.resolve(g+2*s.length);w.nodeAfter&&w.nodeAfter.type==o.type&&il(x.doc,w.pos)&&x.join(w.pos),n(x.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&l?null:wt.findFrom(t,1),f=d&&d.$from.blockRange(d.$to),m=f&&ud(f);if(m!=null&&m>=t.depth)return n&&n(e.tr.lift(f,m).scrollIntoView()),!0;if(c&&zu(i,"start",!0)&&zu(o,"end")){let g=o,v=[];for(;v.push(g),!g.isTextblock;)g=g.lastChild;let x=i,w=1;for(;!x.isTextblock;x=x.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,x.content)){if(n){let S=be.empty;for(let k=v.length-1;k>=0;k--)S=be.from(v[k].copy(S));let C=e.tr.step(new Un(t.pos-v.length,t.pos+i.nodeSize,t.pos+w,t.pos+i.nodeSize-w,new Fe(S,v.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function i$(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(t.tr.setSelection(at.create(t.doc,e<0?o.start(i):o.end(i)))),!0):!1}}const bme=i$(-1),Sme=i$(1);function Cme(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&yk(s,e,t);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function V2(e,t=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(s,a,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)o=!0;else{let d=n.doc.resolve(c),f=d.index();o=d.parent.canReplaceWith(f,f+1,e)}})}if(!o)return!1;if(r){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];i.setBlockType(a,l,e,t)}r(i.scrollIntoView())}return!0}}function _k(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}_k(Rk,Yz,Jz);_k(Rk,Zz,e$);_k(t$,n$,r$,vme);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function kme(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i);if(!s)return!1;let a=r?n.tr:null;return Eme(a,s,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function Eme(e,t,n,r=null){let o=!1,i=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);i=new Gg(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Gg(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let a=yk(i,n,r,t);return a?(e&&Nme(e,t,a,o,n),!0):!1}function Nme(e,t,n,r,o){let i=be.empty;for(let d=n.length-1;d>=0;d--)i=be.from(n[d].type.create(n[d].attrs,i));e.step(new Un(t.start-(r?2:0),t.end,t.start,t.end,new Fe(i,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==o&&(s=d+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,f=t.endIndex,m=!0;d<f;d++,m=!1)!m&&Ts(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return e}function Tme(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?Rme(t,n,e,i):Mme(t,n,i):!0:!1}}function Rme(e,t,n,r){let o=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Un(i-1,s,i,s,new Fe(be.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Gg(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=ud(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return il(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),t(o.scrollIntoView()),!0}function Mme(e,t,n){let r=e.tr,o=n.parent;for(let g=n.end,v=n.endIndex-1,x=n.startIndex;v>x;v--)g-=o.child(v).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(a?0:1),d+1,s.content.append(l?be.empty:be.from(o))))return!1;let f=i.pos,m=f+s.nodeSize;return r.step(new Un(f-(a?1:0),m+(l?1:0),f+1,m-1,new Fe((a?be.empty:be.from(o.copy(be.empty))).append(l?be.empty:be.from(o.copy(be.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function Ame(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==e);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,d=be.from(c?e.create():null),f=new Fe(be.from(e.create(null,be.from(a.type.create(null,d)))),c?3:1,0),m=i.start,g=i.end;n(t.tr.step(new Un(m-(c?3:1),g,m,g,f,1,!0)).scrollIntoView())}return!0}}function Ev(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class Nv{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...d)=>{const f=l(...d)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a=[],l=!!t,c=t||i.tr,d=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(r).map(([m,g])=>[m,(...x)=>{const w=this.buildProps(c,n),S=g(...x)(w);return a.push(S),f}])),run:d};return f}createCan(t){const{rawCommands:n,state:r}=this,o=!1,i=t||r.tr,s=this.buildProps(i,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...d)=>c(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a={tr:t,editor:o,view:s,state:Ev({state:i,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...d)=>c(...d)(a)]))}};return a}}class Pme{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(o=>o.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(o=>o!==n):delete this.callbacks[t]),this}once(t,n){const r=(...o)=>{this.off(t,r),n.apply(this,o)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}}function He(e,t,n){return e.config[t]===void 0&&e.parent?He(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?He(e.parent,t,n):null}):e.config[t]}function Tv(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function s$(e){const t=[],{nodeExtensions:n,markExtensions:r}=Tv(e),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:o},l=He(s,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([m,g])=>{t.push({type:f,name:m,attribute:{...i,...g}})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=He(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([d,f])=>{const m={...i,...f};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,t.push({type:s.name,name:d,attribute:m})})}),t}function Gn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function or(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const a=i?String(i).split(" "):[],l=r[o]?r[o].split(" "):[],c=a.filter(d=>!l.includes(d));r[o]=[...l,...c].join(" ")}else if(o==="style"){const a=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[f,m]=d.split(":").map(g=>g.trim());c.set(f,m)}),a.forEach(d=>{const[f,m]=d.split(":").map(g=>g.trim());c.set(f,m)}),r[o]=Array.from(c.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[o]=i}),r},{})}function I1(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>or(n,r),{})}function a$(e){return typeof e=="function"}function Ct(e,t=void 0,...n){return a$(e)?t?e.bind(t)(...n):e(...n):e}function _me(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Ime(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function G2(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const o=t.reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):Ime(n.getAttribute(s.name));return a==null?i:{...i,[s.name]:a}},{});return{...r,...o}}}}function K2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&_me(n)?!1:n!=null))}function Ome(e,t){var n;const r=s$(e),{nodeExtensions:o,markExtensions:i}=Tv(e),s=(n=o.find(c=>He(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(o.map(c=>{const d=r.filter(S=>S.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},m=e.reduce((S,C)=>{const k=He(C,"extendNodeSchema",f);return{...S,...k?k(c):{}}},{}),g=K2({...m,content:Ct(He(c,"content",f)),marks:Ct(He(c,"marks",f)),group:Ct(He(c,"group",f)),inline:Ct(He(c,"inline",f)),atom:Ct(He(c,"atom",f)),selectable:Ct(He(c,"selectable",f)),draggable:Ct(He(c,"draggable",f)),code:Ct(He(c,"code",f)),whitespace:Ct(He(c,"whitespace",f)),linebreakReplacement:Ct(He(c,"linebreakReplacement",f)),defining:Ct(He(c,"defining",f)),isolating:Ct(He(c,"isolating",f)),attrs:Object.fromEntries(d.map(S=>{var C;return[S.name,{default:(C=S==null?void 0:S.attribute)===null||C===void 0?void 0:C.default}]}))}),v=Ct(He(c,"parseHTML",f));v&&(g.parseDOM=v.map(S=>G2(S,d)));const x=He(c,"renderHTML",f);x&&(g.toDOM=S=>x({node:S,HTMLAttributes:I1(S,d)}));const w=He(c,"renderText",f);return w&&(g.toText=w),[c.name,g]})),l=Object.fromEntries(i.map(c=>{const d=r.filter(w=>w.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},m=e.reduce((w,S)=>{const C=He(S,"extendMarkSchema",f);return{...w,...C?C(c):{}}},{}),g=K2({...m,inclusive:Ct(He(c,"inclusive",f)),excludes:Ct(He(c,"excludes",f)),group:Ct(He(c,"group",f)),spanning:Ct(He(c,"spanning",f)),code:Ct(He(c,"code",f)),attrs:Object.fromEntries(d.map(w=>{var S;return[w.name,{default:(S=w==null?void 0:w.attribute)===null||S===void 0?void 0:S.default}]}))}),v=Ct(He(c,"parseHTML",f));v&&(g.parseDOM=v.map(w=>G2(w,d)));const x=He(c,"renderHTML",f);return x&&(g.toDOM=w=>x({mark:w,HTMLAttributes:I1(w,d)})),[c.name,g]}));return new Y3({topNode:s,nodes:a,marks:l})}function xw(e,t){return t.nodes[e]||t.marks[e]||null}function q2(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function Ik(e,t){const n=hc.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}const Dme=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(o,i,s,a)=>{var l,c;const d=((c=(l=o.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:o,pos:i,parent:s,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?d:d.slice(0,Math.max(0,r-i))}),n};function Ok(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class Rv{constructor(t){this.find=t.find,this.handler=t.handler}}const jme=(e,t)=>{if(Ok(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function mm(e){var t;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((t=c.nodeBefore||c.nodeAfter)===null||t===void 0)&&t.marks.find(m=>m.type.spec.code))return!1;let d=!1;const f=Dme(c)+i;return s.forEach(m=>{if(d)return;const g=jme(f,m.find);if(!g)return;const v=l.state.tr,x=Ev({state:l.state,transaction:v}),w={from:r-(g[0].length-i.length),to:o},{commands:S,chain:C,can:k}=new Nv({editor:n,state:x});m.handler({state:x,range:w,match:g,commands:S,chain:C,can:k})===null||!v.steps.length||(v.setMeta(a,{transform:v,from:r,to:o,text:i}),l.dispatch(v),d=!0)}),d}function Lme(e){const{editor:t,rules:n}=e,r=new Lr({state:{init(){return null},apply(o,i,s){const a=o.getMeta(r);if(a)return a;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=Ik(be.from(d),s.schema);const{from:f}=l,m=f+d.length;mm({editor:t,from:f,to:m,text:d,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,a){return mm({editor:t,from:i,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&mm({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?mm({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Fme(e){return Object.prototype.toString.call(e).slice(8,-1)}function gm(e){return Fme(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Mv(e,t){const n={...e};return gm(e)&&gm(t)&&Object.keys(t).forEach(r=>{gm(t[r])&&gm(e[r])?n[r]=Mv(e[r],t[r]):n[r]=t[r]}),n}class Yi{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(He(this,"addOptions",{name:this.name}))),this.storage=Ct(He(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Yi(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>Mv(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Yi(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(He(n,"addOptions",{name:n.name})),n.storage=Ct(He(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const s=o.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}}function zme(e){return typeof e=="number"}class $me{constructor(t){this.find=t.find,this.handler=t.handler}}const Bme=(e,t,n)=>{if(Ok(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=e,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function Wme(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:d}=new Nv({editor:t,state:n}),f=[];return n.doc.nodesBetween(r,o,(g,v)=>{if(!g.isTextblock||g.type.spec.code)return;const x=Math.max(r,v),w=Math.min(o,v+g.content.size),S=g.textBetween(x-v,w-v,void 0,"￼");Bme(S,i.find,s).forEach(k=>{if(k.index===void 0)return;const T=x+k.index+1,N=T+k[0].length,R={from:n.tr.mapping.map(T),to:n.tr.mapping.map(N)},_=i.handler({state:n,range:R,match:k,commands:l,chain:c,can:d,pasteEvent:s,dropEvent:a});f.push(_)})}),f.every(g=>g!==null)}let ym=null;const Ume=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function Hme(e){const{editor:t,rules:n}=e;let r=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:f,to:m,rule:g,pasteEvt:v})=>{const x=d.tr,w=Ev({state:d,transaction:x});if(!(!Wme({editor:t,state:w,from:Math.max(f-1,0),to:m.b-1,rule:g,pasteEvent:v,dropEvent:a})||!x.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(d=>new Lr({view(f){const m=v=>{var x;r=!((x=f.dom.parentElement)===null||x===void 0)&&x.contains(v.target)?f.dom.parentElement:null,r&&(ym=t)},g=()=>{ym&&(ym=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(f,m)=>{if(i=r===f.dom.parentElement,a=m,!i){const g=ym;g!=null&&g.isEditable&&setTimeout(()=>{const v=g.state.selection;v&&g.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(f,m)=>{var g;const v=(g=m.clipboardData)===null||g===void 0?void 0:g.getData("text/html");return s=m,o=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(f,m,g)=>{const v=f[0],x=v.getMeta("uiEvent")==="paste"&&!o,w=v.getMeta("uiEvent")==="drop"&&!i,S=v.getMeta("applyPasteRules"),C=!!S;if(!x&&!w&&!C)return;if(C){let{text:N}=S;typeof N=="string"?N=N:N=Ik(be.from(N),g.schema);const{from:R}=S,_=R+N.length,M=Ume(N);return l({rule:d,state:g,from:R,to:{b:_},pasteEvt:M})}const k=m.doc.content.findDiffStart(g.doc.content),T=m.doc.content.findDiffEnd(g.doc.content);if(!(!zme(k)||!T||k===T.b))return l({rule:d,state:g,from:k,to:T,pasteEvt:s})}}))}function Vme(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}class nu{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=nu.resolve(t),this.schema=Ome(this.extensions,n),this.setupExtensions()}static resolve(t){const n=nu.sort(nu.flatten(t)),r=Vme(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=He(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(t){return t.sort((r,o)=>{const i=He(r,"priority")||100,s=He(o,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:xw(n.name,this.schema)},o=He(n,"addCommands",r);return o?{...t,...o()}:t},{})}get plugins(){const{editor:t}=this,n=nu.sort([...this.extensions].reverse()),r=[],o=[],i=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:t,type:xw(s.name,this.schema)},l=[],c=He(s,"addKeyboardShortcuts",a);let d={};if(s.type==="mark"&&He(s,"exitable",a)&&(d.ArrowRight=()=>Yi.handleExit({editor:t,mark:s})),c){const x=Object.fromEntries(Object.entries(c()).map(([w,S])=>[w,()=>S({editor:t})]));d={...d,...x}}const f=ume(d);l.push(f);const m=He(s,"addInputRules",a);q2(s,t.options.enableInputRules)&&m&&r.push(...m());const g=He(s,"addPasteRules",a);q2(s,t.options.enablePasteRules)&&g&&o.push(...g());const v=He(s,"addProseMirrorPlugins",a);if(v){const x=v();l.push(...x)}return l}).flat();return[Lme({editor:t,rules:r}),...Hme({editor:t,rules:o}),...i]}get attributes(){return s$(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=Tv(this.extensions);return Object.fromEntries(n.filter(r=>!!He(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:t,type:Gn(r.name,this.schema)},s=He(r,"addNodeView",i);if(!s)return[];const a=(l,c,d,f,m)=>{const g=I1(l,o);return s()({node:l,view:c,getPos:d,decorations:f,innerDecorations:m,editor:t,extension:r,HTMLAttributes:g})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:xw(t.name,this.schema)};t.type==="mark"&&(!((n=Ct(He(t,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const o=He(t,"onBeforeCreate",r),i=He(t,"onCreate",r),s=He(t,"onUpdate",r),a=He(t,"onSelectionUpdate",r),l=He(t,"onTransaction",r),c=He(t,"onFocus",r),d=He(t,"onBlur",r),f=He(t,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}}class Kn{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(He(this,"addOptions",{name:this.name}))),this.storage=Ct(He(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Kn(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>Mv(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Kn({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(He(n,"addOptions",{name:n.name})),n.storage=Ct(He(n,"addStorage",{name:n.name,options:n.options})),n}}function l$(e,t,n){const{from:r,to:o}=t,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="";return e.nodesBetween(r,o,(l,c,d,f)=>{var m;l.isBlock&&c>r&&(a+=i);const g=s==null?void 0:s[l.type.name];if(g)return d&&(a+=g({node:l,pos:c,parent:d,index:f,range:t})),!1;l.isText&&(a+=(m=l==null?void 0:l.text)===null||m===void 0?void 0:m.slice(Math.max(r,c)-c,o-c))}),a}function c$(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const Gme=Kn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Lr({key:new ki("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,s=Math.min(...i.map(d=>d.$from.pos)),a=Math.max(...i.map(d=>d.$to.pos)),l=c$(n);return l$(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Kme=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),qme=(e=!1)=>({commands:t})=>t.setContent("",e),Yme=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{e.doc.nodesBetween(i.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:d}=t,f=c.resolve(d.map(l)),m=c.resolve(d.map(l+a.nodeSize)),g=f.blockRange(m);if(!g)return;const v=ud(g);if(a.type.isTextblock){const{defaultType:x}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(g.start,x)}(v||v===0)&&t.lift(g,v)})}),!0},Xme=e=>t=>e(t),Jme=()=>({state:e,dispatch:t})=>n$(e,t),Qme=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,i.content),r.setSelection(new at(r.doc.resolve(s-1))),!0},Zme=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(t){const a=o.before(i),l=o.after(i);e.delete(a,l).scrollIntoView()}return!0}return!1},ege=e=>({tr:t,state:n,dispatch:r})=>{const o=Gn(e,n.schema),i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const l=i.before(s),c=i.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},tge=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},nge=()=>({state:e,dispatch:t})=>Rk(e,t),rge=()=>({commands:e})=>e.keyboardShortcut("Enter"),oge=()=>({state:e,dispatch:t})=>gme(e,t);function ey(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:Ok(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function u$(e,t,n={}){return e.find(r=>r.type===t&&ey(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function Y2(e,t,n={}){return!!u$(e,t,n)}function Dk(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(d=>d.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(d=>d.type===t)||(n=n||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!u$([...o.node.marks],t,n)))return;let s=o.index,a=e.start()+o.offset,l=s+1,c=a+o.node.nodeSize;for(;s>0&&Y2([...e.parent.child(s-1).marks],t,n);)s-=1,a-=e.parent.child(s).nodeSize;for(;l<e.parent.childCount&&Y2([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function al(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const ige=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=al(e,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:d}=a;if(o){const f=Dk(l,i,t);if(f&&f.from<=c&&f.to>=d){const m=at.create(s,f.from,f.to);n.setSelection(m)}}return!0},sge=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function d$(e){return e instanceof at}function Al(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function f$(e,t=null){if(!t)return null;const n=wt.atStart(e),r=wt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,i=r.to;return t==="all"?at.create(e,Al(0,o,i),Al(e.content.size,o,i)):at.create(e,Al(t,o,i),Al(t,o,i))}function age(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function jk(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const lge=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const s=()=>{(jk()||age())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(i&&e===null&&!d$(n.state.selection))return s(),!0;const a=f$(o.doc,e)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},cge=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),uge=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),h$=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&h$(r)}return e};function vm(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return h$(n)}function lh(e,t,n){if(e instanceof Da||e instanceof be)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return be.fromArray(e.map(a=>t.nodeFromJSON(a)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),lh("",t,n)}if(o){if(n.errorOnInvalidContent){let s=!1,a="";const l=new Y3({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?ja.fromSchema(l).parseSlice(vm(e),n.parseOptions):ja.fromSchema(l).parse(vm(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=ja.fromSchema(t);return n.slice?i.parseSlice(vm(e),n.parseOptions).content:i.parse(vm(e),n.parseOptions)}return lh("",t,n)}function dge(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof Bn||o instanceof Un))return;const i=e.mapping.maps[r];let s=0;i.forEach((a,l,c,d)=>{s===0&&(s=d)}),e.setSelection(wt.near(e.doc.resolve(s),n))}const fge=e=>!("type"in e),hge=(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var s;if(o){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=w=>{i.emit("contentError",{editor:i,error:w,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{lh(t,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(w){l(w)}try{a=lh(t,i.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch(w){return l(w),!1}let{from:d,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},m=!0,g=!0;if((fge(a)?a:[a]).forEach(w=>{w.check(),m=m?w.isText&&w.marks.length===0:!1,g=g?w.isBlock:!1}),d===f&&g){const{parent:w}=r.doc.resolve(d);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(d-=1,f+=1)}let x;if(m){if(Array.isArray(t))x=t.map(w=>w.text||"").join("");else if(t instanceof be){let w="";t.forEach(S=>{S.text&&(w+=S.text)}),x=w}else typeof t=="object"&&t&&t.text?x=t.text:x=t;r.insertText(x,d,f)}else x=a,r.replaceWith(d,f,x);n.updateSelection&&dge(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:x})}return!0},pge=()=>({state:e,dispatch:t})=>hme(e,t),mge=()=>({state:e,dispatch:t})=>pme(e,t),gge=()=>({state:e,dispatch:t})=>Yz(e,t),yge=()=>({state:e,dispatch:t})=>Zz(e,t),vge=()=>({state:e,dispatch:t,tr:n})=>{try{const r=xv(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},xge=()=>({state:e,dispatch:t,tr:n})=>{try{const r=xv(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},wge=()=>({state:e,dispatch:t})=>dme(e,t),bge=()=>({state:e,dispatch:t})=>fme(e,t);function p$(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Sge(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))jk()||p$()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const Cge=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=Sge(e).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const d=c.map(r.mapping);d&&o&&r.maybeStep(d)}),!0};function ch(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,s=t?Gn(t,e.schema):null,a=[];e.doc.nodesBetween(r,o,(f,m)=>{if(f.isText)return;const g=Math.max(r,m),v=Math.min(o,m+f.nodeSize);a.push({node:f,from:g,to:v})});const l=o-r,c=a.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>ey(f.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((f,m)=>f+m.to-m.from,0)>=l}const kge=(e,t={})=>({state:n,dispatch:r})=>{const o=Gn(e,n.schema);return ch(n,o,t)?mme(n,r):!1},Ege=()=>({state:e,dispatch:t})=>r$(e,t),Nge=e=>({state:t,dispatch:n})=>{const r=Gn(e,t.schema);return Tme(r)(t,n)},Tge=()=>({state:e,dispatch:t})=>t$(e,t);function Av(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function X2(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}const Rge=(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Av(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=Gn(e,r.schema)),a==="mark"&&(s=al(e,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,d)=>{i&&i===c.type&&n.setNodeMarkup(d,void 0,X2(c.attrs,t)),s&&c.marks.length&&c.marks.forEach(f=>{s===f.type&&n.addMark(d,d+c.nodeSize,s.create(X2(f.attrs,t)))})})}),!0):!1},Mge=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Age=()=>({tr:e,dispatch:t})=>{if(t){const n=new xo(e.doc);e.setSelection(n)}return!0},Pge=()=>({state:e,dispatch:t})=>Jz(e,t),_ge=()=>({state:e,dispatch:t})=>e$(e,t),Ige=()=>({state:e,dispatch:t})=>xme(e,t),Oge=()=>({state:e,dispatch:t})=>Sme(e,t),Dge=()=>({state:e,dispatch:t})=>bme(e,t);function O1(e,t,n={},r={}){return lh(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const jge=(e,t=!1,n={},r={})=>({editor:o,tr:i,dispatch:s,commands:a})=>{var l,c;const{doc:d}=i;if(n.preserveWhitespace!=="full"){const f=O1(e,o.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck});return s&&i.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!t),!0}return s&&i.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:d.content.size},e,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:o.options.enableContentCheck})};function m$(e,t){const n=al(t,e.schema),{from:r,to:o,empty:i}=e.selection,s=[];i?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Lge(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Fge(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Lk(e){return t=>Fge(t.$from,e)}function zge(e,t){const n={from:0,to:e.content.size};return l$(e,n,t)}function $ge(e,t){const n=Gn(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function Bge(e,t){const n=Av(typeof t=="string"?t:t.name,e.schema);return n==="node"?$ge(e,t):n==="mark"?m$(e,t):{}}function g$(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const i=n.resolve(e),s=Dk(i,o.type);s&&r.push({mark:o,...s})}):n.nodesBetween(e,t,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}function qm(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(i=>i.type===t&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function D1(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?al(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>ey(f.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:f,$to:m})=>{const g=f.pos,v=m.pos;e.doc.nodesBetween(g,v,(x,w)=>{if(!x.isText&&!x.marks.length)return;const S=Math.max(g,w),C=Math.min(v,w+x.nodeSize),k=C-S;s+=k,a.push(...x.marks.map(T=>({mark:T,from:S,to:C})))})}),s===0)return!1;const l=a.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>ey(f.mark.attrs,n,{strict:!1})).reduce((f,m)=>f+m.to-m.from,0),c=a.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,m)=>f+m.to-m.from,0);return(l>0?l+c:l)>=s}function Wge(e,t,n={}){if(!t)return ch(e,null,n)||D1(e,null,n);const r=Av(t,e.schema);return r==="node"?ch(e,t,n):r==="mark"?D1(e,t,n):!1}function J2(e,t){const{nodeExtensions:n}=Tv(t),r=n.find(s=>s.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=Ct(He(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function Pv(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!==null&&r!==void 0?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(i=>{o!==!1&&(Pv(i,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function Uge(e){return e instanceof Xe}function Hge(e,t,n){var r;const{selection:o}=t;let i=null;if(d$(o)&&(i=o.$cursor),i){const a=(r=e.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=o;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(d,f,m)=>{if(c)return!1;if(d.isInline){const g=!m||m.type.allowsMarkType(n),v=!!n.isInSet(d.marks)||!d.marks.some(x=>x.type.excludes(n));c=g&&v}return!c}),c})}const Vge=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=al(e,r.schema);if(o)if(s){const c=m$(r,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(d,f,(m,g)=>{const v=Math.max(g,d),x=Math.min(g+m.nodeSize,f);m.marks.find(S=>S.type===l)?m.marks.forEach(S=>{l===S.type&&n.addMark(v,x,l.create({...S.attrs,...t}))}):n.addMark(v,x,l.create(t))})});return Hge(r,n,l)},Gge=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Kge=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=Gn(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:a})=>V2(i,{...s,...t})(n)?!0:a.clearNodes()).command(({state:a})=>V2(i,{...s,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},qge=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Al(e,0,r.content.size),i=Xe.create(r,o);t.setSelection(i)}return!0},Yge=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:i}=typeof e=="number"?{from:e,to:e}:e,s=at.atStart(r).from,a=at.atEnd(r).to,l=Al(o,s,a),c=Al(i,s,a),d=at.create(r,l,c);t.setSelection(d)}return!0},Xge=e=>({state:t,dispatch:n})=>{const r=Gn(e,t.schema);return Ame(r)(t,n)};function Q2(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t==null?void 0:t.includes(o.type.name));e.tr.ensureMarks(r)}}const Jge=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=t,{$from:a,$to:l}=i,c=o.extensionManager.attributes,d=qm(c,a.node().type.name,a.node().attrs);if(i instanceof Xe&&i.node.isBlock)return!a.parentOffset||!Ts(s,a.pos)?!1:(r&&(e&&Q2(n,o.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,m=a.depth===0?void 0:Lge(a.node(-1).contentMatchAt(a.indexAfter(-1)));let g=f&&m?[{type:m,attrs:d}]:void 0,v=Ts(t.doc,t.mapping.map(a.pos),1,g);if(!g&&!v&&Ts(t.doc,t.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(v=!0,g=m?[{type:m,attrs:d}]:void 0),r){if(v&&(i instanceof at&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,g),m&&!f&&!a.parentOffset&&a.parent.type!==m)){const x=t.mapping.map(a.before()),w=t.doc.resolve(x);a.node(-1).canReplaceWith(w.index(),w.index()+1,m)&&t.setNodeMarkup(t.mapping.map(a.before()),m)}e&&Q2(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return v},Qge=(e,t={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var s;const a=Gn(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const m=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let S=be.empty;const C=l.index(-1)?1:l.index(-2)?2:3;for(let M=l.depth-C;M>=l.depth-3;M-=1)S=be.from(l.node(M).copy(S));const k=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...qm(m,l.node().type.name,l.node().attrs),...t},N=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(T))||void 0;S=S.append(be.from(a.createAndFill(null,N)||void 0));const R=l.before(l.depth-(C-1));n.replace(R,l.after(-k),new Fe(S,4-C,0));let _=-1;n.doc.nodesBetween(R,n.doc.content.size,(M,B)=>{if(_>-1)return!1;M.isTextblock&&M.content.size===0&&(_=B+1)}),_>-1&&n.setSelection(at.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const g=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,v={...qm(m,f.type.name,f.attrs),...t},x={...qm(m,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const w=g?[{type:a,attrs:v},{type:g,attrs:x}]:[{type:a,attrs:v}];if(!Ts(n.doc,l.pos,2))return!1;if(o){const{selection:S,storedMarks:C}=r,{splittableMarks:k}=i.extensionManager,T=C||S.$to.parentOffset&&S.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!T||!o)return!0;const N=T.filter(R=>k.includes(R.type.name));n.ensureMarks(N)}return!0},ww=(e,t)=>{const n=Lk(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&il(e.doc,n.pos)&&e.join(n.pos),!0},bw=(e,t)=>{const n=Lk(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&il(e.doc,r)&&e.join(r),!0},Zge=(e,t,n,r={})=>({editor:o,tr:i,state:s,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:f,splittableMarks:m}=o.extensionManager,g=Gn(e,s.schema),v=Gn(t,s.schema),{selection:x,storedMarks:w}=s,{$from:S,$to:C}=x,k=S.blockRange(C),T=w||x.$to.parentOffset&&x.$from.marks();if(!k)return!1;const N=Lk(R=>J2(R.type.name,f))(x);if(k.depth>=1&&N&&k.depth-N.depth<=1){if(N.node.type===g)return c.liftListItem(v);if(J2(N.node.type.name,f)&&g.validContent(N.node.content)&&a)return l().command(()=>(i.setNodeMarkup(N.pos,g),!0)).command(()=>ww(i,g)).command(()=>bw(i,g)).run()}return!n||!T||!a?l().command(()=>d().wrapInList(g,r)?!0:c.clearNodes()).wrapInList(g,r).command(()=>ww(i,g)).command(()=>bw(i,g)).run():l().command(()=>{const R=d().wrapInList(g,r),_=T.filter(M=>m.includes(M.type.name));return i.ensureMarks(_),R?!0:c.clearNodes()}).wrapInList(g,r).command(()=>ww(i,g)).command(()=>bw(i,g)).run()},eye=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=al(e,r.schema);return D1(r,s,t)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,t)},tye=(e,t,n={})=>({state:r,commands:o})=>{const i=Gn(e,r.schema),s=Gn(t,r.schema),a=ch(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(s,l):o.setNode(i,{...l,...n})},nye=(e,t={})=>({state:n,commands:r})=>{const o=Gn(e,n.schema);return ch(n,o,t)?r.lift(o):r.wrapIn(o,t)},rye=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const s=e.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,e.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},oye=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},iye=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=al(e,r.schema),{$from:c,empty:d,ranges:f}=a;if(!o)return!0;if(d&&s){let{from:m,to:g}=a;const v=(i=c.marks().find(w=>w.type===l))===null||i===void 0?void 0:i.attrs,x=Dk(c,l,v);x&&(m=x.from,g=x.to),n.removeMark(m,g,l)}else f.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,l)});return n.removeStoredMark(l),!0},sye=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Av(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=Gn(e,r.schema)),a==="mark"&&(s=al(e,r.schema)),o&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;let f,m,g,v;n.selection.empty?r.doc.nodesBetween(c,d,(x,w)=>{i&&i===x.type&&(g=Math.max(w,c),v=Math.min(w+x.nodeSize,d),f=w,m=x)}):r.doc.nodesBetween(c,d,(x,w)=>{w<c&&i&&i===x.type&&(g=Math.max(w,c),v=Math.min(w+x.nodeSize,d),f=w,m=x),w>=c&&w<=d&&(i&&i===x.type&&n.setNodeMarkup(w,void 0,{...x.attrs,...t}),s&&x.marks.length&&x.marks.forEach(S=>{if(s===S.type){const C=Math.max(w,c),k=Math.min(w+x.nodeSize,d);n.addMark(C,k,s.create({...S.attrs,...t}))}}))}),m&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...m.attrs,...t}),s&&m.marks.length&&m.marks.forEach(x=>{s===x.type&&n.addMark(g,v,s.create({...x.attrs,...t}))}))}),!0):!1},aye=(e,t={})=>({state:n,dispatch:r})=>{const o=Gn(e,n.schema);return Cme(o,t)(n,r)},lye=(e,t={})=>({state:n,dispatch:r})=>{const o=Gn(e,n.schema);return kme(o,t)(n,r)};var cye=Object.freeze({__proto__:null,blur:Kme,clearContent:qme,clearNodes:Yme,command:Xme,createParagraphNear:Jme,cut:Qme,deleteCurrentNode:Zme,deleteNode:ege,deleteRange:tge,deleteSelection:nge,enter:rge,exitCode:oge,extendMarkRange:ige,first:sge,focus:lge,forEach:cge,insertContent:uge,insertContentAt:hge,joinBackward:gge,joinDown:mge,joinForward:yge,joinItemBackward:vge,joinItemForward:xge,joinTextblockBackward:wge,joinTextblockForward:bge,joinUp:pge,keyboardShortcut:Cge,lift:kge,liftEmptyBlock:Ege,liftListItem:Nge,newlineInCode:Tge,resetAttributes:Rge,scrollIntoView:Mge,selectAll:Age,selectNodeBackward:Pge,selectNodeForward:_ge,selectParentNode:Ige,selectTextblockEnd:Oge,selectTextblockStart:Dge,setContent:jge,setMark:Vge,setMeta:Gge,setNode:Kge,setNodeSelection:qge,setTextSelection:Yge,sinkListItem:Xge,splitBlock:Jge,splitListItem:Qge,toggleList:Zge,toggleMark:eye,toggleNode:tye,toggleWrap:nye,undoInputRule:rye,unsetAllMarks:oye,unsetMark:iye,updateAttributes:sye,wrapIn:aye,wrapInList:lye});const uye=Kn.create({name:"commands",addCommands(){return{...cye}}}),dye=Kn.create({name:"drop",addProseMirrorPlugins(){return[new Lr({key:new ki("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),fye=Kn.create({name:"editable",addProseMirrorPlugins(){return[new Lr({key:new ki("editable"),props:{editable:()=>this.editor.options.editable}})]}}),hye=new ki("focusEvents"),pye=Kn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Lr({key:hye,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),mye=Kn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:d,$anchor:f}=l,{pos:m,parent:g}=f,v=f.parent.isTextblock&&m>0?a.doc.resolve(m-1):f,x=v.parent.type.spec.isolating,w=f.pos-f.parentOffset,S=x&&v.parent.childCount===1?w===f.pos:wt.atStart(c).from===m;return!d||!g.type.isTextblock||g.textContent.length||!S||S&&f.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return jk()||p$()?i:o},addProseMirrorPlugins(){return[new Lr({key:new ki("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(x=>x.getMeta("composition")))return;const r=e.some(x=>x.docChanged)&&!t.doc.eq(n.doc),o=e.some(x=>x.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:s,to:a}=t.selection,l=wt.atStart(t.doc).from,c=wt.atEnd(t.doc).to;if(i||!(s===l&&a===c)||!Pv(n.doc))return;const m=n.tr,g=Ev({state:n,transaction:m}),{commands:v}=new Nv({editor:this.editor,state:g});if(v.clearNodes(),!!m.steps.length)return m}})]}}),gye=Kn.create({name:"paste",addProseMirrorPlugins(){return[new Lr({key:new ki("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),yye=Kn.create({name:"tabindex",addProseMirrorPlugins(){return[new Lr({key:new ki("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Cl{get name(){return this.node.type.name}constructor(t,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Cl(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Cl(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Cl(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+r+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!o&&a.depth<=this.depth)return;const l=new Cl(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new Cl(a,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===t)if(Object.keys(n).length>0){const i=o.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(i[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(s=>{r&&o.length>0||(s.node.type.name===t&&i.every(l=>n[l]===s.node.attrs[l])&&o.push(s),!(r&&o.length>0)&&(o=o.concat(s.querySelectorAll(t,n,r))))}),o}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}}const vye=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function xye(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}class wye extends Pme{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:o})=>this.options.onDrop(n,r,o)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=xye(vye,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=a$(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;r=r.filter(a=>!a.key.startsWith(s))}),n.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var t,n;const o=[...this.options.enableCoreExtensions?[fye,Gme.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),uye,pye,mye,yye,dye,gye].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new nu(o,this)}createCommandManager(){this.commandManager=new Nv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let n;try{n=O1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=O1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=f$(n,this.options.autofocus);this.view=new Gz(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)===null||t===void 0?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:tu.create({doc:n,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=t.getMeta("focus"),i=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:t}),i&&this.emit("blur",{editor:this,event:i.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return Bge(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,o=typeof t=="string"?n:t;return Wge(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ik(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return zge(this.state.doc,{blockSeparator:n,textSerializers:{...c$(this.schema),...r}})}get isEmpty(){return Pv(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new Cl(n,this)}get $doc(){return this.$pos(0)}}function $u(e){return new Rv({find:e.find,handler:({state:t,range:n,match:r})=>{const o=Ct(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=t,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),d=c+s.length;if(g$(n.from,n.to,t.doc).filter(g=>g.mark.type.excluded.find(x=>x===e.type&&x!==g.mark.type)).filter(g=>g.to>c).length)return null;d<n.to&&i.delete(d,n.to),c>n.from&&i.delete(n.from+l,c);const m=n.from+l+s.length;i.addMark(n.from+l,m,e.type.create(o||{})),i.removeStoredMark(e.type)}}})}function bye(e){return new Rv({find:e.find,handler:({state:t,range:n,match:r})=>{const o=Ct(e.getAttributes,void 0,r)||{},{tr:i}=t,s=n.from;let a=n.to;const l=e.type.create(o);if(r[1]){const c=r[0].lastIndexOf(r[1]);let d=s+c;d>a?d=a:a=d+r[1].length;const f=r[0][r[0].length-1];i.insertText(f,s+r[0].length-1),i.replaceWith(d,a,l)}else if(r[0]){const c=e.type.isInline?s:s-1;i.insert(c,e.type.create(o)).delete(i.mapping.map(s),i.mapping.map(a))}i.scrollIntoView()}})}function j1(e){return new Rv({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=Ct(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)}})}function uh(e){return new Rv({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=Ct(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&yk(l,e.type,i);if(!c)return null;if(s.wrap(l,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:m}=t,{splittableMarks:g}=e.editor.extensionManager,v=m||f.$to.parentOffset&&f.$from.marks();if(v){const x=v.filter(w=>g.includes(w.type.name));s.ensureMarks(x)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(f,i).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&il(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&s.join(n.from-1)}})}let Ei=class L1{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(He(this,"addOptions",{name:this.name}))),this.storage=Ct(He(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new L1(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>Mv(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new L1(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(He(n,"addOptions",{name:n.name})),n.storage=Ct(He(n,"addStorage",{name:n.name,options:n.options})),n}};function Bu(e){return new $me({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=Ct(e.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:s}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const d=l.search(/\S/),f=n.from+l.indexOf(a),m=f+a.length;if(g$(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>f).length)return null;m<n.to&&s.delete(m,n.to),f>n.from&&s.delete(n.from+d,f),c=n.from+d+a.length,s.addMark(n.from+d,c,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}function Sye(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Xe){const i=r.index();return r.parent.canReplaceWith(i,i+1,t)}let o=r.depth;for(;o>=0;){const i=r.index(o);if(r.node(o).contentMatchAt(i).matchType(t))return!0;o-=1}return!1}function Cye(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y$={exports:{}},Sw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function kye(){if(Z2)return Sw;Z2=1;var e=se;function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(f,m){var g=m(),v=r({inst:{value:g,getSnapshot:m}}),x=v[0].inst,w=v[1];return i(function(){x.value=g,x.getSnapshot=m,l(x)&&w({inst:x})},[f,g,m]),o(function(){return l(x)&&w({inst:x}),f(function(){l(x)&&w({inst:x})})},[f]),s(g),g}function l(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!n(f,g)}catch{return!0}}function c(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Sw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Sw}y$.exports=kye();var Fk=y$.exports;const Eye=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},Nye=({contentComponent:e})=>{const t=Fk.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return se.createElement(se.Fragment,null,Object.values(t))};function Tye(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:zS.createPortal(r.reactElement,r.element,n)},e.forEach(o=>o())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(o=>o())}}}class Rye extends se.Component{constructor(t){var n;super(t),this.editorContentRef=se.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=t.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=Tye(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const t=this.props.editor;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,innerRef:n,...r}=this.props;return se.createElement(se.Fragment,null,se.createElement("div",{ref:Eye(n,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&se.createElement(Nye,{contentComponent:t.contentComponent}))}}const Mye=y.forwardRef((e,t)=>{const n=se.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return se.createElement(Rye,{key:n,innerRef:t,...e})}),Aye=se.memo(Mye);var Pye=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!(s==="_owner"&&t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n},_ye=Cye(Pye),v$={exports:{}},Cw={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function Iye(){if(eP)return Cw;eP=1;var e=se,t=Fk;function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,l=e.useDebugValue;return Cw.useSyncExternalStoreWithSelector=function(c,d,f,m,g){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function S(R){if(!C){if(C=!0,k=R,R=m(R),g!==void 0&&x.hasValue){var _=x.value;if(g(_,R))return T=_}return T=R}if(_=T,r(k,R))return _;var M=m(R);return g!==void 0&&g(_,M)?_:(k=R,T=M)}var C=!1,k,T,N=f===void 0?null:f;return[function(){return S(d())},N===null?void 0:function(){return S(N())}]},[d,f,m,g]);var w=o(c,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},Cw}v$.exports=Iye();var Oye=v$.exports;const Dye=typeof window<"u"?y.useLayoutEffect:y.useEffect;class jye{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Lye(e){var t;const[n]=y.useState(()=>new jye(e.editor)),r=Oye.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!==null&&t!==void 0?t:_ye);return Dye(()=>n.watch(e.editor),[e.editor,n]),y.useDebugValue(r),r}const Fye=!1,F1=typeof window>"u",zye=F1||!!(typeof window<"u"&&window.next);class zk{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?F1||zye?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(o,...r)},onBlur:(...r)=>{var o,i;return(i=(o=this.options.current).onBlur)===null||i===void 0?void 0:i.call(o,...r)},onCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onCreate)===null||i===void 0?void 0:i.call(o,...r)},onDestroy:(...r)=>{var o,i;return(i=(o=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(o,...r)},onFocus:(...r)=>{var o,i;return(i=(o=this.options.current).onFocus)===null||i===void 0?void 0:i.call(o,...r)},onSelectionUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(o,...r)},onTransaction:(...r)=>{var o,i;return(i=(o=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(o,...r)},onUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(o,...r)},onContentError:(...r)=>{var o,i;return(i=(o=this.options.current).onContentError)===null||i===void 0?void 0:i.call(o,...r)},onDrop:(...r)=>{var o,i;return(i=(o=this.options.current).onDrop)===null||i===void 0?void 0:i.call(o,...r)},onPaste:(...r)=>{var o,i;return(i=(o=this.options.current).onPaste)===null||i===void 0?void 0:i.call(o,...r)}};return new wye(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((o,i)=>{var s;return o===((s=n.extensions)===null||s===void 0?void 0:s[i])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?zk.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,o)=>r===t[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}}function $ye(e={},t=[]){const n=y.useRef(e);n.current=e;const[r]=y.useState(()=>new zk(n)),o=Fk.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return y.useDebugValue(o),y.useEffect(r.onRender(t)),Lye({editor:o,selector:({transactionNumber:i})=>e.shouldRerenderOnTransaction===!1?null:e.immediatelyRender&&i===0?0:i+1}),o}const Bye=y.createContext({editor:null});Bye.Consumer;const Wye=y.createContext({onDragStart:void 0}),Uye=()=>y.useContext(Wye);se.forwardRef((e,t)=>{const{onDragStart:n}=Uye(),r=e.as||"div";return se.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});const Hye=/^\s*>\s$/,Vye=Ei.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",or(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[uh({find:Hye,type:this.type})]}}),Gye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Kye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,qye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Yye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Xye=Yi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",or(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[$u({find:Gye,type:this.type}),$u({find:qye,type:this.type})]},addPasteRules(){return[Bu({find:Kye,type:this.type}),Bu({find:Yye,type:this.type})]}}),Jye="listItem",tP="textStyle",nP=/^\s*([-+*])\s$/,Qye=Ei.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",or(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Jye,this.editor.getAttributes(tP)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=uh({find:nP,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=uh({find:nP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(tP),editor:this.editor})),[e]}}),Zye=/(^|[^`])`([^`]+)`(?!`)/,eve=/(^|[^`])`([^`]+)`(?!`)/g,tve=Yi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",or(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[$u({find:Zye,type:this.type})]},addPasteRules(){return[Bu({find:eve,type:this.type})]}}),nve=/^```([a-z]+)?[\s\n]$/,rve=/^~~~([a-z]+)?[\s\n]$/,ove=Ei.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,i=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",or(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!i||!s?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:r.nodeAt(a)?e.commands.command(({tr:c})=>(c.setSelection(wt.near(r.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[j1({find:nve,type:this.type,getAttributes:e=>({language:e[1]})}),j1({find:rve,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Lr({key:new ki("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:s,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:i},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(at.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),ive=Ei.create({name:"doc",topNode:!0,content:"block+"});function sve(e={}){return new Lr({view(t){return new ave(t,e)}})}class ave{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=s=>{this[o](s)};return t.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,o=this.editorView.dom,i=o.getBoundingClientRect(),s=i.width/o.offsetWidth,a=i.height/o.offsetHeight;if(n){let f=t.nodeBefore,m=t.nodeAfter;if(f||m){let g=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(g){let v=g.getBoundingClientRect(),x=f?v.bottom:v.top;f&&m&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*a;r={left:v.left,right:v.right,top:x-w,bottom:x+w}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*s;r={left:f.left-m,right:f.left+m,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let f=l.getBoundingClientRect(),m=f.width/l.offsetWidth,g=f.height/l.offsetHeight;c=f.left-l.scrollLeft*m,d=f.top-l.scrollTop*g}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n,t):o;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=sz(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const lve=Kn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sve(this.options)]}});class wn extends wt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return wn.valid(r)?new wn(r):wt.near(r)}content(){return Fe.empty}eq(t){return t instanceof wn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wn(t.resolve(n.pos))}getBookmark(){return new $k(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!cve(t)||!uve(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(t.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&wn.valid(t))return t;let o=t.pos,i=null;for(let s=t.depth;;s--){let a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){i=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;o+=n;let l=t.doc.resolve(o);if(wn.valid(l))return l}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!Xe.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=s,o+=n;let a=t.doc.resolve(o);if(wn.valid(a))return a}return null}}}wn.prototype.visible=!1;wn.findFrom=wn.findGapCursorFrom;wt.jsonID("gapcursor",wn);class $k{constructor(t){this.pos=t}map(t){return new $k(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return wn.valid(n)?new wn(n):wt.near(n)}}function cve(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function uve(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function dve(){return new Lr({props:{decorations:mve,createSelectionBetween(e,t,n){return t.pos==n.pos&&wn.valid(n)?new wn(n):null},handleClick:hve,handleKeyDown:fve,handleDOMEvents:{beforeinput:pve}}})}const fve=Kz({ArrowLeft:xm("horiz",-1),ArrowRight:xm("horiz",1),ArrowUp:xm("vert",-1),ArrowDown:xm("vert",1)});function xm(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,o,i){let s=r.selection,a=t>0?s.$to:s.$from,l=s.empty;if(s instanceof at){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=wn.findGapCursorFrom(a,t,l);return c?(o&&o(r.tr.setSelection(new wn(c))),!0):!1}}function hve(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!wn.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Xe.isSelectable(e.state.doc.nodeAt(o.inside))?!1:(e.dispatch(e.state.tr.setSelection(new wn(r))),!0)}function pve(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof wn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=be.empty;for(let s=r.length-1;s>=0;s--)o=be.from(r[s].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new Fe(o,0,0));return i.setSelection(at.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function mve(e){if(!(e.selection instanceof wn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Rn.create(e.doc,[mo.widget(e.selection.head,t,{key:"gapcursor"})])}const gve=Kn.create({name:"gapCursor",addProseMirrorPlugins(){return[dve()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Ct(He(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),yve=Ei.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",or(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=i||o.$to.parentOffset&&o.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&l&&s){const f=l.filter(m=>a.includes(m.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),vve=Ei.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,or(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>j1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var ty=200,Hn=function(){};Hn.prototype.append=function(t){return t.length?(t=Hn.from(t),!this.length&&t||t.length<ty&&this.leafAppend(t)||this.length<ty&&t.leafPrepend(this)||this.appendInner(t)):this};Hn.prototype.prepend=function(t){return t.length?Hn.from(t).append(this):this};Hn.prototype.appendInner=function(t){return new xve(this,t)};Hn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Hn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Hn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Hn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Hn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,s){return o.push(t(i,s))},n,r),o};Hn.from=function(t){return t instanceof Hn?t:t&&t.length?new x$(t):Hn.empty};var x$=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new t(this.values.slice(o,i))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,i,s,a){for(var l=i;l<s;l++)if(o(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(o,i,s,a){for(var l=i-1;l>=s;l--)if(o(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=ty)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=ty)return new t(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Hn);Hn.empty=new x$([]);var xve=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,o,i,s){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,i,s){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(o,a),i,s)===!1)return!1},t.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},t.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new t(o,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Hn);const wve=500;class ui{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=t.tr,a,l,c=[],d=[];return this.items.forEach((f,m)=>{if(!f.step){o||(o=this.remapping(r,m+1),i=o.maps.length),i--,d.push(f);return}if(o){d.push(new Ii(f.map));let g=f.step.map(o.slice(i)),v;g&&s.maybeStep(g).doc&&(v=s.mapping.maps[s.mapping.maps.length-1],c.push(new Ii(v,void 0,void 0,c.length+d.length))),i--,v&&o.appendMap(v,i)}else s.maybeStep(f.step);if(f.selection)return a=o?f.selection.map(o.slice(i)):f.selection,l=new ui(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,n,r,o){let i=[],s=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let d=0;d<t.steps.length;d++){let f=t.steps[d].invert(t.docs[d]),m=new Ii(t.mapping.maps[d],f,n),g;(g=l&&l.merge(m))&&(m=g,d?i.pop():a=a.slice(0,a.length-1)),i.push(m),n&&(s++,n=void 0),o||(l=m)}let c=s-r.depth;return c>Sve&&(a=bve(a,c),s-=c),new ui(a.append(i),s)}remapping(t,n){let r=new rh;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new ui(this.items.append(t.map(n=>new Ii(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},o);let l=n;this.items.forEach(m=>{let g=i.getMirror(--l);if(g==null)return;s=Math.min(s,g);let v=i.maps[g];if(m.step){let x=t.steps[g].invert(t.docs[g]),w=m.selection&&m.selection.map(i.slice(l+1,g));w&&a++,r.push(new Ii(v,x,w))}else r.push(new Ii(v))},o);let c=[];for(let m=n;m<s;m++)c.push(new Ii(i.maps[m]));let d=this.items.slice(0,o).append(c).append(r),f=new ui(d,a);return f.emptyItemCount()>wve&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,o=[],i=0;return this.items.forEach((s,a)=>{if(a>=t)o.push(s),s.selection&&i++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let d=s.selection&&s.selection.map(n.slice(r));d&&i++;let f=new Ii(c.invert(),l,d),m,g=o.length-1;(m=o.length&&o[g].merge(f))?o[g]=m:o.push(f)}}else s.map&&r--},this.items.length,0),new ui(Hn.from(o.reverse()),i)}}ui.empty=new ui(Hn.empty,0);function bve(e,t){let n;return e.forEach((r,o)=>{if(r.selection&&t--==0)return n=o,!1}),e.slice(n)}class Ii{constructor(t,n,r,o){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Ii(n.getMap().invert(),n,this.selection)}}}class ua{constructor(t,n,r,o,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const Sve=20;function Cve(e,t,n,r){let o=n.getMeta(Ul),i;if(o)return o.historyState;n.getMeta(Nve)&&(e=new ua(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(Ul))return s.getMeta(Ul).redo?new ua(e.done.addTransform(n,void 0,r,Ym(t)),e.undone,rP(n.mapping.maps),e.prevTime,e.prevComposition):new ua(e.done,e.undone.addTransform(n,void 0,r,Ym(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!kve(n,e.prevRanges)),c=s?kw(e.prevRanges,n.mapping):rP(n.mapping.maps);return new ua(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,Ym(t)),ui.empty,c,n.time,a??e.prevComposition)}else return(i=n.getMeta("rebased"))?new ua(e.done.rebased(n,i),e.undone.rebased(n,i),kw(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ua(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),kw(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function kve(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&o>=t[i]&&(n=!0)}),n}function rP(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,o,i,s)=>t.push(i,s));return t}function kw(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function Eve(e,t,n){let r=Ym(t),o=Ul.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),l=new ua(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(Ul,{redo:n,historyState:l})}let Ew=!1,oP=null;function Ym(e){let t=e.plugins;if(oP!=t){Ew=!1,oP=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Ew=!0;break}}return Ew}const Ul=new ki("history"),Nve=new ki("closeHistory");function Tve(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Lr({key:Ul,state:{init(){return new ua(ui.empty,ui.empty,null,0,-1)},apply(t,n,r){return Cve(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,o=r=="historyUndo"?b$:r=="historyRedo"?S$:null;return o?(n.preventDefault(),o(t.state,t.dispatch)):!1}}}})}function w$(e,t){return(n,r)=>{let o=Ul.getState(n);if(!o||(e?o.undone:o.done).eventCount==0)return!1;if(r){let i=Eve(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const b$=w$(!1,!0),S$=w$(!0,!0),Rve=Kn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>b$(e,t),redo:()=>({state:e,dispatch:t})=>S$(e,t)}},addProseMirrorPlugins(){return[Tve(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Mve=Ei.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",or(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!Sye(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$from:r,$to:o}=n,i=e();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):Uge(n)?i.insertContentAt(o.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:c}=s.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?s.setSelection(at.create(s.doc,c.pos+1)):c.nodeAfter.isBlock?s.setSelection(Xe.create(s.doc,c.pos)):s.setSelection(at.create(s.doc,c.pos));else{const f=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(s.insert(d,f),s.setSelection(at.create(s.doc,d+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[bye({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ave=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Pve=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_ve=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Ive=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Ove=Yi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",or(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[$u({find:Ave,type:this.type}),$u({find:_ve,type:this.type})]},addPasteRules(){return[Bu({find:Pve,type:this.type}),Bu({find:Ive,type:this.type})]}}),Dve=Ei.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",or(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),jve="listItem",iP="textStyle",sP=/^(\d+)\.\s$/,Lve=Ei.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",or(this.options.HTMLAttributes,n),0]:["ol",or(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(jve,this.editor.getAttributes(iP)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=uh({find:sP,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=uh({find:sP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(iP)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Fve=Ei.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",or(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),zve=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,$ve=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Bve=Yi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",or(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[$u({find:zve,type:this.type})]},addPasteRules(){return[Bu({find:$ve,type:this.type})]}}),Wve=Ei.create({name:"text",group:"inline"}),Uve=Kn.create({name:"starterKit",addExtensions(){const e=[];return this.options.bold!==!1&&e.push(Xye.configure(this.options.bold)),this.options.blockquote!==!1&&e.push(Vye.configure(this.options.blockquote)),this.options.bulletList!==!1&&e.push(Qye.configure(this.options.bulletList)),this.options.code!==!1&&e.push(tve.configure(this.options.code)),this.options.codeBlock!==!1&&e.push(ove.configure(this.options.codeBlock)),this.options.document!==!1&&e.push(ive.configure(this.options.document)),this.options.dropcursor!==!1&&e.push(lve.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&e.push(gve.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&e.push(yve.configure(this.options.hardBreak)),this.options.heading!==!1&&e.push(vve.configure(this.options.heading)),this.options.history!==!1&&e.push(Rve.configure(this.options.history)),this.options.horizontalRule!==!1&&e.push(Mve.configure(this.options.horizontalRule)),this.options.italic!==!1&&e.push(Ove.configure(this.options.italic)),this.options.listItem!==!1&&e.push(Dve.configure(this.options.listItem)),this.options.orderedList!==!1&&e.push(Lve.configure(this.options.orderedList)),this.options.paragraph!==!1&&e.push(Fve.configure(this.options.paragraph)),this.options.strike!==!1&&e.push(Bve.configure(this.options.strike)),this.options.text!==!1&&e.push(Wve.configure(this.options.text)),e}}),Hve=Yi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",or(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Vve=Kn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Gve=Kn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Lr({key:new ki("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,o=[];if(!n)return null;const i=this.editor.isEmpty;return e.descendants((s,a)=>{const l=r>=a&&r<=a+s.nodeSize,c=!s.isLeaf&&Pv(s);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const f=mo.node(a,a+s.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:l}):this.options.placeholder});o.push(f)}return this.options.includeChildren}),Rn.create(e,o)}}})]}}),Kve=e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach(n=>{var r,o;const i=n.getAttribute("style"),s=(o=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||o===void 0?void 0:o.getAttribute("style");n.setAttribute("style",`${s};${i}`)})},qve=Yi.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Kve(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",or(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(i=>!!i))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}});var C$="Toggle",Bk=y.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...i}=e,[s,a]=bo({prop:n,onChange:o,defaultProp:r??!1,caller:C$});return p.jsx(We.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Te(e.onClick,()=>{e.disabled||a(!s)})})});Bk.displayName=C$;var k$=Bk,ll="ToggleGroup",[E$,Swe]=Zr(ll,[Hy]),N$=Hy(),Wk=se.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(Yve,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(Xve,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${ll}\``)});Wk.displayName=ll;var[T$,R$]=E$(ll),Yve=se.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[s,a]=bo({prop:n,defaultProp:r??"",onChange:o,caller:ll});return p.jsx(T$,{scope:e.__scopeToggleGroup,type:"single",value:se.useMemo(()=>s?[s]:[],[s]),onItemActivate:a,onItemDeactivate:se.useCallback(()=>a(""),[a]),children:p.jsx(M$,{...i,ref:t})})}),Xve=se.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[s,a]=bo({prop:n,defaultProp:r??[],onChange:o,caller:ll}),l=se.useCallback(d=>a((f=[])=>[...f,d]),[a]),c=se.useCallback(d=>a((f=[])=>f.filter(m=>m!==d)),[a]);return p.jsx(T$,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:c,children:p.jsx(M$,{...i,ref:t})})});Wk.displayName=ll;var[Jve,Qve]=E$(ll),M$=se.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:s,loop:a=!0,...l}=e,c=N$(n),d=Th(s),f={role:"group",dir:d,...l};return p.jsx(Jve,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(mj,{asChild:!0,...c,orientation:i,dir:d,loop:a,children:p.jsx(We.div,{...f,ref:t})}):p.jsx(We.div,{...f,ref:t})})}),ny="ToggleGroupItem",A$=se.forwardRef((e,t)=>{const n=R$(ny,e.__scopeToggleGroup),r=Qve(ny,e.__scopeToggleGroup),o=N$(e.__scopeToggleGroup),i=n.value.includes(e.value),s=r.disabled||e.disabled,a={...e,pressed:i,disabled:s},l=se.useRef(null);return r.rovingFocus?p.jsx(gj,{asChild:!0,...o,focusable:!s,active:i,ref:l,children:p.jsx(aP,{...a,ref:t})}):p.jsx(aP,{...a,ref:t})});A$.displayName=ny;var aP=se.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=R$(ny,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=i.type==="single"?s:void 0;return p.jsx(Bk,{...a,...o,ref:t,onPressedChange:l=>{l?i.onItemActivate(r):i.onItemDeactivate(r)}})}),P$=Wk,_$=A$;const I$=Sh("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Zve=y.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(k$,{ref:o,className:Ve(I$({variant:t,size:n,className:e})),...r}));Zve.displayName=k$.displayName;const O$=y.createContext({size:"default",variant:"default"}),z1=y.forwardRef(({className:e,variant:t,size:n,children:r,...o},i)=>p.jsx(P$,{ref:i,className:Ve("flex items-center justify-center gap-1",e),...o,children:p.jsx(O$.Provider,{value:{variant:t,size:n},children:r})}));z1.displayName=P$.displayName;const ia=y.forwardRef(({className:e,children:t,variant:n,size:r,...o},i)=>{const s=y.useContext(O$);return p.jsx(_$,{ref:i,className:Ve(I$({variant:s.variant||n,size:s.size||r}),e),...o,children:t})});ia.displayName=_$.displayName;const exe=({editor:e,className:t})=>{if(!e)return null;const{theme:n}=bi(),r=n==="light",o=()=>e.isActive("heading",{level:1})?"1":e.isActive("heading",{level:2})?"2":e.isActive("heading",{level:3})?"3":"paragraph",i=()=>e.isActive({textAlign:"left"})?"left":e.isActive({textAlign:"center"})?"center":e.isActive({textAlign:"right"})?"right":"left";return p.jsxs("div",{className:Ve("flex items-center flex-wrap gap-2 p-2 border-b","md:gap-3",t),style:{backgroundColor:r?"#f9fafb":"#334155",borderBottomColor:r?"#e5e7eb":"#475569"},children:[p.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:p.jsxs(nl,{value:o(),onValueChange:s=>{const{from:a,to:l}=e.state.selection;if(a!==l){const d=e.state.doc.textBetween(a,l," ");if(s==="paragraph")e.chain().focus().deleteSelection().insertContent(`<p>${d}</p>`).run();else{const f=parseInt(s);e.chain().focus().deleteSelection().insertContent(`<h${f}>${d}</h${f}>`).run()}}else if(s==="paragraph")e.chain().focus().splitBlock().setParagraph().run();else{const d=parseInt(s);e.chain().focus().splitBlock().setHeading({level:d}).run()}},children:[p.jsxs(zs,{className:"w-20 md:w-24 h-8 text-xs",style:{backgroundColor:r?"white":"#475569",borderColor:r?"#d1d5db":"#64748b",color:r?"#374151":"#e5e7eb"},children:[p.jsx(qO,{className:"h-3 w-3 md:hidden"}),p.jsx(rl,{className:"hidden md:inline"})]}),p.jsxs($s,{children:[p.jsx(En,{value:"paragraph",children:"Normal"}),p.jsx(En,{value:"1",children:"H1"}),p.jsx(En,{value:"2",children:"H2"}),p.jsx(En,{value:"3",children:"H3"})]})]})}),p.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:p.jsxs(z1,{type:"multiple",value:[e.isActive("bold")?"bold":"",e.isActive("italic")?"italic":"",e.isActive("underline")?"underline":"",e.isActive("strike")?"strike":""].filter(Boolean),className:"flex gap-0 md:gap-1",children:[p.jsx(ia,{value:"bold",size:"sm",className:"h-8 w-8 p-0",onClick:()=>e.chain().focus().toggleBold().run(),style:{backgroundColor:e.isActive("bold")?"#2563eb":"transparent",color:e.isActive("bold")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:s=>{e.isActive("bold")||(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{e.isActive("bold")||(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx($O,{className:"h-3 w-3 md:h-4 md:w-4"})}),p.jsx(ia,{value:"italic",size:"sm",className:"h-8 w-8 p-0",onClick:()=>e.chain().focus().toggleItalic().run(),style:{backgroundColor:e.isActive("italic")?"#2563eb":"transparent",color:e.isActive("italic")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:s=>{e.isActive("italic")||(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{e.isActive("italic")||(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(HO,{className:"h-3 w-3 md:h-4 md:w-4"})}),p.jsx(ia,{value:"underline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>e.chain().focus().toggleUnderline().run(),style:{backgroundColor:e.isActive("underline")?"#2563eb":"transparent",color:e.isActive("underline")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:s=>{e.isActive("underline")||(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{e.isActive("underline")||(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(YO,{className:"h-3 w-3 md:h-4 md:w-4"})}),p.jsx(ia,{value:"strike",size:"sm",className:"h-8 w-8 p-0",onClick:()=>e.chain().focus().toggleStrike().run(),style:{backgroundColor:e.isActive("strike")?"#2563eb":"transparent",color:e.isActive("strike")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:s=>{e.isActive("strike")||(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{e.isActive("strike")||(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(Iq,{className:"h-3 w-3 md:h-4 md:w-4"})})]})}),p.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:p.jsxs(z1,{type:"single",value:i(),onValueChange:s=>{s&&e.chain().focus().setTextAlign(s).run()},className:"flex gap-0 md:gap-1",children:[p.jsx(ia,{value:"left",size:"sm",className:"h-8 w-8 p-0",style:{backgroundColor:i()==="left"?"#2563eb":"transparent",color:i()==="left"?"white":r?"#374151":"#e5e7eb"},onMouseEnter:s=>{i()!=="left"&&(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{i()!=="left"&&(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(zO,{className:"h-3 w-3 md:h-4 md:w-4"})}),p.jsx(ia,{value:"center",size:"sm",className:"h-8 w-8 p-0",style:{backgroundColor:i()==="center"?"#2563eb":"transparent",color:i()==="center"?"white":r?"#374151":"#e5e7eb"},onMouseEnter:s=>{i()!=="center"&&(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{i()!=="center"&&(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(FO,{className:"h-3 w-3 md:h-4 md:w-4"})}),p.jsx(ia,{value:"right",size:"sm",className:"h-8 w-8 p-0",style:{backgroundColor:i()==="right"?"#2563eb":"transparent",color:i()==="right"?"white":r?"#374151":"#e5e7eb"},onMouseEnter:s=>{i()!=="right"&&(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{i()!=="right"&&(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(dq,{className:"h-3 w-3 md:h-4 md:w-4"})})]})}),p.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:p.jsxs("div",{className:"flex gap-0 md:gap-1",children:[p.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().toggleBulletList().run(),className:Ve("h-8 w-8 p-0",e.isActive("bulletList")?"bg-blue-600 hover:bg-blue-700 text-white":""),style:e.isActive("bulletList")?{}:{backgroundColor:"transparent",color:r?"#374151":"#e5e7eb"},onMouseEnter:s=>{e.isActive("bulletList")||(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{e.isActive("bulletList")||(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(GO,{className:"h-3 w-3 md:h-4 md:w-4"})}),p.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().toggleOrderedList().run(),className:Ve("h-8 w-8 p-0",e.isActive("orderedList")?"bg-blue-600 hover:bg-blue-700 text-white":""),style:e.isActive("orderedList")?{}:{backgroundColor:"transparent",color:r?"#374151":"#e5e7eb"},onMouseEnter:s=>{e.isActive("orderedList")||(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{e.isActive("orderedList")||(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(VO,{className:"h-3 w-3 md:h-4 md:w-4"})}),p.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().toggleBlockquote().run(),className:Ve("h-8 w-8 p-0",e.isActive("blockquote")?"bg-blue-600 hover:bg-blue-700 text-white":""),style:e.isActive("blockquote")?{}:{backgroundColor:"transparent",color:r?"#374151":"#e5e7eb"},onMouseEnter:s=>{e.isActive("blockquote")||(s.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:s=>{e.isActive("blockquote")||(s.currentTarget.style.backgroundColor="transparent")},children:p.jsx(KO,{className:"h-3 w-3 md:h-4 md:w-4"})})]})})]})},txe=1e3,Nw=3,nxe=60*60*1e3,rxe=2e3,oxe=({enabled:e,noteContent:t,noteCategory:n})=>{const[r,o]=y.useState([]),[i,s]=y.useState([]),[a,l]=y.useState(null),[c,d]=y.useState(!1),[f,m]=y.useState(null),[g,v]=y.useState(""),x=y.useRef(null),w=y.useRef(0),{token:S}=Si(),C=y.useCallback(V=>{if(!V.trim())return"";const ee=V.split(/[.!?]+/).filter(X=>X.trim().length>0).slice(-3).join(". ");return ee.length>200?ee.substring(ee.length-200):ee},[]),k=y.useCallback(V=>{if(!e||!V.trim())return console.log("❌ Note AI: Disabled or empty content",{enabled:e,contentLength:V.length}),!1;const H=V.trim().split(/\s+/);if(console.log("🔍 Note AI: Checking trigger conditions",{wordCount:H.length,minRequired:Nw,content:V.substring(0,50)+"..."}),H.length<Nw)return console.log(`❌ Note AI: Not enough words (${H.length}/${Nw})`),!1;if(C(V)===g)return!1;if(/[.!?]\s*$/.test(V.trim()))return console.log("✅ Note AI trigger: Sentence completion"),!0;if(/\n\s*\n\s*\w+/.test(V.slice(-50)))return console.log("✅ Note AI trigger: Paragraph break"),!0;const X=Math.abs(V.length-g.length);return X>20?(console.log("✅ Note AI trigger: New content length",X),!0):(console.log("✅ Note AI trigger: Always responsive"),!0)},[e,C,g]),T=y.useCallback(V=>{try{const H=V.replace(/\s+/g," ").trim().split(" ").slice(-20).join(" "),ee=`note-suggestions-${btoa(H).slice(-50)}-${n||"general"}`,X=localStorage.getItem(ee);if(X){const{suggestions:J,continuations:L,timestamp:D}=JSON.parse(X);if(Date.now()-D<nxe)return console.log("📦 Found cached suggestions for context:",H.substring(0,50)),{suggestions:J||[],continuations:L||[]}}}catch(H){console.warn("Failed to read note suggestion cache:",H)}return null},[n]),N=y.useCallback((V,H,ee)=>{try{const X=V.replace(/\s+/g," ").trim().split(" ").slice(-20).join(" "),J=`note-suggestions-${btoa(X).slice(-50)}-${n||"general"}`,L={suggestions:H,continuations:ee,timestamp:Date.now()};localStorage.setItem(J,JSON.stringify(L)),console.log("💾 Cached suggestions for context:",X.substring(0,50))}catch(X){console.warn("Failed to cache note suggestions:",X)}},[n]),R=y.useCallback(V=>{var X;const H=[],ee=((X=V.split(/[.!?]/).pop())==null?void 0:X.trim())||"";return ee.toLowerCase().includes("i need to")?H.push("remember to","focus on","make sure"):ee.toLowerCase().includes("the main")?H.push("point is","goal is","issue is"):ee.toLowerCase().includes("next step")&&H.push("is to","would be","should be"),n!=null&&n.toLowerCase().includes("meeting")?H.push("Action items:","Follow up on:","Next meeting:"):n!=null&&n.toLowerCase().includes("project")&&H.push("Timeline:","Resources needed:","Deliverables:"),H},[n]),_=y.useCallback(async(V=!1)=>{var J;if(!S||!e)return;const H=C(t);if(!H||!k(t)){const L=R(t);o(L),l(L[0]||null);return}const ee=T(H);if(ee&&!V){console.log("📦 Using cached note suggestions for context:",H.substring(0,50)),o(ee.suggestions),s(ee.continuations),l(ee.suggestions[0]||ee.continuations[0]||null);return}const X=Date.now();if(!V&&w.current&&X-w.current<rxe){console.log("⏰ Throttling AI call - too soon since last request");return}V&&console.log("🚀 Force refreshing AI suggestions (bypassing throttle and cache)");try{d(!0),m(null),w.current=Date.now(),v(H);const L=$f(),D=await Bt.post(`${L}/api/note-suggestions`,{context:H,category:n,requestTypes:["completion","continuation"]},{withCredentials:!0,headers:{Authorization:`Bearer ${S}`},timeout:1e4});if(D.data){const{suggestions:A=[],continuations:G=[]}=D.data;console.log("🚀 Note AI suggestions received:",{suggestions:A.length,continuations:G.length,firstSuggestion:A[0]||G[0]||"none",apiResponse:D.data}),o(A),s(G),l(A[0]||G[0]||null),N(H,A,G)}}catch(L){console.error("Failed to fetch note AI suggestions:",L);const D=R(t);o(D),l(D[0]||null),((J=L==null?void 0:L.response)==null?void 0:J.status)===401?m("Session expired. Please log in again."):m("AI suggestions temporarily unavailable")}finally{d(!1)}},[S,e,t,n,C,k,T,N,R]),M=y.useCallback(()=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{_()},txe)},[_]),B=y.useCallback(()=>{x.current&&clearTimeout(x.current),_()},[_]),I=y.useCallback(()=>{x.current&&clearTimeout(x.current),_(!0)},[_]),$=y.useCallback(()=>{console.log("🧹 Clearing suggestions from React state"),o([]),s([]),l(null)},[]),W=y.useCallback((V,H)=>{if(console.log("🎯 Note getSuggestionForInput:",{enabled:e,contentLength:V.length,cursorPosition:H,suggestionsCount:r.length,continuationsCount:i.length}),!e||!V||H<V.length)return null;const ee=[...r,...i];if(ee.length>0){const X=ee[0];return console.log("💡 Note autocomplete suggestion:",X),X}return null},[e,r,i]);return y.useEffect(()=>(e&&t&&M(),()=>{x.current&&clearTimeout(x.current)}),[e,t,M]),{suggestions:r,continuations:i,currentSuggestion:a,isLoading:c,error:f,triggerSuggestions:B,forceRefreshSuggestions:I,clearSuggestions:$,getSuggestionForInput:W,metrics:{lastTriggerContext:g,shouldTrigger:k(t),wordCount:t.trim().split(/\s+/).length,contextWindow:C(t)}}};function er(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ixe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const wm=43200,lP=1440;let sxe={};function axe(){return sxe}function cP(e){const t=er(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Xm(e,t){const n=er(e),r=er(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function lxe(e){return ixe(e,Date.now())}function cxe(e,t){const n=er(e),r=er(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function uxe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function dxe(e,t){return+er(e)-+er(t)}function fxe(e){const t=er(e);return t.setHours(23,59,59,999),t}function hxe(e){const t=er(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function pxe(e){const t=er(e);return+fxe(t)==+hxe(t)}function mxe(e,t){const n=er(e),r=er(t),o=Xm(n,r),i=Math.abs(cxe(n,r));let s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);let a=Xm(n,r)===-o;pxe(er(e))&&i===1&&Xm(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function gxe(e,t,n){const r=dxe(e,t)/1e3;return uxe(n==null?void 0:n.roundingMethod)(r)}const yxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vxe=(e,t,n)=>{let r;const o=yxe[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Tw(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const xxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sxe={date:Tw({formats:xxe,defaultWidth:"full"}),time:Tw({formats:wxe,defaultWidth:"full"}),dateTime:Tw({formats:bxe,defaultWidth:"full"})},Cxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kxe=(e,t,n,r)=>Cxe[e];function Ud(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;o=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[a]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return o[i]}}const Exe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Txe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Axe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pxe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_xe={ordinalNumber:Pxe,era:Ud({values:Exe,defaultWidth:"wide"}),quarter:Ud({values:Nxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ud({values:Txe,defaultWidth:"wide"}),day:Ud({values:Rxe,defaultWidth:"wide"}),dayPeriod:Ud({values:Mxe,defaultWidth:"wide",formattingValues:Axe,defaultFormattingWidth:"wide"})};function Hd(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?Oxe(a,f=>f.test(s)):Ixe(a,f=>f.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}function Ixe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Oxe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Dxe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const a=t.slice(o.length);return{value:s,rest:a}}}const jxe=/^(\d+)(th|st|nd|rd)?/i,Lxe=/\d+/i,Fxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zxe={any:[/^b/i,/^(a|c)/i]},$xe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bxe={any:[/1/i,/2/i,/3/i,/4/i]},Wxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qxe={ordinalNumber:Dxe({matchPattern:jxe,parsePattern:Lxe,valueCallback:e=>parseInt(e,10)}),era:Hd({matchPatterns:Fxe,defaultMatchWidth:"wide",parsePatterns:zxe,defaultParseWidth:"any"}),quarter:Hd({matchPatterns:$xe,defaultMatchWidth:"wide",parsePatterns:Bxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hd({matchPatterns:Wxe,defaultMatchWidth:"wide",parsePatterns:Uxe,defaultParseWidth:"any"}),day:Hd({matchPatterns:Hxe,defaultMatchWidth:"wide",parsePatterns:Vxe,defaultParseWidth:"any"}),dayPeriod:Hd({matchPatterns:Gxe,defaultMatchWidth:"any",parsePatterns:Kxe,defaultParseWidth:"any"})},Yxe={code:"en-US",formatDistance:vxe,formatLong:Sxe,formatRelative:kxe,localize:_xe,match:qxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xxe(e,t,n){const r=axe(),o=(n==null?void 0:n.locale)??r.locale??Yxe,i=2520,s=Xm(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let l,c;s>0?(l=er(t),c=er(e)):(l=er(e),c=er(t));const d=gxe(c,l),f=(cP(c)-cP(l))/1e3,m=Math.round((d-f)/60);let g;if(m<2)return n!=null&&n.includeSeconds?d<5?o.formatDistance("lessThanXSeconds",5,a):d<10?o.formatDistance("lessThanXSeconds",10,a):d<20?o.formatDistance("lessThanXSeconds",20,a):d<40?o.formatDistance("halfAMinute",0,a):d<60?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",1,a):m===0?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",m,a);if(m<45)return o.formatDistance("xMinutes",m,a);if(m<90)return o.formatDistance("aboutXHours",1,a);if(m<lP){const v=Math.round(m/60);return o.formatDistance("aboutXHours",v,a)}else{if(m<i)return o.formatDistance("xDays",1,a);if(m<wm){const v=Math.round(m/lP);return o.formatDistance("xDays",v,a)}else if(m<wm*2)return g=Math.round(m/wm),o.formatDistance("aboutXMonths",g,a)}if(g=mxe(c,l),g<12){const v=Math.round(m/wm);return o.formatDistance("xMonths",v,a)}else{const v=g%12,x=Math.trunc(g/12);return v<3?o.formatDistance("aboutXYears",x,a):v<9?o.formatDistance("overXYears",x,a):o.formatDistance("almostXYears",x+1,a)}}function Jxe(e,t){return Xxe(e,lxe(e),t)}function D$(e){if(!e)return"Unknown";try{const t=e instanceof Date?e:new Date(e);return new Date().getTime()-t.getTime()<6e4?"Just now":Jxe(t,{addSuffix:!0})}catch(t){return console.error("Error formatting relative time:",t),"Unknown"}}let un={suggestion:null,triggerSuggestions:null,setSuggestionDebounce:null,handleSave:null};const Qxe=Kn.create({name:"autocomplete",addKeyboardShortcuts(){return{Tab:()=>{console.log("🔥 TipTap Extension: Tab key pressed!"),console.log("🔥 TipTap Extension: Editor focus state:",this.editor.isFocused),console.log("🔥 TipTap Extension: Local storage object:",JSON.stringify(this.storage,null,2)),console.log("🔥 TipTap Extension: Global storage object:",JSON.stringify(un,null,2));const e=un.suggestion;if(console.log("🔥 TipTap Extension: Current suggestion from global storage:",e==null?void 0:e.substring(0,30)),e){console.log("✅ TipTap Extension: Accepting suggestion with Tab:",e.substring(0,30)),un.suggestion=null,this.editor.commands.insertContent(e);const n=this.editor.getText().trim().split(/\s+/).filter(r=>r.length>0).length;return un.setSuggestionDebounce&&un.setSuggestionDebounce(n),!0}else console.log("❌ TipTap Extension: No suggestion available in global storage"),console.log("❌ TipTap Extension: Global storage state:",un);return!1},ArrowRight:()=>{const e=un.suggestion;if(e){console.log("🔥 TipTap Extension: ArrowRight pressed with suggestion:",e.substring(0,30)),un.suggestion=null,this.editor.commands.insertContent(e);const n=this.editor.getText().trim().split(/\s+/).filter(r=>r.length>0).length;return un.setSuggestionDebounce&&un.setSuggestionDebounce(n),!0}return!1}}},addStorage(){return{autocomplete:null}},onBeforeCreate(){var t,n,r;const e=(t=this.storage.autocomplete)==null?void 0:t.suggestion;!this.storage.autocomplete||typeof this.storage.autocomplete!="object"?this.storage.autocomplete={suggestion:null,triggerSuggestions:()=>{},setSuggestionDebounce:()=>{},handleSave:()=>{}}:e&&(this.storage.autocomplete.suggestion=e),console.log("🏗️ TipTap Extension: onBeforeCreate called, preserving suggestion:",((r=(n=this.storage.autocomplete)==null?void 0:n.suggestion)==null?void 0:r.substring(0,30))||"null")},onCreate(){var e,t;console.log("🏗️ TipTap Extension: onCreate called, final storage:",((t=(e=this.storage.autocomplete)==null?void 0:e.suggestion)==null?void 0:t.substring(0,30))||"null")}}),Zxe=({content:e,isEditingContent:t,editContent:n,setEditContent:r,setIsEditingContent:o,handleEditContent:i,noteCategory:s,noteColor:a="#FFFFE0",noteId:l,onAutoSave:c,updatedAt:d})=>{const f=y.useRef(null),m=y.useRef(null),[g,v]=y.useState(0),[x,w]=y.useState(!1),[S,C]=y.useState(!1),[k,T]=y.useState(!1),{aiEnabled:N}=mC(),{theme:R}=bi(),_=R==="light",M=$ye({extensions:[Uve.configure({paragraph:{HTMLAttributes:{class:"text-sm leading-relaxed"}},heading:{levels:[1,2,3],HTMLAttributes:{class:"font-semibold"}},bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},bulletList:{HTMLAttributes:{class:"list-disc list-inside"}},orderedList:{HTMLAttributes:{class:"list-decimal list-inside"}},listItem:{HTMLAttributes:{class:"ml-4"}},blockquote:{HTMLAttributes:{class:"border-l-4 border-gray-300 pl-4 italic text-gray-600"}}}),Hve.configure({HTMLAttributes:{class:"underline"}}),Vve.configure({types:["heading","paragraph"],alignments:["left","center","right"],defaultAlignment:"left"}),qve,Gve.configure({placeholder:"Start typing your note...",emptyEditorClass:"is-empty"}),Qxe],content:"",editable:!0,immediatelyRender:!1,onUpdate:({editor:ne})=>{const K=ne.getHTML();r(K),t||(console.log("🔄 Auto-enabling editing mode because content changed"),o(!0)),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{console.log("💾 Auto-saving rich note content..."),c({content:K,updated_at:new Date().toISOString()})},3e3)}});y.useEffect(()=>{const ne=K=>{var ue,fe;if(K.key==="Tab"){console.log("🌍 Global Tab Event:",{target:K.target,tagName:(ue=K.target)==null?void 0:ue.tagName,className:(fe=K.target)==null?void 0:fe.className,editorFocused:M==null?void 0:M.isFocused,defaultPrevented:K.defaultPrevented,timeStamp:K.timeStamp});const ce=un.suggestion;if(ce&&!K.defaultPrevented&&M){console.log("🔄 Global fallback: Handling Tab with suggestion:",ce.substring(0,30)),K.preventDefault(),un.suggestion=null,M.commands.insertContent(ce);const Oe=M.getText().trim().split(/\s+/).filter(Ze=>Ze.length>0).length;un.setSuggestionDebounce&&un.setSuggestionDebounce(Oe)}}};return document.addEventListener("keydown",ne,!0),()=>document.removeEventListener("keydown",ne,!0)},[M]),y.useEffect(()=>{if(!M)return;const ne=K=>{if(!M.isFocused)return;if(navigator.platform.toUpperCase().indexOf("MAC")>=0?K.metaKey:K.ctrlKey)switch(K.key.toLowerCase()){case"b":K.preventDefault(),M.chain().focus().toggleBold().run();break;case"i":K.preventDefault(),M.chain().focus().toggleItalic().run();break;case"u":K.preventDefault(),M.chain().focus().toggleUnderline().run();break}};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[M]);const B=(M==null?void 0:M.getText())||"",I=(M==null?void 0:M.state.selection.anchor)||0,{suggestions:$,continuations:W,getSuggestionForInput:V,triggerSuggestions:H,forceRefreshSuggestions:ee,clearSuggestions:X,currentSuggestion:J}=oxe({enabled:N,noteContent:B,noteCategory:s});y.useEffect(()=>{if(M&&e!==void 0){const ne=M.getHTML();if(e&&e!=="<p></p>"&&e!==ne)if(!e.includes("<")&&!e.includes(">")){const K=`<p>${e.replace(/\n/g,"</p><p>")}</p>`;M.commands.setContent(K,!1),r(K)}else M.commands.setContent(e,!1),r(e)}},[M,e,r]);const L=B.trim().split(/\s+/).filter(ne=>ne.length>0).length,D=L-g,G=!x||D>=3;y.useEffect(()=>{x&&G&&(console.log("🕰️ Debounce period ended, re-enabling suggestions"),w(!1))},[x,G]);const z=y.useCallback((ne,K)=>{if(!ne)return ne;const ue=K.trim(),fe=/[.!?]\s*$/.test(ue),ce=!ue||fe;let Re=ne;return ce&&Re.length>0?Re=Re.charAt(0).toUpperCase()+Re.slice(1):!ce&&Re.length>0&&(Re=Re.charAt(0).toLowerCase()+Re.slice(1)),console.log("🔤 Grammar fix:",{context:`"${ue.slice(-15)}"`,suggestion:`"${ne.substring(0,20)}"`,fixed:`"${Re.substring(0,20)}"`,isStartOfSentence:ce,endsWithSentencePunctuation:fe}),Re},[]),O=G?V(B,B.length):null,Z=O?z(O,B):null;console.log("🔧 Tab Debug:",{shouldShowSuggestions:G,suggestionJustAccepted:S,rawSuggestion:O==null?void 0:O.substring(0,20),currentAutocomplete:Z==null?void 0:Z.substring(0,20),suggestionsAvailable:$.length,plainTextLength:B.length,willShowInline:t&&Z&&N&&G&&!S&&B.trim().split(/\s+/).length>=3}),y.useEffect(()=>{M&&M.storage&&typeof M.storage.autocomplete=="object"&&(console.log("🔄 Updating editor autocomplete storage:",{suggestion:Z==null?void 0:Z.substring(0,30),isEditingContent:t,willPassSuggestion:Z!==null,finalSuggestion:(Z==null?void 0:Z.substring(0,30))||"null",storageExists:!!M.storage.autocomplete,editorReady:M.isEditable}),(()=>{var K,ue,fe,ce,Re,Oe;un.suggestion=Z,un.triggerSuggestions=H,un.setSuggestionDebounce=Ze=>{console.log("🕰️ Setting suggestion debounce after accepting suggestion, word count:",Ze),v(Ze),w(!0),C(!0);try{const ze=[];for(let tt=0;tt<localStorage.length;tt++){const De=localStorage.key(tt);De&&De.startsWith("note-suggestions-")&&ze.push(De)}ze.forEach(tt=>localStorage.removeItem(tt)),console.log("🗑️ Cleared note suggestion cache after accepting suggestion")}catch(ze){console.warn("Failed to clear note suggestion cache:",ze)}console.log("🧹 Clearing in-memory suggestions before refresh",{currentSuggestionsCount:$.length,currentContinuationsCount:W.length,currentSuggestion:J==null?void 0:J.substring(0,30)}),X&&X(),un.suggestion=null,ee&&(console.log("🔄 Force refreshing suggestions after cache clear"),setTimeout(()=>{ee()},200)),setTimeout(()=>{C(!1)},100)},un.handleSave=()=>{f.current&&clearTimeout(f.current),i()},M&&M.storage&&M.storage.autocomplete&&(M.storage.autocomplete={suggestion:Z,triggerSuggestions:H,setSuggestionDebounce:un.setSuggestionDebounce,handleSave:un.handleSave}),console.log("✅ Storage after update:",{globalSuggestion:((K=un.suggestion)==null?void 0:K.substring(0,30))||"null",localSuggestion:((ce=(fe=(ue=M==null?void 0:M.storage)==null?void 0:ue.autocomplete)==null?void 0:fe.suggestion)==null?void 0:ce.substring(0,30))||"null",hasGlobalStorage:!!un.suggestion,hasLocalStorage:!!((Oe=(Re=M==null?void 0:M.storage)==null?void 0:Re.autocomplete)!=null&&Oe.suggestion),isEditing:t,timestamp:Date.now()})})())},[M,Z,H,i]),y.useEffect(()=>{var ne,K;console.log("📝 Rich Note Autocomplete State:",{isEditingContent:t,aiEnabled:N,plainTextContent:B.substring(0,50)+(B.length>50?"...":""),cursorPosition:I,currentAutocomplete:(Z==null?void 0:Z.substring(0,30))+(Z&&Z.length>30?"...":""),suggestionsCount:$.length,continuationsCount:W.length,wordCount:L,shouldShow:t&&Z&&B.trim().split(/\s+/).length>=3,suggestionDebounceActive:x,lastAcceptedSuggestionLength:g,wordsAddedSinceLastSuggestion:D,shouldShowSuggestions:G,firstSuggestion:(ne=$[0])==null?void 0:ne.substring(0,30),firstContinuation:(K=W[0])==null?void 0:K.substring(0,30)})},[t,N,B,I,Z,$.length,W.length,$,W,x,g,G]),y.useEffect(()=>{T(N&&t&&($.length>0||W.length>0||J!==null))},[N,t,$.length,W.length,J]),y.useEffect(()=>{N&&!t&&($.length>0||Z)&&(console.log("🎯 Auto-enabling editing mode because suggestions are available"),o(!0),M&&M.commands.focus())},[N,t,$.length,Z,M,o]);const re=y.useCallback(ne=>{M&&(t||(console.log("🎯 Enabling editing mode and focusing editor on click"),o(!0)),M.commands.focus())},[M,t,o]);return y.useEffect(()=>{if(!t)return;const ne=K=>{const ue=M==null?void 0:M.view.dom,fe=document.querySelector("[data-rich-text-toolbar]");ue&&!ue.contains(K.target)&&(!fe||!fe.contains(K.target))&&(f.current&&clearTimeout(f.current),i())};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[t,i,M]),M?p.jsxs("div",{className:"flex flex-col h-full relative","data-rich-text-editor":!0,tabIndex:-1,children:[p.jsx("div",{"data-rich-text-toolbar":!0,className:"flex-shrink-0",children:p.jsx(exe,{editor:M})}),p.jsx("div",{className:"flex-1 relative cursor-text overflow-hidden",onClick:re,style:{paddingBottom:d?"36px":"8px"},children:p.jsxs("div",{className:"relative h-full",children:[p.jsx(Aye,{editor:M,className:`prose prose-sm max-w-none h-full p-3 focus-within:outline-none cursor-text overflow-y-auto ${_?"prose-gray":"prose-invert"}`,style:{borderColor:a,minHeight:"120px",color:_?"#374151":"#e5e7eb"}}),t&&Z&&N&&G&&!S&&B.trim().split(/\s+/).length>=3&&p.jsx("style",{children:`
                .ProseMirror p:last-child::after {
                  content: "${Z.replace(/"/g,'\\"')}";
                  color: #9CA3AF;
                  font-style: italic;
                  opacity: 0.7;
                  pointer-events: none;
                }
              `}),p.jsx("div",{ref:m,className:"absolute opacity-0 pointer-events-none prose prose-sm max-w-none",style:{fontFamily:"inherit",fontSize:"14px",lineHeight:"20px",padding:"12px",whiteSpace:"pre-wrap",top:0,left:0},children:B})]})}),d&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex-shrink-0 px-2 md:px-3 py-1 md:py-2",style:{borderTop:`1px solid ${a}33`,backgroundColor:_?"#ffffff":"#1e293b",fontSize:"10px"},children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:`${_?"text-gray-500":"text-gray-400"} truncate text-xs md:text-xs`,style:{fontFamily:'"Raleway", sans-serif',fontSize:"inherit"},children:[p.jsx("span",{className:"hidden sm:inline",children:"Last edited: "}),p.jsx("span",{className:"sm:hidden",children:"Edited: "}),D$(d)]}),N&&p.jsx("div",{title:"AI-powered suggestions enabled",className:"flex-shrink-0 ml-1 md:ml-2",children:p.jsx(ba,{className:"h-2.5 w-2.5 md:h-3 md:w-3",style:{color:a}})})]})})]}):p.jsx("div",{className:"p-4",children:"Loading editor..."})},e0e=({currentCategory:e,categoryColor:t,itemColor:n,existingCategories:r,isEditingCategory:o,showNewCategoryInput:i,newCategory:s,setNewCategory:a,setIsEditingCategory:l,setShowNewCategoryInput:c,handleEditCategory:d,handleAddCustomCategory:f,handleUpdateCategoryColor:m})=>{const g=e&&e!==""?e:"General",v=t||n||"#808080",x=()=>"#ffffff";return p.jsx("div",{className:"mb-2 px-6 flex items-center gap-2",children:o?p.jsx("div",{className:"mb-2 w-full",children:i?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(hn,{value:s,onChange:w=>a(w.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&f()}}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:f,className:"h-8 w-8 p-0",children:p.jsx(qo,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>{c(!1),a("")},className:"h-8 w-8 p-0",children:p.jsx(wi,{className:"h-4 w-4"})})]}):p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsxs(nl,{onValueChange:d,defaultValue:g,children:[p.jsx(zs,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:p.jsx(rl,{placeholder:"Select a category"})}),p.jsxs($s,{children:[r.map(w=>p.jsx(En,{value:w.name,style:{fontFamily:'"Raleway", sans-serif'},children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:w.color_value}}),w.name]})},w.name)),p.jsx(En,{value:"__custom__",style:{fontFamily:'"Raleway", sans-serif',color:"#2563eb"},children:"+ Add new category"})]})]}),g!=="__custom__"&&p.jsx("div",{className:"flex items-center gap-2 ml-2",children:p.jsx(Fs,{color:v,onChange:w=>m(g,w),onSave:w=>m(g,w),children:p.jsxs(Me,{variant:"outline",size:"sm",className:"h-8 px-3 flex items-center gap-2",style:{backgroundColor:"white",borderColor:"#d1d5db",color:"#374151"},children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:v,borderColor:"#d1d5db"}}),"Category Color"]})})}),p.jsx(Me,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>l(!1),children:"Cancel"})]})}):p.jsx(zC,{variant:"outline",className:"cursor-pointer hover:opacity-80 transition-opacity border-none",style:{fontFamily:'"Raleway", sans-serif',backgroundColor:v,color:x()},onClick:()=>l(!0),children:g})})},j$=({note:e,onUpdate:t,onDelete:n,existingCategories:r,onCollapsibleChange:o,isCollapsed:i,onToggleCollapsed:s,updateCategory:a})=>{var ne;const{noteTitle:l,isCollapsibleOpen:c,setIsCollapsibleOpen:d,isEditing:f,setIsEditing:m,editTitle:g,setEditTitle:v,handleEditTitle:x,handleDeleteNote:w,handleSaveNoteColor:S,isSavingColor:C,isEditingCategory:k,setIsEditingCategory:T,showNewCategoryInput:N,setShowNewCategoryInput:R,newCategory:_,setNewCategory:M,handleEditCategory:B,handleAddCustomCategory:I,isEditingContent:$,setIsEditingContent:W,editContent:V,setEditContent:H,handleEditContent:ee,titleEditRef:X,contentEditRef:J}=Nfe({note:e,onUpdate:t,onDelete:n,isCollapsed:i,onToggleCollapsed:s,updateCategory:a}),{theme:L}=bi(),D=L==="light";y.useEffect(()=>{if(!f)return;const K=ue=>{X.current&&!X.current.contains(ue.target)&&x()};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[f,x]);const{toast:A}=Yo(),[G,z]=se.useState(e.color_value||"#FFFFE0");se.useEffect(()=>{z(e.color_value||"#FFFFE0")},[e.color_value]);const O=(ne=r.find(K=>K.name===e.category))==null?void 0:ne.color_value,Z=e.color_value||O||"#FFFFE0",re=async(K,ue)=>{await a(K,{color_value:ue})};return se.useEffect(()=>{console.log("🎨 Note Color Debug:",{noteId:e.id,noteColorValue:e.color_value,currentColorPreview:G,noteDisplayColor:Z,isEditingContent:$})},[e.id,e.color_value,G,Z,$]),p.jsx(DC,{open:c,onOpenChange:K=>{s&&i!==void 0?!i!==K&&s():d(K),o==null||o(K)},className:"w-full",style:{"--note-color":Z},children:p.jsxs(tv,{className:"w-full shadow-sm h-full flex flex-col",style:{border:"none"},children:[p.jsx(nv,{className:"pb-2",children:p.jsx("div",{className:"flex justify-between items-center",children:f?p.jsxs("div",{className:"flex gap-1 w-full",children:[p.jsx(hn,{ref:X,value:g,onChange:K=>v(K.target.value),className:"h-8",autoFocus:!0,onKeyDown:K=>{K.key==="Enter"&&x()}}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:x,className:"h-8 w-8 p-0",children:p.jsx(qo,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>m(!1),className:"h-8 w-8 p-0",children:p.jsx(wi,{className:"h-4 w-4"})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Fs,{color:Z,onChange:K=>{z(K)},onSave:async K=>{if(K!==(e.color_value||"#FFFFE0"))try{await S(K)}catch{A({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),z(e.color_value||"#FFFFE0")}},children:p.jsxs(Me,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change note color",disabled:C,children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border transition-colors duration-150",style:{backgroundColor:Z,borderColor:"#d1d5db"}}),C&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full",style:{backgroundColor:"rgba(255, 255, 255, 0.8)"},children:p.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),p.jsx(kh,{className:"h-4 w-4 text-slate-500"}),p.jsx(rv,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>m(!0),children:l})]}),p.jsxs("div",{className:"flex",children:[p.jsx(jC,{asChild:!0,children:p.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:p.jsx(ks,{className:Ve("h-4 w-4 transition-transform",c?"":"transform rotate-180")})})}),p.jsxs(Xy,{children:[p.jsx(Jy,{asChild:!0,children:p.jsx(Me,{variant:"ghost",className:"h-8 w-8 p-0",children:p.jsx(KS,{className:"h-4 w-4"})})}),p.jsxs(Ih,{align:"end",children:[p.jsxs(js,{onClick:()=>m(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Ch,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),p.jsxs(js,{onClick:w,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Py,{className:"mr-2 h-4 w-4"}),"Delete Note"]})]})]})]})]})})}),p.jsx(e0e,{currentCategory:e.category||"",categoryColor:O,itemColor:e.color_value,existingCategories:r,isEditingCategory:k,showNewCategoryInput:N,newCategory:_,setNewCategory:M,setIsEditingCategory:T,setShowNewCategoryInput:R,handleEditCategory:B,handleAddCustomCategory:I,handleUpdateCategoryColor:re}),p.jsx(LC,{className:"flex-1",children:p.jsx("div",{className:"rounded-lg mx-2 md:mx-6 mb-6 flex-1 flex flex-col",style:{backgroundColor:D?"#ffffff":"#1e293b",border:`2px solid ${Z} !important`,borderColor:`${Z} !important`,height:`${Math.max(180,(e.height||300)-120)}px`},children:p.jsx(Zxe,{content:e.content,isEditingContent:$,editContent:V,setEditContent:H,setIsEditingContent:W,handleEditContent:ee,contentEditRef:J,noteCategory:e.category,noteColor:Z,noteId:e.id,onAutoSave:async K=>{await t(e.id,{content:K.content,updated_at:K.updated_at})},updatedAt:e.updated_at})})})]})})},t0e=({note:e,onPositionUpdate:t,onUpdate:n,onDelete:r,existingCategories:o,canvasTransform:i,updateCategory:s})=>{const[a,l]=y.useState(!1),[c,d]=y.useState(!1),[f,m]=y.useState(!1),[g,v]=y.useState({x:0,y:0}),[x,w]=y.useState({startX:0,startY:0,startWidth:0,startHeight:0}),S=y.useRef(null);y.useEffect(()=>{S.current&&(S.current.style.left=`${e.position_x}px`,S.current.style.top=`${e.position_y}px`)},[e.position_x,e.position_y]);const C=M=>{var I;if(!M.target.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle, .ProseMirror, [data-rich-text-editor], [data-rich-text-toolbar]')&&(M.preventDefault(),S.current)){const $=(I=S.current.parentElement)==null?void 0:I.getBoundingClientRect();if($){const W=(M.clientX-$.left-i.x)/i.scale,V=(M.clientY-$.top-i.y)/i.scale,H=parseFloat(S.current.style.left)||0,ee=parseFloat(S.current.style.top)||0;v({x:(W-H)*i.scale,y:(V-ee)*i.scale}),l(!0)}}},k=M=>{var B;if(a&&S.current){const I=(B=S.current.parentElement)==null?void 0:B.getBoundingClientRect();if(!I)return;const $=(M.clientX-I.left-i.x)/i.scale,W=(M.clientY-I.top-i.y)/i.scale,V=$-g.x/i.scale,H=W-g.y/i.scale;S.current.style.left=`${V}px`,S.current.style.top=`${H}px`}if(c&&S.current){const I=M.clientX-x.startX,$=M.clientY-x.startY,W=I/i.scale,V=$/i.scale,H=Math.max(570,x.startWidth+W),ee=Math.max(350,x.startHeight+V);S.current.style.width=`${H}px`,S.current.style.height=`${ee}px`}},T=()=>{if(a&&S.current){l(!1);const M=parseFloat(S.current.style.left)||0,B=parseFloat(S.current.style.top)||0,I={x:Math.round(M),y:Math.round(B)};t(e.id,I)}if(c&&S.current){d(!1);const M=parseFloat(S.current.style.left)||0,B=parseFloat(S.current.style.top)||0,I=parseFloat(S.current.style.width)||e.width||200,$=parseFloat(S.current.style.height)||e.height||200,W={x:Math.round(M),y:Math.round(B)},V={width:Math.round(I),height:Math.round($)};t(e.id,W,V)}};y.useEffect(()=>((a||c)&&(window.addEventListener("mousemove",k),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",T)}),[a,c,g,x]);const N=M=>{if(M.preventDefault(),M.stopPropagation(),S.current){const B=parseFloat(S.current.style.width)||e.width||200,I=parseFloat(S.current.style.height)||e.height||200;w({startX:M.clientX,startY:M.clientY,startWidth:B,startHeight:I}),d(!0)}},R=async(M,B)=>{try{await n(M,B)}catch(I){console.error("Failed to update note:",I)}},_=async M=>{try{await r(M)}catch(B){console.error("Failed to delete note:",B)}};return p.jsxs("div",{ref:S,onMouseDown:C,className:"draggable-note-card shadow-lg rounded-lg flex flex-col overflow-hidden border relative",style:{position:"absolute",width:`${e.width||520}px`,height:f?"auto":`${e.height||300}px`,zIndex:a||c?1e3:e.z_index||1,cursor:a?"grabbing":c?"nw-resize":"grab",transition:a||c?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:a||c?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:a||c?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[p.jsx(j$,{note:e,onUpdate:R,onDelete:_,existingCategories:o,onCollapsibleChange:M=>m(!M),updateCategory:s}),!f&&p.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize",onMouseDown:N,style:{background:"linear-gradient(-45deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6}})]})},n0e=({whiteboard:e,onUpdate:t,onDelete:n,isCollapsed:r,onToggleCollapsed:o,updateCategory:i,addCategory:s})=>{const{toast:a}=Yo(),[l,c]=y.useState(!0),d=r!==void 0?!r:l,f=o||c,[m,g]=y.useState(!1),[v,x]=y.useState(e.title||"Untitled Whiteboard"),[w,S]=y.useState(!1),[C,k]=y.useState(!1),[T,N]=y.useState(!1),[R,_]=y.useState(""),M=y.useRef(null);se.useEffect(()=>{x(e.title||"Untitled Whiteboard")},[e.title]);const B=y.useCallback(async()=>{v.trim()!==e.title&&await t(e.id,{title:v.trim()}),g(!1)},[v,e.title,e.id,t]),I=y.useCallback(async()=>{await n(e.id)},[e.id,n]),$=y.useCallback(async X=>{S(!0);try{await t(e.id,{color_value:X})}catch(J){throw console.error("Failed to save whiteboard color:",J),a({title:"Error updating color",description:"Could not update whiteboard color. Please try again.",variant:"destructive"}),J}finally{S(!1)}},[e.id,t,a]),W=y.useCallback(async X=>{if(X==="__custom__"){N(!0);return}try{await t(e.id,{category:X}),k(!1),N(!1)}catch(J){console.error("Failed to update whiteboard category:",J),a({title:"Error updating category",description:"Could not update whiteboard category. Please try again.",variant:"destructive"})}},[e.id,t,a]),V=y.useCallback(async()=>{if(R.trim()!=="")try{await t(e.id,{category:R.trim()}),k(!1),N(!1),_("")}catch(X){console.error("Failed to add custom category:",X),a({title:"Error adding category",description:"Could not add custom category. Please try again.",variant:"destructive"})}else a({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},[R,e.id,t,a]),H=y.useCallback(X=>{console.log("Canvas changed:",X)},[]),ee=y.useCallback(async X=>{var J;try{console.log("🎨 WhiteboardCardLogic: Saving canvas data:",{whiteboardId:e.id,pathCount:((J=X.canvas_data)==null?void 0:J.length)||0,dataType:typeof X.canvas_data,isArray:Array.isArray(X.canvas_data),dataPreview:JSON.stringify(X.canvas_data).substring(0,200)}),await t(e.id,{canvas_data:JSON.stringify(X.canvas_data),updated_at:X.updated_at}),console.log("🎨 WhiteboardCardLogic: Canvas save completed successfully")}catch(L){console.error("Failed to save canvas data:",L),a({title:"Error saving whiteboard",description:"Could not save your drawing. Please try again.",variant:"destructive"})}},[e.id,t,a]);return{whiteboardTitle:e.title||"Untitled Whiteboard",isCollapsibleOpen:d,setIsCollapsibleOpen:f,isEditing:m,setIsEditing:g,editTitle:v,setEditTitle:x,handleEditTitle:B,handleDeleteWhiteboard:I,handleSaveWhiteboardColor:$,isSavingColor:w,isEditingCategory:C,setIsEditingCategory:k,showNewCategoryInput:T,setShowNewCategoryInput:N,newCategory:R,setNewCategory:_,handleEditCategory:W,handleAddCustomCategory:V,handleCanvasChange:H,handleCanvasSave:ee,titleEditRef:M}};function uP(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(c){n(c);return}a.done?t(l):Promise.resolve(l).then(r,o)}function r0e(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(l){uP(i,r,o,s,a,"next",l)}function a(l){uP(i,r,o,s,a,"throw",l)}s(void 0)})}}function Hl(){return Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl.apply(this,arguments)}var L$={exports:{}};(function(e){var t=function(n){var r=Object.prototype,o=r.hasOwnProperty,i,s=typeof Symbol=="function"?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(L,D,A){return Object.defineProperty(L,D,{value:A,enumerable:!0,configurable:!0,writable:!0}),L[D]}try{d({},"")}catch{d=function(D,A,G){return D[A]=G}}function f(L,D,A,G){var z=D&&D.prototype instanceof C?D:C,O=Object.create(z.prototype),Z=new ee(G||[]);return O._invoke=$(L,A,Z),O}n.wrap=f;function m(L,D,A){try{return{type:"normal",arg:L.call(D,A)}}catch(G){return{type:"throw",arg:G}}}var g="suspendedStart",v="suspendedYield",x="executing",w="completed",S={};function C(){}function k(){}function T(){}var N={};d(N,a,function(){return this});var R=Object.getPrototypeOf,_=R&&R(R(X([])));_&&_!==r&&o.call(_,a)&&(N=_);var M=T.prototype=C.prototype=Object.create(N);k.prototype=T,d(M,"constructor",T),d(T,"constructor",k),k.displayName=d(T,c,"GeneratorFunction");function B(L){["next","throw","return"].forEach(function(D){d(L,D,function(A){return this._invoke(D,A)})})}n.isGeneratorFunction=function(L){var D=typeof L=="function"&&L.constructor;return D?D===k||(D.displayName||D.name)==="GeneratorFunction":!1},n.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,T):(L.__proto__=T,d(L,c,"GeneratorFunction")),L.prototype=Object.create(M),L},n.awrap=function(L){return{__await:L}};function I(L,D){function A(O,Z,re,ne){var K=m(L[O],L,Z);if(K.type==="throw")ne(K.arg);else{var ue=K.arg,fe=ue.value;return fe&&typeof fe=="object"&&o.call(fe,"__await")?D.resolve(fe.__await).then(function(ce){A("next",ce,re,ne)},function(ce){A("throw",ce,re,ne)}):D.resolve(fe).then(function(ce){ue.value=ce,re(ue)},function(ce){return A("throw",ce,re,ne)})}}var G;function z(O,Z){function re(){return new D(function(ne,K){A(O,Z,ne,K)})}return G=G?G.then(re,re):re()}this._invoke=z}B(I.prototype),d(I.prototype,l,function(){return this}),n.AsyncIterator=I,n.async=function(L,D,A,G,z){z===void 0&&(z=Promise);var O=new I(f(L,D,A,G),z);return n.isGeneratorFunction(D)?O:O.next().then(function(Z){return Z.done?Z.value:O.next()})};function $(L,D,A){var G=g;return function(O,Z){if(G===x)throw new Error("Generator is already running");if(G===w){if(O==="throw")throw Z;return J()}for(A.method=O,A.arg=Z;;){var re=A.delegate;if(re){var ne=W(re,A);if(ne){if(ne===S)continue;return ne}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(G===g)throw G=w,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);G=x;var K=m(L,D,A);if(K.type==="normal"){if(G=A.done?w:v,K.arg===S)continue;return{value:K.arg,done:A.done}}else K.type==="throw"&&(G=w,A.method="throw",A.arg=K.arg)}}}function W(L,D){var A=L.iterator[D.method];if(A===i){if(D.delegate=null,D.method==="throw"){if(L.iterator.return&&(D.method="return",D.arg=i,W(L,D),D.method==="throw"))return S;D.method="throw",D.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var G=m(A,L.iterator,D.arg);if(G.type==="throw")return D.method="throw",D.arg=G.arg,D.delegate=null,S;var z=G.arg;if(!z)return D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,S;if(z.done)D[L.resultName]=z.value,D.next=L.nextLoc,D.method!=="return"&&(D.method="next",D.arg=i);else return z;return D.delegate=null,S}B(M),d(M,c,"Generator"),d(M,a,function(){return this}),d(M,"toString",function(){return"[object Generator]"});function V(L){var D={tryLoc:L[0]};1 in L&&(D.catchLoc=L[1]),2 in L&&(D.finallyLoc=L[2],D.afterLoc=L[3]),this.tryEntries.push(D)}function H(L){var D=L.completion||{};D.type="normal",delete D.arg,L.completion=D}function ee(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(V,this),this.reset(!0)}n.keys=function(L){var D=[];for(var A in L)D.push(A);return D.reverse(),function G(){for(;D.length;){var z=D.pop();if(z in L)return G.value=z,G.done=!1,G}return G.done=!0,G}};function X(L){if(L){var D=L[a];if(D)return D.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var A=-1,G=function z(){for(;++A<L.length;)if(o.call(L,A))return z.value=L[A],z.done=!1,z;return z.value=i,z.done=!0,z};return G.next=G}}return{next:J}}n.values=X;function J(){return{value:i,done:!0}}return ee.prototype={constructor:ee,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(H),!L)for(var D in this)D.charAt(0)==="t"&&o.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=i)},stop:function(){this.done=!0;var L=this.tryEntries[0],D=L.completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var D=this;function A(ne,K){return O.type="throw",O.arg=L,D.next=ne,K&&(D.method="next",D.arg=i),!!K}for(var G=this.tryEntries.length-1;G>=0;--G){var z=this.tryEntries[G],O=z.completion;if(z.tryLoc==="root")return A("end");if(z.tryLoc<=this.prev){var Z=o.call(z,"catchLoc"),re=o.call(z,"finallyLoc");if(Z&&re){if(this.prev<z.catchLoc)return A(z.catchLoc,!0);if(this.prev<z.finallyLoc)return A(z.finallyLoc)}else if(Z){if(this.prev<z.catchLoc)return A(z.catchLoc,!0)}else if(re){if(this.prev<z.finallyLoc)return A(z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(L,D){for(var A=this.tryEntries.length-1;A>=0;--A){var G=this.tryEntries[A];if(G.tryLoc<=this.prev&&o.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var z=G;break}}z&&(L==="break"||L==="continue")&&z.tryLoc<=D&&D<=z.finallyLoc&&(z=null);var O=z?z.completion:{};return O.type=L,O.arg=D,z?(this.method="next",this.next=z.finallyLoc,S):this.complete(O)},complete:function(L,D){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&D&&(this.next=D),S},finish:function(L){for(var D=this.tryEntries.length-1;D>=0;--D){var A=this.tryEntries[D];if(A.finallyLoc===L)return this.complete(A.completion,A.afterLoc),H(A),S}},catch:function(L){for(var D=this.tryEntries.length-1;D>=0;--D){var A=this.tryEntries[D];if(A.tryLoc===L){var G=A.completion;if(G.type==="throw"){var z=G.arg;H(A)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(L,D,A){return this.delegate={iterator:X(L),resultName:D,nextLoc:A},this.method==="next"&&(this.arg=i),S}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(L$);var dP=L$.exports,F$=function(t){var n=t.paths,r=t.id,o=t.strokeWidth,i=t.strokeColor,s=t.command,a=s===void 0?z$:s;if(n.length===1){var l=n[0],c=l.x,d=l.y,f=o/2;return y.createElement("circle",{key:r,id:r,cx:c,cy:d,r:f,stroke:i,fill:i})}var m=n.reduce(function(g,v,x,w){return x===0?"M "+v.x+","+v.y:g+" "+a(v,x,w)},"");return y.createElement("path",{key:r,id:r,d:m,fill:"none",strokeLinecap:"round",stroke:i,strokeWidth:o})},o0e=function(t,n){var r=n.x-t.x,o=n.y-t.y;return{length:Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),angle:Math.atan2(o,r)}},bm=function(t){var n=t.current,r=t.next,o=t.previous,i=t.reverse,s=o||n,a=r||n,l=.2,c=o0e(s,a),d=c.angle+(i?Math.PI:0),f=c.length*l,m=n.x+Math.cos(d)*f,g=n.y+Math.sin(d)*f;return[m,g]},z$=function(t,n,r){var o=null,i=null;switch(n){case 0:var s=bm({current:t});o=s[0],i=s[1];break;case 1:var a=bm({current:r[n-1],next:t});o=a[0],i=a[1];break;default:var l=bm({current:r[n-1],previous:r[n-2],next:t});o=l[0],i=l[1];break}var c=bm({current:t,previous:r[n-1],next:r[n+1],reverse:!0}),d=c[0],f=c[1];return"C "+o+","+i+" "+d+","+f+" "+t.x+", "+t.y},i0e=function(t){var n=t.id,r=t.paths;return y.createElement(y.Fragment,null,r.map(function(o,i){return y.createElement(F$,{key:n+"__"+i,paths:o.paths,id:n+"__"+i,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:z$})}))},fP=function(t){return new Promise(function(n,r){var o=new Image;o.addEventListener("load",function(){o.width>0&&n(o),r("Image not found")}),o.addEventListener("error",function(i){return r(i)}),o.src=t,o.setAttribute("crossorigin","anonymous")})};function hP(e){var t,n=(t=e.firstChild)==null?void 0:t.cloneNode(!0),r=e.offsetWidth,o=e.offsetHeight;return n.setAttribute("viewBox","0 0 "+r+" "+o),n.setAttribute("width",r.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:r,height:o}}var s0e=y.forwardRef(function(e,t){var n=e.paths,r=e.isDrawing,o=e.onPointerDown,i=e.onPointerMove,s=e.onPointerUp,a=e.id,l=a===void 0?"react-sketch-canvas":a,c=e.width,d=c===void 0?"100%":c,f=e.height,m=f===void 0?"100%":f,g=e.className,v=g===void 0?"react-sketch-canvas":g,x=e.canvasColor,w=x===void 0?"red":x,S=e.backgroundImage,C=S===void 0?"":S,k=e.exportWithBackgroundImage,T=k===void 0?!1:k,N=e.preserveBackgroundImageAspectRatio,R=N===void 0?"none":N,_=e.allowOnlyPointerType,M=_===void 0?"all":_,B=e.style,I=B===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:B,$=e.svgStyle,W=$===void 0?{}:$,V=y.useRef(null),H=function(z){var O,Z,re,ne=(O=V.current)==null?void 0:O.getBoundingClientRect(),K=(Z=window.scrollX)!=null?Z:0,ue=(re=window.scrollY)!=null?re:0;if(!ne)return{x:0,y:0};var fe={x:z.pageX-ne.left-K,y:z.pageY-ne.top-ue};return fe},ee=function(z){if(!(M!=="all"&&z.pointerType!==M)&&!(z.pointerType==="mouse"&&z.button!==0)){var O=H(z);o(O)}},X=function(z){if(r&&!(M!=="all"&&z.pointerType!==M)){var O=H(z);i(O)}},J=function(z){z.pointerType==="mouse"&&z.button!==0||M!=="all"&&z.pointerType!==M||s()};y.useImperativeHandle(t,function(){return{exportImage:function(z){return new Promise(function(){var O=r0e(dP.mark(function Z(re,ne){var K,ue,fe,ce,Re,Oe,Ze,ze;return dP.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(De.prev=0,K=V.current,K){De.next=4;break}throw Error("Canvas not rendered yet");case 4:return ue=hP(K),fe=ue.svgCanvas,ce=ue.width,Re=ue.height,Oe="data:image/svg+xml;base64,"+btoa(fe.outerHTML),De.next=8,fP(Oe);case 8:if(De.t0=De.sent,Ze=[De.t0],!T){De.next=21;break}return De.prev=11,De.next=14,fP(C);case 14:ze=De.sent,Ze.push(ze),De.next=21;break;case 18:De.prev=18,De.t1=De.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(Ze).then(function(it){var kt=document.createElement("canvas");kt.setAttribute("width",ce.toString()),kt.setAttribute("height",Re.toString());var Ot=kt.getContext("2d");if(!Ot)throw Error("Canvas not rendered yet");it.reverse().forEach(function(_e){Ot.drawImage(_e,0,0)}),re(kt.toDataURL("image/"+z))}).catch(function(it){throw it}),De.next=27;break;case 24:De.prev=24,De.t2=De.catch(0),ne(De.t2);case 27:case"end":return De.stop()}},Z,null,[[0,24],[11,18]])}));return function(Z,re){return O.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(z,O){try{var Z,re=(Z=V.current)!=null?Z:null;if(re!==null){var ne,K,ue=hP(re),fe=ue.svgCanvas;if(T){z(fe.outerHTML);return}(ne=fe.querySelector("#"+l+"__background"))==null||ne.remove(),(K=fe.querySelector("#"+l+"__canvas-background"))==null||K.setAttribute("fill",w),z(fe.outerHTML)}O(new Error("Canvas not loaded"))}catch(ce){O(ce)}})}}}),y.useEffect(function(){return document.addEventListener("pointerup",J),function(){document.removeEventListener("pointerup",J)}},[J]);var L=n.filter(function(G){return!G.drawMode}),D=0,A=n.reduce(function(G,z){return z.drawMode?(G[D]===void 0&&(G[D]=[]),G[D].push(z),G):(D+=1,G)},[[]]);return y.createElement("div",{role:"presentation",ref:V,className:v,style:Hl({touchAction:"none",width:d,height:m},I),"touch-action":"none",onPointerDown:ee,onPointerMove:X,onPointerUp:J},y.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:Hl({width:"100%",height:"100%"},W),id:l},y.createElement("g",{id:l+"__eraser-stroke-group",display:"none"},y.createElement("rect",{id:l+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),L.map(function(G,z){return y.createElement(F$,{key:l+"__eraser-"+z,id:l+"__eraser-"+z,paths:G.paths,strokeColor:"#000000",strokeWidth:G.strokeWidth})})),y.createElement("defs",null,C&&y.createElement("pattern",{id:l+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},y.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:C,preserveAspectRatio:R})),L.map(function(G,z){return y.createElement("mask",{id:l+"__eraser-mask-"+z,key:l+"__eraser-mask-"+z,maskUnits:"userSpaceOnUse"},y.createElement("use",{href:"#"+l+"__mask-background"}),Array.from({length:L.length-z},function(O,Z){return Z+z}).map(function(O){return y.createElement("use",{key:O.toString(),href:"#"+l+"__eraser-"+O.toString()})}))})),y.createElement("g",{id:l+"__canvas-background-group"},y.createElement("rect",{id:l+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:C?"url(#"+l+"__background)":w})),A.map(function(G,z){return y.createElement("g",{id:l+"__stroke-group-"+z,key:l+"__stroke-group-"+z,mask:"url(#"+l+"__eraser-mask-"+z+")"},y.createElement(i0e,{id:l,paths:G}))})))}),a0e=y.forwardRef(function(e,t){var n=e.id,r=n===void 0?"react-sketch-canvas":n,o=e.width,i=o===void 0?"100%":o,s=e.height,a=s===void 0?"100%":s,l=e.className,c=l===void 0?"":l,d=e.canvasColor,f=d===void 0?"white":d,m=e.strokeColor,g=m===void 0?"red":m,v=e.backgroundImage,x=v===void 0?"":v,w=e.exportWithBackgroundImage,S=w===void 0?!1:w,C=e.preserveBackgroundImageAspectRatio,k=C===void 0?"none":C,T=e.strokeWidth,N=T===void 0?4:T,R=e.eraserWidth,_=R===void 0?8:R,M=e.allowOnlyPointerType,B=M===void 0?"all":M,I=e.style,$=I===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:I,W=e.svgStyle,V=W===void 0?{}:W,H=e.onChange,ee=H===void 0?function(_e){}:H,X=e.onStroke,J=X===void 0?function(_e,Ae){}:X,L=e.withTimestamp,D=L===void 0?!1:L,A=y.createRef(),G=y.useState(!0),z=G[0],O=G[1],Z=y.useState(!1),re=Z[0],ne=Z[1],K=y.useState([]),ue=K[0],fe=K[1],ce=y.useState([]),Re=ce[0],Oe=ce[1],Ze=y.useState([]),ze=Ze[0],tt=Ze[1],De=y.useCallback(function(){var _e,Ae,Ke=(_e=(Ae=ze.slice(-1))==null?void 0:Ae[0])!=null?_e:null;if(Ke===null){console.warn("No stroke found!");return}J(Ke,!Ke.drawMode)},[re]);y.useEffect(function(){De()},[re]),y.useEffect(function(){ee(ze)},[ze]),y.useImperativeHandle(t,function(){return{eraseMode:function(Ae){O(!Ae)},clearCanvas:function(){fe([].concat(ze)),tt([])},undo:function(){if(ue.length!==0){tt([].concat(ue)),fe([]);return}Oe(function(Ae){return[].concat(Ae,ze.slice(-1))}),tt(function(Ae){return Ae.slice(0,-1)})},redo:function(){Re.length!==0&&(tt(function(Ae){return[].concat(Ae,Re.slice(-1))}),Oe(function(Ae){return Ae.slice(0,-1)}))},exportImage:function(Ae){var Ke,lt=(Ke=A.current)==null?void 0:Ke.exportImage;if(lt)return lt(Ae);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(Ae,Ke){var lt,pe=(lt=A.current)==null?void 0:lt.exportSvg;pe?pe().then(function(we){Ae(we)}).catch(function(we){Ke(we)}):Ke(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(Ae,Ke){try{Ae(ze)}catch(lt){Ke(lt)}})},loadPaths:function(Ae){tt(function(Ke){return[].concat(Ke,Ae)})},getSketchingTime:function(){return new Promise(function(Ae,Ke){D||Ke(new Error("Set 'withTimestamp' prop to get sketching time"));try{var lt=ze.reduce(function(pe,we){var Y,le,Ne=(Y=we.startTimestamp)!=null?Y:0,Pe=(le=we.endTimestamp)!=null?le:0;return pe+(Pe-Ne)},0);Ae(lt)}catch(pe){Ke(pe)}})},resetCanvas:function(){fe([]),Oe([]),tt([])}}});var it=function(Ae){ne(!0),Oe([]);var Ke={drawMode:z,strokeColor:z?g:"#000000",strokeWidth:z?N:_,paths:[Ae]};D&&(Ke=Hl({},Ke,{startTimestamp:Date.now(),endTimestamp:0})),tt(function(lt){return[].concat(lt,[Ke])})},kt=function(Ae){if(re){var Ke=ze.slice(-1)[0],lt=Hl({},Ke,{paths:[].concat(Ke.paths,[Ae])});tt(function(pe){return[].concat(pe.slice(0,-1),[lt])})}},Ot=function(){var Ae,Ke;if(re&&(ne(!1),!!D)){var lt=(Ae=(Ke=ze.slice(-1))==null?void 0:Ke[0])!=null?Ae:null;if(lt!==null){var pe=Hl({},lt,{endTimestamp:Date.now()});tt(function(we){return[].concat(we.slice(0,-1),[pe])})}}};return y.createElement(s0e,{ref:A,id:r,width:i,height:a,className:c,canvasColor:f,backgroundImage:x,exportWithBackgroundImage:S,preserveBackgroundImageAspectRatio:k,allowOnlyPointerType:B,style:$,svgStyle:V,paths:ze,isDrawing:re,onPointerDown:it,onPointerMove:kt,onPointerUp:Ot})}),$$=["PageUp","PageDown"],B$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],W$={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},dd="Slider",[$1,l0e,c0e]=wh(dd),[U$,Cwe]=Zr(dd,[c0e]),[u0e,_v]=U$(dd),H$=y.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:v,...x}=e,w=y.useRef(new Set),S=y.useRef(0),k=s==="horizontal"?d0e:f0e,[T=[],N]=bo({prop:d,defaultProp:c,onChange:$=>{var V;(V=[...w.current][S.current])==null||V.focus(),f($)}}),R=y.useRef(T);function _($){const W=y0e(T,$);I($,W)}function M($){I($,S.current)}function B(){const $=R.current[S.current];T[S.current]!==$&&m(T)}function I($,W,{commit:V}={commit:!1}){const H=b0e(i),ee=S0e(Math.round(($-r)/i)*i+r,H),X=Ig(ee,[r,o]);N((J=[])=>{const L=m0e(J,X,W);if(w0e(L,l*i)){S.current=L.indexOf(X);const D=String(L)!==String(J);return D&&V&&m(L),D?L:J}else return J})}return p.jsx(u0e,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:S,thumbs:w.current,values:T,orientation:s,form:v,children:p.jsx($1.Provider,{scope:e.__scopeSlider,children:p.jsx($1.Slot,{scope:e.__scopeSlider,children:p.jsx(k,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:Te(x.onPointerDown,()=>{a||(R.current=T)}),min:r,max:o,inverted:g,onSlideStart:a?void 0:_,onSlideMove:a?void 0:M,onSlideEnd:a?void 0:B,onHomeKeyDown:()=>!a&&I(r,0,{commit:!0}),onEndKeyDown:()=>!a&&I(o,T.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:W})=>{if(!a){const ee=$$.includes($.key)||$.shiftKey&&B$.includes($.key)?10:1,X=S.current,J=T[X],L=i*ee*W;I(J+L,X,{commit:!0})}}})})})})});H$.displayName=dd;var[V$,G$]=U$(dd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),d0e=y.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[f,m]=y.useState(null),g=mt(t,k=>m(k)),v=y.useRef(void 0),x=Th(o),w=x==="ltr",S=w&&!i||!w&&i;function C(k){const T=v.current||f.getBoundingClientRect(),N=[0,T.width],_=Uk(N,S?[n,r]:[r,n]);return v.current=T,_(k-T.left)}return p.jsx(V$,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:p.jsx(K$,{dir:x,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const T=C(k.clientX);s==null||s(T)},onSlideMove:k=>{const T=C(k.clientX);a==null||a(T)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:k=>{const N=W$[S?"from-left":"from-right"].includes(k.key);c==null||c({event:k,direction:N?-1:1})}})})}),f0e=y.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=y.useRef(null),f=mt(t,d),m=y.useRef(void 0),g=!o;function v(x){const w=m.current||d.current.getBoundingClientRect(),S=[0,w.height],k=Uk(S,g?[r,n]:[n,r]);return m.current=w,k(x-w.top)}return p.jsx(V$,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:p.jsx(K$,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const w=v(x.clientY);i==null||i(w)},onSlideMove:x=>{const w=v(x.clientY);s==null||s(w)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:x=>{const S=W$[g?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:S?-1:1})}})})}),K$=y.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=_v(dd,n);return p.jsx(We.span,{...c,ref:t,onKeyDown:Te(e.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):$$.concat(B$).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Te(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():r(f)}),onPointerMove:Te(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&o(f)}),onPointerUp:Te(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),q$="SliderTrack",Y$=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=_v(q$,n);return p.jsx(We.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});Y$.displayName=q$;var B1="SliderRange",X$=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=_v(B1,n),i=G$(B1,n),s=y.useRef(null),a=mt(t,s),l=o.values.length,c=o.values.map(m=>Z$(m,o.min,o.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return p.jsx(We.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});X$.displayName=B1;var W1="SliderThumb",J$=y.forwardRef((e,t)=>{const n=l0e(e.__scopeSlider),[r,o]=y.useState(null),i=mt(t,a=>o(a)),s=y.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(h0e,{...e,ref:i,index:s})}),h0e=y.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,s=_v(W1,n),a=G$(W1,n),[l,c]=y.useState(null),d=mt(t,C=>c(C)),f=l?s.form||!!l.closest("form"):!0,m=oC(l),g=s.values[r],v=g===void 0?0:Z$(g,s.min,s.max),x=g0e(r,s.values.length),w=m==null?void 0:m[a.size],S=w?v0e(w,v,a.direction):0;return y.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${S}px)`},children:[p.jsx($1.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(We.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":s.min,"aria-valuenow":g,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:Te(e.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&p.jsx(Q$,{name:o??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:g},r)]})});J$.displayName=W1;var p0e="RadioBubbleInput",Q$=y.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=y.useRef(null),i=mt(o,r),s=gC(t);return y.useEffect(()=>{const a=o.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&d){const f=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[s,t]),p.jsx(We.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});Q$.displayName=p0e;function m0e(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,i)=>o-i)}function Z$(e,t,n){const i=100/(n-t)*(e-t);return Ig(i,[0,100])}function g0e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function y0e(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function v0e(e,t,n){const r=e/2,i=Uk([0,50],[0,r]);return(r-i(t)*n)*n}function x0e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function w0e(e,t){if(t>0){const n=x0e(e);return Math.min(...n)>=t}return!0}function Uk(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function b0e(e){return(String(e).split(".")[1]||"").length}function S0e(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var e5=H$,C0e=Y$,k0e=X$,E0e=J$;const t5=y.forwardRef(({className:e,...t},n)=>p.jsxs(e5,{ref:n,className:Ve("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(C0e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(k0e,{className:"absolute h-full bg-primary"})}),p.jsx(E0e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));t5.displayName=e5.displayName;var ry={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ry.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,m=2,g=4,v=1,x=2,w=1,S=2,C=4,k=8,T=16,N=32,R=64,_=128,M=256,B=512,I=30,$="...",W=800,V=16,H=1,ee=2,X=3,J=1/0,L=9007199254740991,D=17976931348623157e292,A=NaN,G=4294967295,z=G-1,O=G>>>1,Z=[["ary",_],["bind",w],["bindKey",S],["curry",k],["curryRight",T],["flip",B],["partial",N],["partialRight",R],["rearg",M]],re="[object Arguments]",ne="[object Array]",K="[object AsyncFunction]",ue="[object Boolean]",fe="[object Date]",ce="[object DOMException]",Re="[object Error]",Oe="[object Function]",Ze="[object GeneratorFunction]",ze="[object Map]",tt="[object Number]",De="[object Null]",it="[object Object]",kt="[object Promise]",Ot="[object Proxy]",_e="[object RegExp]",Ae="[object Set]",Ke="[object String]",lt="[object Symbol]",pe="[object Undefined]",we="[object WeakMap]",Y="[object WeakSet]",le="[object ArrayBuffer]",Ne="[object DataView]",Pe="[object Float32Array]",Je="[object Float64Array]",ae="[object Int8Array]",Ie="[object Int16Array]",Ee="[object Int32Array]",Le="[object Uint8Array]",ft="[object Uint8ClampedArray]",gt="[object Uint16Array]",Ln="[object Uint32Array]",mn=/\b__p \+= '';/g,Zi=/\b(__p \+=) '' \+/g,Ws=/(__e\(.*?\)|\b__t\)) \+\n'';/g,es=/&(?:amp|lt|gt|quot|#39);/g,Qt=/[&<>"']/g,Vt=RegExp(es.source),Pn=RegExp(Qt.source),qe=/<%-([\s\S]+?)%>/g,st=/<%([\s\S]+?)%>/g,ut=/<%=([\s\S]+?)%>/g,Gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gn=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/[\\^$.*+?()[\]{}|]/g,Kt=RegExp(ln.source),rn=/^\s+/,ts=/\s/,ye=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ve=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[()=,{}\[\]\/\s]/,Ft=/\\(\\)?/g,bn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wr=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,ns=/^0b[01]+$/i,pc=/^\[object .+?Constructor\]$/,br=/^0o[0-7]+$/i,fd=/^(?:0|[1-9]\d*)$/,mc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gc=/($^)/,Iv=/['\n\r\u2028\u2029\\]/g,Gh="\\ud800-\\udfff",r5="\\u0300-\\u036f",o5="\\ufe20-\\ufe2f",i5="\\u20d0-\\u20ff",Hk=r5+o5+i5,Vk="\\u2700-\\u27bf",Gk="a-z\\xdf-\\xf6\\xf8-\\xff",s5="\\xac\\xb1\\xd7\\xf7",a5="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",l5="\\u2000-\\u206f",c5=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kk="A-Z\\xc0-\\xd6\\xd8-\\xde",qk="\\ufe0e\\ufe0f",Yk=s5+a5+l5+c5,Ov="['’]",u5="["+Gh+"]",Xk="["+Yk+"]",Kh="["+Hk+"]",Jk="\\d+",d5="["+Vk+"]",Qk="["+Gk+"]",Zk="[^"+Gh+Yk+Jk+Vk+Gk+Kk+"]",Dv="\\ud83c[\\udffb-\\udfff]",f5="(?:"+Kh+"|"+Dv+")",eE="[^"+Gh+"]",jv="(?:\\ud83c[\\udde6-\\uddff]){2}",Lv="[\\ud800-\\udbff][\\udc00-\\udfff]",yc="["+Kk+"]",tE="\\u200d",nE="(?:"+Qk+"|"+Zk+")",h5="(?:"+yc+"|"+Zk+")",rE="(?:"+Ov+"(?:d|ll|m|re|s|t|ve))?",oE="(?:"+Ov+"(?:D|LL|M|RE|S|T|VE))?",iE=f5+"?",sE="["+qk+"]?",p5="(?:"+tE+"(?:"+[eE,jv,Lv].join("|")+")"+sE+iE+")*",m5="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",g5="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",aE=sE+iE+p5,y5="(?:"+[d5,jv,Lv].join("|")+")"+aE,v5="(?:"+[eE+Kh+"?",Kh,jv,Lv,u5].join("|")+")",x5=RegExp(Ov,"g"),w5=RegExp(Kh,"g"),Fv=RegExp(Dv+"(?="+Dv+")|"+v5+aE,"g"),b5=RegExp([yc+"?"+Qk+"+"+rE+"(?="+[Xk,yc,"$"].join("|")+")",h5+"+"+oE+"(?="+[Xk,yc+nE,"$"].join("|")+")",yc+"?"+nE+"+"+rE,yc+"+"+oE,g5,m5,Jk,y5].join("|"),"g"),S5=RegExp("["+tE+Gh+Hk+qk+"]"),C5=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,k5=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],E5=-1,Zt={};Zt[Pe]=Zt[Je]=Zt[ae]=Zt[Ie]=Zt[Ee]=Zt[Le]=Zt[ft]=Zt[gt]=Zt[Ln]=!0,Zt[re]=Zt[ne]=Zt[le]=Zt[ue]=Zt[Ne]=Zt[fe]=Zt[Re]=Zt[Oe]=Zt[ze]=Zt[tt]=Zt[it]=Zt[_e]=Zt[Ae]=Zt[Ke]=Zt[we]=!1;var Yt={};Yt[re]=Yt[ne]=Yt[le]=Yt[Ne]=Yt[ue]=Yt[fe]=Yt[Pe]=Yt[Je]=Yt[ae]=Yt[Ie]=Yt[Ee]=Yt[ze]=Yt[tt]=Yt[it]=Yt[_e]=Yt[Ae]=Yt[Ke]=Yt[lt]=Yt[Le]=Yt[ft]=Yt[gt]=Yt[Ln]=!0,Yt[Re]=Yt[Oe]=Yt[we]=!1;var N5={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},T5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},R5={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},M5={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},A5=parseFloat,P5=parseInt,lE=typeof bs=="object"&&bs&&bs.Object===Object&&bs,_5=typeof self=="object"&&self&&self.Object===Object&&self,qn=lE||_5||Function("return this")(),zv=t&&!t.nodeType&&t,cl=zv&&!0&&e&&!e.nodeType&&e,cE=cl&&cl.exports===zv,$v=cE&&lE.process,Eo=function(){try{var Q=cl&&cl.require&&cl.require("util").types;return Q||$v&&$v.binding&&$v.binding("util")}catch{}}(),uE=Eo&&Eo.isArrayBuffer,dE=Eo&&Eo.isDate,fE=Eo&&Eo.isMap,hE=Eo&&Eo.isRegExp,pE=Eo&&Eo.isSet,mE=Eo&&Eo.isTypedArray;function ro(Q,de,oe){switch(oe.length){case 0:return Q.call(de);case 1:return Q.call(de,oe[0]);case 2:return Q.call(de,oe[0],oe[1]);case 3:return Q.call(de,oe[0],oe[1],oe[2])}return Q.apply(de,oe)}function I5(Q,de,oe,$e){for(var ct=-1,Dt=Q==null?0:Q.length;++ct<Dt;){var _n=Q[ct];de($e,_n,oe(_n),Q)}return $e}function No(Q,de){for(var oe=-1,$e=Q==null?0:Q.length;++oe<$e&&de(Q[oe],oe,Q)!==!1;);return Q}function O5(Q,de){for(var oe=Q==null?0:Q.length;oe--&&de(Q[oe],oe,Q)!==!1;);return Q}function gE(Q,de){for(var oe=-1,$e=Q==null?0:Q.length;++oe<$e;)if(!de(Q[oe],oe,Q))return!1;return!0}function Us(Q,de){for(var oe=-1,$e=Q==null?0:Q.length,ct=0,Dt=[];++oe<$e;){var _n=Q[oe];de(_n,oe,Q)&&(Dt[ct++]=_n)}return Dt}function qh(Q,de){var oe=Q==null?0:Q.length;return!!oe&&vc(Q,de,0)>-1}function Bv(Q,de,oe){for(var $e=-1,ct=Q==null?0:Q.length;++$e<ct;)if(oe(de,Q[$e]))return!0;return!1}function on(Q,de){for(var oe=-1,$e=Q==null?0:Q.length,ct=Array($e);++oe<$e;)ct[oe]=de(Q[oe],oe,Q);return ct}function Hs(Q,de){for(var oe=-1,$e=de.length,ct=Q.length;++oe<$e;)Q[ct+oe]=de[oe];return Q}function Wv(Q,de,oe,$e){var ct=-1,Dt=Q==null?0:Q.length;for($e&&Dt&&(oe=Q[++ct]);++ct<Dt;)oe=de(oe,Q[ct],ct,Q);return oe}function D5(Q,de,oe,$e){var ct=Q==null?0:Q.length;for($e&&ct&&(oe=Q[--ct]);ct--;)oe=de(oe,Q[ct],ct,Q);return oe}function Uv(Q,de){for(var oe=-1,$e=Q==null?0:Q.length;++oe<$e;)if(de(Q[oe],oe,Q))return!0;return!1}var j5=Hv("length");function L5(Q){return Q.split("")}function F5(Q){return Q.match(Ue)||[]}function yE(Q,de,oe){var $e;return oe(Q,function(ct,Dt,_n){if(de(ct,Dt,_n))return $e=Dt,!1}),$e}function Yh(Q,de,oe,$e){for(var ct=Q.length,Dt=oe+($e?1:-1);$e?Dt--:++Dt<ct;)if(de(Q[Dt],Dt,Q))return Dt;return-1}function vc(Q,de,oe){return de===de?X5(Q,de,oe):Yh(Q,vE,oe)}function z5(Q,de,oe,$e){for(var ct=oe-1,Dt=Q.length;++ct<Dt;)if($e(Q[ct],de))return ct;return-1}function vE(Q){return Q!==Q}function xE(Q,de){var oe=Q==null?0:Q.length;return oe?Gv(Q,de)/oe:A}function Hv(Q){return function(de){return de==null?n:de[Q]}}function Vv(Q){return function(de){return Q==null?n:Q[de]}}function wE(Q,de,oe,$e,ct){return ct(Q,function(Dt,_n,Wt){oe=$e?($e=!1,Dt):de(oe,Dt,_n,Wt)}),oe}function $5(Q,de){var oe=Q.length;for(Q.sort(de);oe--;)Q[oe]=Q[oe].value;return Q}function Gv(Q,de){for(var oe,$e=-1,ct=Q.length;++$e<ct;){var Dt=de(Q[$e]);Dt!==n&&(oe=oe===n?Dt:oe+Dt)}return oe}function Kv(Q,de){for(var oe=-1,$e=Array(Q);++oe<Q;)$e[oe]=de(oe);return $e}function B5(Q,de){return on(de,function(oe){return[oe,Q[oe]]})}function bE(Q){return Q&&Q.slice(0,EE(Q)+1).replace(rn,"")}function oo(Q){return function(de){return Q(de)}}function qv(Q,de){return on(de,function(oe){return Q[oe]})}function hd(Q,de){return Q.has(de)}function SE(Q,de){for(var oe=-1,$e=Q.length;++oe<$e&&vc(de,Q[oe],0)>-1;);return oe}function CE(Q,de){for(var oe=Q.length;oe--&&vc(de,Q[oe],0)>-1;);return oe}function W5(Q,de){for(var oe=Q.length,$e=0;oe--;)Q[oe]===de&&++$e;return $e}var U5=Vv(N5),H5=Vv(T5);function V5(Q){return"\\"+M5[Q]}function G5(Q,de){return Q==null?n:Q[de]}function xc(Q){return S5.test(Q)}function K5(Q){return C5.test(Q)}function q5(Q){for(var de,oe=[];!(de=Q.next()).done;)oe.push(de.value);return oe}function Yv(Q){var de=-1,oe=Array(Q.size);return Q.forEach(function($e,ct){oe[++de]=[ct,$e]}),oe}function kE(Q,de){return function(oe){return Q(de(oe))}}function Vs(Q,de){for(var oe=-1,$e=Q.length,ct=0,Dt=[];++oe<$e;){var _n=Q[oe];(_n===de||_n===d)&&(Q[oe]=d,Dt[ct++]=oe)}return Dt}function Xh(Q){var de=-1,oe=Array(Q.size);return Q.forEach(function($e){oe[++de]=$e}),oe}function Y5(Q){var de=-1,oe=Array(Q.size);return Q.forEach(function($e){oe[++de]=[$e,$e]}),oe}function X5(Q,de,oe){for(var $e=oe-1,ct=Q.length;++$e<ct;)if(Q[$e]===de)return $e;return-1}function J5(Q,de,oe){for(var $e=oe+1;$e--;)if(Q[$e]===de)return $e;return $e}function wc(Q){return xc(Q)?Z5(Q):j5(Q)}function Xo(Q){return xc(Q)?eB(Q):L5(Q)}function EE(Q){for(var de=Q.length;de--&&ts.test(Q.charAt(de)););return de}var Q5=Vv(R5);function Z5(Q){for(var de=Fv.lastIndex=0;Fv.test(Q);)++de;return de}function eB(Q){return Q.match(Fv)||[]}function tB(Q){return Q.match(b5)||[]}var nB=function Q(de){de=de==null?qn:bc.defaults(qn.Object(),de,bc.pick(qn,k5));var oe=de.Array,$e=de.Date,ct=de.Error,Dt=de.Function,_n=de.Math,Wt=de.Object,Xv=de.RegExp,rB=de.String,To=de.TypeError,Jh=oe.prototype,oB=Dt.prototype,Sc=Wt.prototype,Qh=de["__core-js_shared__"],Zh=oB.toString,zt=Sc.hasOwnProperty,iB=0,NE=function(){var u=/[^.]+$/.exec(Qh&&Qh.keys&&Qh.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ep=Sc.toString,sB=Zh.call(Wt),aB=qn._,lB=Xv("^"+Zh.call(zt).replace(ln,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tp=cE?de.Buffer:n,Gs=de.Symbol,np=de.Uint8Array,TE=tp?tp.allocUnsafe:n,rp=kE(Wt.getPrototypeOf,Wt),RE=Wt.create,ME=Sc.propertyIsEnumerable,op=Jh.splice,AE=Gs?Gs.isConcatSpreadable:n,pd=Gs?Gs.iterator:n,ul=Gs?Gs.toStringTag:n,ip=function(){try{var u=ml(Wt,"defineProperty");return u({},"",{}),u}catch{}}(),cB=de.clearTimeout!==qn.clearTimeout&&de.clearTimeout,uB=$e&&$e.now!==qn.Date.now&&$e.now,dB=de.setTimeout!==qn.setTimeout&&de.setTimeout,sp=_n.ceil,ap=_n.floor,Jv=Wt.getOwnPropertySymbols,fB=tp?tp.isBuffer:n,PE=de.isFinite,hB=Jh.join,pB=kE(Wt.keys,Wt),In=_n.max,sr=_n.min,mB=$e.now,gB=de.parseInt,_E=_n.random,yB=Jh.reverse,Qv=ml(de,"DataView"),md=ml(de,"Map"),Zv=ml(de,"Promise"),Cc=ml(de,"Set"),gd=ml(de,"WeakMap"),yd=ml(Wt,"create"),lp=gd&&new gd,kc={},vB=gl(Qv),xB=gl(md),wB=gl(Zv),bB=gl(Cc),SB=gl(gd),cp=Gs?Gs.prototype:n,vd=cp?cp.valueOf:n,IE=cp?cp.toString:n;function j(u){if(yn(u)&&!dt(u)&&!(u instanceof Rt)){if(u instanceof Ro)return u;if(zt.call(u,"__wrapped__"))return ON(u)}return new Ro(u)}var Ec=function(){function u(){}return function(h){if(!cn(h))return{};if(RE)return RE(h);u.prototype=h;var b=new u;return u.prototype=n,b}}();function up(){}function Ro(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}j.templateSettings={escape:qe,evaluate:st,interpolate:ut,variable:"",imports:{_:j}},j.prototype=up.prototype,j.prototype.constructor=j,Ro.prototype=Ec(up.prototype),Ro.prototype.constructor=Ro;function Rt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function CB(){var u=new Rt(this.__wrapped__);return u.__actions__=Fr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Fr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Fr(this.__views__),u}function kB(){if(this.__filtered__){var u=new Rt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function EB(){var u=this.__wrapped__.value(),h=this.__dir__,b=dt(u),E=h<0,P=b?u.length:0,F=L6(0,P,this.__views__),U=F.start,q=F.end,te=q-U,me=E?q:U-1,ge=this.__iteratees__,xe=ge.length,je=0,Ge=sr(te,this.__takeCount__);if(!b||!E&&P==te&&Ge==te)return rN(u,this.__actions__);var rt=[];e:for(;te--&&je<Ge;){me+=h;for(var bt=-1,ot=u[me];++bt<xe;){var Et=ge[bt],Mt=Et.iteratee,ao=Et.type,kr=Mt(ot);if(ao==ee)ot=kr;else if(!kr){if(ao==H)continue e;break e}}rt[je++]=ot}return rt}Rt.prototype=Ec(up.prototype),Rt.prototype.constructor=Rt;function dl(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function NB(){this.__data__=yd?yd(null):{},this.size=0}function TB(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function RB(u){var h=this.__data__;if(yd){var b=h[u];return b===l?n:b}return zt.call(h,u)?h[u]:n}function MB(u){var h=this.__data__;return yd?h[u]!==n:zt.call(h,u)}function AB(u,h){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=yd&&h===n?l:h,this}dl.prototype.clear=NB,dl.prototype.delete=TB,dl.prototype.get=RB,dl.prototype.has=MB,dl.prototype.set=AB;function rs(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function PB(){this.__data__=[],this.size=0}function _B(u){var h=this.__data__,b=dp(h,u);if(b<0)return!1;var E=h.length-1;return b==E?h.pop():op.call(h,b,1),--this.size,!0}function IB(u){var h=this.__data__,b=dp(h,u);return b<0?n:h[b][1]}function OB(u){return dp(this.__data__,u)>-1}function DB(u,h){var b=this.__data__,E=dp(b,u);return E<0?(++this.size,b.push([u,h])):b[E][1]=h,this}rs.prototype.clear=PB,rs.prototype.delete=_B,rs.prototype.get=IB,rs.prototype.has=OB,rs.prototype.set=DB;function is(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function jB(){this.size=0,this.__data__={hash:new dl,map:new(md||rs),string:new dl}}function LB(u){var h=Cp(this,u).delete(u);return this.size-=h?1:0,h}function FB(u){return Cp(this,u).get(u)}function zB(u){return Cp(this,u).has(u)}function $B(u,h){var b=Cp(this,u),E=b.size;return b.set(u,h),this.size+=b.size==E?0:1,this}is.prototype.clear=jB,is.prototype.delete=LB,is.prototype.get=FB,is.prototype.has=zB,is.prototype.set=$B;function fl(u){var h=-1,b=u==null?0:u.length;for(this.__data__=new is;++h<b;)this.add(u[h])}function BB(u){return this.__data__.set(u,l),this}function WB(u){return this.__data__.has(u)}fl.prototype.add=fl.prototype.push=BB,fl.prototype.has=WB;function Jo(u){var h=this.__data__=new rs(u);this.size=h.size}function UB(){this.__data__=new rs,this.size=0}function HB(u){var h=this.__data__,b=h.delete(u);return this.size=h.size,b}function VB(u){return this.__data__.get(u)}function GB(u){return this.__data__.has(u)}function KB(u,h){var b=this.__data__;if(b instanceof rs){var E=b.__data__;if(!md||E.length<o-1)return E.push([u,h]),this.size=++b.size,this;b=this.__data__=new is(E)}return b.set(u,h),this.size=b.size,this}Jo.prototype.clear=UB,Jo.prototype.delete=HB,Jo.prototype.get=VB,Jo.prototype.has=GB,Jo.prototype.set=KB;function OE(u,h){var b=dt(u),E=!b&&yl(u),P=!b&&!E&&Js(u),F=!b&&!E&&!P&&Mc(u),U=b||E||P||F,q=U?Kv(u.length,rB):[],te=q.length;for(var me in u)(h||zt.call(u,me))&&!(U&&(me=="length"||P&&(me=="offset"||me=="parent")||F&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||cs(me,te)))&&q.push(me);return q}function DE(u){var h=u.length;return h?u[ux(0,h-1)]:n}function qB(u,h){return kp(Fr(u),hl(h,0,u.length))}function YB(u){return kp(Fr(u))}function ex(u,h,b){(b!==n&&!Qo(u[h],b)||b===n&&!(h in u))&&ss(u,h,b)}function xd(u,h,b){var E=u[h];(!(zt.call(u,h)&&Qo(E,b))||b===n&&!(h in u))&&ss(u,h,b)}function dp(u,h){for(var b=u.length;b--;)if(Qo(u[b][0],h))return b;return-1}function XB(u,h,b,E){return Ks(u,function(P,F,U){h(E,P,b(P),U)}),E}function jE(u,h){return u&&Ti(h,Fn(h),u)}function JB(u,h){return u&&Ti(h,$r(h),u)}function ss(u,h,b){h=="__proto__"&&ip?ip(u,h,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[h]=b}function tx(u,h){for(var b=-1,E=h.length,P=oe(E),F=u==null;++b<E;)P[b]=F?n:Dx(u,h[b]);return P}function hl(u,h,b){return u===u&&(b!==n&&(u=u<=b?u:b),h!==n&&(u=u>=h?u:h)),u}function Mo(u,h,b,E,P,F){var U,q=h&f,te=h&m,me=h&g;if(b&&(U=P?b(u,E,P,F):b(u)),U!==n)return U;if(!cn(u))return u;var ge=dt(u);if(ge){if(U=z6(u),!q)return Fr(u,U)}else{var xe=ar(u),je=xe==Oe||xe==Ze;if(Js(u))return sN(u,q);if(xe==it||xe==re||je&&!P){if(U=te||je?{}:EN(u),!q)return te?R6(u,JB(U,u)):T6(u,jE(U,u))}else{if(!Yt[xe])return P?u:{};U=$6(u,xe,q)}}F||(F=new Jo);var Ge=F.get(u);if(Ge)return Ge;F.set(u,U),eT(u)?u.forEach(function(ot){U.add(Mo(ot,h,b,ot,u,F))}):QN(u)&&u.forEach(function(ot,Et){U.set(Et,Mo(ot,h,b,Et,u,F))});var rt=me?te?bx:wx:te?$r:Fn,bt=ge?n:rt(u);return No(bt||u,function(ot,Et){bt&&(Et=ot,ot=u[Et]),xd(U,Et,Mo(ot,h,b,Et,u,F))}),U}function QB(u){var h=Fn(u);return function(b){return LE(b,u,h)}}function LE(u,h,b){var E=b.length;if(u==null)return!E;for(u=Wt(u);E--;){var P=b[E],F=h[P],U=u[P];if(U===n&&!(P in u)||!F(U))return!1}return!0}function FE(u,h,b){if(typeof u!="function")throw new To(s);return Nd(function(){u.apply(n,b)},h)}function wd(u,h,b,E){var P=-1,F=qh,U=!0,q=u.length,te=[],me=h.length;if(!q)return te;b&&(h=on(h,oo(b))),E?(F=Bv,U=!1):h.length>=o&&(F=hd,U=!1,h=new fl(h));e:for(;++P<q;){var ge=u[P],xe=b==null?ge:b(ge);if(ge=E||ge!==0?ge:0,U&&xe===xe){for(var je=me;je--;)if(h[je]===xe)continue e;te.push(ge)}else F(h,xe,E)||te.push(ge)}return te}var Ks=dN(Ni),zE=dN(rx,!0);function ZB(u,h){var b=!0;return Ks(u,function(E,P,F){return b=!!h(E,P,F),b}),b}function fp(u,h,b){for(var E=-1,P=u.length;++E<P;){var F=u[E],U=h(F);if(U!=null&&(q===n?U===U&&!so(U):b(U,q)))var q=U,te=F}return te}function e6(u,h,b,E){var P=u.length;for(b=yt(b),b<0&&(b=-b>P?0:P+b),E=E===n||E>P?P:yt(E),E<0&&(E+=P),E=b>E?0:nT(E);b<E;)u[b++]=h;return u}function $E(u,h){var b=[];return Ks(u,function(E,P,F){h(E,P,F)&&b.push(E)}),b}function Yn(u,h,b,E,P){var F=-1,U=u.length;for(b||(b=W6),P||(P=[]);++F<U;){var q=u[F];h>0&&b(q)?h>1?Yn(q,h-1,b,E,P):Hs(P,q):E||(P[P.length]=q)}return P}var nx=fN(),BE=fN(!0);function Ni(u,h){return u&&nx(u,h,Fn)}function rx(u,h){return u&&BE(u,h,Fn)}function hp(u,h){return Us(h,function(b){return us(u[b])})}function pl(u,h){h=Ys(h,u);for(var b=0,E=h.length;u!=null&&b<E;)u=u[Ri(h[b++])];return b&&b==E?u:n}function WE(u,h,b){var E=h(u);return dt(u)?E:Hs(E,b(u))}function Sr(u){return u==null?u===n?pe:De:ul&&ul in Wt(u)?j6(u):Y6(u)}function ox(u,h){return u>h}function t6(u,h){return u!=null&&zt.call(u,h)}function n6(u,h){return u!=null&&h in Wt(u)}function r6(u,h,b){return u>=sr(h,b)&&u<In(h,b)}function ix(u,h,b){for(var E=b?Bv:qh,P=u[0].length,F=u.length,U=F,q=oe(F),te=1/0,me=[];U--;){var ge=u[U];U&&h&&(ge=on(ge,oo(h))),te=sr(ge.length,te),q[U]=!b&&(h||P>=120&&ge.length>=120)?new fl(U&&ge):n}ge=u[0];var xe=-1,je=q[0];e:for(;++xe<P&&me.length<te;){var Ge=ge[xe],rt=h?h(Ge):Ge;if(Ge=b||Ge!==0?Ge:0,!(je?hd(je,rt):E(me,rt,b))){for(U=F;--U;){var bt=q[U];if(!(bt?hd(bt,rt):E(u[U],rt,b)))continue e}je&&je.push(rt),me.push(Ge)}}return me}function o6(u,h,b,E){return Ni(u,function(P,F,U){h(E,b(P),F,U)}),E}function bd(u,h,b){h=Ys(h,u),u=MN(u,h);var E=u==null?u:u[Ri(Po(h))];return E==null?n:ro(E,u,b)}function UE(u){return yn(u)&&Sr(u)==re}function i6(u){return yn(u)&&Sr(u)==le}function s6(u){return yn(u)&&Sr(u)==fe}function Sd(u,h,b,E,P){return u===h?!0:u==null||h==null||!yn(u)&&!yn(h)?u!==u&&h!==h:a6(u,h,b,E,Sd,P)}function a6(u,h,b,E,P,F){var U=dt(u),q=dt(h),te=U?ne:ar(u),me=q?ne:ar(h);te=te==re?it:te,me=me==re?it:me;var ge=te==it,xe=me==it,je=te==me;if(je&&Js(u)){if(!Js(h))return!1;U=!0,ge=!1}if(je&&!ge)return F||(F=new Jo),U||Mc(u)?SN(u,h,b,E,P,F):O6(u,h,te,b,E,P,F);if(!(b&v)){var Ge=ge&&zt.call(u,"__wrapped__"),rt=xe&&zt.call(h,"__wrapped__");if(Ge||rt){var bt=Ge?u.value():u,ot=rt?h.value():h;return F||(F=new Jo),P(bt,ot,b,E,F)}}return je?(F||(F=new Jo),D6(u,h,b,E,P,F)):!1}function l6(u){return yn(u)&&ar(u)==ze}function sx(u,h,b,E){var P=b.length,F=P,U=!E;if(u==null)return!F;for(u=Wt(u);P--;){var q=b[P];if(U&&q[2]?q[1]!==u[q[0]]:!(q[0]in u))return!1}for(;++P<F;){q=b[P];var te=q[0],me=u[te],ge=q[1];if(U&&q[2]){if(me===n&&!(te in u))return!1}else{var xe=new Jo;if(E)var je=E(me,ge,te,u,h,xe);if(!(je===n?Sd(ge,me,v|x,E,xe):je))return!1}}return!0}function HE(u){if(!cn(u)||H6(u))return!1;var h=us(u)?lB:pc;return h.test(gl(u))}function c6(u){return yn(u)&&Sr(u)==_e}function u6(u){return yn(u)&&ar(u)==Ae}function d6(u){return yn(u)&&Ap(u.length)&&!!Zt[Sr(u)]}function VE(u){return typeof u=="function"?u:u==null?Br:typeof u=="object"?dt(u)?qE(u[0],u[1]):KE(u):hT(u)}function ax(u){if(!Ed(u))return pB(u);var h=[];for(var b in Wt(u))zt.call(u,b)&&b!="constructor"&&h.push(b);return h}function f6(u){if(!cn(u))return q6(u);var h=Ed(u),b=[];for(var E in u)E=="constructor"&&(h||!zt.call(u,E))||b.push(E);return b}function lx(u,h){return u<h}function GE(u,h){var b=-1,E=zr(u)?oe(u.length):[];return Ks(u,function(P,F,U){E[++b]=h(P,F,U)}),E}function KE(u){var h=Cx(u);return h.length==1&&h[0][2]?TN(h[0][0],h[0][1]):function(b){return b===u||sx(b,u,h)}}function qE(u,h){return Ex(u)&&NN(h)?TN(Ri(u),h):function(b){var E=Dx(b,u);return E===n&&E===h?jx(b,u):Sd(h,E,v|x)}}function pp(u,h,b,E,P){u!==h&&nx(h,function(F,U){if(P||(P=new Jo),cn(F))h6(u,h,U,b,pp,E,P);else{var q=E?E(Tx(u,U),F,U+"",u,h,P):n;q===n&&(q=F),ex(u,U,q)}},$r)}function h6(u,h,b,E,P,F,U){var q=Tx(u,b),te=Tx(h,b),me=U.get(te);if(me){ex(u,b,me);return}var ge=F?F(q,te,b+"",u,h,U):n,xe=ge===n;if(xe){var je=dt(te),Ge=!je&&Js(te),rt=!je&&!Ge&&Mc(te);ge=te,je||Ge||rt?dt(q)?ge=q:Sn(q)?ge=Fr(q):Ge?(xe=!1,ge=sN(te,!0)):rt?(xe=!1,ge=aN(te,!0)):ge=[]:Td(te)||yl(te)?(ge=q,yl(q)?ge=rT(q):(!cn(q)||us(q))&&(ge=EN(te))):xe=!1}xe&&(U.set(te,ge),P(ge,te,E,F,U),U.delete(te)),ex(u,b,ge)}function YE(u,h){var b=u.length;if(b)return h+=h<0?b:0,cs(h,b)?u[h]:n}function XE(u,h,b){h.length?h=on(h,function(F){return dt(F)?function(U){return pl(U,F.length===1?F[0]:F)}:F}):h=[Br];var E=-1;h=on(h,oo(nt()));var P=GE(u,function(F,U,q){var te=on(h,function(me){return me(F)});return{criteria:te,index:++E,value:F}});return $5(P,function(F,U){return N6(F,U,b)})}function p6(u,h){return JE(u,h,function(b,E){return jx(u,E)})}function JE(u,h,b){for(var E=-1,P=h.length,F={};++E<P;){var U=h[E],q=pl(u,U);b(q,U)&&Cd(F,Ys(U,u),q)}return F}function m6(u){return function(h){return pl(h,u)}}function cx(u,h,b,E){var P=E?z5:vc,F=-1,U=h.length,q=u;for(u===h&&(h=Fr(h)),b&&(q=on(u,oo(b)));++F<U;)for(var te=0,me=h[F],ge=b?b(me):me;(te=P(q,ge,te,E))>-1;)q!==u&&op.call(q,te,1),op.call(u,te,1);return u}function QE(u,h){for(var b=u?h.length:0,E=b-1;b--;){var P=h[b];if(b==E||P!==F){var F=P;cs(P)?op.call(u,P,1):hx(u,P)}}return u}function ux(u,h){return u+ap(_E()*(h-u+1))}function g6(u,h,b,E){for(var P=-1,F=In(sp((h-u)/(b||1)),0),U=oe(F);F--;)U[E?F:++P]=u,u+=b;return U}function dx(u,h){var b="";if(!u||h<1||h>L)return b;do h%2&&(b+=u),h=ap(h/2),h&&(u+=u);while(h);return b}function St(u,h){return Rx(RN(u,h,Br),u+"")}function y6(u){return DE(Ac(u))}function v6(u,h){var b=Ac(u);return kp(b,hl(h,0,b.length))}function Cd(u,h,b,E){if(!cn(u))return u;h=Ys(h,u);for(var P=-1,F=h.length,U=F-1,q=u;q!=null&&++P<F;){var te=Ri(h[P]),me=b;if(te==="__proto__"||te==="constructor"||te==="prototype")return u;if(P!=U){var ge=q[te];me=E?E(ge,te,q):n,me===n&&(me=cn(ge)?ge:cs(h[P+1])?[]:{})}xd(q,te,me),q=q[te]}return u}var ZE=lp?function(u,h){return lp.set(u,h),u}:Br,x6=ip?function(u,h){return ip(u,"toString",{configurable:!0,enumerable:!1,value:Fx(h),writable:!0})}:Br;function w6(u){return kp(Ac(u))}function Ao(u,h,b){var E=-1,P=u.length;h<0&&(h=-h>P?0:P+h),b=b>P?P:b,b<0&&(b+=P),P=h>b?0:b-h>>>0,h>>>=0;for(var F=oe(P);++E<P;)F[E]=u[E+h];return F}function b6(u,h){var b;return Ks(u,function(E,P,F){return b=h(E,P,F),!b}),!!b}function mp(u,h,b){var E=0,P=u==null?E:u.length;if(typeof h=="number"&&h===h&&P<=O){for(;E<P;){var F=E+P>>>1,U=u[F];U!==null&&!so(U)&&(b?U<=h:U<h)?E=F+1:P=F}return P}return fx(u,h,Br,b)}function fx(u,h,b,E){var P=0,F=u==null?0:u.length;if(F===0)return 0;h=b(h);for(var U=h!==h,q=h===null,te=so(h),me=h===n;P<F;){var ge=ap((P+F)/2),xe=b(u[ge]),je=xe!==n,Ge=xe===null,rt=xe===xe,bt=so(xe);if(U)var ot=E||rt;else me?ot=rt&&(E||je):q?ot=rt&&je&&(E||!Ge):te?ot=rt&&je&&!Ge&&(E||!bt):Ge||bt?ot=!1:ot=E?xe<=h:xe<h;ot?P=ge+1:F=ge}return sr(F,z)}function eN(u,h){for(var b=-1,E=u.length,P=0,F=[];++b<E;){var U=u[b],q=h?h(U):U;if(!b||!Qo(q,te)){var te=q;F[P++]=U===0?0:U}}return F}function tN(u){return typeof u=="number"?u:so(u)?A:+u}function io(u){if(typeof u=="string")return u;if(dt(u))return on(u,io)+"";if(so(u))return IE?IE.call(u):"";var h=u+"";return h=="0"&&1/u==-J?"-0":h}function qs(u,h,b){var E=-1,P=qh,F=u.length,U=!0,q=[],te=q;if(b)U=!1,P=Bv;else if(F>=o){var me=h?null:_6(u);if(me)return Xh(me);U=!1,P=hd,te=new fl}else te=h?[]:q;e:for(;++E<F;){var ge=u[E],xe=h?h(ge):ge;if(ge=b||ge!==0?ge:0,U&&xe===xe){for(var je=te.length;je--;)if(te[je]===xe)continue e;h&&te.push(xe),q.push(ge)}else P(te,xe,b)||(te!==q&&te.push(xe),q.push(ge))}return q}function hx(u,h){return h=Ys(h,u),u=MN(u,h),u==null||delete u[Ri(Po(h))]}function nN(u,h,b,E){return Cd(u,h,b(pl(u,h)),E)}function gp(u,h,b,E){for(var P=u.length,F=E?P:-1;(E?F--:++F<P)&&h(u[F],F,u););return b?Ao(u,E?0:F,E?F+1:P):Ao(u,E?F+1:0,E?P:F)}function rN(u,h){var b=u;return b instanceof Rt&&(b=b.value()),Wv(h,function(E,P){return P.func.apply(P.thisArg,Hs([E],P.args))},b)}function px(u,h,b){var E=u.length;if(E<2)return E?qs(u[0]):[];for(var P=-1,F=oe(E);++P<E;)for(var U=u[P],q=-1;++q<E;)q!=P&&(F[P]=wd(F[P]||U,u[q],h,b));return qs(Yn(F,1),h,b)}function oN(u,h,b){for(var E=-1,P=u.length,F=h.length,U={};++E<P;){var q=E<F?h[E]:n;b(U,u[E],q)}return U}function mx(u){return Sn(u)?u:[]}function gx(u){return typeof u=="function"?u:Br}function Ys(u,h){return dt(u)?u:Ex(u,h)?[u]:IN(Lt(u))}var S6=St;function Xs(u,h,b){var E=u.length;return b=b===n?E:b,!h&&b>=E?u:Ao(u,h,b)}var iN=cB||function(u){return qn.clearTimeout(u)};function sN(u,h){if(h)return u.slice();var b=u.length,E=TE?TE(b):new u.constructor(b);return u.copy(E),E}function yx(u){var h=new u.constructor(u.byteLength);return new np(h).set(new np(u)),h}function C6(u,h){var b=h?yx(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function k6(u){var h=new u.constructor(u.source,wr.exec(u));return h.lastIndex=u.lastIndex,h}function E6(u){return vd?Wt(vd.call(u)):{}}function aN(u,h){var b=h?yx(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function lN(u,h){if(u!==h){var b=u!==n,E=u===null,P=u===u,F=so(u),U=h!==n,q=h===null,te=h===h,me=so(h);if(!q&&!me&&!F&&u>h||F&&U&&te&&!q&&!me||E&&U&&te||!b&&te||!P)return 1;if(!E&&!F&&!me&&u<h||me&&b&&P&&!E&&!F||q&&b&&P||!U&&P||!te)return-1}return 0}function N6(u,h,b){for(var E=-1,P=u.criteria,F=h.criteria,U=P.length,q=b.length;++E<U;){var te=lN(P[E],F[E]);if(te){if(E>=q)return te;var me=b[E];return te*(me=="desc"?-1:1)}}return u.index-h.index}function cN(u,h,b,E){for(var P=-1,F=u.length,U=b.length,q=-1,te=h.length,me=In(F-U,0),ge=oe(te+me),xe=!E;++q<te;)ge[q]=h[q];for(;++P<U;)(xe||P<F)&&(ge[b[P]]=u[P]);for(;me--;)ge[q++]=u[P++];return ge}function uN(u,h,b,E){for(var P=-1,F=u.length,U=-1,q=b.length,te=-1,me=h.length,ge=In(F-q,0),xe=oe(ge+me),je=!E;++P<ge;)xe[P]=u[P];for(var Ge=P;++te<me;)xe[Ge+te]=h[te];for(;++U<q;)(je||P<F)&&(xe[Ge+b[U]]=u[P++]);return xe}function Fr(u,h){var b=-1,E=u.length;for(h||(h=oe(E));++b<E;)h[b]=u[b];return h}function Ti(u,h,b,E){var P=!b;b||(b={});for(var F=-1,U=h.length;++F<U;){var q=h[F],te=E?E(b[q],u[q],q,b,u):n;te===n&&(te=u[q]),P?ss(b,q,te):xd(b,q,te)}return b}function T6(u,h){return Ti(u,kx(u),h)}function R6(u,h){return Ti(u,CN(u),h)}function yp(u,h){return function(b,E){var P=dt(b)?I5:XB,F=h?h():{};return P(b,u,nt(E,2),F)}}function Nc(u){return St(function(h,b){var E=-1,P=b.length,F=P>1?b[P-1]:n,U=P>2?b[2]:n;for(F=u.length>3&&typeof F=="function"?(P--,F):n,U&&Cr(b[0],b[1],U)&&(F=P<3?n:F,P=1),h=Wt(h);++E<P;){var q=b[E];q&&u(h,q,E,F)}return h})}function dN(u,h){return function(b,E){if(b==null)return b;if(!zr(b))return u(b,E);for(var P=b.length,F=h?P:-1,U=Wt(b);(h?F--:++F<P)&&E(U[F],F,U)!==!1;);return b}}function fN(u){return function(h,b,E){for(var P=-1,F=Wt(h),U=E(h),q=U.length;q--;){var te=U[u?q:++P];if(b(F[te],te,F)===!1)break}return h}}function M6(u,h,b){var E=h&w,P=kd(u);function F(){var U=this&&this!==qn&&this instanceof F?P:u;return U.apply(E?b:this,arguments)}return F}function hN(u){return function(h){h=Lt(h);var b=xc(h)?Xo(h):n,E=b?b[0]:h.charAt(0),P=b?Xs(b,1).join(""):h.slice(1);return E[u]()+P}}function Tc(u){return function(h){return Wv(dT(uT(h).replace(x5,"")),u,"")}}function kd(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var b=Ec(u.prototype),E=u.apply(b,h);return cn(E)?E:b}}function A6(u,h,b){var E=kd(u);function P(){for(var F=arguments.length,U=oe(F),q=F,te=Rc(P);q--;)U[q]=arguments[q];var me=F<3&&U[0]!==te&&U[F-1]!==te?[]:Vs(U,te);if(F-=me.length,F<b)return vN(u,h,vp,P.placeholder,n,U,me,n,n,b-F);var ge=this&&this!==qn&&this instanceof P?E:u;return ro(ge,this,U)}return P}function pN(u){return function(h,b,E){var P=Wt(h);if(!zr(h)){var F=nt(b,3);h=Fn(h),b=function(q){return F(P[q],q,P)}}var U=u(h,b,E);return U>-1?P[F?h[U]:U]:n}}function mN(u){return ls(function(h){var b=h.length,E=b,P=Ro.prototype.thru;for(u&&h.reverse();E--;){var F=h[E];if(typeof F!="function")throw new To(s);if(P&&!U&&Sp(F)=="wrapper")var U=new Ro([],!0)}for(E=U?E:b;++E<b;){F=h[E];var q=Sp(F),te=q=="wrapper"?Sx(F):n;te&&Nx(te[0])&&te[1]==(_|k|N|M)&&!te[4].length&&te[9]==1?U=U[Sp(te[0])].apply(U,te[3]):U=F.length==1&&Nx(F)?U[q]():U.thru(F)}return function(){var me=arguments,ge=me[0];if(U&&me.length==1&&dt(ge))return U.plant(ge).value();for(var xe=0,je=b?h[xe].apply(this,me):ge;++xe<b;)je=h[xe].call(this,je);return je}})}function vp(u,h,b,E,P,F,U,q,te,me){var ge=h&_,xe=h&w,je=h&S,Ge=h&(k|T),rt=h&B,bt=je?n:kd(u);function ot(){for(var Et=arguments.length,Mt=oe(Et),ao=Et;ao--;)Mt[ao]=arguments[ao];if(Ge)var kr=Rc(ot),lo=W5(Mt,kr);if(E&&(Mt=cN(Mt,E,P,Ge)),F&&(Mt=uN(Mt,F,U,Ge)),Et-=lo,Ge&&Et<me){var Cn=Vs(Mt,kr);return vN(u,h,vp,ot.placeholder,b,Mt,Cn,q,te,me-Et)}var Zo=xe?b:this,fs=je?Zo[u]:u;return Et=Mt.length,q?Mt=X6(Mt,q):rt&&Et>1&&Mt.reverse(),ge&&te<Et&&(Mt.length=te),this&&this!==qn&&this instanceof ot&&(fs=bt||kd(fs)),fs.apply(Zo,Mt)}return ot}function gN(u,h){return function(b,E){return o6(b,u,h(E),{})}}function xp(u,h){return function(b,E){var P;if(b===n&&E===n)return h;if(b!==n&&(P=b),E!==n){if(P===n)return E;typeof b=="string"||typeof E=="string"?(b=io(b),E=io(E)):(b=tN(b),E=tN(E)),P=u(b,E)}return P}}function vx(u){return ls(function(h){return h=on(h,oo(nt())),St(function(b){var E=this;return u(h,function(P){return ro(P,E,b)})})})}function wp(u,h){h=h===n?" ":io(h);var b=h.length;if(b<2)return b?dx(h,u):h;var E=dx(h,sp(u/wc(h)));return xc(h)?Xs(Xo(E),0,u).join(""):E.slice(0,u)}function P6(u,h,b,E){var P=h&w,F=kd(u);function U(){for(var q=-1,te=arguments.length,me=-1,ge=E.length,xe=oe(ge+te),je=this&&this!==qn&&this instanceof U?F:u;++me<ge;)xe[me]=E[me];for(;te--;)xe[me++]=arguments[++q];return ro(je,P?b:this,xe)}return U}function yN(u){return function(h,b,E){return E&&typeof E!="number"&&Cr(h,b,E)&&(b=E=n),h=ds(h),b===n?(b=h,h=0):b=ds(b),E=E===n?h<b?1:-1:ds(E),g6(h,b,E,u)}}function bp(u){return function(h,b){return typeof h=="string"&&typeof b=="string"||(h=_o(h),b=_o(b)),u(h,b)}}function vN(u,h,b,E,P,F,U,q,te,me){var ge=h&k,xe=ge?U:n,je=ge?n:U,Ge=ge?F:n,rt=ge?n:F;h|=ge?N:R,h&=~(ge?R:N),h&C||(h&=-4);var bt=[u,h,P,Ge,xe,rt,je,q,te,me],ot=b.apply(n,bt);return Nx(u)&&AN(ot,bt),ot.placeholder=E,PN(ot,u,h)}function xx(u){var h=_n[u];return function(b,E){if(b=_o(b),E=E==null?0:sr(yt(E),292),E&&PE(b)){var P=(Lt(b)+"e").split("e"),F=h(P[0]+"e"+(+P[1]+E));return P=(Lt(F)+"e").split("e"),+(P[0]+"e"+(+P[1]-E))}return h(b)}}var _6=Cc&&1/Xh(new Cc([,-0]))[1]==J?function(u){return new Cc(u)}:Bx;function xN(u){return function(h){var b=ar(h);return b==ze?Yv(h):b==Ae?Y5(h):B5(h,u(h))}}function as(u,h,b,E,P,F,U,q){var te=h&S;if(!te&&typeof u!="function")throw new To(s);var me=E?E.length:0;if(me||(h&=-97,E=P=n),U=U===n?U:In(yt(U),0),q=q===n?q:yt(q),me-=P?P.length:0,h&R){var ge=E,xe=P;E=P=n}var je=te?n:Sx(u),Ge=[u,h,b,E,P,ge,xe,F,U,q];if(je&&K6(Ge,je),u=Ge[0],h=Ge[1],b=Ge[2],E=Ge[3],P=Ge[4],q=Ge[9]=Ge[9]===n?te?0:u.length:In(Ge[9]-me,0),!q&&h&(k|T)&&(h&=-25),!h||h==w)var rt=M6(u,h,b);else h==k||h==T?rt=A6(u,h,q):(h==N||h==(w|N))&&!P.length?rt=P6(u,h,b,E):rt=vp.apply(n,Ge);var bt=je?ZE:AN;return PN(bt(rt,Ge),u,h)}function wN(u,h,b,E){return u===n||Qo(u,Sc[b])&&!zt.call(E,b)?h:u}function bN(u,h,b,E,P,F){return cn(u)&&cn(h)&&(F.set(h,u),pp(u,h,n,bN,F),F.delete(h)),u}function I6(u){return Td(u)?n:u}function SN(u,h,b,E,P,F){var U=b&v,q=u.length,te=h.length;if(q!=te&&!(U&&te>q))return!1;var me=F.get(u),ge=F.get(h);if(me&&ge)return me==h&&ge==u;var xe=-1,je=!0,Ge=b&x?new fl:n;for(F.set(u,h),F.set(h,u);++xe<q;){var rt=u[xe],bt=h[xe];if(E)var ot=U?E(bt,rt,xe,h,u,F):E(rt,bt,xe,u,h,F);if(ot!==n){if(ot)continue;je=!1;break}if(Ge){if(!Uv(h,function(Et,Mt){if(!hd(Ge,Mt)&&(rt===Et||P(rt,Et,b,E,F)))return Ge.push(Mt)})){je=!1;break}}else if(!(rt===bt||P(rt,bt,b,E,F))){je=!1;break}}return F.delete(u),F.delete(h),je}function O6(u,h,b,E,P,F,U){switch(b){case Ne:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case le:return!(u.byteLength!=h.byteLength||!F(new np(u),new np(h)));case ue:case fe:case tt:return Qo(+u,+h);case Re:return u.name==h.name&&u.message==h.message;case _e:case Ke:return u==h+"";case ze:var q=Yv;case Ae:var te=E&v;if(q||(q=Xh),u.size!=h.size&&!te)return!1;var me=U.get(u);if(me)return me==h;E|=x,U.set(u,h);var ge=SN(q(u),q(h),E,P,F,U);return U.delete(u),ge;case lt:if(vd)return vd.call(u)==vd.call(h)}return!1}function D6(u,h,b,E,P,F){var U=b&v,q=wx(u),te=q.length,me=wx(h),ge=me.length;if(te!=ge&&!U)return!1;for(var xe=te;xe--;){var je=q[xe];if(!(U?je in h:zt.call(h,je)))return!1}var Ge=F.get(u),rt=F.get(h);if(Ge&&rt)return Ge==h&&rt==u;var bt=!0;F.set(u,h),F.set(h,u);for(var ot=U;++xe<te;){je=q[xe];var Et=u[je],Mt=h[je];if(E)var ao=U?E(Mt,Et,je,h,u,F):E(Et,Mt,je,u,h,F);if(!(ao===n?Et===Mt||P(Et,Mt,b,E,F):ao)){bt=!1;break}ot||(ot=je=="constructor")}if(bt&&!ot){var kr=u.constructor,lo=h.constructor;kr!=lo&&"constructor"in u&&"constructor"in h&&!(typeof kr=="function"&&kr instanceof kr&&typeof lo=="function"&&lo instanceof lo)&&(bt=!1)}return F.delete(u),F.delete(h),bt}function ls(u){return Rx(RN(u,n,LN),u+"")}function wx(u){return WE(u,Fn,kx)}function bx(u){return WE(u,$r,CN)}var Sx=lp?function(u){return lp.get(u)}:Bx;function Sp(u){for(var h=u.name+"",b=kc[h],E=zt.call(kc,h)?b.length:0;E--;){var P=b[E],F=P.func;if(F==null||F==u)return P.name}return h}function Rc(u){var h=zt.call(j,"placeholder")?j:u;return h.placeholder}function nt(){var u=j.iteratee||zx;return u=u===zx?VE:u,arguments.length?u(arguments[0],arguments[1]):u}function Cp(u,h){var b=u.__data__;return U6(h)?b[typeof h=="string"?"string":"hash"]:b.map}function Cx(u){for(var h=Fn(u),b=h.length;b--;){var E=h[b],P=u[E];h[b]=[E,P,NN(P)]}return h}function ml(u,h){var b=G5(u,h);return HE(b)?b:n}function j6(u){var h=zt.call(u,ul),b=u[ul];try{u[ul]=n;var E=!0}catch{}var P=ep.call(u);return E&&(h?u[ul]=b:delete u[ul]),P}var kx=Jv?function(u){return u==null?[]:(u=Wt(u),Us(Jv(u),function(h){return ME.call(u,h)}))}:Wx,CN=Jv?function(u){for(var h=[];u;)Hs(h,kx(u)),u=rp(u);return h}:Wx,ar=Sr;(Qv&&ar(new Qv(new ArrayBuffer(1)))!=Ne||md&&ar(new md)!=ze||Zv&&ar(Zv.resolve())!=kt||Cc&&ar(new Cc)!=Ae||gd&&ar(new gd)!=we)&&(ar=function(u){var h=Sr(u),b=h==it?u.constructor:n,E=b?gl(b):"";if(E)switch(E){case vB:return Ne;case xB:return ze;case wB:return kt;case bB:return Ae;case SB:return we}return h});function L6(u,h,b){for(var E=-1,P=b.length;++E<P;){var F=b[E],U=F.size;switch(F.type){case"drop":u+=U;break;case"dropRight":h-=U;break;case"take":h=sr(h,u+U);break;case"takeRight":u=In(u,h-U);break}}return{start:u,end:h}}function F6(u){var h=u.match(ve);return h?h[1].split(Se):[]}function kN(u,h,b){h=Ys(h,u);for(var E=-1,P=h.length,F=!1;++E<P;){var U=Ri(h[E]);if(!(F=u!=null&&b(u,U)))break;u=u[U]}return F||++E!=P?F:(P=u==null?0:u.length,!!P&&Ap(P)&&cs(U,P)&&(dt(u)||yl(u)))}function z6(u){var h=u.length,b=new u.constructor(h);return h&&typeof u[0]=="string"&&zt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function EN(u){return typeof u.constructor=="function"&&!Ed(u)?Ec(rp(u)):{}}function $6(u,h,b){var E=u.constructor;switch(h){case le:return yx(u);case ue:case fe:return new E(+u);case Ne:return C6(u,b);case Pe:case Je:case ae:case Ie:case Ee:case Le:case ft:case gt:case Ln:return aN(u,b);case ze:return new E;case tt:case Ke:return new E(u);case _e:return k6(u);case Ae:return new E;case lt:return E6(u)}}function B6(u,h){var b=h.length;if(!b)return u;var E=b-1;return h[E]=(b>1?"& ":"")+h[E],h=h.join(b>2?", ":" "),u.replace(ye,`{
/* [wrapped with `+h+`] */
`)}function W6(u){return dt(u)||yl(u)||!!(AE&&u&&u[AE])}function cs(u,h){var b=typeof u;return h=h??L,!!h&&(b=="number"||b!="symbol"&&fd.test(u))&&u>-1&&u%1==0&&u<h}function Cr(u,h,b){if(!cn(b))return!1;var E=typeof h;return(E=="number"?zr(b)&&cs(h,b.length):E=="string"&&h in b)?Qo(b[h],u):!1}function Ex(u,h){if(dt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||so(u)?!0:gn.test(u)||!Gt.test(u)||h!=null&&u in Wt(h)}function U6(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function Nx(u){var h=Sp(u),b=j[h];if(typeof b!="function"||!(h in Rt.prototype))return!1;if(u===b)return!0;var E=Sx(b);return!!E&&u===E[0]}function H6(u){return!!NE&&NE in u}var V6=Qh?us:Ux;function Ed(u){var h=u&&u.constructor,b=typeof h=="function"&&h.prototype||Sc;return u===b}function NN(u){return u===u&&!cn(u)}function TN(u,h){return function(b){return b==null?!1:b[u]===h&&(h!==n||u in Wt(b))}}function G6(u){var h=Rp(u,function(E){return b.size===c&&b.clear(),E}),b=h.cache;return h}function K6(u,h){var b=u[1],E=h[1],P=b|E,F=P<(w|S|_),U=E==_&&b==k||E==_&&b==M&&u[7].length<=h[8]||E==(_|M)&&h[7].length<=h[8]&&b==k;if(!(F||U))return u;E&w&&(u[2]=h[2],P|=b&w?0:C);var q=h[3];if(q){var te=u[3];u[3]=te?cN(te,q,h[4]):q,u[4]=te?Vs(u[3],d):h[4]}return q=h[5],q&&(te=u[5],u[5]=te?uN(te,q,h[6]):q,u[6]=te?Vs(u[5],d):h[6]),q=h[7],q&&(u[7]=q),E&_&&(u[8]=u[8]==null?h[8]:sr(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=P,u}function q6(u){var h=[];if(u!=null)for(var b in Wt(u))h.push(b);return h}function Y6(u){return ep.call(u)}function RN(u,h,b){return h=In(h===n?u.length-1:h,0),function(){for(var E=arguments,P=-1,F=In(E.length-h,0),U=oe(F);++P<F;)U[P]=E[h+P];P=-1;for(var q=oe(h+1);++P<h;)q[P]=E[P];return q[h]=b(U),ro(u,this,q)}}function MN(u,h){return h.length<2?u:pl(u,Ao(h,0,-1))}function X6(u,h){for(var b=u.length,E=sr(h.length,b),P=Fr(u);E--;){var F=h[E];u[E]=cs(F,b)?P[F]:n}return u}function Tx(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var AN=_N(ZE),Nd=dB||function(u,h){return qn.setTimeout(u,h)},Rx=_N(x6);function PN(u,h,b){var E=h+"";return Rx(u,B6(E,J6(F6(E),b)))}function _N(u){var h=0,b=0;return function(){var E=mB(),P=V-(E-b);if(b=E,P>0){if(++h>=W)return arguments[0]}else h=0;return u.apply(n,arguments)}}function kp(u,h){var b=-1,E=u.length,P=E-1;for(h=h===n?E:h;++b<h;){var F=ux(b,P),U=u[F];u[F]=u[b],u[b]=U}return u.length=h,u}var IN=G6(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(jt,function(b,E,P,F){h.push(P?F.replace(Ft,"$1"):E||b)}),h});function Ri(u){if(typeof u=="string"||so(u))return u;var h=u+"";return h=="0"&&1/u==-J?"-0":h}function gl(u){if(u!=null){try{return Zh.call(u)}catch{}try{return u+""}catch{}}return""}function J6(u,h){return No(Z,function(b){var E="_."+b[0];h&b[1]&&!qh(u,E)&&u.push(E)}),u.sort()}function ON(u){if(u instanceof Rt)return u.clone();var h=new Ro(u.__wrapped__,u.__chain__);return h.__actions__=Fr(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function Q6(u,h,b){(b?Cr(u,h,b):h===n)?h=1:h=In(yt(h),0);var E=u==null?0:u.length;if(!E||h<1)return[];for(var P=0,F=0,U=oe(sp(E/h));P<E;)U[F++]=Ao(u,P,P+=h);return U}function Z6(u){for(var h=-1,b=u==null?0:u.length,E=0,P=[];++h<b;){var F=u[h];F&&(P[E++]=F)}return P}function e8(){var u=arguments.length;if(!u)return[];for(var h=oe(u-1),b=arguments[0],E=u;E--;)h[E-1]=arguments[E];return Hs(dt(b)?Fr(b):[b],Yn(h,1))}var t8=St(function(u,h){return Sn(u)?wd(u,Yn(h,1,Sn,!0)):[]}),n8=St(function(u,h){var b=Po(h);return Sn(b)&&(b=n),Sn(u)?wd(u,Yn(h,1,Sn,!0),nt(b,2)):[]}),r8=St(function(u,h){var b=Po(h);return Sn(b)&&(b=n),Sn(u)?wd(u,Yn(h,1,Sn,!0),n,b):[]});function o8(u,h,b){var E=u==null?0:u.length;return E?(h=b||h===n?1:yt(h),Ao(u,h<0?0:h,E)):[]}function i8(u,h,b){var E=u==null?0:u.length;return E?(h=b||h===n?1:yt(h),h=E-h,Ao(u,0,h<0?0:h)):[]}function s8(u,h){return u&&u.length?gp(u,nt(h,3),!0,!0):[]}function a8(u,h){return u&&u.length?gp(u,nt(h,3),!0):[]}function l8(u,h,b,E){var P=u==null?0:u.length;return P?(b&&typeof b!="number"&&Cr(u,h,b)&&(b=0,E=P),e6(u,h,b,E)):[]}function DN(u,h,b){var E=u==null?0:u.length;if(!E)return-1;var P=b==null?0:yt(b);return P<0&&(P=In(E+P,0)),Yh(u,nt(h,3),P)}function jN(u,h,b){var E=u==null?0:u.length;if(!E)return-1;var P=E-1;return b!==n&&(P=yt(b),P=b<0?In(E+P,0):sr(P,E-1)),Yh(u,nt(h,3),P,!0)}function LN(u){var h=u==null?0:u.length;return h?Yn(u,1):[]}function c8(u){var h=u==null?0:u.length;return h?Yn(u,J):[]}function u8(u,h){var b=u==null?0:u.length;return b?(h=h===n?1:yt(h),Yn(u,h)):[]}function d8(u){for(var h=-1,b=u==null?0:u.length,E={};++h<b;){var P=u[h];E[P[0]]=P[1]}return E}function FN(u){return u&&u.length?u[0]:n}function f8(u,h,b){var E=u==null?0:u.length;if(!E)return-1;var P=b==null?0:yt(b);return P<0&&(P=In(E+P,0)),vc(u,h,P)}function h8(u){var h=u==null?0:u.length;return h?Ao(u,0,-1):[]}var p8=St(function(u){var h=on(u,mx);return h.length&&h[0]===u[0]?ix(h):[]}),m8=St(function(u){var h=Po(u),b=on(u,mx);return h===Po(b)?h=n:b.pop(),b.length&&b[0]===u[0]?ix(b,nt(h,2)):[]}),g8=St(function(u){var h=Po(u),b=on(u,mx);return h=typeof h=="function"?h:n,h&&b.pop(),b.length&&b[0]===u[0]?ix(b,n,h):[]});function y8(u,h){return u==null?"":hB.call(u,h)}function Po(u){var h=u==null?0:u.length;return h?u[h-1]:n}function v8(u,h,b){var E=u==null?0:u.length;if(!E)return-1;var P=E;return b!==n&&(P=yt(b),P=P<0?In(E+P,0):sr(P,E-1)),h===h?J5(u,h,P):Yh(u,vE,P,!0)}function x8(u,h){return u&&u.length?YE(u,yt(h)):n}var w8=St(zN);function zN(u,h){return u&&u.length&&h&&h.length?cx(u,h):u}function b8(u,h,b){return u&&u.length&&h&&h.length?cx(u,h,nt(b,2)):u}function S8(u,h,b){return u&&u.length&&h&&h.length?cx(u,h,n,b):u}var C8=ls(function(u,h){var b=u==null?0:u.length,E=tx(u,h);return QE(u,on(h,function(P){return cs(P,b)?+P:P}).sort(lN)),E});function k8(u,h){var b=[];if(!(u&&u.length))return b;var E=-1,P=[],F=u.length;for(h=nt(h,3);++E<F;){var U=u[E];h(U,E,u)&&(b.push(U),P.push(E))}return QE(u,P),b}function Mx(u){return u==null?u:yB.call(u)}function E8(u,h,b){var E=u==null?0:u.length;return E?(b&&typeof b!="number"&&Cr(u,h,b)?(h=0,b=E):(h=h==null?0:yt(h),b=b===n?E:yt(b)),Ao(u,h,b)):[]}function N8(u,h){return mp(u,h)}function T8(u,h,b){return fx(u,h,nt(b,2))}function R8(u,h){var b=u==null?0:u.length;if(b){var E=mp(u,h);if(E<b&&Qo(u[E],h))return E}return-1}function M8(u,h){return mp(u,h,!0)}function A8(u,h,b){return fx(u,h,nt(b,2),!0)}function P8(u,h){var b=u==null?0:u.length;if(b){var E=mp(u,h,!0)-1;if(Qo(u[E],h))return E}return-1}function _8(u){return u&&u.length?eN(u):[]}function I8(u,h){return u&&u.length?eN(u,nt(h,2)):[]}function O8(u){var h=u==null?0:u.length;return h?Ao(u,1,h):[]}function D8(u,h,b){return u&&u.length?(h=b||h===n?1:yt(h),Ao(u,0,h<0?0:h)):[]}function j8(u,h,b){var E=u==null?0:u.length;return E?(h=b||h===n?1:yt(h),h=E-h,Ao(u,h<0?0:h,E)):[]}function L8(u,h){return u&&u.length?gp(u,nt(h,3),!1,!0):[]}function F8(u,h){return u&&u.length?gp(u,nt(h,3)):[]}var z8=St(function(u){return qs(Yn(u,1,Sn,!0))}),$8=St(function(u){var h=Po(u);return Sn(h)&&(h=n),qs(Yn(u,1,Sn,!0),nt(h,2))}),B8=St(function(u){var h=Po(u);return h=typeof h=="function"?h:n,qs(Yn(u,1,Sn,!0),n,h)});function W8(u){return u&&u.length?qs(u):[]}function U8(u,h){return u&&u.length?qs(u,nt(h,2)):[]}function H8(u,h){return h=typeof h=="function"?h:n,u&&u.length?qs(u,n,h):[]}function Ax(u){if(!(u&&u.length))return[];var h=0;return u=Us(u,function(b){if(Sn(b))return h=In(b.length,h),!0}),Kv(h,function(b){return on(u,Hv(b))})}function $N(u,h){if(!(u&&u.length))return[];var b=Ax(u);return h==null?b:on(b,function(E){return ro(h,n,E)})}var V8=St(function(u,h){return Sn(u)?wd(u,h):[]}),G8=St(function(u){return px(Us(u,Sn))}),K8=St(function(u){var h=Po(u);return Sn(h)&&(h=n),px(Us(u,Sn),nt(h,2))}),q8=St(function(u){var h=Po(u);return h=typeof h=="function"?h:n,px(Us(u,Sn),n,h)}),Y8=St(Ax);function X8(u,h){return oN(u||[],h||[],xd)}function J8(u,h){return oN(u||[],h||[],Cd)}var Q8=St(function(u){var h=u.length,b=h>1?u[h-1]:n;return b=typeof b=="function"?(u.pop(),b):n,$N(u,b)});function BN(u){var h=j(u);return h.__chain__=!0,h}function Z8(u,h){return h(u),u}function Ep(u,h){return h(u)}var eW=ls(function(u){var h=u.length,b=h?u[0]:0,E=this.__wrapped__,P=function(F){return tx(F,u)};return h>1||this.__actions__.length||!(E instanceof Rt)||!cs(b)?this.thru(P):(E=E.slice(b,+b+(h?1:0)),E.__actions__.push({func:Ep,args:[P],thisArg:n}),new Ro(E,this.__chain__).thru(function(F){return h&&!F.length&&F.push(n),F}))});function tW(){return BN(this)}function nW(){return new Ro(this.value(),this.__chain__)}function rW(){this.__values__===n&&(this.__values__=tT(this.value()));var u=this.__index__>=this.__values__.length,h=u?n:this.__values__[this.__index__++];return{done:u,value:h}}function oW(){return this}function iW(u){for(var h,b=this;b instanceof up;){var E=ON(b);E.__index__=0,E.__values__=n,h?P.__wrapped__=E:h=E;var P=E;b=b.__wrapped__}return P.__wrapped__=u,h}function sW(){var u=this.__wrapped__;if(u instanceof Rt){var h=u;return this.__actions__.length&&(h=new Rt(this)),h=h.reverse(),h.__actions__.push({func:Ep,args:[Mx],thisArg:n}),new Ro(h,this.__chain__)}return this.thru(Mx)}function aW(){return rN(this.__wrapped__,this.__actions__)}var lW=yp(function(u,h,b){zt.call(u,b)?++u[b]:ss(u,b,1)});function cW(u,h,b){var E=dt(u)?gE:ZB;return b&&Cr(u,h,b)&&(h=n),E(u,nt(h,3))}function uW(u,h){var b=dt(u)?Us:$E;return b(u,nt(h,3))}var dW=pN(DN),fW=pN(jN);function hW(u,h){return Yn(Np(u,h),1)}function pW(u,h){return Yn(Np(u,h),J)}function mW(u,h,b){return b=b===n?1:yt(b),Yn(Np(u,h),b)}function WN(u,h){var b=dt(u)?No:Ks;return b(u,nt(h,3))}function UN(u,h){var b=dt(u)?O5:zE;return b(u,nt(h,3))}var gW=yp(function(u,h,b){zt.call(u,b)?u[b].push(h):ss(u,b,[h])});function yW(u,h,b,E){u=zr(u)?u:Ac(u),b=b&&!E?yt(b):0;var P=u.length;return b<0&&(b=In(P+b,0)),Pp(u)?b<=P&&u.indexOf(h,b)>-1:!!P&&vc(u,h,b)>-1}var vW=St(function(u,h,b){var E=-1,P=typeof h=="function",F=zr(u)?oe(u.length):[];return Ks(u,function(U){F[++E]=P?ro(h,U,b):bd(U,h,b)}),F}),xW=yp(function(u,h,b){ss(u,b,h)});function Np(u,h){var b=dt(u)?on:GE;return b(u,nt(h,3))}function wW(u,h,b,E){return u==null?[]:(dt(h)||(h=h==null?[]:[h]),b=E?n:b,dt(b)||(b=b==null?[]:[b]),XE(u,h,b))}var bW=yp(function(u,h,b){u[b?0:1].push(h)},function(){return[[],[]]});function SW(u,h,b){var E=dt(u)?Wv:wE,P=arguments.length<3;return E(u,nt(h,4),b,P,Ks)}function CW(u,h,b){var E=dt(u)?D5:wE,P=arguments.length<3;return E(u,nt(h,4),b,P,zE)}function kW(u,h){var b=dt(u)?Us:$E;return b(u,Mp(nt(h,3)))}function EW(u){var h=dt(u)?DE:y6;return h(u)}function NW(u,h,b){(b?Cr(u,h,b):h===n)?h=1:h=yt(h);var E=dt(u)?qB:v6;return E(u,h)}function TW(u){var h=dt(u)?YB:w6;return h(u)}function RW(u){if(u==null)return 0;if(zr(u))return Pp(u)?wc(u):u.length;var h=ar(u);return h==ze||h==Ae?u.size:ax(u).length}function MW(u,h,b){var E=dt(u)?Uv:b6;return b&&Cr(u,h,b)&&(h=n),E(u,nt(h,3))}var AW=St(function(u,h){if(u==null)return[];var b=h.length;return b>1&&Cr(u,h[0],h[1])?h=[]:b>2&&Cr(h[0],h[1],h[2])&&(h=[h[0]]),XE(u,Yn(h,1),[])}),Tp=uB||function(){return qn.Date.now()};function PW(u,h){if(typeof h!="function")throw new To(s);return u=yt(u),function(){if(--u<1)return h.apply(this,arguments)}}function HN(u,h,b){return h=b?n:h,h=u&&h==null?u.length:h,as(u,_,n,n,n,n,h)}function VN(u,h){var b;if(typeof h!="function")throw new To(s);return u=yt(u),function(){return--u>0&&(b=h.apply(this,arguments)),u<=1&&(h=n),b}}var Px=St(function(u,h,b){var E=w;if(b.length){var P=Vs(b,Rc(Px));E|=N}return as(u,E,h,b,P)}),GN=St(function(u,h,b){var E=w|S;if(b.length){var P=Vs(b,Rc(GN));E|=N}return as(h,E,u,b,P)});function KN(u,h,b){h=b?n:h;var E=as(u,k,n,n,n,n,n,h);return E.placeholder=KN.placeholder,E}function qN(u,h,b){h=b?n:h;var E=as(u,T,n,n,n,n,n,h);return E.placeholder=qN.placeholder,E}function YN(u,h,b){var E,P,F,U,q,te,me=0,ge=!1,xe=!1,je=!0;if(typeof u!="function")throw new To(s);h=_o(h)||0,cn(b)&&(ge=!!b.leading,xe="maxWait"in b,F=xe?In(_o(b.maxWait)||0,h):F,je="trailing"in b?!!b.trailing:je);function Ge(Cn){var Zo=E,fs=P;return E=P=n,me=Cn,U=u.apply(fs,Zo),U}function rt(Cn){return me=Cn,q=Nd(Et,h),ge?Ge(Cn):U}function bt(Cn){var Zo=Cn-te,fs=Cn-me,pT=h-Zo;return xe?sr(pT,F-fs):pT}function ot(Cn){var Zo=Cn-te,fs=Cn-me;return te===n||Zo>=h||Zo<0||xe&&fs>=F}function Et(){var Cn=Tp();if(ot(Cn))return Mt(Cn);q=Nd(Et,bt(Cn))}function Mt(Cn){return q=n,je&&E?Ge(Cn):(E=P=n,U)}function ao(){q!==n&&iN(q),me=0,E=te=P=q=n}function kr(){return q===n?U:Mt(Tp())}function lo(){var Cn=Tp(),Zo=ot(Cn);if(E=arguments,P=this,te=Cn,Zo){if(q===n)return rt(te);if(xe)return iN(q),q=Nd(Et,h),Ge(te)}return q===n&&(q=Nd(Et,h)),U}return lo.cancel=ao,lo.flush=kr,lo}var _W=St(function(u,h){return FE(u,1,h)}),IW=St(function(u,h,b){return FE(u,_o(h)||0,b)});function OW(u){return as(u,B)}function Rp(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new To(s);var b=function(){var E=arguments,P=h?h.apply(this,E):E[0],F=b.cache;if(F.has(P))return F.get(P);var U=u.apply(this,E);return b.cache=F.set(P,U)||F,U};return b.cache=new(Rp.Cache||is),b}Rp.Cache=is;function Mp(u){if(typeof u!="function")throw new To(s);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function DW(u){return VN(2,u)}var jW=S6(function(u,h){h=h.length==1&&dt(h[0])?on(h[0],oo(nt())):on(Yn(h,1),oo(nt()));var b=h.length;return St(function(E){for(var P=-1,F=sr(E.length,b);++P<F;)E[P]=h[P].call(this,E[P]);return ro(u,this,E)})}),_x=St(function(u,h){var b=Vs(h,Rc(_x));return as(u,N,n,h,b)}),XN=St(function(u,h){var b=Vs(h,Rc(XN));return as(u,R,n,h,b)}),LW=ls(function(u,h){return as(u,M,n,n,n,h)});function FW(u,h){if(typeof u!="function")throw new To(s);return h=h===n?h:yt(h),St(u,h)}function zW(u,h){if(typeof u!="function")throw new To(s);return h=h==null?0:In(yt(h),0),St(function(b){var E=b[h],P=Xs(b,0,h);return E&&Hs(P,E),ro(u,this,P)})}function $W(u,h,b){var E=!0,P=!0;if(typeof u!="function")throw new To(s);return cn(b)&&(E="leading"in b?!!b.leading:E,P="trailing"in b?!!b.trailing:P),YN(u,h,{leading:E,maxWait:h,trailing:P})}function BW(u){return HN(u,1)}function WW(u,h){return _x(gx(h),u)}function UW(){if(!arguments.length)return[];var u=arguments[0];return dt(u)?u:[u]}function HW(u){return Mo(u,g)}function VW(u,h){return h=typeof h=="function"?h:n,Mo(u,g,h)}function GW(u){return Mo(u,f|g)}function KW(u,h){return h=typeof h=="function"?h:n,Mo(u,f|g,h)}function qW(u,h){return h==null||LE(u,h,Fn(h))}function Qo(u,h){return u===h||u!==u&&h!==h}var YW=bp(ox),XW=bp(function(u,h){return u>=h}),yl=UE(function(){return arguments}())?UE:function(u){return yn(u)&&zt.call(u,"callee")&&!ME.call(u,"callee")},dt=oe.isArray,JW=uE?oo(uE):i6;function zr(u){return u!=null&&Ap(u.length)&&!us(u)}function Sn(u){return yn(u)&&zr(u)}function QW(u){return u===!0||u===!1||yn(u)&&Sr(u)==ue}var Js=fB||Ux,ZW=dE?oo(dE):s6;function eU(u){return yn(u)&&u.nodeType===1&&!Td(u)}function tU(u){if(u==null)return!0;if(zr(u)&&(dt(u)||typeof u=="string"||typeof u.splice=="function"||Js(u)||Mc(u)||yl(u)))return!u.length;var h=ar(u);if(h==ze||h==Ae)return!u.size;if(Ed(u))return!ax(u).length;for(var b in u)if(zt.call(u,b))return!1;return!0}function nU(u,h){return Sd(u,h)}function rU(u,h,b){b=typeof b=="function"?b:n;var E=b?b(u,h):n;return E===n?Sd(u,h,n,b):!!E}function Ix(u){if(!yn(u))return!1;var h=Sr(u);return h==Re||h==ce||typeof u.message=="string"&&typeof u.name=="string"&&!Td(u)}function oU(u){return typeof u=="number"&&PE(u)}function us(u){if(!cn(u))return!1;var h=Sr(u);return h==Oe||h==Ze||h==K||h==Ot}function JN(u){return typeof u=="number"&&u==yt(u)}function Ap(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=L}function cn(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function yn(u){return u!=null&&typeof u=="object"}var QN=fE?oo(fE):l6;function iU(u,h){return u===h||sx(u,h,Cx(h))}function sU(u,h,b){return b=typeof b=="function"?b:n,sx(u,h,Cx(h),b)}function aU(u){return ZN(u)&&u!=+u}function lU(u){if(V6(u))throw new ct(i);return HE(u)}function cU(u){return u===null}function uU(u){return u==null}function ZN(u){return typeof u=="number"||yn(u)&&Sr(u)==tt}function Td(u){if(!yn(u)||Sr(u)!=it)return!1;var h=rp(u);if(h===null)return!0;var b=zt.call(h,"constructor")&&h.constructor;return typeof b=="function"&&b instanceof b&&Zh.call(b)==sB}var Ox=hE?oo(hE):c6;function dU(u){return JN(u)&&u>=-L&&u<=L}var eT=pE?oo(pE):u6;function Pp(u){return typeof u=="string"||!dt(u)&&yn(u)&&Sr(u)==Ke}function so(u){return typeof u=="symbol"||yn(u)&&Sr(u)==lt}var Mc=mE?oo(mE):d6;function fU(u){return u===n}function hU(u){return yn(u)&&ar(u)==we}function pU(u){return yn(u)&&Sr(u)==Y}var mU=bp(lx),gU=bp(function(u,h){return u<=h});function tT(u){if(!u)return[];if(zr(u))return Pp(u)?Xo(u):Fr(u);if(pd&&u[pd])return q5(u[pd]());var h=ar(u),b=h==ze?Yv:h==Ae?Xh:Ac;return b(u)}function ds(u){if(!u)return u===0?u:0;if(u=_o(u),u===J||u===-J){var h=u<0?-1:1;return h*D}return u===u?u:0}function yt(u){var h=ds(u),b=h%1;return h===h?b?h-b:h:0}function nT(u){return u?hl(yt(u),0,G):0}function _o(u){if(typeof u=="number")return u;if(so(u))return A;if(cn(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=cn(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=bE(u);var b=ns.test(u);return b||br.test(u)?P5(u.slice(2),b?2:8):qt.test(u)?A:+u}function rT(u){return Ti(u,$r(u))}function yU(u){return u?hl(yt(u),-L,L):u===0?u:0}function Lt(u){return u==null?"":io(u)}var vU=Nc(function(u,h){if(Ed(h)||zr(h)){Ti(h,Fn(h),u);return}for(var b in h)zt.call(h,b)&&xd(u,b,h[b])}),oT=Nc(function(u,h){Ti(h,$r(h),u)}),_p=Nc(function(u,h,b,E){Ti(h,$r(h),u,E)}),xU=Nc(function(u,h,b,E){Ti(h,Fn(h),u,E)}),wU=ls(tx);function bU(u,h){var b=Ec(u);return h==null?b:jE(b,h)}var SU=St(function(u,h){u=Wt(u);var b=-1,E=h.length,P=E>2?h[2]:n;for(P&&Cr(h[0],h[1],P)&&(E=1);++b<E;)for(var F=h[b],U=$r(F),q=-1,te=U.length;++q<te;){var me=U[q],ge=u[me];(ge===n||Qo(ge,Sc[me])&&!zt.call(u,me))&&(u[me]=F[me])}return u}),CU=St(function(u){return u.push(n,bN),ro(iT,n,u)});function kU(u,h){return yE(u,nt(h,3),Ni)}function EU(u,h){return yE(u,nt(h,3),rx)}function NU(u,h){return u==null?u:nx(u,nt(h,3),$r)}function TU(u,h){return u==null?u:BE(u,nt(h,3),$r)}function RU(u,h){return u&&Ni(u,nt(h,3))}function MU(u,h){return u&&rx(u,nt(h,3))}function AU(u){return u==null?[]:hp(u,Fn(u))}function PU(u){return u==null?[]:hp(u,$r(u))}function Dx(u,h,b){var E=u==null?n:pl(u,h);return E===n?b:E}function _U(u,h){return u!=null&&kN(u,h,t6)}function jx(u,h){return u!=null&&kN(u,h,n6)}var IU=gN(function(u,h,b){h!=null&&typeof h.toString!="function"&&(h=ep.call(h)),u[h]=b},Fx(Br)),OU=gN(function(u,h,b){h!=null&&typeof h.toString!="function"&&(h=ep.call(h)),zt.call(u,h)?u[h].push(b):u[h]=[b]},nt),DU=St(bd);function Fn(u){return zr(u)?OE(u):ax(u)}function $r(u){return zr(u)?OE(u,!0):f6(u)}function jU(u,h){var b={};return h=nt(h,3),Ni(u,function(E,P,F){ss(b,h(E,P,F),E)}),b}function LU(u,h){var b={};return h=nt(h,3),Ni(u,function(E,P,F){ss(b,P,h(E,P,F))}),b}var FU=Nc(function(u,h,b){pp(u,h,b)}),iT=Nc(function(u,h,b,E){pp(u,h,b,E)}),zU=ls(function(u,h){var b={};if(u==null)return b;var E=!1;h=on(h,function(F){return F=Ys(F,u),E||(E=F.length>1),F}),Ti(u,bx(u),b),E&&(b=Mo(b,f|m|g,I6));for(var P=h.length;P--;)hx(b,h[P]);return b});function $U(u,h){return sT(u,Mp(nt(h)))}var BU=ls(function(u,h){return u==null?{}:p6(u,h)});function sT(u,h){if(u==null)return{};var b=on(bx(u),function(E){return[E]});return h=nt(h),JE(u,b,function(E,P){return h(E,P[0])})}function WU(u,h,b){h=Ys(h,u);var E=-1,P=h.length;for(P||(P=1,u=n);++E<P;){var F=u==null?n:u[Ri(h[E])];F===n&&(E=P,F=b),u=us(F)?F.call(u):F}return u}function UU(u,h,b){return u==null?u:Cd(u,h,b)}function HU(u,h,b,E){return E=typeof E=="function"?E:n,u==null?u:Cd(u,h,b,E)}var aT=xN(Fn),lT=xN($r);function VU(u,h,b){var E=dt(u),P=E||Js(u)||Mc(u);if(h=nt(h,4),b==null){var F=u&&u.constructor;P?b=E?new F:[]:cn(u)?b=us(F)?Ec(rp(u)):{}:b={}}return(P?No:Ni)(u,function(U,q,te){return h(b,U,q,te)}),b}function GU(u,h){return u==null?!0:hx(u,h)}function KU(u,h,b){return u==null?u:nN(u,h,gx(b))}function qU(u,h,b,E){return E=typeof E=="function"?E:n,u==null?u:nN(u,h,gx(b),E)}function Ac(u){return u==null?[]:qv(u,Fn(u))}function YU(u){return u==null?[]:qv(u,$r(u))}function XU(u,h,b){return b===n&&(b=h,h=n),b!==n&&(b=_o(b),b=b===b?b:0),h!==n&&(h=_o(h),h=h===h?h:0),hl(_o(u),h,b)}function JU(u,h,b){return h=ds(h),b===n?(b=h,h=0):b=ds(b),u=_o(u),r6(u,h,b)}function QU(u,h,b){if(b&&typeof b!="boolean"&&Cr(u,h,b)&&(h=b=n),b===n&&(typeof h=="boolean"?(b=h,h=n):typeof u=="boolean"&&(b=u,u=n)),u===n&&h===n?(u=0,h=1):(u=ds(u),h===n?(h=u,u=0):h=ds(h)),u>h){var E=u;u=h,h=E}if(b||u%1||h%1){var P=_E();return sr(u+P*(h-u+A5("1e-"+((P+"").length-1))),h)}return ux(u,h)}var ZU=Tc(function(u,h,b){return h=h.toLowerCase(),u+(b?cT(h):h)});function cT(u){return Lx(Lt(u).toLowerCase())}function uT(u){return u=Lt(u),u&&u.replace(mc,U5).replace(w5,"")}function eH(u,h,b){u=Lt(u),h=io(h);var E=u.length;b=b===n?E:hl(yt(b),0,E);var P=b;return b-=h.length,b>=0&&u.slice(b,P)==h}function tH(u){return u=Lt(u),u&&Pn.test(u)?u.replace(Qt,H5):u}function nH(u){return u=Lt(u),u&&Kt.test(u)?u.replace(ln,"\\$&"):u}var rH=Tc(function(u,h,b){return u+(b?"-":"")+h.toLowerCase()}),oH=Tc(function(u,h,b){return u+(b?" ":"")+h.toLowerCase()}),iH=hN("toLowerCase");function sH(u,h,b){u=Lt(u),h=yt(h);var E=h?wc(u):0;if(!h||E>=h)return u;var P=(h-E)/2;return wp(ap(P),b)+u+wp(sp(P),b)}function aH(u,h,b){u=Lt(u),h=yt(h);var E=h?wc(u):0;return h&&E<h?u+wp(h-E,b):u}function lH(u,h,b){u=Lt(u),h=yt(h);var E=h?wc(u):0;return h&&E<h?wp(h-E,b)+u:u}function cH(u,h,b){return b||h==null?h=0:h&&(h=+h),gB(Lt(u).replace(rn,""),h||0)}function uH(u,h,b){return(b?Cr(u,h,b):h===n)?h=1:h=yt(h),dx(Lt(u),h)}function dH(){var u=arguments,h=Lt(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var fH=Tc(function(u,h,b){return u+(b?"_":"")+h.toLowerCase()});function hH(u,h,b){return b&&typeof b!="number"&&Cr(u,h,b)&&(h=b=n),b=b===n?G:b>>>0,b?(u=Lt(u),u&&(typeof h=="string"||h!=null&&!Ox(h))&&(h=io(h),!h&&xc(u))?Xs(Xo(u),0,b):u.split(h,b)):[]}var pH=Tc(function(u,h,b){return u+(b?" ":"")+Lx(h)});function mH(u,h,b){return u=Lt(u),b=b==null?0:hl(yt(b),0,u.length),h=io(h),u.slice(b,b+h.length)==h}function gH(u,h,b){var E=j.templateSettings;b&&Cr(u,h,b)&&(h=n),u=Lt(u),h=_p({},h,E,wN);var P=_p({},h.imports,E.imports,wN),F=Fn(P),U=qv(P,F),q,te,me=0,ge=h.interpolate||gc,xe="__p += '",je=Xv((h.escape||gc).source+"|"+ge.source+"|"+(ge===ut?bn:gc).source+"|"+(h.evaluate||gc).source+"|$","g"),Ge="//# sourceURL="+(zt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++E5+"]")+`
`;u.replace(je,function(ot,Et,Mt,ao,kr,lo){return Mt||(Mt=ao),xe+=u.slice(me,lo).replace(Iv,V5),Et&&(q=!0,xe+=`' +
__e(`+Et+`) +
'`),kr&&(te=!0,xe+=`';
`+kr+`;
__p += '`),Mt&&(xe+=`' +
((__t = (`+Mt+`)) == null ? '' : __t) +
'`),me=lo+ot.length,ot}),xe+=`';
`;var rt=zt.call(h,"variable")&&h.variable;if(!rt)xe=`with (obj) {
`+xe+`
}
`;else if(Ye.test(rt))throw new ct(a);xe=(te?xe.replace(mn,""):xe).replace(Zi,"$1").replace(Ws,"$1;"),xe="function("+(rt||"obj")+`) {
`+(rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var bt=fT(function(){return Dt(F,Ge+"return "+xe).apply(n,U)});if(bt.source=xe,Ix(bt))throw bt;return bt}function yH(u){return Lt(u).toLowerCase()}function vH(u){return Lt(u).toUpperCase()}function xH(u,h,b){if(u=Lt(u),u&&(b||h===n))return bE(u);if(!u||!(h=io(h)))return u;var E=Xo(u),P=Xo(h),F=SE(E,P),U=CE(E,P)+1;return Xs(E,F,U).join("")}function wH(u,h,b){if(u=Lt(u),u&&(b||h===n))return u.slice(0,EE(u)+1);if(!u||!(h=io(h)))return u;var E=Xo(u),P=CE(E,Xo(h))+1;return Xs(E,0,P).join("")}function bH(u,h,b){if(u=Lt(u),u&&(b||h===n))return u.replace(rn,"");if(!u||!(h=io(h)))return u;var E=Xo(u),P=SE(E,Xo(h));return Xs(E,P).join("")}function SH(u,h){var b=I,E=$;if(cn(h)){var P="separator"in h?h.separator:P;b="length"in h?yt(h.length):b,E="omission"in h?io(h.omission):E}u=Lt(u);var F=u.length;if(xc(u)){var U=Xo(u);F=U.length}if(b>=F)return u;var q=b-wc(E);if(q<1)return E;var te=U?Xs(U,0,q).join(""):u.slice(0,q);if(P===n)return te+E;if(U&&(q+=te.length-q),Ox(P)){if(u.slice(q).search(P)){var me,ge=te;for(P.global||(P=Xv(P.source,Lt(wr.exec(P))+"g")),P.lastIndex=0;me=P.exec(ge);)var xe=me.index;te=te.slice(0,xe===n?q:xe)}}else if(u.indexOf(io(P),q)!=q){var je=te.lastIndexOf(P);je>-1&&(te=te.slice(0,je))}return te+E}function CH(u){return u=Lt(u),u&&Vt.test(u)?u.replace(es,Q5):u}var kH=Tc(function(u,h,b){return u+(b?" ":"")+h.toUpperCase()}),Lx=hN("toUpperCase");function dT(u,h,b){return u=Lt(u),h=b?n:h,h===n?K5(u)?tB(u):F5(u):u.match(h)||[]}var fT=St(function(u,h){try{return ro(u,n,h)}catch(b){return Ix(b)?b:new ct(b)}}),EH=ls(function(u,h){return No(h,function(b){b=Ri(b),ss(u,b,Px(u[b],u))}),u});function NH(u){var h=u==null?0:u.length,b=nt();return u=h?on(u,function(E){if(typeof E[1]!="function")throw new To(s);return[b(E[0]),E[1]]}):[],St(function(E){for(var P=-1;++P<h;){var F=u[P];if(ro(F[0],this,E))return ro(F[1],this,E)}})}function TH(u){return QB(Mo(u,f))}function Fx(u){return function(){return u}}function RH(u,h){return u==null||u!==u?h:u}var MH=mN(),AH=mN(!0);function Br(u){return u}function zx(u){return VE(typeof u=="function"?u:Mo(u,f))}function PH(u){return KE(Mo(u,f))}function _H(u,h){return qE(u,Mo(h,f))}var IH=St(function(u,h){return function(b){return bd(b,u,h)}}),OH=St(function(u,h){return function(b){return bd(u,b,h)}});function $x(u,h,b){var E=Fn(h),P=hp(h,E);b==null&&!(cn(h)&&(P.length||!E.length))&&(b=h,h=u,u=this,P=hp(h,Fn(h)));var F=!(cn(b)&&"chain"in b)||!!b.chain,U=us(u);return No(P,function(q){var te=h[q];u[q]=te,U&&(u.prototype[q]=function(){var me=this.__chain__;if(F||me){var ge=u(this.__wrapped__),xe=ge.__actions__=Fr(this.__actions__);return xe.push({func:te,args:arguments,thisArg:u}),ge.__chain__=me,ge}return te.apply(u,Hs([this.value()],arguments))})}),u}function DH(){return qn._===this&&(qn._=aB),this}function Bx(){}function jH(u){return u=yt(u),St(function(h){return YE(h,u)})}var LH=vx(on),FH=vx(gE),zH=vx(Uv);function hT(u){return Ex(u)?Hv(Ri(u)):m6(u)}function $H(u){return function(h){return u==null?n:pl(u,h)}}var BH=yN(),WH=yN(!0);function Wx(){return[]}function Ux(){return!1}function UH(){return{}}function HH(){return""}function VH(){return!0}function GH(u,h){if(u=yt(u),u<1||u>L)return[];var b=G,E=sr(u,G);h=nt(h),u-=G;for(var P=Kv(E,h);++b<u;)h(b);return P}function KH(u){return dt(u)?on(u,Ri):so(u)?[u]:Fr(IN(Lt(u)))}function qH(u){var h=++iB;return Lt(u)+h}var YH=xp(function(u,h){return u+h},0),XH=xx("ceil"),JH=xp(function(u,h){return u/h},1),QH=xx("floor");function ZH(u){return u&&u.length?fp(u,Br,ox):n}function eV(u,h){return u&&u.length?fp(u,nt(h,2),ox):n}function tV(u){return xE(u,Br)}function nV(u,h){return xE(u,nt(h,2))}function rV(u){return u&&u.length?fp(u,Br,lx):n}function oV(u,h){return u&&u.length?fp(u,nt(h,2),lx):n}var iV=xp(function(u,h){return u*h},1),sV=xx("round"),aV=xp(function(u,h){return u-h},0);function lV(u){return u&&u.length?Gv(u,Br):0}function cV(u,h){return u&&u.length?Gv(u,nt(h,2)):0}return j.after=PW,j.ary=HN,j.assign=vU,j.assignIn=oT,j.assignInWith=_p,j.assignWith=xU,j.at=wU,j.before=VN,j.bind=Px,j.bindAll=EH,j.bindKey=GN,j.castArray=UW,j.chain=BN,j.chunk=Q6,j.compact=Z6,j.concat=e8,j.cond=NH,j.conforms=TH,j.constant=Fx,j.countBy=lW,j.create=bU,j.curry=KN,j.curryRight=qN,j.debounce=YN,j.defaults=SU,j.defaultsDeep=CU,j.defer=_W,j.delay=IW,j.difference=t8,j.differenceBy=n8,j.differenceWith=r8,j.drop=o8,j.dropRight=i8,j.dropRightWhile=s8,j.dropWhile=a8,j.fill=l8,j.filter=uW,j.flatMap=hW,j.flatMapDeep=pW,j.flatMapDepth=mW,j.flatten=LN,j.flattenDeep=c8,j.flattenDepth=u8,j.flip=OW,j.flow=MH,j.flowRight=AH,j.fromPairs=d8,j.functions=AU,j.functionsIn=PU,j.groupBy=gW,j.initial=h8,j.intersection=p8,j.intersectionBy=m8,j.intersectionWith=g8,j.invert=IU,j.invertBy=OU,j.invokeMap=vW,j.iteratee=zx,j.keyBy=xW,j.keys=Fn,j.keysIn=$r,j.map=Np,j.mapKeys=jU,j.mapValues=LU,j.matches=PH,j.matchesProperty=_H,j.memoize=Rp,j.merge=FU,j.mergeWith=iT,j.method=IH,j.methodOf=OH,j.mixin=$x,j.negate=Mp,j.nthArg=jH,j.omit=zU,j.omitBy=$U,j.once=DW,j.orderBy=wW,j.over=LH,j.overArgs=jW,j.overEvery=FH,j.overSome=zH,j.partial=_x,j.partialRight=XN,j.partition=bW,j.pick=BU,j.pickBy=sT,j.property=hT,j.propertyOf=$H,j.pull=w8,j.pullAll=zN,j.pullAllBy=b8,j.pullAllWith=S8,j.pullAt=C8,j.range=BH,j.rangeRight=WH,j.rearg=LW,j.reject=kW,j.remove=k8,j.rest=FW,j.reverse=Mx,j.sampleSize=NW,j.set=UU,j.setWith=HU,j.shuffle=TW,j.slice=E8,j.sortBy=AW,j.sortedUniq=_8,j.sortedUniqBy=I8,j.split=hH,j.spread=zW,j.tail=O8,j.take=D8,j.takeRight=j8,j.takeRightWhile=L8,j.takeWhile=F8,j.tap=Z8,j.throttle=$W,j.thru=Ep,j.toArray=tT,j.toPairs=aT,j.toPairsIn=lT,j.toPath=KH,j.toPlainObject=rT,j.transform=VU,j.unary=BW,j.union=z8,j.unionBy=$8,j.unionWith=B8,j.uniq=W8,j.uniqBy=U8,j.uniqWith=H8,j.unset=GU,j.unzip=Ax,j.unzipWith=$N,j.update=KU,j.updateWith=qU,j.values=Ac,j.valuesIn=YU,j.without=V8,j.words=dT,j.wrap=WW,j.xor=G8,j.xorBy=K8,j.xorWith=q8,j.zip=Y8,j.zipObject=X8,j.zipObjectDeep=J8,j.zipWith=Q8,j.entries=aT,j.entriesIn=lT,j.extend=oT,j.extendWith=_p,$x(j,j),j.add=YH,j.attempt=fT,j.camelCase=ZU,j.capitalize=cT,j.ceil=XH,j.clamp=XU,j.clone=HW,j.cloneDeep=GW,j.cloneDeepWith=KW,j.cloneWith=VW,j.conformsTo=qW,j.deburr=uT,j.defaultTo=RH,j.divide=JH,j.endsWith=eH,j.eq=Qo,j.escape=tH,j.escapeRegExp=nH,j.every=cW,j.find=dW,j.findIndex=DN,j.findKey=kU,j.findLast=fW,j.findLastIndex=jN,j.findLastKey=EU,j.floor=QH,j.forEach=WN,j.forEachRight=UN,j.forIn=NU,j.forInRight=TU,j.forOwn=RU,j.forOwnRight=MU,j.get=Dx,j.gt=YW,j.gte=XW,j.has=_U,j.hasIn=jx,j.head=FN,j.identity=Br,j.includes=yW,j.indexOf=f8,j.inRange=JU,j.invoke=DU,j.isArguments=yl,j.isArray=dt,j.isArrayBuffer=JW,j.isArrayLike=zr,j.isArrayLikeObject=Sn,j.isBoolean=QW,j.isBuffer=Js,j.isDate=ZW,j.isElement=eU,j.isEmpty=tU,j.isEqual=nU,j.isEqualWith=rU,j.isError=Ix,j.isFinite=oU,j.isFunction=us,j.isInteger=JN,j.isLength=Ap,j.isMap=QN,j.isMatch=iU,j.isMatchWith=sU,j.isNaN=aU,j.isNative=lU,j.isNil=uU,j.isNull=cU,j.isNumber=ZN,j.isObject=cn,j.isObjectLike=yn,j.isPlainObject=Td,j.isRegExp=Ox,j.isSafeInteger=dU,j.isSet=eT,j.isString=Pp,j.isSymbol=so,j.isTypedArray=Mc,j.isUndefined=fU,j.isWeakMap=hU,j.isWeakSet=pU,j.join=y8,j.kebabCase=rH,j.last=Po,j.lastIndexOf=v8,j.lowerCase=oH,j.lowerFirst=iH,j.lt=mU,j.lte=gU,j.max=ZH,j.maxBy=eV,j.mean=tV,j.meanBy=nV,j.min=rV,j.minBy=oV,j.stubArray=Wx,j.stubFalse=Ux,j.stubObject=UH,j.stubString=HH,j.stubTrue=VH,j.multiply=iV,j.nth=x8,j.noConflict=DH,j.noop=Bx,j.now=Tp,j.pad=sH,j.padEnd=aH,j.padStart=lH,j.parseInt=cH,j.random=QU,j.reduce=SW,j.reduceRight=CW,j.repeat=uH,j.replace=dH,j.result=WU,j.round=sV,j.runInContext=Q,j.sample=EW,j.size=RW,j.snakeCase=fH,j.some=MW,j.sortedIndex=N8,j.sortedIndexBy=T8,j.sortedIndexOf=R8,j.sortedLastIndex=M8,j.sortedLastIndexBy=A8,j.sortedLastIndexOf=P8,j.startCase=pH,j.startsWith=mH,j.subtract=aV,j.sum=lV,j.sumBy=cV,j.template=gH,j.times=GH,j.toFinite=ds,j.toInteger=yt,j.toLength=nT,j.toLower=yH,j.toNumber=_o,j.toSafeInteger=yU,j.toString=Lt,j.toUpper=vH,j.trim=xH,j.trimEnd=wH,j.trimStart=bH,j.truncate=SH,j.unescape=CH,j.uniqueId=qH,j.upperCase=kH,j.upperFirst=Lx,j.each=WN,j.eachRight=UN,j.first=FN,$x(j,function(){var u={};return Ni(j,function(h,b){zt.call(j.prototype,b)||(u[b]=h)}),u}(),{chain:!1}),j.VERSION=r,No(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){j[u].placeholder=j}),No(["drop","take"],function(u,h){Rt.prototype[u]=function(b){b=b===n?1:In(yt(b),0);var E=this.__filtered__&&!h?new Rt(this):this.clone();return E.__filtered__?E.__takeCount__=sr(b,E.__takeCount__):E.__views__.push({size:sr(b,G),type:u+(E.__dir__<0?"Right":"")}),E},Rt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),No(["filter","map","takeWhile"],function(u,h){var b=h+1,E=b==H||b==X;Rt.prototype[u]=function(P){var F=this.clone();return F.__iteratees__.push({iteratee:nt(P,3),type:b}),F.__filtered__=F.__filtered__||E,F}}),No(["head","last"],function(u,h){var b="take"+(h?"Right":"");Rt.prototype[u]=function(){return this[b](1).value()[0]}}),No(["initial","tail"],function(u,h){var b="drop"+(h?"":"Right");Rt.prototype[u]=function(){return this.__filtered__?new Rt(this):this[b](1)}}),Rt.prototype.compact=function(){return this.filter(Br)},Rt.prototype.find=function(u){return this.filter(u).head()},Rt.prototype.findLast=function(u){return this.reverse().find(u)},Rt.prototype.invokeMap=St(function(u,h){return typeof u=="function"?new Rt(this):this.map(function(b){return bd(b,u,h)})}),Rt.prototype.reject=function(u){return this.filter(Mp(nt(u)))},Rt.prototype.slice=function(u,h){u=yt(u);var b=this;return b.__filtered__&&(u>0||h<0)?new Rt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),h!==n&&(h=yt(h),b=h<0?b.dropRight(-h):b.take(h-u)),b)},Rt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Rt.prototype.toArray=function(){return this.take(G)},Ni(Rt.prototype,function(u,h){var b=/^(?:filter|find|map|reject)|While$/.test(h),E=/^(?:head|last)$/.test(h),P=j[E?"take"+(h=="last"?"Right":""):h],F=E||/^find/.test(h);P&&(j.prototype[h]=function(){var U=this.__wrapped__,q=E?[1]:arguments,te=U instanceof Rt,me=q[0],ge=te||dt(U),xe=function(Et){var Mt=P.apply(j,Hs([Et],q));return E&&je?Mt[0]:Mt};ge&&b&&typeof me=="function"&&me.length!=1&&(te=ge=!1);var je=this.__chain__,Ge=!!this.__actions__.length,rt=F&&!je,bt=te&&!Ge;if(!F&&ge){U=bt?U:new Rt(this);var ot=u.apply(U,q);return ot.__actions__.push({func:Ep,args:[xe],thisArg:n}),new Ro(ot,je)}return rt&&bt?u.apply(this,q):(ot=this.thru(xe),rt?E?ot.value()[0]:ot.value():ot)})}),No(["pop","push","shift","sort","splice","unshift"],function(u){var h=Jh[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",E=/^(?:pop|shift)$/.test(u);j.prototype[u]=function(){var P=arguments;if(E&&!this.__chain__){var F=this.value();return h.apply(dt(F)?F:[],P)}return this[b](function(U){return h.apply(dt(U)?U:[],P)})}}),Ni(Rt.prototype,function(u,h){var b=j[h];if(b){var E=b.name+"";zt.call(kc,E)||(kc[E]=[]),kc[E].push({name:h,func:b})}}),kc[vp(n,S).name]=[{name:"wrapper",func:n}],Rt.prototype.clone=CB,Rt.prototype.reverse=kB,Rt.prototype.value=EB,j.prototype.at=eW,j.prototype.chain=tW,j.prototype.commit=nW,j.prototype.next=rW,j.prototype.plant=iW,j.prototype.reverse=sW,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=aW,j.prototype.first=j.prototype.head,pd&&(j.prototype[pd]=oW),j},bc=nB();cl?((cl.exports=bc)._=bc,zv._=bc):qn._=bc}).call(bs)})(ry,ry.exports);var N0e=ry.exports;const T0e=["#2563eb","#000000","#FF0000","#00FF00","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#A52A2A"],R0e=({whiteboard:e,onCanvasChange:t,onSave:n,whiteboardColor:r,onAutoSave:o,isMobile:i=!1,onScaledHeightChange:s,updatedAt:a,aiEnabled:l})=>{const c=y.useRef(null);Yo();const{theme:d}=bi(),f=d==="light",[m,g]=y.useState("pen"),[v,x]=y.useState("#2563eb"),[w,S]=y.useState(i?3:2),[C,k]=y.useState(!1),[T,N]=y.useState(1),[R,_]=y.useState(null),[M,B]=y.useState(0),[I,$]=y.useState(!1),[W,V]=y.useState([]),[H,ee]=y.useState(0),[X,J]=y.useState(!1),[L,D]=y.useState(!1),[A,G]=y.useState({x:0,y:0}),[z,O]=y.useState(1),[Z,re]=y.useState(0),[ne,K]=y.useState({x:0,y:0}),[ue,fe]=y.useState({width:e.canvas_width||500,height:e.canvas_height||500}),ce=y.useRef(null);y.useEffect(()=>{var pe;if(c.current&&e.canvas_data&&!I)try{console.log("🎨 Loading canvas data:",{dataType:typeof e.canvas_data,isArray:Array.isArray(e.canvas_data),dataLength:Array.isArray(e.canvas_data)?e.canvas_data.length:"N/A",dataPreview:typeof e.canvas_data=="string"?e.canvas_data.substring(0,300):JSON.stringify(e.canvas_data).substring(0,300)});let we=e.canvas_data;if(typeof we=="string")try{const Y=JSON.parse(we);if(Array.isArray(Y))we=Y;else if(Y&&typeof Y=="object"&&Y.paths)we=Y.paths;else throw new Error("Invalid parsed format")}catch(Y){console.warn("🎨 Failed to parse string canvas data:",Y),console.warn("🎨 Corrupted data preview:",((pe=we==null?void 0:we.substring)==null?void 0:pe.call(we,0,200))||"N/A"),we=[]}else we&&typeof we=="object"&&we.paths?(console.log("🎨 Data is in object format with paths, extracting array"),we=we.paths):Array.isArray(we)||(console.warn("🎨 Unknown data format or not an array, using empty array"),we=[]);Array.isArray(we)||(console.warn("🎨 Data is not an array after processing, forcing empty array:",typeof we),we=[]);try{const Y=JSON.stringify(we);JSON.parse(Y)}catch(Y){console.error("🎨 Canvas data fails JSON validation, using empty array:",Y),we=[]}if(we.length>0){const Y=we[0];(!Y.drawMode||!Y.strokeColor||!Y.strokeWidth)&&(console.log("🎨 Reconstructing missing metadata for canvas paths"),we=we.map((le,Ne)=>({drawMode:!0,strokeColor:le.strokeColor||"#2563eb",strokeWidth:le.strokeWidth||2,paths:le.paths||le||[]})))}if(console.log("🎨 Final data to load:",{isArray:Array.isArray(we),length:Array.isArray(we)?we.length:"N/A",dataPreview:JSON.stringify(we).substring(0,300)}),Array.isArray(we)){const Y=console.warn,le=console.error;console.warn=(...Ne)=>{var Pe,Je;(Je=(Pe=Ne[0])==null?void 0:Pe.includes)!=null&&Je.call(Pe,"No stroke found")||Y.apply(console,Ne)},console.error=(...Ne)=>{var Pe,Je;(Je=(Pe=Ne[0])==null?void 0:Pe.includes)!=null&&Je.call(Pe,"No stroke found")||le.apply(console,Ne)},c.current.loadPaths(we),$(!0),V(we),ee(Date.now()),R&&(clearTimeout(R),_(null),console.log("🎨 Cleared pending auto-save timeout after loading data")),console.log("🎨 Canvas data loaded successfully"),console.warn=Y,console.error=le}else console.warn("🎨 Invalid canvas data format, using empty canvas:",{dataType:typeof we,dataValue:we}),c.current.loadPaths([]),$(!0),V([]),ee(Date.now()),R&&(clearTimeout(R),_(null))}catch(we){console.error("🎨 Failed to load canvas data:",we);try{c.current.loadPaths([]),$(!0),V([]),ee(Date.now()),R&&(clearTimeout(R),_(null)),console.log("🎨 Auto-fixing corrupted canvas data after load error...");try{n([])}catch(Y){console.error("🎨 Failed to auto-fix corrupted data:",Y)}}catch(Y){console.error("🎨 Failed to load empty canvas:",Y)}}},[e.canvas_data,I,R]),y.useEffect(()=>{if(i&&ce.current){const pe=new ResizeObserver(we=>{for(let Y of we){const le=Y.contentRect.width;if(e.canvas_width&&le>0){const Ne=le/e.canvas_width;N(Ne),s&&s(e.canvas_height*Ne)}}});return pe.observe(ce.current),()=>pe.disconnect()}else i||N(1)},[i,e.canvas_width]),y.useEffect(()=>{if(!ce.current)return;const pe=new ResizeObserver(Y=>{for(let le of Y){const{width:Ne,height:Pe}=le.contentRect;Ne>0&&Pe>0&&(console.log("🎨 Container dimensions changed:",{width:Ne,height:Pe}),fe({width:Math.floor(Ne),height:Math.floor(Pe)}))}});pe.observe(ce.current);const we=ce.current.getBoundingClientRect();return we.width>0&&we.height>0&&(console.log("🎨 Initial container dimensions:",{width:we.width,height:we.height}),fe({width:Math.floor(we.width),height:Math.floor(we.height)})),()=>pe.disconnect()},[a]),y.useEffect(()=>{console.log("🎨 Canvas dimensions updated:",ue)},[ue]);const Re=y.useCallback(N0e.debounce(async(pe,we)=>{try{if(!Array.isArray(pe)){console.warn("🎨 Invalid canvas data format - not an array:",typeof pe);return}const Y=JSON.stringify(pe);JSON.parse(Y),console.log("🎨 Auto-saving canvas data:",{pathCount:pe.length,dataPreview:Y.substring(0,100),whiteboardId:we}),await n({canvas_data:pe,updated_at:new Date().toISOString()}),console.log("🎨 Canvas auto-save completed successfully")}catch(Y){console.error("🎨 Canvas auto-save failed:",Y),Y instanceof Error&&(Y.message.includes("JSON")||Y.message.includes("stringify"))&&console.error("🎨 Canvas data is corrupted and cannot be saved. This may be due to a drawing library error.")}},500),[n]),Oe=y.useCallback(async()=>{if(console.log("🎨 handleDrawingEnd called."),k(!1),!c.current)return;const pe=Date.now()-H;if(pe<2e3){console.log("🎨 Skipping auto-save - too soon after canvas load:",{timeSinceLoad:pe});return}try{const we=await c.current.exportPaths();if(console.log("🎨 WhiteboardCanvas: Raw exported paths:",we),!Array.isArray(we)){console.warn("🎨 Invalid canvas data format from exportPaths - not an array:",typeof we);return}try{const Pe=JSON.stringify(we);JSON.parse(Pe)}catch(Pe){console.error("🎨 Canvas data is corrupted and cannot be processed:",Pe);return}let Y=[];if(e.canvas_data){if(Array.isArray(e.canvas_data))Y=e.canvas_data;else if(typeof e.canvas_data=="object"&&e.canvas_data.paths)Y=e.canvas_data.paths||[];else if(typeof e.canvas_data=="string")try{const Pe=JSON.parse(e.canvas_data);Y=Array.isArray(Pe)?Pe:Pe.paths||[]}catch{Y=[]}}const le=JSON.stringify(we),Ne=JSON.stringify(Y);if(console.log("🎨 Canvas change detection:",{currentPaths:(we==null?void 0:we.length)||0,savedPaths:(Y==null?void 0:Y.length)||0,hasChanges:le!==Ne,currentDataPreview:le.substring(0,100),savedDataPreview:Ne.substring(0,100),currentDataFull:le,savedDataFull:Ne}),le!==Ne){if(console.log("🎨 Canvas changes detected, scheduling auto-save..."),we.length===0&&(W.length>0||Y.length>0)&&!X){console.warn("🎨 Preventing accidental canvas clear - expected content but got empty data",{expectedPaths:Math.max(W.length,Y.length),currentPaths:we.length,timeSinceLoad:Date.now()-H,lastLoadedCount:W.length,savedDataCount:Y.length,isIntentionalClear:X});return}else X&&we.length===0&&console.log("🎨 Allowing intentional canvas clear");R&&clearTimeout(R);const Pe=setTimeout(()=>{Re(we,e.id)},3e3);_(Pe)}else console.log("🎨 No canvas changes detected, skipping auto-save")}catch(we){console.error("Failed to check canvas changes:",we)}},[R,Re,e.canvas_data,c,W,H,X]);y.useEffect(()=>()=>{R&&clearTimeout(R)},[R]);const Ze=pe=>{g(pe),c.current&&(pe==="eraser"?c.current.eraseMode(!0):c.current.eraseMode(!1))},ze=pe=>{x(pe),m==="pen"&&(g("pen"),c.current&&c.current.eraseMode(!1))},tt=pe=>{S(pe[0])},De=()=>{c.current&&c.current.undo()},it=()=>{c.current&&c.current.redo()},kt=async()=>{if(c.current){J(!0),c.current.clearCanvas();try{await n({canvas_data:[],updated_at:new Date().toISOString()}),V([]),console.log("🎨 Canvas cleared and saved successfully")}catch(pe){console.error("🎨 Failed to save cleared canvas:",pe)}finally{setTimeout(()=>J(!1),1e3)}}},Ot=(pe,we)=>{const Y=pe.clientX-we.clientX,le=pe.clientY-we.clientY;return Math.sqrt(Y*Y+le*le)},_e=(pe,we)=>({x:(pe.clientX+we.clientX)/2,y:(pe.clientY+we.clientY)/2}),Ae=pe=>{if(i)if(console.log(`Touch start: ${pe.touches.length} fingers`),pe.touches.length===2){pe.preventDefault(),pe.stopPropagation(),D(!0),k(!1);const we=Ot(pe.touches[0],pe.touches[1]);re(we);const Y=_e(pe.touches[0],pe.touches[1]);K(Y),console.log("Multi-touch enabled for pan/zoom")}else pe.touches.length===1&&(L||console.log("Single finger - drawing mode"))},Ke=pe=>{if(i)if(pe.touches.length===2){if(pe.preventDefault(),pe.stopPropagation(),!L){D(!0),k(!1);const Je=Ot(pe.touches[0],pe.touches[1]);re(Je);const ae=_e(pe.touches[0],pe.touches[1]);K(ae),console.log("Multi-touch enabled during move");return}const we=Ot(pe.touches[0],pe.touches[1]),Y=_e(pe.touches[0],pe.touches[1]);if(Z>0){const Je=we/Z,ae=Math.min(3,Math.max(.25,z*Je));O(ae),re(we)}const le=Y.x-ne.x,Ne=Y.y-ne.y,Pe={x:A.x+le*.8,y:A.y+Ne*.8};G(Pe),K(Y)}else L&&pe.touches.length===1&&(pe.preventDefault(),pe.stopPropagation())},lt=pe=>{i&&(console.log(`Touch end: ${pe.touches.length} fingers remaining`),pe.touches.length<2&&L&&(console.log("Exiting multi-touch mode"),D(!1),re(0),k(!1)))};return y.useEffect(()=>{if(!i)return;const pe=we=>{C&&!L&&we.preventDefault()};return document.addEventListener("touchmove",pe,{passive:!1}),()=>document.removeEventListener("touchmove",pe)},[C,L,i]),p.jsxs("div",{className:"flex flex-col h-full relative","data-whiteboard-canvas":!0,tabIndex:-1,children:[p.jsx("style",{children:`
          .react-sketch-canvas {
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            pointer-events: all !important; /* Diagnostic: Ensure canvas receives pointer events */
            z-index: 1000; /* Diagnostic: Bring canvas to front */
          }
          .react-sketch-canvas canvas {
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            pointer-events: all !important; /* Diagnostic: Ensure canvas receives pointer events */
            z-index: 1000; /* Diagnostic: Bring canvas to front */
          }
          .whiteboard-drawing-area {
            pointer-events: all !important; /* Diagnostic: Ensure parent receives pointer events */
            z-index: 999; /* Diagnostic: Bring parent to front */
          }
        `}),p.jsx("div",{className:"flex items-center justify-between p-2 border-b",style:{backgroundColor:f?"#f9fafb":"#334155",borderBottomColor:f?"#e5e7eb":"#475569"},children:p.jsx("div",{className:"flex flex-col gap-2 w-full",children:p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border",style:{backgroundColor:f?"white":"#475569",borderColor:f?"#d1d5db":"#64748b"},children:[p.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>Ze("pen"),className:Ve("h-8 w-8 p-0",m==="pen"?"bg-blue-600 hover:bg-blue-700 text-white":""),style:m!=="pen"?{backgroundColor:"transparent",color:f?"#374151":"#e5e7eb"}:{},onMouseEnter:pe=>{m!=="pen"&&(pe.currentTarget.style.backgroundColor=f?"#f3f4f6":"#64748b")},onMouseLeave:pe=>{m!=="pen"&&(pe.currentTarget.style.backgroundColor="transparent")},children:p.jsx(WO,{className:"h-4 w-4"})}),p.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>Ze("eraser"),className:Ve("h-8 w-8 p-0",m==="eraser"?"bg-blue-600 hover:bg-blue-700 text-white":""),style:m!=="eraser"?{backgroundColor:"transparent",color:f?"#374151":"#e5e7eb"}:{},onMouseEnter:pe=>{m!=="eraser"&&(pe.currentTarget.style.backgroundColor=f?"#f3f4f6":"#64748b")},onMouseLeave:pe=>{m!=="eraser"&&(pe.currentTarget.style.backgroundColor="transparent")},children:p.jsx(UO,{className:"h-4 w-4"})})]}),p.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-md border",style:{backgroundColor:f?"white":"#475569",borderColor:f?"#d1d5db":"#64748b"},children:[p.jsx("span",{className:"text-xs font-medium min-w-[20px]",style:{color:f?"#374151":"#e5e7eb"},children:w}),p.jsx(t5,{value:[w],onValueChange:tt,max:20,min:1,step:1,style:{"--slider-thumb-bg":f?"#ffffff":"#475569"},className:`w-12 sm:w-24 ${f?"[&>*]:bg-gray-200 [&>*>*]:bg-blue-600 [&>*:last-child]:border-blue-600":"[&>*]:bg-gray-600 [&>*>*]:bg-blue-500 [&>*:last-child]:border-blue-500"} [&>*:last-child]:bg-[var(--slider-thumb-bg)]`})]})]}),m==="pen"&&p.jsx("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border order-last sm:order-none",style:{backgroundColor:f?"white":"#475569",borderColor:f?"#d1d5db":"#64748b"},children:T0e.map(pe=>p.jsx("button",{onClick:()=>ze(pe),className:`w-6 h-6 rounded-sm border-2 ${v===pe?f?"border-gray-800":"border-gray-200":f?"border-gray-300":"border-gray-600"}`,style:{backgroundColor:pe},"aria-label":`Select ${pe} color`},pe))}),p.jsx("div",{className:"flex-grow hidden sm:block"}),p.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[p.jsx(Me,{variant:"ghost",size:"sm",onClick:De,className:"h-8 w-8 p-0",style:{backgroundColor:"transparent",color:f?"#374151":"#e5e7eb"},onMouseEnter:pe=>pe.currentTarget.style.backgroundColor=f?"#f3f4f6":"#64748b",onMouseLeave:pe=>pe.currentTarget.style.backgroundColor="transparent",children:p.jsx(jq,{className:"h-4 w-4"})}),p.jsx(Me,{variant:"ghost",size:"sm",onClick:it,className:"h-8 w-8 p-0",style:{backgroundColor:"transparent",color:f?"#374151":"#e5e7eb"},onMouseEnter:pe=>pe.currentTarget.style.backgroundColor=f?"#f3f4f6":"#64748b",onMouseLeave:pe=>pe.currentTarget.style.backgroundColor="transparent",children:p.jsx(Aq,{className:"h-4 w-4"})}),p.jsx(Me,{variant:"ghost",size:"sm",onClick:kt,className:"h-8 w-8 p-0",style:{backgroundColor:"transparent",color:f?"#374151":"#e5e7eb"},onMouseEnter:pe=>pe.currentTarget.style.backgroundColor=f?"#f3f4f6":"#64748b",onMouseLeave:pe=>pe.currentTarget.style.backgroundColor="transparent",children:p.jsx(wi,{className:"h-4 w-4"})})]})]})})}),p.jsxs("div",{className:"flex-1 relative overflow-hidden",style:{paddingBottom:a?"36px":"8px"},children:[p.jsx("div",{ref:ce,className:"w-full h-full relative whiteboard-drawing-area",onTouchStart:Ae,onTouchMove:Ke,onTouchEnd:pe=>{lt(pe),C&&!L&&Oe()},style:{transform:i?`translate(${A.x}px, ${A.y}px) scale(${z})`:"none",transformOrigin:"center",transition:L?"none":"transform 0.1s ease-out",cursor:"crosshair"},children:p.jsx(a0e,{style:{width:"100%",height:"100%",border:"none",outline:"none",boxShadow:"none",backgroundColor:"#ffffff"},width:`${ue.width}px`,height:`${ue.height}px`,strokeWidth:w,strokeColor:v,canvasColor:"#ffffff",ref:c,onStroke:()=>k(!0)})}),a&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-2 md:px-3 py-1 md:py-2 z-10 border-t",style:{borderTopColor:f?"#e5e7eb":"#475569",backgroundColor:f?"#ffffff":"#1e293b",fontSize:"10px"},children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:`${f?"text-gray-500":"text-gray-400"} truncate text-xs md:text-xs`,style:{fontFamily:'"Raleway", sans-serif',fontSize:"inherit"},children:[p.jsx("span",{className:"hidden sm:inline",children:"Last edited: "}),p.jsx("span",{className:"sm:hidden",children:"Edited: "}),D$(a)]})})})]})]})},M0e=({currentCategory:e,categoryColor:t,itemColor:n,existingCategories:r,isEditingCategory:o,showNewCategoryInput:i,newCategory:s,setNewCategory:a,setIsEditingCategory:l,setShowNewCategoryInput:c,handleEditCategory:d,handleAddCustomCategory:f,handleUpdateCategoryColor:m})=>{const g=e&&e!==""?e:"General",v=t||n||"#808080",x=()=>"#ffffff";return p.jsx("div",{className:"mb-2 px-6 flex items-center gap-2",children:o?p.jsx("div",{className:"mb-2 w-full",children:i?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(hn,{value:s,onChange:w=>a(w.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&f()}}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:f,className:"h-8 w-8 p-0",children:p.jsx(qo,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>{c(!1),a("")},className:"h-8 w-8 p-0",children:p.jsx(wi,{className:"h-4 w-4"})})]}):p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsxs(nl,{onValueChange:d,defaultValue:g,children:[p.jsx(zs,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:p.jsx(rl,{placeholder:"Select a category"})}),p.jsxs($s,{children:[r.map(w=>p.jsx(En,{value:w.name,style:{fontFamily:'"Raleway", sans-serif'},children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:w.color_value}}),w.name]})},w.name)),p.jsx(En,{value:"__custom__",className:"text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:"+ Add new category"})]})]}),g!=="__custom__"&&p.jsx("div",{className:"flex items-center gap-2 ml-2",children:p.jsx(Fs,{color:v,onChange:w=>m(g,w),onSave:w=>m(g,w),children:p.jsxs(Me,{variant:"outline",size:"sm",className:"h-8 px-3 flex items-center gap-2",children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:v}}),"Category Color"]})})}),p.jsx(Me,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>l(!1),children:"Cancel"})]})}):p.jsx(zC,{variant:"outline",className:"cursor-pointer hover:opacity-80 transition-opacity border-none",style:{fontFamily:'"Raleway", sans-serif',backgroundColor:v,color:x()},onClick:()=>l(!0),children:g})})},A0e=400,n5=({whiteboard:e,onUpdate:t,onDelete:n,existingCategories:r,isCollapsed:o,onToggleCollapsed:i,updateCategory:s})=>{var A;const a=(A=r.find(G=>G.name===e.category))==null?void 0:A.color_value,l=e.color_value||a||"#3B82F6",[c,d]=y.useState(!1),[f,m]=y.useState(void 0),g=y.useRef(null);y.useEffect(()=>{const G=()=>{d(window.innerWidth<768)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const{whiteboardTitle:v,isCollapsibleOpen:x,setIsCollapsibleOpen:w,isEditing:S,setIsEditing:C,editTitle:k,setEditTitle:T,handleEditTitle:N,handleDeleteWhiteboard:R,handleSaveWhiteboardColor:_,isSavingColor:M,isEditingCategory:B,setIsEditingCategory:I,showNewCategoryInput:$,setShowNewCategoryInput:W,newCategory:V,setNewCategory:H,handleEditCategory:ee,handleAddCustomCategory:X,handleCanvasChange:J,handleCanvasSave:L,titleEditRef:D}=n0e({whiteboard:e,onUpdate:t,onDelete:n,isCollapsed:o,onToggleCollapsed:i,updateCategory:s});return p.jsx(DC,{open:x,onOpenChange:G=>{i&&o!==void 0?!o!==G&&i():w(G)},className:"w-full",style:{"--whiteboard-color":l},children:p.jsxs(tv,{className:"w-full shadow-sm h-full flex flex-col",style:{border:"none"},children:[p.jsx(nv,{className:"pb-2",children:p.jsx("div",{className:"flex justify-between items-center",children:S?p.jsxs("div",{className:"flex gap-1 w-full",children:[p.jsx(hn,{ref:D,value:k,onChange:G=>T(G.target.value),className:"h-8",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&N()}}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:N,className:"h-8 w-8 p-0",children:p.jsx(qo,{className:"h-4 w-4"})}),p.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>C(!1),className:"h-8 w-8 p-0",children:p.jsx(wi,{className:"h-4 w-4"})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Fs,{color:l,onChange:G=>{setCurrentColorPreview(G)},onSave:async G=>{if(G!==(e.color_value||"#3B82F6"))try{await _(G)}catch{toast({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),setCurrentColorPreview(e.color_value||"#3B82F6")}},children:p.jsxs(Me,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change whiteboard color",disabled:M,children:[p.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-border transition-colors duration-150",style:{backgroundColor:l}}),M&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50 rounded-full",children:p.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),p.jsx(qu,{className:"h-4 w-4 text-muted-foreground"}),p.jsx(rv,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>C(!0),children:v})]}),p.jsxs("div",{className:"flex",children:[p.jsx(jC,{asChild:!0,children:p.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:p.jsx(ks,{className:Ve("h-4 w-4 transition-transform",x?"":"transform rotate-180")})})}),p.jsxs(Xy,{children:[p.jsx(Jy,{asChild:!0,children:p.jsx(Me,{variant:"ghost",className:"h-8 w-8 p-0",children:p.jsx(KS,{className:"h-4 w-4"})})}),p.jsxs(Ih,{align:"end",children:[p.jsxs(js,{onClick:()=>C(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Ch,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),p.jsxs(js,{onClick:R,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(Py,{className:"mr-2 h-4 w-4"}),"Delete Whiteboard"]})]})]})]})]})})}),p.jsx(M0e,{currentCategory:e.category||"",categoryColor:a,itemColor:e.color_value,existingCategories:r,isEditingCategory:B,showNewCategoryInput:$,newCategory:V,setNewCategory:H,setIsEditingCategory:I,setShowNewCategoryInput:W,handleEditCategory:ee,handleAddCustomCategory:X,handleUpdateCategoryColor:s}),p.jsx(LC,{className:"flex-1",children:p.jsx("div",{className:"rounded-lg mx-6 mb-6 flex-1 flex flex-col relative",style:{backgroundColor:"#ffffff",border:`2px solid ${l} !important`,borderColor:`${l} !important`,height:c&&f!==void 0?`${Math.max(A0e,f-120)}px`:`${Math.max(530,(e.canvas_height||620)-120)}px`},ref:g,children:p.jsx(R0e,{whiteboard:e,onCanvasChange:J,onSave:L,whiteboardColor:l,onAutoSave:L,isMobile:c,onScaledHeightChange:m,updatedAt:e.updated_at,aiEnabled:!0})})})]})})},pP=750,mP=650,gP=2400,yP=2400,P0e=({whiteboard:e,onUpdate:t,onDelete:n,existingCategories:r,canvasTransform:o,onPositionChange:i,isCollapsed:s,onToggleCollapsed:a,updateCategory:l})=>{var M,B;const c=y.useRef(null),[d,f]=y.useState(!1),[m,g]=y.useState(!1),[v,x]=y.useState({x:0,y:0}),[w,S]=y.useState({startX:0,startY:0,startWidth:0,startHeight:0});parseFloat(((M=c.current)==null?void 0:M.style.width)||"")||e.canvas_width,parseFloat(((B=c.current)==null?void 0:B.style.height)||"")||e.canvas_height,y.useEffect(()=>{c.current&&(c.current.style.left=`${e.position_x}px`,c.current.style.top=`${e.position_y}px`,console.log(`DraggableWhiteboardCard: Initial position for whiteboard ${e.id}: x=${e.position_x}, y=${e.position_y}`),console.log(`DraggableWhiteboardCard: Initial dimensions for whiteboard ${e.id}: width=${e.canvas_width}, height=${e.canvas_height}`))},[e.position_x,e.position_y,e.canvas_width,e.canvas_height]);const C=I=>{var H;const $=I.target;if($.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle, .whiteboard-canvas, canvas'))return;const W=$.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle'),V=$.closest("canvas")||$.tagName==="CANVAS"||$.closest(".whiteboard-drawing-area")||$.closest(".react-sketch-canvas")||$.closest('[data-testid="react-sketch-canvas"]');if(!(W||V)&&(I.preventDefault(),c.current)){const ee=(H=c.current.parentElement)==null?void 0:H.getBoundingClientRect();if(ee){const X=(I.clientX-ee.left-o.x)/o.scale,J=(I.clientY-ee.top-o.y)/o.scale,L=parseFloat(c.current.style.left)||0,D=parseFloat(c.current.style.top)||0;x({x:(X-L)*o.scale,y:(J-D)*o.scale}),f(!0)}}},k=I=>{var $;if(d&&c.current){const W=($=c.current.parentElement)==null?void 0:$.getBoundingClientRect();if(!W)return;const V=(I.clientX-W.left-o.x)/o.scale,H=(I.clientY-W.top-o.y)/o.scale,ee=V-v.x/o.scale,X=H-v.y/o.scale;c.current.style.left=`${ee}px`,c.current.style.top=`${X}px`}if(m&&c.current){const W=I.clientX-w.startX,V=I.clientY-w.startY,H=W/o.scale,ee=V/o.scale,X=Math.min(gP,Math.max(pP,w.startWidth+H)),J=Math.min(yP,Math.max(mP,w.startHeight+ee));c.current.style.width=`${X}px`,c.current.style.height=`${J}px`}},T=()=>{if(d&&c.current){f(!1);const I=parseFloat(c.current.style.left)||0,$=parseFloat(c.current.style.top)||0,W={x:Math.round(I),y:Math.round($)};i(e.id,W)}if(m&&c.current){g(!1);const I=parseFloat(c.current.style.left)||0,$=parseFloat(c.current.style.top)||0,W=parseFloat(c.current.style.width)||e.canvas_width||400,V=parseFloat(c.current.style.height)||e.canvas_height||400,H={x:Math.round(I),y:Math.round($)};t(e.id,{position_x:H.x,position_y:H.y,canvas_width:Math.min(gP,Math.max(pP,Math.round(W))),canvas_height:Math.min(yP,Math.max(mP,Math.round(V)))})}};y.useEffect(()=>((d||m)&&(window.addEventListener("mousemove",k),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",T)}),[d,m,v,w]);const N=I=>{if(I.preventDefault(),I.stopPropagation(),c.current){const $=parseFloat(c.current.style.width)||e.canvas_width||400,W=parseFloat(c.current.style.height)||e.canvas_height||400;S({startX:I.clientX,startY:I.clientY,startWidth:$,startHeight:W}),g(!0)}},R=async(I,$)=>{try{return await t(I,$)}catch(W){return console.error("Failed to update whiteboard:",W),null}},_=async I=>{try{return await n(I)}catch($){return console.error("Failed to delete whiteboard:",$),!1}};return p.jsxs("div",{ref:c,onMouseDown:C,className:"draggable-whiteboard-card shadow-lg rounded-lg flex flex-col overflow-hidden border relative",style:{position:"absolute",width:`${e.canvas_width||400}px`,height:s?"auto":`${e.canvas_height||400}px`,zIndex:d||m?1e3:e.z_index||1,cursor:d?"grabbing":m?"nw-resize":"grab",transition:d||m?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:d||m?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:d||m?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[p.jsx(n5,{whiteboard:e,onUpdate:R,onDelete:_,existingCategories:r,isCollapsed:s,onToggleCollapsed:a,updateCategory:l}),!s&&p.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize",onMouseDown:N,style:{background:"linear-gradient(-45deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6,zIndex:10}})]})},_0e=({existingCategories:e,searchQuery:t="",onReady:n,onOpenNewNoteModal:r,notes:o,onNoteUpdate:i,onNoteDelete:s,whiteboards:a,onWhiteboardUpdate:l,onWhiteboardDelete:c,onOpenNewWhiteboardModal:d,addCategory:f,updateCategory:m})=>{const{theme:g}=bi(),{token:v}=Si(),[x,w]=y.useState([]),[S,C]=y.useState(!0),[k,T]=y.useState(""),[N,R]=y.useState(!1),[_,M]=y.useState({x:0,y:0}),[B,I]=y.useState(void 0),[$,W]=y.useState(!1),[V,H]=y.useState(!1),[ee,X]=y.useState({x:0,y:0}),[J,L]=y.useState({x:window.innerWidth/2-2e3,y:window.innerHeight/2-2e3,scale:1}),[D,A]=y.useState(!1),[G,z]=y.useState({x:0,y:0}),[O,Z]=y.useState("all"),[re,ne]=y.useState(!1),K=y.useRef(null),ue=y.useRef(null),fe=()=>{R(!1),r&&r(_)},ce=()=>{R(!1),d&&(console.log("Opening whiteboard modal at position:",_),d(_))};y.useEffect(()=>{n&&n({showAddListMenu:(ae,Ie=!1,Ee)=>{if(console.log("showAddListMenu called:",{position:ae,isFromButton:Ie,absolutePosition:Ee,currentMenuState:N,currentMenuIsFromButton:$}),N&&$&&Ie){console.log("Closing existing button menu"),R(!1);return}console.log("Setting menu state:",{position:ae,isFromButton:Ie,absolutePosition:Ee}),M(ae),W(Ie),I(Ee||void 0),R(!0),console.log("Context menu should now be visible")},showAddNoteMenu:(ae,Ie=!1,Ee)=>{r&&r(ae)},showAddWhiteboardMenu:(ae,Ie=!1,Ee)=>{d&&d(ae)},hideContextMenu:()=>{R(!1)},isMenuOpenFromButton:()=>N&&$,showNewListModal:()=>{H(!0)}})},[n,N,$]),y.useEffect(()=>{const ae=async()=>{try{C(!0),M3(v).then(Ee=>{w(Ee),C(!1)}).catch(Ee=>{console.error("Failed to fetch lists:",Ee),T("Could not load lists."),C(!1)})}finally{C(!1)}},Ie=Ee=>{const{position:Le,isFromButton:ft=!1,absolutePosition:gt}=Ee.detail;M(Le),W(ft),gt&&I(gt),R(!0)};return document.addEventListener("showCanvasContextMenu",Ie),ae(),()=>{document.removeEventListener("showCanvasContextMenu",Ie)}},[]);const Re=ae=>{if(ae.preventDefault(),ae.stopPropagation(),console.log("Right-click context menu triggered"),K.current){const Ie=K.current.getBoundingClientRect(),Ee=ae.clientX-Ie.left,Le=ae.clientY-Ie.top,ft=(Ee-J.x)/J.scale,gt=(Le-J.y)/J.scale;console.log("Context menu position:",{canvasX:ft,canvasY:gt,screenX:Ee,screenY:Le}),M({x:ft,y:gt}),X({x:ft,y:gt}),W(!1),I(void 0),R(!0)}},Oe=ae=>{const Ie=ae.target;N&&!Ie.closest(".context-menu")&&R(!1);const Ee=Ie.closest(".draggable-list-card, .draggable-note-card, .context-menu, button, input, textarea, select");ae.button===0&&!Ee&&(ae.target===K.current||ae.target===ue.current)&&(A(!0),z({x:ae.clientX-J.x,y:ae.clientY-J.y}),ae.preventDefault())},Ze=ae=>{D&&L(Ie=>({...Ie,x:ae.clientX-G.x,y:ae.clientY-G.y}))},ze=()=>{D&&A(!1)},tt=ae=>{if(ae.preventDefault(),K.current){const Ie=K.current.getBoundingClientRect(),Ee=ae.clientX-Ie.left,Le=ae.clientY-Ie.top,ft=ae.deltaY<0?1.1:.9,gt=Math.max(.1,Math.min(3,J.scale*ft)),Ln=Ee-(Ee-J.x)*(gt/J.scale),mn=Le-(Le-J.y)*(gt/J.scale);L({x:Ln,y:mn,scale:gt})}};y.useEffect(()=>{const ae=Ee=>{D&&L(Le=>({...Le,x:Ee.clientX-G.x,y:Ee.clientY-G.y}))},Ie=()=>{D&&A(!1)};return D&&(document.addEventListener("mousemove",ae),document.addEventListener("mouseup",Ie)),()=>{document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",Ie)}},[D,G]);const De=()=>{},it=()=>{R(!1),H(!0)},kt=async ae=>{const Ie=[...x];w(Ee=>Ee.map(Le=>Le.id===ae.id?ae:Le));try{await P3(ae,v)}catch(Ee){console.error("Failed to update list:",Ee),w(Ie)}},Ot=async ae=>{const Ie=[...x];w(Ee=>Ee.filter(Le=>Le.id!==ae));try{await _3(ae,v)}catch(Ee){console.error("Failed to delete list:",Ee),w(Ie)}},_e=(ae,Ie)=>{const Ee=[...x];w(Le=>Le.map(ft=>ft.id===ae?{...ft,position_x:Ie.x,position_y:Ie.y}:ft)),hfe(ae,Ie.x,Ie.y,v).catch(Le=>{console.error("Failed to update list position:",Le),w(Ee)})},Ae=ae=>{const Ie={...ae,position_x:ee.x,position_y:ee.y};w(Ee=>[...Ee,Ie]),H(!1)},Ke=()=>{L(ae=>({...ae,scale:Math.min(3,ae.scale*1.2)}))},lt=()=>{L(ae=>({...ae,scale:Math.max(.1,ae.scale/1.2)}))},pe=()=>{L({x:window.innerWidth/2-2e3,y:window.innerHeight/2-2e3,scale:1})},we=()=>{const ae=x.map(Le=>Le.type||"General").filter(Boolean),Ie=o.map(Le=>Le.category||"General").filter(Boolean);return["all",...Array.from(new Set([...ae,...Ie]))]},Y=()=>{const ae={all:x.length+o.length+a.length};return x.forEach(Ie=>{const Ee=Ie.type||"General";ae[Ee]=(ae[Ee]||0)+1}),o.forEach(Ie=>{const Ee=Ie.category||"General";ae[Ee]=(ae[Ee]||0)+1}),a.forEach(Ie=>{const Ee=Ie.category||"General";ae[Ee]=(ae[Ee]||0)+1}),ae},le=()=>{let ae=x,Ie=o,Ee=a;return t&&(ae=x.filter(Le=>Le.title.toLowerCase().includes(t.toLowerCase())||Le.items&&Le.items.some(ft=>ft.text&&ft.text.toLowerCase().includes(t.toLowerCase()))),Ie=o.filter(Le=>Le.title&&Le.title.toLowerCase().includes(t.toLowerCase())||Le.content&&Le.content.toLowerCase().includes(t.toLowerCase())),Ee=a.filter(Le=>Le.title&&Le.title.toLowerCase().includes(t.toLowerCase()))),O!=="all"&&(ae=ae.filter(Le=>(Le.type||"General")===O),Ie=Ie.filter(Le=>(Le.category||"General")===O),Ee=Ee.filter(Le=>(Le.category||"General")===O)),{filteredLists:ae,filteredNotes:Ie,filteredWhiteboards:Ee}},{filteredLists:Ne,filteredNotes:Pe,filteredWhiteboards:Je}=le();return y.useEffect(()=>{const ae=Ie=>{if(N){const Ee=Ie.target,Le=document.querySelector(".context-menu"),ft=document.getElementById("new-canvas-button");if(Le&&Le.contains(Ie.target)||$&&ft&&ft.contains(Ie.target))return;Ee.closest(".context-menu")||R(!1)}if(re){const Ee=Ie.target;!Ee.closest("[data-filter-panel]")&&!Ee.closest("[data-filter-button]")&&ne(!1)}};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[N,re,$]),p.jsxs("div",{className:"canvas-container-wrapper",children:[p.jsx("div",{ref:K,className:"canvas-area",onContextMenu:Re,onClick:De,onMouseDown:Oe,onMouseMove:Ze,onMouseUp:ze,onWheel:tt,style:{position:"relative",width:"100%",height:"100vh",backgroundColor:"var(--background-alt)",borderRadius:"0",overflow:"hidden",padding:"0",boxSizing:"border-box",border:"none",cursor:D?"grabbing":"grab"},children:p.jsx("div",{ref:ue,style:{position:"absolute",width:"100%",height:"100%",minWidth:"4000px",minHeight:"4000px",transform:`translate(${J.x}px, ${J.y}px) scale(${J.scale})`,transformOrigin:"0 0",padding:"1rem",backgroundImage:g==="dark"?`
              radial-gradient(circle, rgba(255, 255, 255, 0.08) 1px, transparent 1px),
              radial-gradient(circle, rgba(255, 255, 255, 0.04) 1px, transparent 1px),
              linear-gradient(135deg, rgba(255, 255, 255, 0.01) 0%, rgba(255, 255, 255, 0.04) 50%, rgba(255, 255, 255, 0.01) 100%)
            `:`
              radial-gradient(circle, rgba(0, 0, 0, 0.08) 1px, transparent 1px),
              radial-gradient(circle, rgba(0, 0, 0, 0.04) 1px, transparent 1px),
              linear-gradient(135deg, rgba(0, 0, 0, 0.01) 0%, rgba(0, 0, 0, 0.04) 50%, rgba(0, 0, 0, 0.01) 100%)
            `,backgroundSize:"32px 32px, 8px 8px, 100% 100%",backgroundPosition:"0 0, 0 0, 0 0"},children:S?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx(Efe,{size:"lg"})}):k?p.jsx("div",{className:"flex items-center justify-center h-full text-red-500",children:k}):p.jsxs(p.Fragment,{children:[x.length===0&&o.length===0&&a.length===0&&p.jsx("div",{className:"flex items-center justify-center h-full",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#64748b",fontFamily:'"Raleway", sans-serif',fontSize:"18px",fontWeight:"300",zIndex:10},children:"No content on your canvas (for now!)"}),Ne.map(ae=>p.jsx(ffe,{list:ae,onUpdate:kt,onDelete:Ot,existingCategories:e,canvasTransform:J,onPositionChange:_e,addCategory:f,updateCategory:m},ae.id)),Pe.map(ae=>p.jsx(t0e,{note:ae,onPositionUpdate:(Ie,Ee,Le)=>{const ft={position_x:Ee.x,position_y:Ee.y};Le&&(ft.width=Le.width,ft.height=Le.height),i(Ie,ft)},onUpdate:i,onDelete:s,existingCategories:e,canvasTransform:J,updateCategory:m},ae.id)),Je.map(ae=>p.jsx(P0e,{whiteboard:ae,onUpdate:l,onDelete:c,existingCategories:e,canvasTransform:J,onPositionChange:(Ie,Ee)=>{l(Ie,{position_x:Ee.x,position_y:Ee.y})},updateCategory:m},ae.id)),N&&(console.log("Rendering context menu with:",{menuPosition:_,menuAbsolutePosition:B,menuIsFromButton:$,showContextMenu:N}),p.jsx(R3,{position:_,absolutePosition:B,onAddList:it,onAddNote:fe,onAddWhiteboard:ce,onClose:()=>R(!1),isFromButton:$}))]})})}),p.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1002,display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",userSelect:"none"},children:[p.jsx("button",{onClick:lt,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor="var(--background)"},title:"Zoom Out",children:p.jsx(Rq,{size:18})}),p.jsx("button",{onClick:pe,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor="var(--background)"},title:"Reset View",children:p.jsx(Pq,{size:18})}),p.jsxs("div",{style:{padding:"0 12px",fontSize:"14px",fontWeight:"500",color:"var(--text-muted)",fontFamily:"monospace",minWidth:"60px",textAlign:"center"},children:[Math.round(J.scale*100),"%"]}),p.jsx("button",{onClick:Ke,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor="var(--background)"},title:"Zoom In",children:p.jsx(ci,{size:18})}),p.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"var(--border)",margin:"0 4px"}}),p.jsxs("button",{onClick:()=>ne(!re),"data-filter-button":!0,style:{minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 12px",backgroundColor:re?"var(--accent)":"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",gap:"6px",whiteSpace:"nowrap"},onMouseEnter:ae=>{re||(ae.currentTarget.style.backgroundColor="var(--accent)")},onMouseLeave:ae=>{re||(ae.currentTarget.style.backgroundColor="var(--background)")},title:"Filter Content",children:[p.jsx("span",{children:"Category:"}),p.jsx("span",{children:O==="all"?"All":O}),p.jsxs("span",{style:{opacity:.7},children:["(",Y()[O]||0,")"]})]})]}),re&&p.jsx("div",{"data-filter-panel":!0,style:{position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",zIndex:1003,display:"flex",alignItems:"center",gap:"6px",padding:"8px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",userSelect:"none",maxWidth:"600px",flexWrap:"wrap"},children:we().map(ae=>{const Ie=Y()[ae]||0,Ee=O===ae;return p.jsxs("button",{onClick:()=>{Z(ae),ne(!1)},style:{padding:"6px 12px",backgroundColor:Ee?"#3b82f6":"var(--background)",color:Ee?"white":"var(--text)",border:"1px solid var(--border)",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",textTransform:"capitalize",whiteSpace:"nowrap"},onMouseEnter:Le=>{Ee||(Le.currentTarget.style.backgroundColor="var(--accent)")},onMouseLeave:Le=>{Ee||(Le.currentTarget.style.backgroundColor="var(--background)")},children:[ae," (",Ie,")"]},ae)})}),V&&p.jsx(I3,{isOpen:V,onClose:()=>H(!1),onListCreated:Ae,existingCategories:e.map(ae=>ae.name)})]})},I0e=({isOpen:e,onClose:t,onCreateNote:n,existingCategories:r})=>{const[o,i]=y.useState(""),[s,a]=y.useState(""),[l,c]=y.useState(""),[d,f]=y.useState(!1),m=v=>{if(v.preventDefault(),!o.trim())return;const x=d?l.trim():s;x&&(n(o.trim(),x,"#FFFFE0"),g())},g=()=>{i(""),a(""),c(""),f(!1),t()};return p.jsx(jh,{open:e,onOpenChange:g,children:p.jsxs(td,{className:"sm:max-w-md",children:[p.jsx(nd,{children:p.jsx(rd,{children:"Create New Note"})}),p.jsxs("form",{onSubmit:m,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx(Mr,{htmlFor:"title",children:"Title"}),p.jsx(hn,{id:"title",value:o,onChange:v=>i(v.target.value),placeholder:"Enter note title",className:"mt-1",autoFocus:!0,required:!0})]}),d?p.jsxs("div",{children:[p.jsx(Mr,{htmlFor:"newCategory",children:"New Category"}),p.jsxs("div",{className:"flex space-x-2 mt-1",children:[p.jsx(hn,{id:"newCategory",value:l,onChange:v=>c(v.target.value),placeholder:"Enter new category",autoFocus:!0}),p.jsx(Me,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]}):p.jsxs("div",{children:[p.jsx(Mr,{htmlFor:"category",children:"Category"}),p.jsxs(nl,{value:s,onValueChange:a,children:[p.jsx(zs,{className:"mt-1",children:p.jsx(rl,{placeholder:"Select a category"})}),p.jsx($s,{children:r.map(v=>p.jsx(En,{value:v,children:v},v))})]}),p.jsx(Me,{type:"button",variant:"outline",size:"sm",onClick:()=>f(!0),className:"mt-2",children:"Add New Category"})]}),p.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[p.jsx(Me,{type:"button",variant:"outline",onClick:g,children:"Cancel"}),p.jsx(Me,{type:"submit",disabled:!o.trim()||!s&&!l.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Create Note"})]})]})]})})},O0e=y.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:Ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));O0e.displayName="Textarea";const D0e=({isOpen:e,onClose:t,onCreateNote:n,initialPosition:r,existingCategories:o})=>{const[i,s]=y.useState(""),[a,l]=y.useState(""),[c,d]=y.useState(""),[f,m]=y.useState(!1),[g,v]=y.useState("#3B82F6");y.useEffect(()=>{e&&(s(""),l(""),d(""),m(!1),v("#3B82F6"))},[e]);const x=w=>{if(w.preventDefault(),!i.trim())return;const C=(f?c.trim():a)||"General";n(i.trim(),C,g,r),t()};return e?p.jsx(jh,{open:e,onOpenChange:w=>!w&&t(),children:p.jsxs(td,{className:"sm:max-w-[425px]",children:[p.jsx(nd,{children:p.jsxs(rd,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(kh,{className:"h-5 w-5 text-slate-500"}),"Add Note"]})}),p.jsxs("form",{onSubmit:x,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{htmlFor:"noteTitle",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),p.jsx(hn,{id:"noteTitle",value:i,onChange:w=>s(w.target.value),placeholder:"Enter note title",autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[f?p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{htmlFor:"newNoteCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(hn,{id:"newNoteCategory",value:c,onChange:w=>d(w.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&c.trim()&&(l(c.trim()),m(!1))}}),p.jsx(Me,{type:"button",variant:"outline",onClick:()=>{c.trim()&&(l(c.trim()),m(!1))},disabled:!c.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),p.jsx(Me,{type:"button",variant:"outline",onClick:()=>{m(!1),d("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{htmlFor:"noteCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),p.jsxs(nl,{value:a,onValueChange:w=>{w==="__add_new__"?(m(!0),l("")):l(w)},children:[p.jsx(zs,{children:p.jsx(rl,{placeholder:"Select a category"})}),p.jsxs($s,{children:[!o.includes("General")&&p.jsx(En,{value:"General",children:"General"}),o.map(w=>p.jsx(En,{value:w,children:w},w)),p.jsx(En,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),p.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:o.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),p.jsx(Fs,{color:g,onChange:v,onSave:v,children:p.jsx(Me,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change note color",children:p.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:g}})})})]})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Me,{type:"button",variant:"outline",onClick:t,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),p.jsx(Me,{type:"submit",disabled:!i.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:"Create Note"})]})]})]})}):null},j0e=({isOpen:e,onClose:t,onCreateWhiteboard:n,initialPosition:r,existingCategories:o})=>{const[i,s]=y.useState(""),[a,l]=y.useState(""),[c,d]=y.useState(""),[f,m]=y.useState(!1),[g,v]=y.useState("#3B82F6");y.useEffect(()=>{e&&(s(""),l(""),d(""),m(!1),v("#3B82F6"))},[e]);const x=w=>{if(w.preventDefault(),!i.trim())return;const C=(f?c.trim():a)||"General";n(i.trim(),C,g,r),t()};return e?p.jsx(jh,{open:e,onOpenChange:w=>!w&&t(),children:p.jsxs(td,{className:"sm:max-w-[425px]",children:[p.jsx(nd,{children:p.jsxs(rd,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[p.jsx(qu,{className:"h-5 w-5 text-slate-500"}),"Add Whiteboard"]})}),p.jsxs("form",{onSubmit:x,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{htmlFor:"whiteboardTitle",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),p.jsx(hn,{id:"whiteboardTitle",value:i,onChange:w=>s(w.target.value),placeholder:"Enter whiteboard title",autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[f?p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{htmlFor:"newWhiteboardCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(hn,{id:"newWhiteboardCategory",value:c,onChange:w=>d(w.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&c.trim()&&(l(c.trim()),m(!1))}}),p.jsx(Me,{type:"button",variant:"outline",onClick:()=>{c.trim()&&(l(c.trim()),m(!1))},disabled:!c.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),p.jsx(Me,{type:"button",variant:"outline",onClick:()=>{m(!1),d("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{htmlFor:"whiteboardCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),p.jsxs(nl,{value:a,onValueChange:w=>{w==="__add_new__"?(m(!0),l("")):l(w)},children:[p.jsx(zs,{children:p.jsx(rl,{placeholder:"Select a category"})}),p.jsxs($s,{children:[!o.includes("General")&&p.jsx(En,{value:"General",children:"General"}),o.map(w=>p.jsx(En,{value:w,children:w},w)),p.jsx(En,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),p.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:o.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mr,{style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),p.jsx(Fs,{color:g,onChange:v,onSave:v,children:p.jsx(Me,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change whiteboard color",children:p.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:g}})})})]})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Me,{type:"button",variant:"outline",onClick:t,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),p.jsx(Me,{type:"submit",disabled:!i.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:"Create Whiteboard"})]})]})]})}):null},U1="categoriesUpdated",Rw=()=>{window.dispatchEvent(new CustomEvent(U1))},L0e=()=>{const[e,t]=y.useState([]),[n,r]=y.useState(!0),[o,i]=y.useState(null),{token:s}=Si(),{toast:a}=Yo(),l=y.useCallback(async()=>{if(s)try{r(!0);const w=await bfe(s);t(w),i(null)}catch(w){console.error("Error fetching categories:",w),i("Failed to load categories")}finally{r(!1)}},[s]);y.useEffect(()=>{l()},[l]),y.useEffect(()=>{let w=null;const S=()=>{w||(console.log("🔄 Global category refresh triggered - refreshing categories list"),w=setTimeout(()=>{l(),w=null},1e3))};return window.addEventListener(U1,S),()=>{window.removeEventListener(U1,S),w&&clearTimeout(w)}},[l]);const c=y.useCallback(async w=>{if(!s)return null;try{const S=await Sfe(w,s);return t(C=>[...C,S].sort((k,T)=>k.name.localeCompare(T.name))),console.log("📢 Triggering global category refresh after creating:",S.name),Rw(),S}catch(S){console.error("Error creating category:",S);const C=S instanceof Error?S.message:"Failed to create category";return a({title:"Error creating category",description:C,variant:"destructive"}),null}},[s,a]),d=y.useCallback(async(w,S)=>{if(!s)return null;try{const C=await Cfe(w,S,s);return t(k=>k.map(T=>T.id===w?C:T).sort((T,N)=>T.name.localeCompare(N.name))),console.log("📢 Triggering global category refresh after updating:",C.name),Rw(),C}catch(C){console.error("Error updating category:",C);const k=C instanceof Error?C.message:"Failed to update category";return a({title:"Error updating category",description:k,variant:"destructive"}),null}},[s,a]),f=y.useCallback(async w=>{if(!s)return!1;try{const S=e.find(C=>C.id===w);return await kfe(w,s),t(C=>C.filter(k=>k.id!==w)),console.log("📢 Triggering global category refresh after deleting:",S==null?void 0:S.name),Rw(),!0}catch(S){console.error("Error deleting category:",S);const C=S instanceof Error?S.message:"Failed to delete category";return a({title:"Error deleting category",description:C,variant:"destructive"}),!1}},[s,a,e]),m=e.map(w=>w.name),g=y.useCallback(w=>e.find(S=>S.id===w),[e]),v=y.useCallback(w=>e.find(S=>S.name===w),[e]),x=y.useCallback(w=>e.some(S=>S.name===w),[e]);return{categories:e,categoryNames:m,loading:n,error:o,addCategory:c,editCategory:d,removeCategory:f,refreshCategories:l,getCategoryById:g,getCategoryByName:v,isCategoryInUse:x,totalCategories:e.length}},F0e=()=>{const{theme:e}=bi(),[t,n]=y.useState([]),[r,o]=y.useState(null),[i,s]=y.useState(!0),[a,l]=y.useState(!0),[c,d]=y.useState(!0),f=i||a||c,[m,g]=y.useState(""),[v,x]=y.useState(!1),[w,S]=y.useState(!1),[C,k]=y.useState(null),[T,N]=y.useState(!1),[R,_]=y.useState(!1),[M,B]=y.useState(!1),[I,$]=y.useState(null),[W,V]=y.useState(!1),[H,ee]=y.useState(!1),[X,J]=y.useState(null),{toast:L}=Yo(),{token:D}=Si(),[A,G]=y.useState([]),[z,O]=y.useState(null),[Z,re]=y.useState([]),[ne,K]=y.useState(null),{categories:ue,categoryNames:fe,addCategory:ce,editCategory:Re,isCategoryInUse:Oe,getCategoryByName:Ze}=L0e(),ze=async(ye,ve)=>{try{const Se=Ze(ye);if(!Se)throw new Error(`Category "${ye}" not found`);const Ue=await Re(Se.id,{name:ve.name||Se.name,color_value:ve.color_value||Se.color_value});if(!Ue)throw new Error("Failed to update category");if(console.log("Category updated successfully:",Ue),ve.color_value){const Ye=ve.color_value,Ft=t.filter(qt=>(qt.type||"General")===ye);for(const qt of Ft)try{await es({...qt,color_value:Ye})}catch(ns){console.error(`Failed to update list ${qt.id} color:`,ns)}const bn=A.filter(qt=>(qt.category||"General")===ye);for(const qt of bn)try{await ft(qt.id,{color_value:Ye})}catch(ns){console.error(`Failed to update note ${qt.id} color:`,ns)}const wr=Z.filter(qt=>(qt.category||"General")===ye);for(const qt of wr)try{await mn(qt.id,{color_value:Ye})}catch(ns){console.error(`Failed to update whiteboard ${qt.id} color:`,ns)}console.log(`Category "${ye}" and ${Ft.length+bn.length+wr.length} linked items updated successfully.`)}}catch(Se){console.error("Error updating category:",Se),L({title:"Error",description:`Failed to update category "${ye}". Please try again.`,variant:"destructive"})}};ue.map(ye=>({name:ye.name,listCount:0,noteCount:0,totalCount:0}));const tt=ye=>{if(!ye)return{filteredLists:t,filteredNotes:A,filteredWhiteboards:Z};const ve=t.filter(Ye=>Ye.type===ye),Se=A.filter(Ye=>Ye.category===ye),Ue=Z.filter(Ye=>Ye.category===ye);return{filteredLists:ve,filteredNotes:Se,filteredWhiteboards:Ue}},De=y.useRef(null),[it,kt]=y.useState(!1),[Ot,_e]=y.useState({x:0,y:0}),[Ae,Ke]=y.useState(new Set),[lt,pe]=y.useState(new Set),[we,Y]=y.useState(new Set),le=()=>{const bn=[...t.map(br=>({x:br.position_x||0,y:br.position_y||0})),...A.map(br=>({x:br.position_x,y:br.position_y})),...Z.map(br=>({x:br.position_x,y:br.position_y}))],wr=(br,fd)=>bn.some(mc=>{const gc=Math.abs(br-mc.x),Iv=Math.abs(fd-mc.y);return gc<440&&Iv<345});let qt=0;const ns=20;let pc;do{const br=300+qt*50,fd=(Math.random()-.5)*br*2,mc=(Math.random()-.5)*br*2;pc={x:2e3+fd,y:2e3+mc},qt++}while(wr(pc.x,pc.y)&&qt<ns);return pc},Ne=ye=>Ae.has(ye),Pe=ye=>{Ke(ve=>{const Se=new Set(ve);return Se.has(ye)?Se.delete(ye):Se.add(ye),Se})},Je=ye=>lt.has(ye),ae=ye=>{pe(ve=>{const Se=new Set(ve);return Se.has(ye)?Se.delete(ye):Se.add(ye),Se})},Ie=ye=>we.has(ye),Ee=ye=>{Y(ve=>{const Se=new Set(ve);return Se.has(ye)?Se.delete(ye):Se.add(ye),Se})};y.useEffect(()=>{const ye=()=>{N(window.innerWidth<768)};return ye(),window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[]),y.useEffect(()=>{(async()=>{try{s(!0),o(null);const ve=await M3(D);n(ve)}catch(ve){console.error("Error fetching lists:",ve),o("Failed to load lists. Please try again.")}finally{s(!1)}})()},[D,L]),y.useEffect(()=>{D&&(async()=>{try{l(!0),O(null);const ve=await pfe(D);G(ve)}catch(ve){console.error("Error fetching notes:",ve);const Se=ve instanceof Error?ve.message:"Failed to load notes. Please try again.";O(Se),L({title:"Error fetching notes",description:Se,variant:"destructive"})}finally{l(!1)}})()},[D,L]),y.useEffect(()=>{D&&(async()=>{try{d(!0),K(null);const ve=await yfe(D);re(ve)}catch(ve){console.error("Error fetching whiteboards:",ve);const Se=ve instanceof Error?ve.message:"Failed to load whiteboards. Please try again.";K(Se),L({title:"Error fetching whiteboards",description:Se,variant:"destructive"})}finally{d(!1)}})()},[D,L]),y.useEffect(()=>{const ye=ve=>{if(it){const Se=ve.target;!Se.closest("#new-canvas-button")&&!Se.closest(".context-menu")&&kt(!1)}};return document.addEventListener("mousedown",ye),()=>document.removeEventListener("mousedown",ye)},[it]);const Le=async(ye,ve,Se,Ue)=>{try{!Oe(ve)&&ve!=="General"&&await ce({name:ve,color_value:Se});const Ye={title:ye,content:"",color_value:Se,position_x:Ue.x,position_y:Ue.y,width:570,height:350,z_index:0},Ft=await GA(Ye,D);G(bn=>[Ft,...bn]),B(!1)}catch(Ye){console.error("Failed to create note:",Ye);const Ft=Ye instanceof Error?Ye.message:"Could not create your note. Please try again.";L({title:"Error creating note",description:Ft,variant:"destructive"})}},ft=async(ye,ve)=>{try{const Se=await mfe(ye,ve,D);return G(Ue=>Ue.map(Ye=>Ye.id===ye?Se:Ye)),Se}catch(Se){console.error("Failed to update note:",Se);const Ue=Se instanceof Error?Se.message:"Could not update your note. Please try again.";return L({title:"Error updating note",description:Ue,variant:"destructive"}),null}},gt=async ye=>{try{return await gfe(ye,D),G(ve=>ve.filter(Se=>Se.id!==ye)),L({title:"Note deleted",description:"Your note has been successfully removed."}),!0}catch(ve){console.error("Failed to delete note:",ve);const Se=ve instanceof Error?ve.message:"Could not delete your note. Please try again.";return L({title:"Error deleting note",description:Se,variant:"destructive"}),!1}},Ln=async(ye,ve,Se,Ue)=>{try{!Oe(ve)&&ve!=="General"&&await ce({name:ve,color_value:Se});const Ye={title:ye,category:ve,canvas_data:'{"paths": [], "shapes": []}',canvas_width:750,canvas_height:620,background_color:"#FFFFFF",position_x:Ue.x,position_y:Ue.y,z_index:0,color_value:Se};console.log("handleCreateWhiteboard payload:",Ye);const Ft=await vfe(Ye,D);re(bn=>[Ft,...bn])}catch(Ye){console.error("Failed to create whiteboard:",Ye);const Ft=Ye instanceof Error?Ye.message:"Could not create your whiteboard. Please try again.";L({title:"Error creating whiteboard",description:Ft,variant:"destructive"})}},mn=async(ye,ve)=>{try{console.log("🎨 CanvasPage: Updating whiteboard:",{whiteboardId:ye,updatedFields:Object.keys(ve),hasCanvasData:!!ve.canvas_data,canvasDataType:typeof ve.canvas_data,canvasDataPreview:ve.canvas_data?JSON.stringify(ve.canvas_data).substring(0,200):"N/A"});const Se=await xfe(ye,ve,D);return console.log("🎨 CanvasPage: Whiteboard update response:",{whiteboardId:Se.id,hasCanvasData:!!Se.canvas_data,canvasDataType:typeof Se.canvas_data,updatedAt:Se.updated_at}),re(Ue=>Ue.map(Ye=>Ye.id===ye?Se:Ye)),Se}catch(Se){console.error("Failed to update whiteboard:",Se);const Ue=Se instanceof Error?Se.message:"Could not update your whiteboard. Please try again.";return L({title:"Error updating whiteboard",description:Ue,variant:"destructive"}),null}},Zi=async ye=>{try{return await wfe(ye,D),re(ve=>ve.filter(Se=>Se.id!==ye)),L({title:"Whiteboard deleted",description:"Your whiteboard has been successfully removed."}),!0}catch(ve){console.error("Failed to delete whiteboard:",ve);const Se=ve instanceof Error?ve.message:"Could not delete your whiteboard. Please try again.";return L({title:"Error deleting whiteboard",description:Se,variant:"destructive"}),!1}},Ws=async(ye,ve,Se)=>{try{const Ue=le();!Oe(ve)&&ve!=="General"&&await ce({name:ve,color_value:Se});const Ye=await A3({title:ye,type:ve,items:[],position_x:Ue.x,position_y:Ue.y},D),Ft={id:Ye.id,title:Ye.title,type:Ye.type||"General",items:Ye.items||[],createdAt:new Date(Ye.createdAt),position_x:Ye.position_x||Ue.x,position_y:Ye.position_y||Ue.y};n(bn=>[Ft,...bn]),x(!1)}catch(Ue){console.error("Failed to create list:",Ue),L({title:"Error creating list",description:"Could not create your list. Please try again.",variant:"destructive"})}},es=async ye=>{try{await P3(ye,D),n(ve=>ve.map(Se=>Se.id===ye.id?ye:Se))}catch(ve){console.error("Failed to update list:",ve),L({title:"Error updating list",description:"Could not update your list. Please try again.",variant:"destructive"})}},Qt=async ye=>{try{await _3(ye,D),n(ve=>ve.filter(Se=>Se.id!==ye)),L({title:"List deleted",description:"Your list has been successfully removed."})}catch(ve){console.error("Failed to delete list:",ve),L({title:"Error deleting list",description:"Could not delete your list. Please try again.",variant:"destructive"})}},Vt=ye=>{n(ve=>[ye,...ve]),V(!1)},Pn=ye=>{$(ye),B(!0)},qe=ye=>{console.log("handleOpenNewWhiteboardModal called with position:",ye),J(ye),ee(!0)},st=()=>{kt(!1),V(!0)},ut=()=>{kt(!1),$({x:100,y:100}),B(!0)},Gt=()=>{kt(!1),J(le()),ee(!0)},gn=async(ye,ve,Se)=>{try{!Oe(ve)&&ve!=="General"&&await ce({name:ve,color_value:Se});const Ue=le(),Ye=await GA({title:ye,content:"",color_value:Se,position_x:Ue.x,position_y:Ue.y,width:570,height:350,z_index:0},D);G(Ft=>[Ye,...Ft]),S(!1)}catch(Ue){console.error("Failed to create note:",Ue),L({title:"Error creating note",description:"Could not create your note. Please try again.",variant:"destructive"})}};if(f)return p.jsxs("div",{className:"flex flex-col h-screen",children:[p.jsx("div",{className:"bg-background border-b border-border relative z-10",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsx("div",{className:"py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("h1",{className:"text-xl font-semibold italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif',color:e==="dark"?"#ffffff":"#374151"},children:"MY CANVAS"}),p.jsxs("div",{className:"relative hidden sm:block ml-4",children:[p.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),p.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-48 h-9"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[p.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-12 h-6"}),p.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-20 h-9"})]})]})}),p.jsx("div",{className:"sm:hidden pb-4",children:p.jsxs("div",{className:"relative",children:[p.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),p.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-full h-9"})]})})]})}),p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),p.jsx("span",{className:"text-lg",style:{color:e==="dark"?"#ffffff":"#374151"},children:"Loading Canvas..."})]})})]});if(r)return p.jsxs("div",{className:"",children:[p.jsx("div",{className:"bg-background border-b border-border",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsx("div",{className:"py-4",children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h1",{className:"text-xl font-semibold italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif',color:e==="dark"?"#ffffff":"#374151"},children:"MY CANVAS"}),p.jsxs("div",{className:"relative hidden sm:block ml-4",children:[p.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),p.jsx(hn,{placeholder:"Search lists...",value:m,onChange:ye=>g(ye.target.value),className:"pl-10 w-48 h-9",disabled:!0})]})]})})})})}),p.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[p.jsxs("div",{className:"text-destructive text-lg mb-4",children:["⚠️ ",r]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Retry"})]})]});const jt=()=>Array.from(new Set(fe.filter(Boolean))),ln=()=>{const{filteredLists:ye,filteredNotes:ve,filteredWhiteboards:Se}=tt(C);let Ue=[...ye];m&&(Ue=Ue.filter(bn=>bn.title.toLowerCase().includes(m.toLowerCase())||bn.items&&bn.items.some(wr=>{var qt;return(qt=wr.text)==null?void 0:qt.toLowerCase().includes(m.toLowerCase())})));let Ye=[...ve];m&&(Ye=Ye.filter(bn=>{var wr,qt;return((wr=bn.title)==null?void 0:wr.toLowerCase().includes(m.toLowerCase()))||((qt=bn.content)==null?void 0:qt.toLowerCase().includes(m.toLowerCase()))}));let Ft=[...Se];return m&&(Ft=Ft.filter(bn=>{var wr;return(wr=bn.title)==null?void 0:wr.toLowerCase().includes(m.toLowerCase())})),{filteredLists:Ue,filteredNotes:Ye,filteredWhiteboards:Ft}},Kt=()=>{const ye={};return t.forEach(ve=>{const Se=ve.type||"General";ye[Se]=(ye[Se]||0)+1}),A.forEach(ve=>{const Se=ve.category||"General";ye[Se]=(ye[Se]||0)+1}),ye};ln();const rn=()=>p.jsx("div",{className:"bg-background border-b border-border relative z-10",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:[p.jsx("div",{className:"py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("h1",{className:"text-xl font-semibold italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif',color:e==="dark"?"#ffffff":"#374151"},children:"MY CANVAS"}),p.jsxs("div",{className:"relative hidden sm:block ml-4",children:[p.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),p.jsx(hn,{placeholder:"Search canvas...",value:m,onChange:ye=>g(ye.target.value),className:"pl-10 w-48 h-9",style:{fontFamily:'"Raleway", sans-serif'}})]})]}),p.jsx("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:p.jsxs(Me,{id:"new-canvas-button",onClick:ye=>{if(ye.preventDefault(),ye.stopPropagation(),it)kt(!1);else{const ve=document.getElementById("new-canvas-button");if(ve){const Se=ve.getBoundingClientRect();_e({x:Se.left+Se.width/2,y:Se.bottom+5}),kt(!0)}}},size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap font-light",children:[p.jsx(ci,{className:"h-4 w-4 mr-2"})," Add"]})})]})}),p.jsx("div",{className:"sm:hidden pb-4",children:p.jsxs("div",{className:"relative",children:[p.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),p.jsx(hn,{placeholder:"Search canvas...",value:m,onChange:ye=>g(ye.target.value),className:"pl-10 placeholder:font-light",style:{fontFamily:'"Raleway", sans-serif'}})]})})]})}),ts=()=>{const{filteredLists:ye,filteredNotes:ve,filteredWhiteboards:Se}=ln();return p.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-8",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("h3",{className:"text-lg font-light text-foreground flex-shrink-0",children:"Categories"}),p.jsx("div",{className:"flex gap-2 overflow-x-auto flex-1 pb-2 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:jt().map(Ue=>{const Ye=Kt()[Ue]||0,Ft=C===Ue;return p.jsxs(Me,{variant:Ft?"default":"outline",size:"sm",onClick:()=>{k(Ft?null:Ue)},className:`capitalize font-light whitespace-nowrap flex-shrink-0 ${Ft?"bg-blue-600 hover:bg-blue-700 text-white":""}`,children:[Ue," (",Ye,")"]},Ue)})})]}),ye.length===0&&ve.length===0&&Se.length===0?p.jsx("div",{className:"text-center py-12",children:t.length===0&&A.length===0&&Z.length===0?p.jsx("div",{className:"max-w-md mx-auto",children:p.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border p-8",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(ci,{className:"h-8 w-8 text-blue-600"})}),p.jsxs("h3",{className:"text-lg font-light text-foreground mb-6",children:["No content on your canvas",p.jsx("br",{}),"(for now!)"]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[p.jsxs(Me,{onClick:()=>V(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-normal",children:[p.jsx(ci,{className:"h-4 w-4 mr-2"}),"Add List"]}),p.jsxs(Me,{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-normal",children:[p.jsx(ci,{className:"h-4 w-4 mr-2"}),"Add Note"]}),p.jsxs(Me,{onClick:()=>{const Ue=le();J(Ue),ee(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-normal",children:[p.jsx(ci,{className:"h-4 w-4 mr-2"}),"Add Whiteboard"]})]})]})}):p.jsxs("div",{className:"text-muted-foreground",children:[p.jsx(Li,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"No content matches your search criteria."})]})}):p.jsxs(p.Fragment,{children:[ye.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("h2",{className:"text-xl font-light text-foreground mb-6 flex items-center gap-2",children:[p.jsx(Ay,{className:"h-5 w-5 text-muted-foreground"}),"My Lists"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ye.map(Ue=>p.jsx(YC,{list:Ue,onUpdate:es,onDelete:Qt,existingCategories:ue,isCollapsed:Ne(Ue.id),onToggleCollapsed:()=>Pe(Ue.id),addCategory:ce,updateCategory:ze},Ue.id))})]}),ve.length>0&&p.jsxs("div",{className:ye.length>0?"mt-12":"",children:[p.jsxs("h2",{className:"text-xl font-light text-foreground mb-6 flex items-center gap-2",children:[p.jsx(kh,{className:"h-5 w-5 text-muted-foreground"}),"My Notes"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ve.map(Ue=>p.jsx(j$,{note:Ue,onUpdate:async(Ye,Ft)=>{await ft(Ye,Ft)},onDelete:async Ye=>{await gt(Ye)},existingCategories:ue,isCollapsed:Je(Ue.id),onToggleCollapsed:()=>ae(Ue.id),updateCategory:ze},Ue.id))})]}),Se.length>0&&p.jsxs("div",{className:ye.length>0||ve.length>0?"mt-12":"",children:[p.jsxs("h2",{className:"text-xl font-light text-foreground mb-6 flex items-center gap-2",children:[p.jsx(qu,{className:"h-5 w-5 text-muted-foreground"}),"My Whiteboards"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Se.map(Ue=>p.jsx(n5,{whiteboard:Ue,onUpdate:async(Ye,Ft)=>await mn(Ye,Ft),onDelete:async Ye=>await Zi(Ye),existingCategories:ue,isCollapsed:Ie(Ue.id),onToggleCollapsed:()=>Ee(Ue.id),updateCategory:ze},Ue.id))})]})]})]})};return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:`
        ${T?"":`
          body { overflow: hidden !important; }
          html { overflow: hidden !important; }
        `}
        
        /* Hide scrollbar for horizontal category scrolling */
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `}),p.jsxs("div",{className:`w-full flex flex-col ${T?"min-h-screen":"h-[calc(100vh-4rem)] overflow-hidden"}`,children:[p.jsx(rn,{}),f?p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),p.jsx("span",{className:"text-lg",style:{color:e==="dark"?"#ffffff":"#374151"},children:"Loading Canvas..."})]})}):r?p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[p.jsxs("div",{className:"text-destructive text-lg mb-4",children:["⚠️ ",r]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Retry"})]}):T?p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsx(ts,{})}):p.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] absolute inset-x-0",style:{top:0,bottom:0},children:p.jsx(_0e,{existingCategories:ue,searchQuery:m,onOpenNewNoteModal:Pn,notes:A,onNoteUpdate:ft,onNoteDelete:gt,whiteboards:Z,onWhiteboardUpdate:mn,onWhiteboardDelete:Zi,onOpenNewWhiteboardModal:qe,addCategory:ce,updateCategory:ze,onReady:ye=>{De.current||(De.current=ye,console.log("Canvas methods ready:",ye))}})}),p.jsx(dF,{isOpen:v,onClose:()=>x(!1),onCreateList:Ws,existingCategories:fe}),p.jsx(I0e,{isOpen:w,onClose:()=>S(!1),onCreateNote:gn,existingCategories:fe}),M&&I&&p.jsx(D0e,{isOpen:M,onClose:()=>B(!1),onCreateNote:Le,initialPosition:I,existingCategories:fe}),H&&X&&p.jsx(j0e,{isOpen:H,onClose:()=>ee(!1),onCreateWhiteboard:Ln,initialPosition:X,existingCategories:fe}),W&&p.jsx(I3,{isOpen:W,onClose:()=>V(!1),onListCreated:Vt,existingCategories:fe,position:le()}),it&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,pointerEvents:"auto"},onClick:()=>kt(!1),children:p.jsx(R3,{position:{x:0,y:0},absolutePosition:Ot,onAddList:st,onAddNote:ut,onAddWhiteboard:Gt,onClose:()=>kt(!1),isFromButton:!0})})]})]})},z0e=new JJ,$0e="761425672348-63ncpr61i8hv48l94ljju4uloahreohs.apps.googleusercontent.com",B0e=()=>{const{currentUser:e,loading:t}=Si();return t?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):e?p.jsx(Bb,{to:"/canvas",replace:!0}):p.jsx(Bb,{to:"/home",replace:!0})},W0e=()=>{const e=Qa(),[t,n]=y.useState(window.innerWidth>=768);y.useEffect(()=>{const i=()=>{n(window.innerWidth>=768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const o=!(e.pathname==="/canvas")||!t;return p.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[p.jsx(Lte,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(qQ,{children:[p.jsx(gs,{path:"/",element:p.jsx(B0e,{})}),p.jsx(gs,{path:"/home",element:p.jsx(zte,{})}),p.jsx(gs,{path:"/auth/callback",element:p.jsx(xie,{})}),p.jsx(gs,{path:"/help/*",element:p.jsx(ufe,{})}),p.jsxs(gs,{element:p.jsx(dfe,{}),children:[p.jsx(gs,{path:"/lists",element:p.jsx(yie,{})}),p.jsx(gs,{path:"/canvas",element:p.jsx(F0e,{})})]}),p.jsx(gs,{path:"*",element:p.jsx(vie,{})})]})}),o&&p.jsx(Fte,{})]})},U0e=()=>p.jsx(ZJ,{client:z0e,children:p.jsx(TJ,{children:p.jsx(SY,{attribute:"class",defaultTheme:"light",enableSystem:!1,themes:["light","dark"],children:p.jsx(aZ,{clientId:$0e,children:p.jsx(dZ,{children:p.jsxs(fZ,{children:[p.jsx(xY,{}),p.jsx(eX,{}),p.jsx(tZ,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:p.jsx(W0e,{})})]})})})})})});FI(document.getElementById("root")).render(p.jsx(U0e,{}));
