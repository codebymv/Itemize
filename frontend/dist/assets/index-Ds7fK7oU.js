var vE=t=>{throw TypeError(t)};var $v=(t,e,n)=>e.has(t)||vE("Cannot "+n);var ce=(t,e,n)=>($v(t,e,"read from private field"),n?n.call(t):e.get(t)),Nt=(t,e,n)=>e.has(t)?vE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ct=(t,e,n,r)=>($v(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qn=(t,e,n)=>($v(t,e,"access private method"),n);var Vh=(t,e,n,r)=>({set _(o){ct(t,e,o,n)},get _(){return ce(t,e,r)}});function p8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DM={exports:{}},ig={},jM={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=Symbol.for("react.element"),m8=Symbol.for("react.portal"),g8=Symbol.for("react.fragment"),y8=Symbol.for("react.strict_mode"),v8=Symbol.for("react.profiler"),x8=Symbol.for("react.provider"),w8=Symbol.for("react.context"),b8=Symbol.for("react.forward_ref"),C8=Symbol.for("react.suspense"),S8=Symbol.for("react.memo"),k8=Symbol.for("react.lazy"),xE=Symbol.iterator;function E8(t){return t===null||typeof t!="object"?null:(t=xE&&t[xE]||t["@@iterator"],typeof t=="function"?t:null)}var LM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FM=Object.assign,$M={};function du(t,e,n){this.props=t,this.context=e,this.refs=$M,this.updater=n||LM}du.prototype.isReactComponent={};du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zM(){}zM.prototype=du.prototype;function fb(t,e,n){this.props=t,this.context=e,this.refs=$M,this.updater=n||LM}var hb=fb.prototype=new zM;hb.constructor=fb;FM(hb,du.prototype);hb.isPureReactComponent=!0;var wE=Array.isArray,BM=Object.prototype.hasOwnProperty,pb={current:null},WM={key:!0,ref:!0,__self:!0,__source:!0};function UM(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)BM.call(e,r)&&!WM.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Rf,type:t,key:s,ref:i,props:o,_owner:pb.current}}function N8(t,e){return{$$typeof:Rf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rf}function T8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bE=/\/+/g;function zv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T8(""+t.key):e.toString(36)}function Ap(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Rf:case m8:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+zv(i,0):r,wE(o)?(n="",t!=null&&(n=t.replace(bE,"$&/")+"/"),Ap(o,e,n,"",function(u){return u})):o!=null&&(mb(o)&&(o=N8(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(bE,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",wE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+zv(s,a);i+=Ap(s,e,n,l,o)}else if(l=E8(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+zv(s,a++),i+=Ap(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Gh(t,e,n){if(t==null)return t;var r=[],o=0;return Ap(t,r,"","",function(s){return e.call(n,s,o++)}),r}function R8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},_p={transition:null},M8={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:_p,ReactCurrentOwner:pb};function HM(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Gh,forEach:function(t,e,n){Gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gh(t,function(){e++}),e},toArray:function(t){return Gh(t,function(e){return e})||[]},only:function(t){if(!mb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=du;xt.Fragment=g8;xt.Profiler=v8;xt.PureComponent=fb;xt.StrictMode=y8;xt.Suspense=C8;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M8;xt.act=HM;xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FM({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=pb.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BM.call(e,l)&&!WM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Rf,type:t.type,key:o,ref:s,props:r,_owner:i}};xt.createContext=function(t){return t={$$typeof:w8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x8,_context:t},t.Consumer=t};xt.createElement=UM;xt.createFactory=function(t){var e=UM.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:b8,render:t}};xt.isValidElement=mb;xt.lazy=function(t){return{$$typeof:k8,_payload:{_status:-1,_result:t},_init:R8}};xt.memo=function(t,e){return{$$typeof:S8,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=_p.transition;_p.transition={};try{t()}finally{_p.transition=e}};xt.unstable_act=HM;xt.useCallback=function(t,e){return br.current.useCallback(t,e)};xt.useContext=function(t){return br.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return br.current.useDeferredValue(t)};xt.useEffect=function(t,e){return br.current.useEffect(t,e)};xt.useId=function(){return br.current.useId()};xt.useImperativeHandle=function(t,e,n){return br.current.useImperativeHandle(t,e,n)};xt.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return br.current.useMemo(t,e)};xt.useReducer=function(t,e,n){return br.current.useReducer(t,e,n)};xt.useRef=function(t){return br.current.useRef(t)};xt.useState=function(t){return br.current.useState(t)};xt.useSyncExternalStore=function(t,e,n){return br.current.useSyncExternalStore(t,e,n)};xt.useTransition=function(){return br.current.useTransition()};xt.version="18.3.1";jM.exports=xt;var m=jM.exports;const se=IM(m),gb=p8({__proto__:null,default:se},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=m,_8=Symbol.for("react.element"),O8=Symbol.for("react.fragment"),P8=Object.prototype.hasOwnProperty,I8=A8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D8={key:!0,ref:!0,__self:!0,__source:!0};function VM(t,e,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)P8.call(e,r)&&!D8.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:_8,type:t,key:s,ref:i,props:o,_owner:I8.current}}ig.Fragment=O8;ig.jsx=VM;ig.jsxs=VM;DM.exports=ig;var h=DM.exports,GM={exports:{}},oo={},KM={exports:{}},qM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,P){var B=I.length;I.push(P);e:for(;0<B;){var G=B-1>>>1,j=I[G];if(0<o(j,P))I[G]=P,I[B]=j,B=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],B=I.pop();if(B!==P){I[0]=B;e:for(var G=0,j=I.length,Z=j>>>1;G<Z;){var Q=2*(G+1)-1,ee=I[Q],ne=Q+1,H=I[ne];if(0>o(ee,B))ne<j&&0>o(H,ee)?(I[G]=H,I[ne]=B,G=ne):(I[G]=ee,I[Q]=B,G=Q);else if(ne<j&&0>o(H,B))I[G]=H,I[ne]=B,G=ne;else break e}}return P}function o(I,P){var B=I.sortIndex-P.sortIndex;return B!==0?B:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],f=1,p=null,g=3,y=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(I){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=I)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function T(I){if(w=!1,k(I),!b)if(n(l)!==null)b=!0,J(N);else{var P=n(u);P!==null&&X(T,P.startTime-I)}}function N(I,P){b=!1,w&&(w=!1,C(M),M=-1),y=!0;var B=g;try{for(k(P),p=n(l);p!==null&&(!(p.expirationTime>P)||I&&!z());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var j=G(p.expirationTime<=P);P=t.unstable_now(),typeof j=="function"?p.callback=j:p===n(l)&&r(l),k(P)}else r(l);p=n(l)}if(p!==null)var Z=!0;else{var Q=n(u);Q!==null&&X(T,Q.startTime-P),Z=!1}return Z}finally{p=null,g=B,y=!1}}var A=!1,_=null,M=-1,L=5,F=-1;function z(){return!(t.unstable_now()-F<L)}function U(){if(_!==null){var I=t.unstable_now();F=I;var P=!0;try{P=_(!0,I)}finally{P?K():(A=!1,_=null)}}else A=!1}var K;if(typeof S=="function")K=function(){S(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=U,K=function(){te.postMessage(null)}}else K=function(){x(U,0)};function J(I){_=I,A||(A=!0,K())}function X(I,P){M=x(function(){I(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,J(N))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var B=g;g=P;try{return I()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=g;g=I;try{return P()}finally{g=B}},t.unstable_scheduleCallback=function(I,P,B){var G=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,I){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=B+j,I={id:f++,callback:P,priorityLevel:I,startTime:B,expirationTime:j,sortIndex:-1},B>G?(I.sortIndex=B,e(u,I),n(l)===null&&I===n(u)&&(w?(C(M),M=-1):w=!0,X(T,B-G))):(I.sortIndex=j,e(l,I),b||y||(b=!0,J(N))),I},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(I){var P=g;return function(){var B=g;g=P;try{return I.apply(this,arguments)}finally{g=B}}}})(qM);KM.exports=qM;var j8=KM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8=m,no=j8;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YM=new Set,Fd={};function Dl(t,e){Yc(t,e),Yc(t+"Capture",e)}function Yc(t,e){for(Fd[t]=e,t=0;t<e.length;t++)YM.add(e[t])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cx=Object.prototype.hasOwnProperty,F8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CE={},SE={};function $8(t){return cx.call(SE,t)?!0:cx.call(CE,t)?!1:F8.test(t)?SE[t]=!0:(CE[t]=!0,!1)}function z8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B8(t,e,n,r){if(e===null||typeof e>"u"||z8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cr(t,e,n,r,o,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new Cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new Cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new Cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new Cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new Cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new Cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new Cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new Cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new Cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var yb=/[\-:]([a-z])/g;function vb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yb,vb);Kn[e]=new Cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yb,vb);Kn[e]=new Cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yb,vb);Kn[e]=new Cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new Cr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new Cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new Cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function xb(t,e,n,r){var o=Kn.hasOwnProperty(e)?Kn[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B8(e,n,o,r)&&(n=null),r||o===null?$8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=L8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kh=Symbol.for("react.element"),pc=Symbol.for("react.portal"),mc=Symbol.for("react.fragment"),wb=Symbol.for("react.strict_mode"),ux=Symbol.for("react.profiler"),JM=Symbol.for("react.provider"),XM=Symbol.for("react.context"),bb=Symbol.for("react.forward_ref"),dx=Symbol.for("react.suspense"),fx=Symbol.for("react.suspense_list"),Cb=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),QM=Symbol.for("react.offscreen"),kE=Symbol.iterator;function Ju(t){return t===null||typeof t!="object"?null:(t=kE&&t[kE]||t["@@iterator"],typeof t=="function"?t:null)}var an=Object.assign,Bv;function dd(t){if(Bv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bv=e&&e[1]||""}return`
`+Bv+t}var Wv=!1;function Uv(t,e){if(!t||Wv)return"";Wv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Wv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dd(t):""}function W8(t){switch(t.tag){case 5:return dd(t.type);case 16:return dd("Lazy");case 13:return dd("Suspense");case 19:return dd("SuspenseList");case 0:case 2:case 15:return t=Uv(t.type,!1),t;case 11:return t=Uv(t.type.render,!1),t;case 1:return t=Uv(t.type,!0),t;default:return""}}function hx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mc:return"Fragment";case pc:return"Portal";case ux:return"Profiler";case wb:return"StrictMode";case dx:return"Suspense";case fx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XM:return(t.displayName||"Context")+".Consumer";case JM:return(t._context.displayName||"Context")+".Provider";case bb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cb:return e=t.displayName||null,e!==null?e:hx(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return hx(t(e))}catch{}}return null}function U8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hx(e);case 8:return e===wb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function va(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H8(t){var e=ZM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qh(t){t._valueTracker||(t._valueTracker=H8(t))}function eA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function px(t,e){var n=e.checked;return an({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function EE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=va(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tA(t,e){e=e.checked,e!=null&&xb(t,"checked",e,!1)}function mx(t,e){tA(t,e);var n=va(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gx(t,e.type,n):e.hasOwnProperty("defaultValue")&&gx(t,e.type,va(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gx(t,e,n){(e!=="number"||rm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fd=Array.isArray;function Rc(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+va(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function yx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return an({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function TE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(fd(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:va(n)}}function nA(t,e){var n=va(e.value),r=va(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yh,oA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yh=Yh||document.createElement("div"),Yh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $d(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V8=["Webkit","ms","Moz","O"];Object.keys(bd).forEach(function(t){V8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bd[e]=bd[t]})});function sA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bd.hasOwnProperty(t)&&bd[t]?(""+e).trim():e+"px"}function iA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=sA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var G8=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xx(t,e){if(e){if(G8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function wx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bx=null;function Sb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cx=null,Mc=null,Ac=null;function ME(t){if(t=_f(t)){if(typeof Cx!="function")throw Error(be(280));var e=t.stateNode;e&&(e=dg(e),Cx(t.stateNode,t.type,e))}}function aA(t){Mc?Ac?Ac.push(t):Ac=[t]:Mc=t}function lA(){if(Mc){var t=Mc,e=Ac;if(Ac=Mc=null,ME(t),e)for(t=0;t<e.length;t++)ME(e[t])}}function cA(t,e){return t(e)}function uA(){}var Hv=!1;function dA(t,e,n){if(Hv)return t(e,n);Hv=!0;try{return cA(t,e,n)}finally{Hv=!1,(Mc!==null||Ac!==null)&&(uA(),lA())}}function zd(t,e){var n=t.stateNode;if(n===null)return null;var r=dg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var Sx=!1;if(ci)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){Sx=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Sx=!1}function K8(t,e,n,r,o,s,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Cd=!1,om=null,sm=!1,kx=null,q8={onError:function(t){Cd=!0,om=t}};function Y8(t,e,n,r,o,s,i,a,l){Cd=!1,om=null,K8.apply(q8,arguments)}function J8(t,e,n,r,o,s,i,a,l){if(Y8.apply(this,arguments),Cd){if(Cd){var u=om;Cd=!1,om=null}else throw Error(be(198));sm||(sm=!0,kx=u)}}function jl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function AE(t){if(jl(t)!==t)throw Error(be(188))}function X8(t){var e=t.alternate;if(!e){if(e=jl(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return AE(o),t;if(s===r)return AE(o),e;s=s.sibling}throw Error(be(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function hA(t){return t=X8(t),t!==null?pA(t):null}function pA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pA(t);if(e!==null)return e;t=t.sibling}return null}var mA=no.unstable_scheduleCallback,_E=no.unstable_cancelCallback,Q8=no.unstable_shouldYield,Z8=no.unstable_requestPaint,gn=no.unstable_now,eW=no.unstable_getCurrentPriorityLevel,kb=no.unstable_ImmediatePriority,gA=no.unstable_UserBlockingPriority,im=no.unstable_NormalPriority,tW=no.unstable_LowPriority,yA=no.unstable_IdlePriority,ag=null,Es=null;function nW(t){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(ag,t,void 0,(t.current.flags&128)===128)}catch{}}var Yo=Math.clz32?Math.clz32:sW,rW=Math.log,oW=Math.LN2;function sW(t){return t>>>=0,t===0?32:31-(rW(t)/oW|0)|0}var Jh=64,Xh=4194304;function hd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function am(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=hd(a):(s&=i,s!==0&&(r=hd(s)))}else i=n&~o,i!==0?r=hd(i):s!==0&&(r=hd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yo(e),o=1<<n,r|=t[n],e&=~o;return r}function iW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-Yo(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=iW(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ex(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vA(){var t=Jh;return Jh<<=1,!(Jh&4194240)&&(Jh=64),t}function Vv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yo(e),t[e]=n}function lW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Yo(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function Eb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yo(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Ot=0;function xA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wA,Nb,bA,CA,SA,Nx=!1,Qh=[],oa=null,sa=null,ia=null,Bd=new Map,Wd=new Map,Ui=[],cW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OE(t,e){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Bd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wd.delete(e.pointerId)}}function Qu(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=_f(e),e!==null&&Nb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function uW(t,e,n,r,o){switch(e){case"focusin":return oa=Qu(oa,t,e,n,r,o),!0;case"dragenter":return sa=Qu(sa,t,e,n,r,o),!0;case"mouseover":return ia=Qu(ia,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Bd.set(s,Qu(Bd.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Wd.set(s,Qu(Wd.get(s)||null,t,e,n,r,o)),!0}return!1}function kA(t){var e=Za(t.target);if(e!==null){var n=jl(e);if(n!==null){if(e=n.tag,e===13){if(e=fA(n),e!==null){t.blockedOn=e,SA(t.priority,function(){bA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Op(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bx=r,n.target.dispatchEvent(r),bx=null}else return e=_f(n),e!==null&&Nb(e),t.blockedOn=n,!1;e.shift()}return!0}function PE(t,e,n){Op(t)&&n.delete(e)}function dW(){Nx=!1,oa!==null&&Op(oa)&&(oa=null),sa!==null&&Op(sa)&&(sa=null),ia!==null&&Op(ia)&&(ia=null),Bd.forEach(PE),Wd.forEach(PE)}function Zu(t,e){t.blockedOn===e&&(t.blockedOn=null,Nx||(Nx=!0,no.unstable_scheduleCallback(no.unstable_NormalPriority,dW)))}function Ud(t){function e(o){return Zu(o,t)}if(0<Qh.length){Zu(Qh[0],t);for(var n=1;n<Qh.length;n++){var r=Qh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oa!==null&&Zu(oa,t),sa!==null&&Zu(sa,t),ia!==null&&Zu(ia,t),Bd.forEach(e),Wd.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)kA(n),n.blockedOn===null&&Ui.shift()}var _c=yi.ReactCurrentBatchConfig,lm=!0;function fW(t,e,n,r){var o=Ot,s=_c.transition;_c.transition=null;try{Ot=1,Tb(t,e,n,r)}finally{Ot=o,_c.transition=s}}function hW(t,e,n,r){var o=Ot,s=_c.transition;_c.transition=null;try{Ot=4,Tb(t,e,n,r)}finally{Ot=o,_c.transition=s}}function Tb(t,e,n,r){if(lm){var o=Tx(t,e,n,r);if(o===null)t0(t,e,r,cm,n),OE(t,r);else if(uW(o,t,e,n,r))r.stopPropagation();else if(OE(t,r),e&4&&-1<cW.indexOf(t)){for(;o!==null;){var s=_f(o);if(s!==null&&wA(s),s=Tx(t,e,n,r),s===null&&t0(t,e,r,cm,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else t0(t,e,r,null,n)}}var cm=null;function Tx(t,e,n,r){if(cm=null,t=Sb(r),t=Za(t),t!==null)if(e=jl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cm=t,null}function EA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eW()){case kb:return 1;case gA:return 4;case im:case tW:return 16;case yA:return 536870912;default:return 16}default:return 16}}var Xi=null,Rb=null,Pp=null;function NA(){if(Pp)return Pp;var t,e=Rb,n=e.length,r,o="value"in Xi?Xi.value:Xi.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return Pp=o.slice(t,1<r?1-r:void 0)}function Ip(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zh(){return!0}function IE(){return!1}function so(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zh:IE,this.isPropagationStopped=IE,this}return an(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zh)},persist:function(){},isPersistent:Zh}),e}var fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mb=so(fu),Af=an({},fu,{view:0,detail:0}),pW=so(Af),Gv,Kv,ed,lg=an({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ab,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ed&&(ed&&t.type==="mousemove"?(Gv=t.screenX-ed.screenX,Kv=t.screenY-ed.screenY):Kv=Gv=0,ed=t),Gv)},movementY:function(t){return"movementY"in t?t.movementY:Kv}}),DE=so(lg),mW=an({},lg,{dataTransfer:0}),gW=so(mW),yW=an({},Af,{relatedTarget:0}),qv=so(yW),vW=an({},fu,{animationName:0,elapsedTime:0,pseudoElement:0}),xW=so(vW),wW=an({},fu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bW=so(wW),CW=an({},fu,{data:0}),jE=so(CW),SW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EW[t])?!!e[t]:!1}function Ab(){return NW}var TW=an({},Af,{key:function(t){if(t.key){var e=SW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ip(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ab,charCode:function(t){return t.type==="keypress"?Ip(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ip(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RW=so(TW),MW=an({},lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LE=so(MW),AW=an({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ab}),_W=so(AW),OW=an({},fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),PW=so(OW),IW=an({},lg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DW=so(IW),jW=[9,13,27,32],_b=ci&&"CompositionEvent"in window,Sd=null;ci&&"documentMode"in document&&(Sd=document.documentMode);var LW=ci&&"TextEvent"in window&&!Sd,TA=ci&&(!_b||Sd&&8<Sd&&11>=Sd),FE=" ",$E=!1;function RA(t,e){switch(t){case"keyup":return jW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gc=!1;function FW(t,e){switch(t){case"compositionend":return MA(e);case"keypress":return e.which!==32?null:($E=!0,FE);case"textInput":return t=e.data,t===FE&&$E?null:t;default:return null}}function $W(t,e){if(gc)return t==="compositionend"||!_b&&RA(t,e)?(t=NA(),Pp=Rb=Xi=null,gc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TA&&e.locale!=="ko"?null:e.data;default:return null}}var zW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zW[t.type]:e==="textarea"}function AA(t,e,n,r){aA(r),e=um(e,"onChange"),0<e.length&&(n=new Mb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kd=null,Hd=null;function BW(t){BA(t,0)}function cg(t){var e=xc(t);if(eA(e))return t}function WW(t,e){if(t==="change")return e}var _A=!1;if(ci){var Yv;if(ci){var Jv="oninput"in document;if(!Jv){var BE=document.createElement("div");BE.setAttribute("oninput","return;"),Jv=typeof BE.oninput=="function"}Yv=Jv}else Yv=!1;_A=Yv&&(!document.documentMode||9<document.documentMode)}function WE(){kd&&(kd.detachEvent("onpropertychange",OA),Hd=kd=null)}function OA(t){if(t.propertyName==="value"&&cg(Hd)){var e=[];AA(e,Hd,t,Sb(t)),dA(BW,e)}}function UW(t,e,n){t==="focusin"?(WE(),kd=e,Hd=n,kd.attachEvent("onpropertychange",OA)):t==="focusout"&&WE()}function HW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cg(Hd)}function VW(t,e){if(t==="click")return cg(e)}function GW(t,e){if(t==="input"||t==="change")return cg(e)}function KW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xo=typeof Object.is=="function"?Object.is:KW;function Vd(t,e){if(Xo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!cx.call(e,o)||!Xo(t[o],e[o]))return!1}return!0}function UE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HE(t,e){var n=UE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UE(n)}}function PA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IA(){for(var t=window,e=rm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rm(t.document)}return e}function Ob(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qW(t){var e=IA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PA(n.ownerDocument.documentElement,n)){if(r!==null&&Ob(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=HE(n,s);var i=HE(n,r);o&&i&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YW=ci&&"documentMode"in document&&11>=document.documentMode,yc=null,Rx=null,Ed=null,Mx=!1;function VE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mx||yc==null||yc!==rm(r)||(r=yc,"selectionStart"in r&&Ob(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ed&&Vd(Ed,r)||(Ed=r,r=um(Rx,"onSelect"),0<r.length&&(e=new Mb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yc)))}function ep(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vc={animationend:ep("Animation","AnimationEnd"),animationiteration:ep("Animation","AnimationIteration"),animationstart:ep("Animation","AnimationStart"),transitionend:ep("Transition","TransitionEnd")},Xv={},DA={};ci&&(DA=document.createElement("div").style,"AnimationEvent"in window||(delete vc.animationend.animation,delete vc.animationiteration.animation,delete vc.animationstart.animation),"TransitionEvent"in window||delete vc.transitionend.transition);function ug(t){if(Xv[t])return Xv[t];if(!vc[t])return t;var e=vc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DA)return Xv[t]=e[n];return t}var jA=ug("animationend"),LA=ug("animationiteration"),FA=ug("animationstart"),$A=ug("transitionend"),zA=new Map,GE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(t,e){zA.set(t,e),Dl(e,[t])}for(var Qv=0;Qv<GE.length;Qv++){var Zv=GE[Qv],JW=Zv.toLowerCase(),XW=Zv[0].toUpperCase()+Zv.slice(1);Ea(JW,"on"+XW)}Ea(jA,"onAnimationEnd");Ea(LA,"onAnimationIteration");Ea(FA,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea($A,"onTransitionEnd");Yc("onMouseEnter",["mouseout","mouseover"]);Yc("onMouseLeave",["mouseout","mouseover"]);Yc("onPointerEnter",["pointerout","pointerover"]);Yc("onPointerLeave",["pointerout","pointerover"]);Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QW=new Set("cancel close invalid load scroll toggle".split(" ").concat(pd));function KE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,J8(r,e,void 0,t),t.currentTarget=null}function BA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;KE(o,a,u),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;KE(o,a,u),s=l}}}if(sm)throw t=kx,sm=!1,kx=null,t}function qt(t,e){var n=e[Ix];n===void 0&&(n=e[Ix]=new Set);var r=t+"__bubble";n.has(r)||(WA(e,t,2,!1),n.add(r))}function e0(t,e,n){var r=0;e&&(r|=4),WA(n,t,r,e)}var tp="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[tp]){t[tp]=!0,YM.forEach(function(n){n!=="selectionchange"&&(QW.has(n)||e0(n,!1,t),e0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tp]||(e[tp]=!0,e0("selectionchange",!1,e))}}function WA(t,e,n,r){switch(EA(e)){case 1:var o=fW;break;case 4:o=hW;break;default:o=Tb}n=o.bind(null,e,n,t),o=void 0,!Sx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function t0(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Za(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}dA(function(){var u=s,f=Sb(n),p=[];e:{var g=zA.get(t);if(g!==void 0){var y=Mb,b=t;switch(t){case"keypress":if(Ip(n)===0)break e;case"keydown":case"keyup":y=RW;break;case"focusin":b="focus",y=qv;break;case"focusout":b="blur",y=qv;break;case"beforeblur":case"afterblur":y=qv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=DE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=gW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_W;break;case jA:case LA:case FA:y=xW;break;case $A:y=PW;break;case"scroll":y=pW;break;case"wheel":y=DW;break;case"copy":case"cut":case"paste":y=bW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=LE}var w=(e&4)!==0,x=!w&&t==="scroll",C=w?g!==null?g+"Capture":null:g;w=[];for(var S=u,k;S!==null;){k=S;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,C!==null&&(T=zd(S,C),T!=null&&w.push(Kd(S,T,k)))),x)break;S=S.return}0<w.length&&(g=new y(g,b,null,n,f),p.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==bx&&(b=n.relatedTarget||n.fromElement)&&(Za(b)||b[ui]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?Za(b):null,b!==null&&(x=jl(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(w=DE,T="onMouseLeave",C="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=LE,T="onPointerLeave",C="onPointerEnter",S="pointer"),x=y==null?g:xc(y),k=b==null?g:xc(b),g=new w(T,S+"leave",y,n,f),g.target=x,g.relatedTarget=k,T=null,Za(f)===u&&(w=new w(C,S+"enter",b,n,f),w.target=k,w.relatedTarget=x,T=w),x=T,y&&b)t:{for(w=y,C=b,S=0,k=w;k;k=oc(k))S++;for(k=0,T=C;T;T=oc(T))k++;for(;0<S-k;)w=oc(w),S--;for(;0<k-S;)C=oc(C),k--;for(;S--;){if(w===C||C!==null&&w===C.alternate)break t;w=oc(w),C=oc(C)}w=null}else w=null;y!==null&&qE(p,g,y,w,!1),b!==null&&x!==null&&qE(p,x,b,w,!0)}}e:{if(g=u?xc(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var N=WW;else if(zE(g))if(_A)N=GW;else{N=HW;var A=UW}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=VW);if(N&&(N=N(t,u))){AA(p,N,n,f);break e}A&&A(t,g,u),t==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&gx(g,"number",g.value)}switch(A=u?xc(u):window,t){case"focusin":(zE(A)||A.contentEditable==="true")&&(yc=A,Rx=u,Ed=null);break;case"focusout":Ed=Rx=yc=null;break;case"mousedown":Mx=!0;break;case"contextmenu":case"mouseup":case"dragend":Mx=!1,VE(p,n,f);break;case"selectionchange":if(YW)break;case"keydown":case"keyup":VE(p,n,f)}var _;if(_b)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else gc?RA(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(TA&&n.locale!=="ko"&&(gc||M!=="onCompositionStart"?M==="onCompositionEnd"&&gc&&(_=NA()):(Xi=f,Rb="value"in Xi?Xi.value:Xi.textContent,gc=!0)),A=um(u,M),0<A.length&&(M=new jE(M,t,null,n,f),p.push({event:M,listeners:A}),_?M.data=_:(_=MA(n),_!==null&&(M.data=_)))),(_=LW?FW(t,n):$W(t,n))&&(u=um(u,"onBeforeInput"),0<u.length&&(f=new jE("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=_))}BA(p,e)})}function Kd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function um(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=zd(t,n),s!=null&&r.unshift(Kd(t,s,o)),s=zd(t,e),s!=null&&r.push(Kd(t,s,o))),t=t.return}return r}function oc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qE(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=zd(n,s),l!=null&&i.unshift(Kd(n,l,a))):o||(l=zd(n,s),l!=null&&i.push(Kd(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var ZW=/\r\n?/g,eU=/\u0000|\uFFFD/g;function YE(t){return(typeof t=="string"?t:""+t).replace(ZW,`
`).replace(eU,"")}function np(t,e,n){if(e=YE(e),YE(t)!==e&&n)throw Error(be(425))}function dm(){}var Ax=null,_x=null;function Ox(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Px=typeof setTimeout=="function"?setTimeout:void 0,tU=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,nU=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(t){return JE.resolve(null).then(t).catch(rU)}:Px;function rU(t){setTimeout(function(){throw t})}function n0(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Ud(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ud(e)}function aa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hu=Math.random().toString(36).slice(2),bs="__reactFiber$"+hu,qd="__reactProps$"+hu,ui="__reactContainer$"+hu,Ix="__reactEvents$"+hu,oU="__reactListeners$"+hu,sU="__reactHandles$"+hu;function Za(t){var e=t[bs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ui]||n[bs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XE(t);t!==null;){if(n=t[bs])return n;t=XE(t)}return e}t=n,n=t.parentNode}return null}function _f(t){return t=t[bs]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function dg(t){return t[qd]||null}var Dx=[],wc=-1;function Na(t){return{current:t}}function Yt(t){0>wc||(t.current=Dx[wc],Dx[wc]=null,wc--)}function Ut(t,e){wc++,Dx[wc]=t.current,t.current=e}var xa={},ir=Na(xa),Or=Na(!1),wl=xa;function Jc(t,e){var n=t.type.contextTypes;if(!n)return xa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pr(t){return t=t.childContextTypes,t!=null}function fm(){Yt(Or),Yt(ir)}function QE(t,e,n){if(ir.current!==xa)throw Error(be(168));Ut(ir,e),Ut(Or,n)}function UA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(be(108,U8(t)||"Unknown",o));return an({},n,r)}function hm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xa,wl=ir.current,Ut(ir,t),Ut(Or,Or.current),!0}function ZE(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=UA(t,e,wl),r.__reactInternalMemoizedMergedChildContext=t,Yt(Or),Yt(ir),Ut(ir,t)):Yt(Or),Ut(Or,n)}var ei=null,fg=!1,r0=!1;function HA(t){ei===null?ei=[t]:ei.push(t)}function iU(t){fg=!0,HA(t)}function Ta(){if(!r0&&ei!==null){r0=!0;var t=0,e=Ot;try{var n=ei;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,fg=!1}catch(o){throw ei!==null&&(ei=ei.slice(t+1)),mA(kb,Ta),o}finally{Ot=e,r0=!1}}return null}var bc=[],Cc=0,pm=null,mm=0,bo=[],Co=0,bl=null,ni=1,ri="";function Ya(t,e){bc[Cc++]=mm,bc[Cc++]=pm,pm=t,mm=e}function VA(t,e,n){bo[Co++]=ni,bo[Co++]=ri,bo[Co++]=bl,bl=t;var r=ni;t=ri;var o=32-Yo(r)-1;r&=~(1<<o),n+=1;var s=32-Yo(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,ni=1<<32-Yo(e)+o|n<<o|r,ri=s+t}else ni=1<<s|n<<o|r,ri=t}function Pb(t){t.return!==null&&(Ya(t,1),VA(t,1,0))}function Ib(t){for(;t===pm;)pm=bc[--Cc],bc[Cc]=null,mm=bc[--Cc],bc[Cc]=null;for(;t===bl;)bl=bo[--Co],bo[Co]=null,ri=bo[--Co],bo[Co]=null,ni=bo[--Co],bo[Co]=null}var Zr=null,Xr=null,Qt=!1,Go=null;function GA(t,e){var n=ko(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zr=t,Xr=aa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zr=t,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bl!==null?{id:ni,overflow:ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ko(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zr=t,Xr=null,!0):!1;default:return!1}}function jx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lx(t){if(Qt){var e=Xr;if(e){var n=e;if(!eN(t,e)){if(jx(t))throw Error(be(418));e=aa(n.nextSibling);var r=Zr;e&&eN(t,e)?GA(r,n):(t.flags=t.flags&-4097|2,Qt=!1,Zr=t)}}else{if(jx(t))throw Error(be(418));t.flags=t.flags&-4097|2,Qt=!1,Zr=t}}}function tN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zr=t}function rp(t){if(t!==Zr)return!1;if(!Qt)return tN(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ox(t.type,t.memoizedProps)),e&&(e=Xr)){if(jx(t))throw KA(),Error(be(418));for(;e;)GA(t,e),e=aa(e.nextSibling)}if(tN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xr=aa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xr=null}}else Xr=Zr?aa(t.stateNode.nextSibling):null;return!0}function KA(){for(var t=Xr;t;)t=aa(t.nextSibling)}function Xc(){Xr=Zr=null,Qt=!1}function Db(t){Go===null?Go=[t]:Go.push(t)}var aU=yi.ReactCurrentBatchConfig;function td(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function op(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nN(t){var e=t._init;return e(t._payload)}function qA(t){function e(C,S){if(t){var k=C.deletions;k===null?(C.deletions=[S],C.flags|=16):k.push(S)}}function n(C,S){if(!t)return null;for(;S!==null;)e(C,S),S=S.sibling;return null}function r(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function o(C,S){return C=da(C,S),C.index=0,C.sibling=null,C}function s(C,S,k){return C.index=k,t?(k=C.alternate,k!==null?(k=k.index,k<S?(C.flags|=2,S):k):(C.flags|=2,S)):(C.flags|=1048576,S)}function i(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,S,k,T){return S===null||S.tag!==6?(S=u0(k,C.mode,T),S.return=C,S):(S=o(S,k),S.return=C,S)}function l(C,S,k,T){var N=k.type;return N===mc?f(C,S,k.props.children,T,k.key):S!==null&&(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&nN(N)===S.type)?(T=o(S,k.props),T.ref=td(C,S,k),T.return=C,T):(T=Bp(k.type,k.key,k.props,null,C.mode,T),T.ref=td(C,S,k),T.return=C,T)}function u(C,S,k,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=d0(k,C.mode,T),S.return=C,S):(S=o(S,k.children||[]),S.return=C,S)}function f(C,S,k,T,N){return S===null||S.tag!==7?(S=fl(k,C.mode,T,N),S.return=C,S):(S=o(S,k),S.return=C,S)}function p(C,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=u0(""+S,C.mode,k),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kh:return k=Bp(S.type,S.key,S.props,null,C.mode,k),k.ref=td(C,null,S),k.return=C,k;case pc:return S=d0(S,C.mode,k),S.return=C,S;case Fi:var T=S._init;return p(C,T(S._payload),k)}if(fd(S)||Ju(S))return S=fl(S,C.mode,k,null),S.return=C,S;op(C,S)}return null}function g(C,S,k,T){var N=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:a(C,S,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kh:return k.key===N?l(C,S,k,T):null;case pc:return k.key===N?u(C,S,k,T):null;case Fi:return N=k._init,g(C,S,N(k._payload),T)}if(fd(k)||Ju(k))return N!==null?null:f(C,S,k,T,null);op(C,k)}return null}function y(C,S,k,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return C=C.get(k)||null,a(S,C,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Kh:return C=C.get(T.key===null?k:T.key)||null,l(S,C,T,N);case pc:return C=C.get(T.key===null?k:T.key)||null,u(S,C,T,N);case Fi:var A=T._init;return y(C,S,k,A(T._payload),N)}if(fd(T)||Ju(T))return C=C.get(k)||null,f(S,C,T,N,null);op(S,T)}return null}function b(C,S,k,T){for(var N=null,A=null,_=S,M=S=0,L=null;_!==null&&M<k.length;M++){_.index>M?(L=_,_=null):L=_.sibling;var F=g(C,_,k[M],T);if(F===null){_===null&&(_=L);break}t&&_&&F.alternate===null&&e(C,_),S=s(F,S,M),A===null?N=F:A.sibling=F,A=F,_=L}if(M===k.length)return n(C,_),Qt&&Ya(C,M),N;if(_===null){for(;M<k.length;M++)_=p(C,k[M],T),_!==null&&(S=s(_,S,M),A===null?N=_:A.sibling=_,A=_);return Qt&&Ya(C,M),N}for(_=r(C,_);M<k.length;M++)L=y(_,C,M,k[M],T),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?M:L.key),S=s(L,S,M),A===null?N=L:A.sibling=L,A=L);return t&&_.forEach(function(z){return e(C,z)}),Qt&&Ya(C,M),N}function w(C,S,k,T){var N=Ju(k);if(typeof N!="function")throw Error(be(150));if(k=N.call(k),k==null)throw Error(be(151));for(var A=N=null,_=S,M=S=0,L=null,F=k.next();_!==null&&!F.done;M++,F=k.next()){_.index>M?(L=_,_=null):L=_.sibling;var z=g(C,_,F.value,T);if(z===null){_===null&&(_=L);break}t&&_&&z.alternate===null&&e(C,_),S=s(z,S,M),A===null?N=z:A.sibling=z,A=z,_=L}if(F.done)return n(C,_),Qt&&Ya(C,M),N;if(_===null){for(;!F.done;M++,F=k.next())F=p(C,F.value,T),F!==null&&(S=s(F,S,M),A===null?N=F:A.sibling=F,A=F);return Qt&&Ya(C,M),N}for(_=r(C,_);!F.done;M++,F=k.next())F=y(_,C,M,F.value,T),F!==null&&(t&&F.alternate!==null&&_.delete(F.key===null?M:F.key),S=s(F,S,M),A===null?N=F:A.sibling=F,A=F);return t&&_.forEach(function(U){return e(C,U)}),Qt&&Ya(C,M),N}function x(C,S,k,T){if(typeof k=="object"&&k!==null&&k.type===mc&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Kh:e:{for(var N=k.key,A=S;A!==null;){if(A.key===N){if(N=k.type,N===mc){if(A.tag===7){n(C,A.sibling),S=o(A,k.props.children),S.return=C,C=S;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&nN(N)===A.type){n(C,A.sibling),S=o(A,k.props),S.ref=td(C,A,k),S.return=C,C=S;break e}n(C,A);break}else e(C,A);A=A.sibling}k.type===mc?(S=fl(k.props.children,C.mode,T,k.key),S.return=C,C=S):(T=Bp(k.type,k.key,k.props,null,C.mode,T),T.ref=td(C,S,k),T.return=C,C=T)}return i(C);case pc:e:{for(A=k.key;S!==null;){if(S.key===A)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){n(C,S.sibling),S=o(S,k.children||[]),S.return=C,C=S;break e}else{n(C,S);break}else e(C,S);S=S.sibling}S=d0(k,C.mode,T),S.return=C,C=S}return i(C);case Fi:return A=k._init,x(C,S,A(k._payload),T)}if(fd(k))return b(C,S,k,T);if(Ju(k))return w(C,S,k,T);op(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(n(C,S.sibling),S=o(S,k),S.return=C,C=S):(n(C,S),S=u0(k,C.mode,T),S.return=C,C=S),i(C)):n(C,S)}return x}var Qc=qA(!0),YA=qA(!1),gm=Na(null),ym=null,Sc=null,jb=null;function Lb(){jb=Sc=ym=null}function Fb(t){var e=gm.current;Yt(gm),t._currentValue=e}function Fx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oc(t,e){ym=t,jb=Sc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_r=!0),t.firstContext=null)}function Mo(t){var e=t._currentValue;if(jb!==t)if(t={context:t,memoizedValue:e,next:null},Sc===null){if(ym===null)throw Error(be(308));Sc=t,ym.dependencies={lanes:0,firstContext:t}}else Sc=Sc.next=t;return e}var el=null;function $b(t){el===null?el=[t]:el.push(t)}function JA(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,$b(e)):(n.next=o.next,o.next=n),e.interleaved=n,di(t,r)}function di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function zb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function la(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,di(t,n)}return o=r.interleaved,o===null?(e.next=e,$b(r)):(e.next=o.next,o.next=e),r.interleaved=e,di(t,n)}function Dp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eb(t,n)}}function rN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vm(t,e,n,r){var o=t.updateQueue;$i=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var p=o.baseState;i=0,f=u=l=null,a=s;do{var g=a.lane,y=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,w=a;switch(g=e,y=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){p=b.call(y,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,g=typeof b=="function"?b.call(y,p,g):b,g==null)break e;p=an({},p,g);break e;case 2:$i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=o.effects,g===null?o.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=y,l=p):f=f.next=y,i|=g;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;g=a,a=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(f===null&&(l=p),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do i|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Sl|=i,t.lanes=i,t.memoizedState=p}}function oN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(be(191,o));o.call(r)}}}var Of={},Ns=Na(Of),Yd=Na(Of),Jd=Na(Of);function tl(t){if(t===Of)throw Error(be(174));return t}function Bb(t,e){switch(Ut(Jd,e),Ut(Yd,t),Ut(Ns,Of),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vx(e,t)}Yt(Ns),Ut(Ns,e)}function Zc(){Yt(Ns),Yt(Yd),Yt(Jd)}function QA(t){tl(Jd.current);var e=tl(Ns.current),n=vx(e,t.type);e!==n&&(Ut(Yd,t),Ut(Ns,n))}function Wb(t){Yd.current===t&&(Yt(Ns),Yt(Yd))}var rn=Na(0);function xm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var o0=[];function Ub(){for(var t=0;t<o0.length;t++)o0[t]._workInProgressVersionPrimary=null;o0.length=0}var jp=yi.ReactCurrentDispatcher,s0=yi.ReactCurrentBatchConfig,Cl=0,on=null,En=null,Mn=null,wm=!1,Nd=!1,Xd=0,lU=0;function Zn(){throw Error(be(321))}function Hb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xo(t[n],e[n]))return!1;return!0}function Vb(t,e,n,r,o,s){if(Cl=s,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jp.current=t===null||t.memoizedState===null?fU:hU,t=n(r,o),Nd){s=0;do{if(Nd=!1,Xd=0,25<=s)throw Error(be(301));s+=1,Mn=En=null,e.updateQueue=null,jp.current=pU,t=n(r,o)}while(Nd)}if(jp.current=bm,e=En!==null&&En.next!==null,Cl=0,Mn=En=on=null,wm=!1,e)throw Error(be(300));return t}function Gb(){var t=Xd!==0;return Xd=0,t}function ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?on.memoizedState=Mn=t:Mn=Mn.next=t,Mn}function Ao(){if(En===null){var t=on.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var e=Mn===null?on.memoizedState:Mn.next;if(e!==null)Mn=e,En=t;else{if(t===null)throw Error(be(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Mn===null?on.memoizedState=Mn=t:Mn=Mn.next=t}return Mn}function Qd(t,e){return typeof e=="function"?e(t):e}function i0(t){var e=Ao(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=En,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,u=s;do{var f=u.lane;if((Cl&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,i=r):l=l.next=p,on.lanes|=f,Sl|=f}u=u.next}while(u!==null&&u!==s);l===null?i=r:l.next=a,Xo(r,e.memoizedState)||(_r=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,on.lanes|=s,Sl|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function a0(t){var e=Ao(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);Xo(s,e.memoizedState)||(_r=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ZA(){}function e2(t,e){var n=on,r=Ao(),o=e(),s=!Xo(r.memoizedState,o);if(s&&(r.memoizedState=o,_r=!0),r=r.queue,Kb(r2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Mn!==null&&Mn.memoizedState.tag&1){if(n.flags|=2048,Zd(9,n2.bind(null,n,r,o,e),void 0,null),On===null)throw Error(be(349));Cl&30||t2(n,e,o)}return o}function t2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function n2(t,e,n,r){e.value=n,e.getSnapshot=r,o2(e)&&s2(t)}function r2(t,e,n){return n(function(){o2(e)&&s2(t)})}function o2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xo(t,n)}catch{return!0}}function s2(t){var e=di(t,1);e!==null&&Jo(e,t,1,-1)}function sN(t){var e=ms();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:t},e.queue=t,t=t.dispatch=dU.bind(null,on,t),[e.memoizedState,t]}function Zd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function i2(){return Ao().memoizedState}function Lp(t,e,n,r){var o=ms();on.flags|=t,o.memoizedState=Zd(1|e,n,void 0,r===void 0?null:r)}function hg(t,e,n,r){var o=Ao();r=r===void 0?null:r;var s=void 0;if(En!==null){var i=En.memoizedState;if(s=i.destroy,r!==null&&Hb(r,i.deps)){o.memoizedState=Zd(e,n,s,r);return}}on.flags|=t,o.memoizedState=Zd(1|e,n,s,r)}function iN(t,e){return Lp(8390656,8,t,e)}function Kb(t,e){return hg(2048,8,t,e)}function a2(t,e){return hg(4,2,t,e)}function l2(t,e){return hg(4,4,t,e)}function c2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u2(t,e,n){return n=n!=null?n.concat([t]):null,hg(4,4,c2.bind(null,e,t),n)}function qb(){}function d2(t,e){var n=Ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f2(t,e){var n=Ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h2(t,e,n){return Cl&21?(Xo(n,e)||(n=vA(),on.lanes|=n,Sl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_r=!0),t.memoizedState=n)}function cU(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=s0.transition;s0.transition={};try{t(!1),e()}finally{Ot=n,s0.transition=r}}function p2(){return Ao().memoizedState}function uU(t,e,n){var r=ua(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},m2(t))g2(e,n);else if(n=JA(t,e,n,r),n!==null){var o=yr();Jo(n,t,r,o),y2(n,e,r)}}function dU(t,e,n){var r=ua(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(m2(t))g2(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Xo(a,i)){var l=e.interleaved;l===null?(o.next=o,$b(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=JA(t,e,o,r),n!==null&&(o=yr(),Jo(n,t,r,o),y2(n,e,r))}}function m2(t){var e=t.alternate;return t===on||e!==null&&e===on}function g2(t,e){Nd=wm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eb(t,n)}}var bm={readContext:Mo,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},fU={readContext:Mo,useCallback:function(t,e){return ms().memoizedState=[t,e===void 0?null:e],t},useContext:Mo,useEffect:iN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lp(4194308,4,c2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lp(4,2,t,e)},useMemo:function(t,e){var n=ms();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ms();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uU.bind(null,on,t),[r.memoizedState,t]},useRef:function(t){var e=ms();return t={current:t},e.memoizedState=t},useState:sN,useDebugValue:qb,useDeferredValue:function(t){return ms().memoizedState=t},useTransition:function(){var t=sN(!1),e=t[0];return t=cU.bind(null,t[1]),ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=on,o=ms();if(Qt){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),On===null)throw Error(be(349));Cl&30||t2(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,iN(r2.bind(null,r,s,t),[t]),r.flags|=2048,Zd(9,n2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ms(),e=On.identifierPrefix;if(Qt){var n=ri,r=ni;n=(r&~(1<<32-Yo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hU={readContext:Mo,useCallback:d2,useContext:Mo,useEffect:Kb,useImperativeHandle:u2,useInsertionEffect:a2,useLayoutEffect:l2,useMemo:f2,useReducer:i0,useRef:i2,useState:function(){return i0(Qd)},useDebugValue:qb,useDeferredValue:function(t){var e=Ao();return h2(e,En.memoizedState,t)},useTransition:function(){var t=i0(Qd)[0],e=Ao().memoizedState;return[t,e]},useMutableSource:ZA,useSyncExternalStore:e2,useId:p2,unstable_isNewReconciler:!1},pU={readContext:Mo,useCallback:d2,useContext:Mo,useEffect:Kb,useImperativeHandle:u2,useInsertionEffect:a2,useLayoutEffect:l2,useMemo:f2,useReducer:a0,useRef:i2,useState:function(){return a0(Qd)},useDebugValue:qb,useDeferredValue:function(t){var e=Ao();return En===null?e.memoizedState=t:h2(e,En.memoizedState,t)},useTransition:function(){var t=a0(Qd)[0],e=Ao().memoizedState;return[t,e]},useMutableSource:ZA,useSyncExternalStore:e2,useId:p2,unstable_isNewReconciler:!1};function Bo(t,e){if(t&&t.defaultProps){e=an({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $x(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:an({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pg={isMounted:function(t){return(t=t._reactInternals)?jl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yr(),o=ua(t),s=ii(r,o);s.payload=e,n!=null&&(s.callback=n),e=la(t,s,o),e!==null&&(Jo(e,t,o,r),Dp(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yr(),o=ua(t),s=ii(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=la(t,s,o),e!==null&&(Jo(e,t,o,r),Dp(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yr(),r=ua(t),o=ii(n,r);o.tag=2,e!=null&&(o.callback=e),e=la(t,o,r),e!==null&&(Jo(e,t,r,n),Dp(e,t,r))}};function aN(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!Vd(n,r)||!Vd(o,s):!0}function v2(t,e,n){var r=!1,o=xa,s=e.contextType;return typeof s=="object"&&s!==null?s=Mo(s):(o=Pr(e)?wl:ir.current,r=e.contextTypes,s=(r=r!=null)?Jc(t,o):xa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function lN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pg.enqueueReplaceState(e,e.state,null)}function zx(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},zb(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=Mo(s):(s=Pr(e)?wl:ir.current,o.context=Jc(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($x(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&pg.enqueueReplaceState(o,o.state,null),vm(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function eu(t,e){try{var n="",r=e;do n+=W8(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function l0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mU=typeof WeakMap=="function"?WeakMap:Map;function x2(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sm||(Sm=!0,Xx=r),Bx(t,e)},n}function w2(t,e,n){n=ii(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Bx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bx(t,e),typeof r!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function cN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mU;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=MU.bind(null,t,e,n),e.then(t,t))}function uN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dN(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,la(n,e,1))),n.lanes|=1),t)}var gU=yi.ReactCurrentOwner,_r=!1;function pr(t,e,n,r){e.child=t===null?YA(e,null,n,r):Qc(e,t.child,n,r)}function fN(t,e,n,r,o){n=n.render;var s=e.ref;return Oc(e,o),r=Vb(t,e,n,r,s,o),n=Gb(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,fi(t,e,o)):(Qt&&n&&Pb(e),e.flags|=1,pr(t,e,r,o),e.child)}function hN(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!n1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,b2(t,e,s,r,o)):(t=Bp(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vd,n(i,r)&&t.ref===e.ref)return fi(t,e,o)}return e.flags|=1,t=da(s,r),t.ref=e.ref,t.return=e,e.child=t}function b2(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(Vd(s,r)&&t.ref===e.ref)if(_r=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(_r=!0);else return e.lanes=t.lanes,fi(t,e,o)}return Wx(t,e,n,r,o)}function C2(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Ec,qr),qr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(Ec,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ut(Ec,qr),qr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ut(Ec,qr),qr|=r;return pr(t,e,o,n),e.child}function S2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wx(t,e,n,r,o){var s=Pr(n)?wl:ir.current;return s=Jc(e,s),Oc(e,o),n=Vb(t,e,n,r,s,o),r=Gb(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,fi(t,e,o)):(Qt&&r&&Pb(e),e.flags|=1,pr(t,e,n,o),e.child)}function pN(t,e,n,r,o){if(Pr(n)){var s=!0;hm(e)}else s=!1;if(Oc(e,o),e.stateNode===null)Fp(t,e),v2(e,n,r),zx(e,n,r,o),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mo(u):(u=Pr(n)?wl:ir.current,u=Jc(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&lN(e,i,r,u),$i=!1;var g=e.memoizedState;i.state=g,vm(e,r,i,o),l=e.memoizedState,a!==r||g!==l||Or.current||$i?(typeof f=="function"&&($x(e,n,f,r),l=e.memoizedState),(a=$i||aN(e,n,a,r,g,l,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,XA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bo(e.type,a),i.props=u,p=e.pendingProps,g=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mo(l):(l=Pr(n)?wl:ir.current,l=Jc(e,l));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||g!==l)&&lN(e,i,r,l),$i=!1,g=e.memoizedState,i.state=g,vm(e,r,i,o);var b=e.memoizedState;a!==p||g!==b||Or.current||$i?(typeof y=="function"&&($x(e,n,y,r),b=e.memoizedState),(u=$i||aN(e,n,u,r,g,b,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),i.props=r,i.state=b,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Ux(t,e,n,r,s,o)}function Ux(t,e,n,r,o,s){S2(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return o&&ZE(e,n,!1),fi(t,e,s);r=e.stateNode,gU.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Qc(e,t.child,null,s),e.child=Qc(e,null,a,s)):pr(t,e,a,s),e.memoizedState=r.state,o&&ZE(e,n,!0),e.child}function k2(t){var e=t.stateNode;e.pendingContext?QE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&QE(t,e.context,!1),Bb(t,e.containerInfo)}function mN(t,e,n,r,o){return Xc(),Db(o),e.flags|=256,pr(t,e,n,r),e.child}var Hx={dehydrated:null,treeContext:null,retryLane:0};function Vx(t){return{baseLanes:t,cachePool:null,transitions:null}}function E2(t,e,n){var r=e.pendingProps,o=rn.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Ut(rn,o&1),t===null)return Lx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=yg(i,r,0,null),t=fl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vx(n),e.memoizedState=Hx,t):Yb(e,i));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return yU(t,e,i,r,a,o,n);if(s){s=r.fallback,i=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=da(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=da(a,s):(s=fl(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,i=t.child.memoizedState,i=i===null?Vx(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~n,e.memoizedState=Hx,r}return s=t.child,t=s.sibling,r=da(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yb(t,e){return e=yg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sp(t,e,n,r){return r!==null&&Db(r),Qc(e,t.child,null,n),t=Yb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yU(t,e,n,r,o,s,i){if(n)return e.flags&256?(e.flags&=-257,r=l0(Error(be(422))),sp(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=yg({mode:"visible",children:r.children},o,0,null),s=fl(s,o,i,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qc(e,t.child,null,i),e.child.memoizedState=Vx(i),e.memoizedState=Hx,s);if(!(e.mode&1))return sp(t,e,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(be(419)),r=l0(s,r,void 0),sp(t,e,i,r)}if(a=(i&t.childLanes)!==0,_r||a){if(r=On,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,di(t,o),Jo(r,t,o,-1))}return t1(),r=l0(Error(be(421))),sp(t,e,i,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=AU.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,Xr=aa(o.nextSibling),Zr=e,Qt=!0,Go=null,t!==null&&(bo[Co++]=ni,bo[Co++]=ri,bo[Co++]=bl,ni=t.id,ri=t.overflow,bl=e),e=Yb(e,r.children),e.flags|=4096,e)}function gN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fx(t.return,e,n)}function c0(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function N2(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(pr(t,e,r.children,n),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gN(t,n,e);else if(t.tag===19)gN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ut(rn,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&xm(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),c0(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&xm(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}c0(e,!0,n,null,s);break;case"together":c0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vU(t,e,n){switch(e.tag){case 3:k2(e),Xc();break;case 5:QA(e);break;case 1:Pr(e.type)&&hm(e);break;case 4:Bb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ut(gm,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ut(rn,rn.current&1),e.flags|=128,null):n&e.child.childLanes?E2(t,e,n):(Ut(rn,rn.current&1),t=fi(t,e,n),t!==null?t.sibling:null);Ut(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N2(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ut(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,C2(t,e,n)}return fi(t,e,n)}var T2,Gx,R2,M2;T2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gx=function(){};R2=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,tl(Ns.current);var s=null;switch(n){case"input":o=px(t,o),r=px(t,r),s=[];break;case"select":o=an({},o,{value:void 0}),r=an({},r,{value:void 0}),s=[];break;case"textarea":o=yx(t,o),r=yx(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dm)}xx(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};M2=function(t,e,n,r){n!==r&&(e.flags|=4)};function nd(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xU(t,e,n){var r=e.pendingProps;switch(Ib(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return Pr(e.type)&&fm(),er(e),null;case 3:return r=e.stateNode,Zc(),Yt(Or),Yt(ir),Ub(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Go!==null&&(ew(Go),Go=null))),Gx(t,e),er(e),null;case 5:Wb(e);var o=tl(Jd.current);if(n=e.type,t!==null&&e.stateNode!=null)R2(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return er(e),null}if(t=tl(Ns.current),rp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[bs]=e,r[qd]=s,t=(e.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(o=0;o<pd.length;o++)qt(pd[o],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":EE(r,s),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r);break;case"textarea":TE(r,s),qt("invalid",r)}xx(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&np(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&np(r.textContent,a,t),o=["children",""+a]):Fd.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&qt("scroll",r)}switch(n){case"input":qh(r),NE(r,s,!0);break;case"textarea":qh(r),RE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dm)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[bs]=e,t[qd]=r,T2(t,e,!1,!1),e.stateNode=t;e:{switch(i=wx(n,r),n){case"dialog":qt("cancel",t),qt("close",t),o=r;break;case"iframe":case"object":case"embed":qt("load",t),o=r;break;case"video":case"audio":for(o=0;o<pd.length;o++)qt(pd[o],t);o=r;break;case"source":qt("error",t),o=r;break;case"img":case"image":case"link":qt("error",t),qt("load",t),o=r;break;case"details":qt("toggle",t),o=r;break;case"input":EE(t,r),o=px(t,r),qt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=an({},r,{value:void 0}),qt("invalid",t);break;case"textarea":TE(t,r),o=yx(t,r),qt("invalid",t);break;default:o=r}xx(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$d(t,l):typeof l=="number"&&$d(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",t):l!=null&&xb(t,s,l,i))}switch(n){case"input":qh(t),NE(t,r,!1);break;case"textarea":qh(t),RE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+va(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=dm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)M2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=tl(Jd.current),tl(Ns.current),rp(e)){if(r=e.stateNode,n=e.memoizedProps,r[bs]=e,(s=r.nodeValue!==n)&&(t=Zr,t!==null))switch(t.tag){case 3:np(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&np(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bs]=e,e.stateNode=r}return er(e),null;case 13:if(Yt(rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Xr!==null&&e.mode&1&&!(e.flags&128))KA(),Xc(),e.flags|=98560,s=!1;else if(s=rp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[bs]=e}else Xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),s=!1}else Go!==null&&(ew(Go),Go=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?Tn===0&&(Tn=3):t1())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return Zc(),Gx(t,e),t===null&&Gd(e.stateNode.containerInfo),er(e),null;case 10:return Fb(e.type._context),er(e),null;case 17:return Pr(e.type)&&fm(),er(e),null;case 19:if(Yt(rn),s=e.memoizedState,s===null)return er(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)nd(s,!1);else{if(Tn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=xm(t),i!==null){for(e.flags|=128,nd(s,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ut(rn,rn.current&1|2),e.child}t=t.sibling}s.tail!==null&&gn()>tu&&(e.flags|=128,r=!0,nd(s,!1),e.lanes=4194304)}else{if(!r)if(t=xm(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Qt)return er(e),null}else 2*gn()-s.renderingStartTime>tu&&n!==1073741824&&(e.flags|=128,r=!0,nd(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(n=s.last,n!==null?n.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gn(),e.sibling=null,n=rn.current,Ut(rn,r?n&1|2:n&1),e):(er(e),null);case 22:case 23:return e1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qr&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function wU(t,e){switch(Ib(e),e.tag){case 1:return Pr(e.type)&&fm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zc(),Yt(Or),Yt(ir),Ub(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wb(e),null;case 13:if(Yt(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(rn),null;case 4:return Zc(),null;case 10:return Fb(e.type._context),null;case 22:case 23:return e1(),null;case 24:return null;default:return null}}var ip=!1,rr=!1,bU=typeof WeakSet=="function"?WeakSet:Set,Le=null;function kc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dn(t,e,r)}else n.current=null}function Kx(t,e,n){try{n()}catch(r){dn(t,e,r)}}var yN=!1;function CU(t,e){if(Ax=lm,t=IA(),Ob(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,f=0,p=t,g=null;t:for(;;){for(var y;p!==n||o!==0&&p.nodeType!==3||(a=i+o),p!==s||r!==0&&p.nodeType!==3||(l=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++u===o&&(a=i),g===s&&++f===r&&(l=i),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_x={focusedElem:t,selectionRange:n},lm=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,x=b.memoizedState,C=e.stateNode,S=C.getSnapshotBeforeUpdate(e.elementType===e.type?w:Bo(e.type,w),x);C.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(T){dn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return b=yN,yN=!1,b}function Td(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Kx(e,n,s)}o=o.next}while(o!==r)}}function mg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A2(t){var e=t.alternate;e!==null&&(t.alternate=null,A2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bs],delete e[qd],delete e[Ix],delete e[oU],delete e[sU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _2(t){return t.tag===5||t.tag===3||t.tag===4}function vN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dm));else if(r!==4&&(t=t.child,t!==null))for(Yx(t,e,n),t=t.sibling;t!==null;)Yx(t,e,n),t=t.sibling}function Jx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jx(t,e,n),t=t.sibling;t!==null;)Jx(t,e,n),t=t.sibling}var zn=null,Vo=!1;function _i(t,e,n){for(n=n.child;n!==null;)O2(t,e,n),n=n.sibling}function O2(t,e,n){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(ag,n)}catch{}switch(n.tag){case 5:rr||kc(n,e);case 6:var r=zn,o=Vo;zn=null,_i(t,e,n),zn=r,Vo=o,zn!==null&&(Vo?(t=zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(Vo?(t=zn,n=n.stateNode,t.nodeType===8?n0(t.parentNode,n):t.nodeType===1&&n0(t,n),Ud(t)):n0(zn,n.stateNode));break;case 4:r=zn,o=Vo,zn=n.stateNode.containerInfo,Vo=!0,_i(t,e,n),zn=r,Vo=o;break;case 0:case 11:case 14:case 15:if(!rr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Kx(n,e,i),o=o.next}while(o!==r)}_i(t,e,n);break;case 1:if(!rr&&(kc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dn(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(rr=(r=rr)||n.memoizedState!==null,_i(t,e,n),rr=r):_i(t,e,n);break;default:_i(t,e,n)}}function xN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bU),e.forEach(function(r){var o=_U.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:zn=a.stateNode,Vo=!1;break e;case 3:zn=a.stateNode.containerInfo,Vo=!0;break e;case 4:zn=a.stateNode.containerInfo,Vo=!0;break e}a=a.return}if(zn===null)throw Error(be(160));O2(s,i,o),zn=null,Vo=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){dn(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P2(e,t),e=e.sibling}function P2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fo(e,t),hs(t),r&4){try{Td(3,t,t.return),mg(3,t)}catch(w){dn(t,t.return,w)}try{Td(5,t,t.return)}catch(w){dn(t,t.return,w)}}break;case 1:Fo(e,t),hs(t),r&512&&n!==null&&kc(n,n.return);break;case 5:if(Fo(e,t),hs(t),r&512&&n!==null&&kc(n,n.return),t.flags&32){var o=t.stateNode;try{$d(o,"")}catch(w){dn(t,t.return,w)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,i=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tA(o,s),wx(a,i);var u=wx(a,s);for(i=0;i<l.length;i+=2){var f=l[i],p=l[i+1];f==="style"?iA(o,p):f==="dangerouslySetInnerHTML"?oA(o,p):f==="children"?$d(o,p):xb(o,f,p,u)}switch(a){case"input":mx(o,s);break;case"textarea":nA(o,s);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Rc(o,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?Rc(o,!!s.multiple,s.defaultValue,!0):Rc(o,!!s.multiple,s.multiple?[]:"",!1))}o[qd]=s}catch(w){dn(t,t.return,w)}}break;case 6:if(Fo(e,t),hs(t),r&4){if(t.stateNode===null)throw Error(be(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(w){dn(t,t.return,w)}}break;case 3:if(Fo(e,t),hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ud(e.containerInfo)}catch(w){dn(t,t.return,w)}break;case 4:Fo(e,t),hs(t);break;case 13:Fo(e,t),hs(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Qb=gn())),r&4&&xN(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(rr=(u=rr)||f,Fo(e,t),rr=u):Fo(e,t),hs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Le=t,f=t.child;f!==null;){for(p=Le=f;Le!==null;){switch(g=Le,y=g.child,g.tag){case 0:case 11:case 14:case 15:Td(4,g,g.return);break;case 1:kc(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){dn(r,n,w)}}break;case 5:kc(g,g.return);break;case 22:if(g.memoizedState!==null){bN(p);continue}}y!==null?(y.return=g,Le=y):bN(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{o=p.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sA("display",i))}catch(w){dn(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){dn(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Fo(e,t),hs(t),r&4&&xN(t);break;case 21:break;default:Fo(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_2(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&($d(o,""),r.flags&=-33);var s=vN(t);Jx(t,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=vN(t);Yx(t,a,i);break;default:throw Error(be(161))}}catch(l){dn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SU(t,e,n){Le=t,I2(t)}function I2(t,e,n){for(var r=(t.mode&1)!==0;Le!==null;){var o=Le,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||ip;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||rr;a=ip;var u=rr;if(ip=i,(rr=l)&&!u)for(Le=o;Le!==null;)i=Le,l=i.child,i.tag===22&&i.memoizedState!==null?CN(o):l!==null?(l.return=i,Le=l):CN(o);for(;s!==null;)Le=s,I2(s),s=s.sibling;Le=o,ip=a,rr=u}wN(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Le=s):wN(t)}}function wN(t){for(;Le!==null;){var e=Le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rr||mg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rr)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Bo(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&oN(e,s,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}oN(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ud(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}rr||e.flags&512&&qx(e)}catch(g){dn(e,e.return,g)}}if(e===t){Le=null;break}if(n=e.sibling,n!==null){n.return=e.return,Le=n;break}Le=e.return}}function bN(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Le=n;break}Le=e.return}}function CN(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mg(4,e)}catch(l){dn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){dn(e,o,l)}}var s=e.return;try{qx(e)}catch(l){dn(e,s,l)}break;case 5:var i=e.return;try{qx(e)}catch(l){dn(e,i,l)}}}catch(l){dn(e,e.return,l)}if(e===t){Le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Le=a;break}Le=e.return}}var kU=Math.ceil,Cm=yi.ReactCurrentDispatcher,Jb=yi.ReactCurrentOwner,No=yi.ReactCurrentBatchConfig,Et=0,On=null,wn=null,Vn=0,qr=0,Ec=Na(0),Tn=0,ef=null,Sl=0,gg=0,Xb=0,Rd=null,Ar=null,Qb=0,tu=1/0,Qs=null,Sm=!1,Xx=null,ca=null,ap=!1,Qi=null,km=0,Md=0,Qx=null,$p=-1,zp=0;function yr(){return Et&6?gn():$p!==-1?$p:$p=gn()}function ua(t){return t.mode&1?Et&2&&Vn!==0?Vn&-Vn:aU.transition!==null?(zp===0&&(zp=vA()),zp):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:EA(t.type)),t):1}function Jo(t,e,n,r){if(50<Md)throw Md=0,Qx=null,Error(be(185));Mf(t,n,r),(!(Et&2)||t!==On)&&(t===On&&(!(Et&2)&&(gg|=n),Tn===4&&Hi(t,Vn)),Ir(t,r),n===1&&Et===0&&!(e.mode&1)&&(tu=gn()+500,fg&&Ta()))}function Ir(t,e){var n=t.callbackNode;aW(t,e);var r=am(t,t===On?Vn:0);if(r===0)n!==null&&_E(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_E(n),e===1)t.tag===0?iU(SN.bind(null,t)):HA(SN.bind(null,t)),nU(function(){!(Et&6)&&Ta()}),n=null;else{switch(xA(r)){case 1:n=kb;break;case 4:n=gA;break;case 16:n=im;break;case 536870912:n=yA;break;default:n=im}n=W2(n,D2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function D2(t,e){if($p=-1,zp=0,Et&6)throw Error(be(327));var n=t.callbackNode;if(Pc()&&t.callbackNode!==n)return null;var r=am(t,t===On?Vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Em(t,r);else{e=r;var o=Et;Et|=2;var s=L2();(On!==t||Vn!==e)&&(Qs=null,tu=gn()+500,dl(t,e));do try{TU();break}catch(a){j2(t,a)}while(!0);Lb(),Cm.current=s,Et=o,wn!==null?e=0:(On=null,Vn=0,e=Tn)}if(e!==0){if(e===2&&(o=Ex(t),o!==0&&(r=o,e=Zx(t,o))),e===1)throw n=ef,dl(t,0),Hi(t,r),Ir(t,gn()),n;if(e===6)Hi(t,r);else{if(o=t.current.alternate,!(r&30)&&!EU(o)&&(e=Em(t,r),e===2&&(s=Ex(t),s!==0&&(r=s,e=Zx(t,s))),e===1))throw n=ef,dl(t,0),Hi(t,r),Ir(t,gn()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:Ja(t,Ar,Qs);break;case 3:if(Hi(t,r),(r&130023424)===r&&(e=Qb+500-gn(),10<e)){if(am(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){yr(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Px(Ja.bind(null,t,Ar,Qs),e);break}Ja(t,Ar,Qs);break;case 4:if(Hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var i=31-Yo(r);s=1<<i,i=e[i],i>o&&(o=i),r&=~s}if(r=o,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kU(r/1960))-r,10<r){t.timeoutHandle=Px(Ja.bind(null,t,Ar,Qs),r);break}Ja(t,Ar,Qs);break;case 5:Ja(t,Ar,Qs);break;default:throw Error(be(329))}}}return Ir(t,gn()),t.callbackNode===n?D2.bind(null,t):null}function Zx(t,e){var n=Rd;return t.current.memoizedState.isDehydrated&&(dl(t,e).flags|=256),t=Em(t,e),t!==2&&(e=Ar,Ar=n,e!==null&&ew(e)),t}function ew(t){Ar===null?Ar=t:Ar.push.apply(Ar,t)}function EU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Xo(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~Xb,e&=~gg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yo(e),r=1<<n;t[n]=-1,e&=~r}}function SN(t){if(Et&6)throw Error(be(327));Pc();var e=am(t,0);if(!(e&1))return Ir(t,gn()),null;var n=Em(t,e);if(t.tag!==0&&n===2){var r=Ex(t);r!==0&&(e=r,n=Zx(t,r))}if(n===1)throw n=ef,dl(t,0),Hi(t,e),Ir(t,gn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ja(t,Ar,Qs),Ir(t,gn()),null}function Zb(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(tu=gn()+500,fg&&Ta())}}function kl(t){Qi!==null&&Qi.tag===0&&!(Et&6)&&Pc();var e=Et;Et|=1;var n=No.transition,r=Ot;try{if(No.transition=null,Ot=1,t)return t()}finally{Ot=r,No.transition=n,Et=e,!(Et&6)&&Ta()}}function e1(){qr=Ec.current,Yt(Ec)}function dl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tU(n)),wn!==null)for(n=wn.return;n!==null;){var r=n;switch(Ib(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fm();break;case 3:Zc(),Yt(Or),Yt(ir),Ub();break;case 5:Wb(r);break;case 4:Zc();break;case 13:Yt(rn);break;case 19:Yt(rn);break;case 10:Fb(r.type._context);break;case 22:case 23:e1()}n=n.return}if(On=t,wn=t=da(t.current,null),Vn=qr=e,Tn=0,ef=null,Xb=gg=Sl=0,Ar=Rd=null,el!==null){for(e=0;e<el.length;e++)if(n=el[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}el=null}return t}function j2(t,e){do{var n=wn;try{if(Lb(),jp.current=bm,wm){for(var r=on.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wm=!1}if(Cl=0,Mn=En=on=null,Nd=!1,Xd=0,Jb.current=null,n===null||n.return===null){Tn=1,ef=e,wn=null;break}e:{var s=t,i=n.return,a=n,l=e;if(e=Vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=uN(i);if(y!==null){y.flags&=-257,dN(y,i,a,s,e),y.mode&1&&cN(s,u,e),e=y,l=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(l),e.updateQueue=w}else b.add(l);break e}else{if(!(e&1)){cN(s,u,e),t1();break e}l=Error(be(426))}}else if(Qt&&a.mode&1){var x=uN(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dN(x,i,a,s,e),Db(eu(l,a));break e}}s=l=eu(l,a),Tn!==4&&(Tn=2),Rd===null?Rd=[s]:Rd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=x2(s,l,e);rN(s,C);break e;case 1:a=l;var S=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ca===null||!ca.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=w2(s,a,e);rN(s,T);break e}}s=s.return}while(s!==null)}$2(n)}catch(N){e=N,wn===n&&n!==null&&(wn=n=n.return);continue}break}while(!0)}function L2(){var t=Cm.current;return Cm.current=bm,t===null?bm:t}function t1(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),On===null||!(Sl&268435455)&&!(gg&268435455)||Hi(On,Vn)}function Em(t,e){var n=Et;Et|=2;var r=L2();(On!==t||Vn!==e)&&(Qs=null,dl(t,e));do try{NU();break}catch(o){j2(t,o)}while(!0);if(Lb(),Et=n,Cm.current=r,wn!==null)throw Error(be(261));return On=null,Vn=0,Tn}function NU(){for(;wn!==null;)F2(wn)}function TU(){for(;wn!==null&&!Q8();)F2(wn)}function F2(t){var e=B2(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?$2(t):wn=e,Jb.current=null}function $2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wU(n,e),n!==null){n.flags&=32767,wn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tn=6,wn=null;return}}else if(n=xU(n,e,qr),n!==null){wn=n;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=t}while(e!==null);Tn===0&&(Tn=5)}function Ja(t,e,n){var r=Ot,o=No.transition;try{No.transition=null,Ot=1,RU(t,e,n,r)}finally{No.transition=o,Ot=r}return null}function RU(t,e,n,r){do Pc();while(Qi!==null);if(Et&6)throw Error(be(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(lW(t,s),t===On&&(wn=On=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ap||(ap=!0,W2(im,function(){return Pc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=No.transition,No.transition=null;var i=Ot;Ot=1;var a=Et;Et|=4,Jb.current=null,CU(t,n),P2(n,t),qW(_x),lm=!!Ax,_x=Ax=null,t.current=n,SU(n),Z8(),Et=a,Ot=i,No.transition=s}else t.current=n;if(ap&&(ap=!1,Qi=t,km=o),s=t.pendingLanes,s===0&&(ca=null),nW(n.stateNode),Ir(t,gn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Sm)throw Sm=!1,t=Xx,Xx=null,t;return km&1&&t.tag!==0&&Pc(),s=t.pendingLanes,s&1?t===Qx?Md++:(Md=0,Qx=t):Md=0,Ta(),null}function Pc(){if(Qi!==null){var t=xA(km),e=No.transition,n=Ot;try{if(No.transition=null,Ot=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,km=0,Et&6)throw Error(be(331));var o=Et;for(Et|=4,Le=t.current;Le!==null;){var s=Le,i=s.child;if(Le.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Le=u;Le!==null;){var f=Le;switch(f.tag){case 0:case 11:case 15:Td(8,f,s)}var p=f.child;if(p!==null)p.return=f,Le=p;else for(;Le!==null;){f=Le;var g=f.sibling,y=f.return;if(A2(f),f===u){Le=null;break}if(g!==null){g.return=y,Le=g;break}Le=y}}}var b=s.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Le=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Le=i;else e:for(;Le!==null;){if(s=Le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Td(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,Le=C;break e}Le=s.return}}var S=t.current;for(Le=S;Le!==null;){i=Le;var k=i.child;if(i.subtreeFlags&2064&&k!==null)k.return=i,Le=k;else e:for(i=S;Le!==null;){if(a=Le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mg(9,a)}}catch(N){dn(a,a.return,N)}if(a===i){Le=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Le=T;break e}Le=a.return}}if(Et=o,Ta(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(ag,t)}catch{}r=!0}return r}finally{Ot=n,No.transition=e}}return!1}function kN(t,e,n){e=eu(n,e),e=x2(t,e,1),t=la(t,e,1),e=yr(),t!==null&&(Mf(t,1,e),Ir(t,e))}function dn(t,e,n){if(t.tag===3)kN(t,t,n);else for(;e!==null;){if(e.tag===3){kN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ca===null||!ca.has(r))){t=eu(n,t),t=w2(e,t,1),e=la(e,t,1),t=yr(),e!==null&&(Mf(e,1,t),Ir(e,t));break}}e=e.return}}function MU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yr(),t.pingedLanes|=t.suspendedLanes&n,On===t&&(Vn&n)===n&&(Tn===4||Tn===3&&(Vn&130023424)===Vn&&500>gn()-Qb?dl(t,0):Xb|=n),Ir(t,e)}function z2(t,e){e===0&&(t.mode&1?(e=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):e=1);var n=yr();t=di(t,e),t!==null&&(Mf(t,e,n),Ir(t,n))}function AU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z2(t,n)}function _U(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),z2(t,n)}var B2;B2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)_r=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _r=!1,vU(t,e,n);_r=!!(t.flags&131072)}else _r=!1,Qt&&e.flags&1048576&&VA(e,mm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fp(t,e),t=e.pendingProps;var o=Jc(e,ir.current);Oc(e,n),o=Vb(null,e,r,t,o,n);var s=Gb();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(s=!0,hm(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zb(e),o.updater=pg,e.stateNode=o,o._reactInternals=e,zx(e,r,t,n),e=Ux(null,e,r,!0,s,n)):(e.tag=0,Qt&&s&&Pb(e),pr(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fp(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=PU(r),t=Bo(r,t),o){case 0:e=Wx(null,e,r,t,n);break e;case 1:e=pN(null,e,r,t,n);break e;case 11:e=fN(null,e,r,t,n);break e;case 14:e=hN(null,e,r,Bo(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bo(r,o),Wx(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bo(r,o),pN(t,e,r,o,n);case 3:e:{if(k2(e),t===null)throw Error(be(387));r=e.pendingProps,s=e.memoizedState,o=s.element,XA(t,e),vm(e,r,null,n);var i=e.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=eu(Error(be(423)),e),e=mN(t,e,r,n,o);break e}else if(r!==o){o=eu(Error(be(424)),e),e=mN(t,e,r,n,o);break e}else for(Xr=aa(e.stateNode.containerInfo.firstChild),Zr=e,Qt=!0,Go=null,n=YA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xc(),r===o){e=fi(t,e,n);break e}pr(t,e,r,n)}e=e.child}return e;case 5:return QA(e),t===null&&Lx(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,Ox(r,o)?i=null:s!==null&&Ox(r,s)&&(e.flags|=32),S2(t,e),pr(t,e,i,n),e.child;case 6:return t===null&&Lx(e),null;case 13:return E2(t,e,n);case 4:return Bb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qc(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bo(r,o),fN(t,e,r,o,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,i=o.value,Ut(gm,r._currentValue),r._currentValue=i,s!==null)if(Xo(s.value,i)){if(s.children===o.children&&!Or.current){e=fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ii(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fx(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(be(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Fx(i,n,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}pr(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Oc(e,n),o=Mo(o),r=r(o),e.flags|=1,pr(t,e,r,n),e.child;case 14:return r=e.type,o=Bo(r,e.pendingProps),o=Bo(r.type,o),hN(t,e,r,o,n);case 15:return b2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bo(r,o),Fp(t,e),e.tag=1,Pr(r)?(t=!0,hm(e)):t=!1,Oc(e,n),v2(e,r,o),zx(e,r,o,n),Ux(null,e,r,!0,t,n);case 19:return N2(t,e,n);case 22:return C2(t,e,n)}throw Error(be(156,e.tag))};function W2(t,e){return mA(t,e)}function OU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(t,e,n,r){return new OU(t,e,n,r)}function n1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PU(t){if(typeof t=="function")return n1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bb)return 11;if(t===Cb)return 14}return 2}function da(t,e){var n=t.alternate;return n===null?(n=ko(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bp(t,e,n,r,o,s){var i=2;if(r=t,typeof t=="function")n1(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case mc:return fl(n.children,o,s,e);case wb:i=8,o|=8;break;case ux:return t=ko(12,n,e,o|2),t.elementType=ux,t.lanes=s,t;case dx:return t=ko(13,n,e,o),t.elementType=dx,t.lanes=s,t;case fx:return t=ko(19,n,e,o),t.elementType=fx,t.lanes=s,t;case QM:return yg(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JM:i=10;break e;case XM:i=9;break e;case bb:i=11;break e;case Cb:i=14;break e;case Fi:i=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=ko(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function fl(t,e,n,r){return t=ko(7,t,r,e),t.lanes=n,t}function yg(t,e,n,r){return t=ko(22,t,r,e),t.elementType=QM,t.lanes=n,t.stateNode={isHidden:!1},t}function u0(t,e,n){return t=ko(6,t,null,e),t.lanes=n,t}function d0(t,e,n){return e=ko(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IU(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function r1(t,e,n,r,o,s,i,a,l){return t=new IU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ko(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zb(s),t}function DU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U2(t){if(!t)return xa;t=t._reactInternals;e:{if(jl(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(Pr(n))return UA(t,n,e)}return e}function H2(t,e,n,r,o,s,i,a,l){return t=r1(n,r,!0,t,o,s,i,a,l),t.context=U2(null),n=t.current,r=yr(),o=ua(n),s=ii(r,o),s.callback=e??null,la(n,s,o),t.current.lanes=o,Mf(t,o,r),Ir(t,r),t}function vg(t,e,n,r){var o=e.current,s=yr(),i=ua(o);return n=U2(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(s,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=la(o,e,i),t!==null&&(Jo(t,o,i,s),Dp(t,o,i)),i}function Nm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function EN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function o1(t,e){EN(t,e),(t=t.alternate)&&EN(t,e)}function jU(){return null}var V2=typeof reportError=="function"?reportError:function(t){console.error(t)};function s1(t){this._internalRoot=t}xg.prototype.render=s1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));vg(t,e,null,null)};xg.prototype.unmount=s1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kl(function(){vg(null,t,null,null)}),e[ui]=null}};function xg(t){this._internalRoot=t}xg.prototype.unstable_scheduleHydration=function(t){if(t){var e=CA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&kA(t)}};function i1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NN(){}function LU(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Nm(i);s.call(u)}}var i=H2(e,r,t,0,null,!1,!1,"",NN);return t._reactRootContainer=i,t[ui]=i.current,Gd(t.nodeType===8?t.parentNode:t),kl(),i}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=Nm(l);a.call(u)}}var l=r1(t,0,!1,null,null,!1,!1,"",NN);return t._reactRootContainer=l,t[ui]=l.current,Gd(t.nodeType===8?t.parentNode:t),kl(function(){vg(e,l,n,r)}),l}function bg(t,e,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Nm(i);a.call(l)}}vg(e,i,t,o)}else i=LU(n,e,t,o,r);return Nm(i)}wA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hd(e.pendingLanes);n!==0&&(Eb(e,n|1),Ir(e,gn()),!(Et&6)&&(tu=gn()+500,Ta()))}break;case 13:kl(function(){var r=di(t,1);if(r!==null){var o=yr();Jo(r,t,1,o)}}),o1(t,1)}};Nb=function(t){if(t.tag===13){var e=di(t,134217728);if(e!==null){var n=yr();Jo(e,t,134217728,n)}o1(t,134217728)}};bA=function(t){if(t.tag===13){var e=ua(t),n=di(t,e);if(n!==null){var r=yr();Jo(n,t,e,r)}o1(t,e)}};CA=function(){return Ot};SA=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};Cx=function(t,e,n){switch(e){case"input":if(mx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=dg(r);if(!o)throw Error(be(90));eA(r),mx(r,o)}}}break;case"textarea":nA(t,n);break;case"select":e=n.value,e!=null&&Rc(t,!!n.multiple,e,!1)}};cA=Zb;uA=kl;var FU={usingClientEntryPoint:!1,Events:[_f,xc,dg,aA,lA,Zb]},rd={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$U={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hA(t),t===null?null:t.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||jU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lp.isDisabled&&lp.supportsFiber)try{ag=lp.inject($U),Es=lp}catch{}}oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FU;oo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i1(e))throw Error(be(200));return DU(t,e,null,n)};oo.createRoot=function(t,e){if(!i1(t))throw Error(be(299));var n=!1,r="",o=V2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=r1(t,1,!1,null,null,n,!1,r,o),t[ui]=e.current,Gd(t.nodeType===8?t.parentNode:t),new s1(e)};oo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=hA(e),t=t===null?null:t.stateNode,t};oo.flushSync=function(t){return kl(t)};oo.hydrate=function(t,e,n){if(!wg(e))throw Error(be(200));return bg(null,t,e,!0,n)};oo.hydrateRoot=function(t,e,n){if(!i1(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=V2;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=H2(e,null,t,1,n??null,o,!1,s,i),t[ui]=e.current,Gd(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new xg(e)};oo.render=function(t,e,n){if(!wg(e))throw Error(be(200));return bg(null,t,e,!1,n)};oo.unmountComponentAtNode=function(t){if(!wg(t))throw Error(be(40));return t._reactRootContainer?(kl(function(){bg(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};oo.unstable_batchedUpdates=Zb;oo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wg(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return bg(t,e,n,!1,r)};oo.version="18.3.1-next-f1338f8080-20240426";function G2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G2)}catch(t){console.error(t)}}G2(),GM.exports=oo;var Eo=GM.exports;const a1=IM(Eo);var K2,TN=Eo;K2=TN.createRoot,TN.hydrateRoot;function q2(t,e){return function(){return t.apply(e,arguments)}}const{toString:zU}=Object.prototype,{getPrototypeOf:l1}=Object,{iterator:Cg,toStringTag:Y2}=Symbol,Sg=(t=>e=>{const n=zU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ns=t=>(t=t.toLowerCase(),e=>Sg(e)===t),kg=t=>e=>typeof e===t,{isArray:pu}=Array,tf=kg("undefined");function BU(t){return t!==null&&!tf(t)&&t.constructor!==null&&!tf(t.constructor)&&Dr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const J2=ns("ArrayBuffer");function WU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&J2(t.buffer),e}const UU=kg("string"),Dr=kg("function"),X2=kg("number"),Eg=t=>t!==null&&typeof t=="object",HU=t=>t===!0||t===!1,Wp=t=>{if(Sg(t)!=="object")return!1;const e=l1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Y2 in t)&&!(Cg in t)},VU=ns("Date"),GU=ns("File"),KU=ns("Blob"),qU=ns("FileList"),YU=t=>Eg(t)&&Dr(t.pipe),JU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Dr(t.append)&&((e=Sg(t))==="formdata"||e==="object"&&Dr(t.toString)&&t.toString()==="[object FormData]"))},XU=ns("URLSearchParams"),[QU,ZU,eH,tH]=["ReadableStream","Request","Response","Headers"].map(ns),nH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),pu(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let a;for(r=0;r<i;r++)a=s[r],e.call(null,t[a],a,t)}}function Q2(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Z2=t=>!tf(t)&&t!==nl;function tw(){const{caseless:t}=Z2(this)&&this||{},e={},n=(r,o)=>{const s=t&&Q2(e,o)||o;Wp(e[s])&&Wp(r)?e[s]=tw(e[s],r):Wp(r)?e[s]=tw({},r):pu(r)?e[s]=r.slice():e[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Pf(arguments[r],n);return e}const rH=(t,e,n,{allOwnKeys:r}={})=>(Pf(e,(o,s)=>{n&&Dr(o)?t[s]=q2(o,n):t[s]=o},{allOwnKeys:r}),t),oH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iH=(t,e,n,r)=>{let o,s,i;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)i=o[s],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&l1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},aH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},lH=t=>{if(!t)return null;if(pu(t))return t;let e=t.length;if(!X2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},cH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&l1(Uint8Array)),uH=(t,e)=>{const r=(t&&t[Cg]).call(t);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},dH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},fH=ns("HTMLFormElement"),hH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),RN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),pH=ns("RegExp"),e_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Pf(n,(o,s)=>{let i;(i=e(o,s,t))!==!1&&(r[s]=i||o)}),Object.defineProperties(t,r)},mH=t=>{e_(t,(e,n)=>{if(Dr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Dr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gH=(t,e)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return pu(t)?r(t):r(String(t).split(e)),n},yH=()=>{},vH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function xH(t){return!!(t&&Dr(t.append)&&t[Y2]==="FormData"&&t[Cg])}const wH=t=>{const e=new Array(10),n=(r,o)=>{if(Eg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const s=pu(r)?[]:{};return Pf(r,(i,a)=>{const l=n(i,o+1);!tf(l)&&(s[a]=l)}),e[o]=void 0,s}}return r};return n(t,0)},bH=ns("AsyncFunction"),CH=t=>t&&(Eg(t)||Dr(t))&&Dr(t.then)&&Dr(t.catch),t_=((t,e)=>t?setImmediate:e?((n,r)=>(nl.addEventListener("message",({source:o,data:s})=>{o===nl&&s===n&&r.length&&r.shift()()},!1),o=>{r.push(o),nl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Dr(nl.postMessage)),SH=typeof queueMicrotask<"u"?queueMicrotask.bind(nl):typeof process<"u"&&process.nextTick||t_,kH=t=>t!=null&&Dr(t[Cg]),oe={isArray:pu,isArrayBuffer:J2,isBuffer:BU,isFormData:JU,isArrayBufferView:WU,isString:UU,isNumber:X2,isBoolean:HU,isObject:Eg,isPlainObject:Wp,isReadableStream:QU,isRequest:ZU,isResponse:eH,isHeaders:tH,isUndefined:tf,isDate:VU,isFile:GU,isBlob:KU,isRegExp:pH,isFunction:Dr,isStream:YU,isURLSearchParams:XU,isTypedArray:cH,isFileList:qU,forEach:Pf,merge:tw,extend:rH,trim:nH,stripBOM:oH,inherits:sH,toFlatObject:iH,kindOf:Sg,kindOfTest:ns,endsWith:aH,toArray:lH,forEachEntry:uH,matchAll:dH,isHTMLForm:fH,hasOwnProperty:RN,hasOwnProp:RN,reduceDescriptors:e_,freezeMethods:mH,toObjectSet:gH,toCamelCase:hH,noop:yH,toFiniteNumber:vH,findKey:Q2,global:nl,isContextDefined:Z2,isSpecCompliantForm:xH,toJSONObject:wH,isAsyncFn:bH,isThenable:CH,setImmediate:t_,asap:SH,isIterable:kH};function ut(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}oe.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const n_=ut.prototype,r_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{r_[t]={value:t}});Object.defineProperties(ut,r_);Object.defineProperty(n_,"isAxiosError",{value:!0});ut.from=(t,e,n,r,o,s)=>{const i=Object.create(n_);return oe.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ut.call(i,t.message,e,n,r,o),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const EH=null;function nw(t){return oe.isPlainObject(t)||oe.isArray(t)}function o_(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function MN(t,e,n){return t?t.concat(e).map(function(o,s){return o=o_(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function NH(t){return oe.isArray(t)&&!t.some(nw)}const TH=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Ng(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!oe.isUndefined(x[w])});const r=n.metaTokens,o=n.visitor||f,s=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(o))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(oe.isDate(b))return b.toISOString();if(oe.isBoolean(b))return b.toString();if(!l&&oe.isBlob(b))throw new ut("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(b)||oe.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,w,x){let C=b;if(b&&!x&&typeof b=="object"){if(oe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(oe.isArray(b)&&NH(b)||(oe.isFileList(b)||oe.endsWith(w,"[]"))&&(C=oe.toArray(b)))return w=o_(w),C.forEach(function(k,T){!(oe.isUndefined(k)||k===null)&&e.append(i===!0?MN([w],T,s):i===null?w:w+"[]",u(k))}),!1}return nw(b)?!0:(e.append(MN(x,w,s),u(b)),!1)}const p=[],g=Object.assign(TH,{defaultVisitor:f,convertValue:u,isVisitable:nw});function y(b,w){if(!oe.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(b),oe.forEach(b,function(C,S){(!(oe.isUndefined(C)||C===null)&&o.call(e,C,oe.isString(S)?S.trim():S,w,g))===!0&&y(C,w?w.concat(S):[S])}),p.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function AN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function c1(t,e){this._pairs=[],t&&Ng(t,this,e)}const s_=c1.prototype;s_.append=function(e,n){this._pairs.push([e,n])};s_.toString=function(e){const n=e?function(r){return e.call(this,r,AN)}:AN;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function RH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function i_(t,e,n){if(!e)return t;const r=n&&n.encode||RH;oe.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(o?s=o(e,n):s=oe.isURLSearchParams(e)?e.toString():new c1(e,n).toString(r),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class _N{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const a_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MH=typeof URLSearchParams<"u"?URLSearchParams:c1,AH=typeof FormData<"u"?FormData:null,_H=typeof Blob<"u"?Blob:null,OH={isBrowser:!0,classes:{URLSearchParams:MH,FormData:AH,Blob:_H},protocols:["http","https","file","blob","url","data"]},u1=typeof window<"u"&&typeof document<"u",rw=typeof navigator=="object"&&navigator||void 0,PH=u1&&(!rw||["ReactNative","NativeScript","NS"].indexOf(rw.product)<0),IH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DH=u1&&window.location.href||"http://localhost",jH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:u1,hasStandardBrowserEnv:PH,hasStandardBrowserWebWorkerEnv:IH,navigator:rw,origin:DH},Symbol.toStringTag,{value:"Module"})),or={...jH,...OH};function LH(t,e){return Ng(t,new or.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return or.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function FH(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $H(t){const e={},n=Object.keys(t);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],e[s]=t[s];return e}function l_(t){function e(n,r,o,s){let i=n[s++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=s>=n.length;return i=!i&&oe.isArray(o)?o.length:i,l?(oe.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!a):((!o[i]||!oe.isObject(o[i]))&&(o[i]=[]),e(n,r,o[i],s)&&oe.isArray(o[i])&&(o[i]=$H(o[i])),!a)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,o)=>{e(FH(r),o,n,0)}),n}return null}function zH(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const If={transitional:a_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return o?JSON.stringify(l_(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LH(e,this.formSerializer).toString();if((a=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ng(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),zH(e)):e}],transformResponse:[function(e){const n=this.transitional||If.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?ut.from(a,ut.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{If.headers[t]={}});const BH=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WH=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||e[n]&&BH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ON=Symbol("internals");function od(t){return t&&String(t).trim().toLowerCase()}function Up(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Up):String(t)}function UH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const HH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function f0(t,e,n,r,o){if(oe.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function VH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function GH(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,s,i){return this[r].call(this,e,o,s,i)},configurable:!0})})}let jr=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function s(a,l,u){const f=od(l);if(!f)throw new Error("header name must be a non-empty string");const p=oe.findKey(o,f);(!p||o[p]===void 0||u===!0||u===void 0&&o[p]!==!1)&&(o[p||l]=Up(a))}const i=(a,l)=>oe.forEach(a,(u,f)=>s(u,f,l));if(oe.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(oe.isString(e)&&(e=e.trim())&&!HH(e))i(WH(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let a={},l,u;for(const f of e){if(!oe.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(l=a[u])?oe.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}i(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=od(e),e){const r=oe.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return UH(o);if(oe.isFunction(n))return n.call(this,o,r);if(oe.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=od(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||f0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function s(i){if(i=od(i),i){const a=oe.findKey(r,i);a&&(!n||f0(r,r[a],a,n))&&(delete r[a],o=!0)}}return oe.isArray(e)?e.forEach(s):s(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!e||f0(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const n=this,r={};return oe.forEach(this,(o,s)=>{const i=oe.findKey(r,s);if(i){n[i]=Up(o),delete n[s];return}const a=e?VH(s):String(s).trim();a!==s&&delete n[s],n[a]=Up(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[ON]=this[ON]={accessors:{}}).accessors,o=this.prototype;function s(i){const a=od(i);r[a]||(GH(o,i),r[a]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}};jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(jr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(jr);function h0(t,e){const n=this||If,r=e||n,o=jr.from(r.headers);let s=r.data;return oe.forEach(t,function(a){s=a.call(n,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function c_(t){return!!(t&&t.__CANCEL__)}function mu(t,e,n){ut.call(this,t??"canceled",ut.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(mu,ut,{__CANCEL__:!0});function u_(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ut("Request failed with status code "+n.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function KH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,s=0,i;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];i||(i=u),n[o]=l,r[o]=u;let p=s,g=0;for(;p!==o;)g+=n[p++],p=p%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),u-i<e)return;const y=f&&u-f;return y?Math.round(g*1e3/y):void 0}}function YH(t,e){let n=0,r=1e3/e,o,s;const i=(u,f=Date.now())=>{n=f,o=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const f=Date.now(),p=f-n;p>=r?i(u,f):(o=u,s||(s=setTimeout(()=>{s=null,i(o)},r-p)))},()=>o&&i(o)]}const Tm=(t,e,n=3)=>{let r=0;const o=qH(50,250);return YH(s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,l=i-r,u=o(l),f=i<=a;r=i;const p={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-i)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},PN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},IN=t=>(...e)=>oe.asap(()=>t(...e)),JH=or.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,or.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(or.origin),or.navigator&&/(msie|trident)/i.test(or.navigator.userAgent)):()=>!0,XH=or.hasStandardBrowserEnv?{write(t,e,n,r,o,s){const i=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&i.push("path="+r),oe.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ZH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function d_(t,e,n){let r=!QH(e);return t&&(r||n==!1)?ZH(t,e):e}const DN=t=>t instanceof jr?{...t}:t;function El(t,e){e=e||{};const n={};function r(u,f,p,g){return oe.isPlainObject(u)&&oe.isPlainObject(f)?oe.merge.call({caseless:g},u,f):oe.isPlainObject(f)?oe.merge({},f):oe.isArray(f)?f.slice():f}function o(u,f,p,g){if(oe.isUndefined(f)){if(!oe.isUndefined(u))return r(void 0,u,p,g)}else return r(u,f,p,g)}function s(u,f){if(!oe.isUndefined(f))return r(void 0,f)}function i(u,f){if(oe.isUndefined(f)){if(!oe.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,p){if(p in e)return r(u,f);if(p in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,f,p)=>o(DN(u),DN(f),p,!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=l[f]||o,g=p(t[f],e[f],f);oe.isUndefined(g)&&p!==a||(n[f]=g)}),n}const f_=t=>{const e=El({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:a}=e;e.headers=i=jr.from(i),e.url=i_(d_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(oe.isFormData(n)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[u,...f]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...f].join("; "))}}if(or.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&JH(e.url))){const u=o&&s&&XH.read(s);u&&i.set(o,u)}return e},eV=typeof XMLHttpRequest<"u",tV=eV&&function(t){return new Promise(function(n,r){const o=f_(t);let s=o.data;const i=jr.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=o,f,p,g,y,b;function w(){y&&y(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function C(){if(!x)return;const k=jr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:k,config:t,request:x};u_(function(_){n(_),w()},function(_){r(_),w()},N),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(r(new ut("Request aborted",ut.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new ut("Network Error",ut.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let T=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const N=o.transitional||a_;o.timeoutErrorMessage&&(T=o.timeoutErrorMessage),r(new ut(T,N.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,t,x)),x=null},s===void 0&&i.setContentType(null),"setRequestHeader"in x&&oe.forEach(i.toJSON(),function(T,N){x.setRequestHeader(N,T)}),oe.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),a&&a!=="json"&&(x.responseType=o.responseType),u&&([g,b]=Tm(u,!0),x.addEventListener("progress",g)),l&&x.upload&&([p,y]=Tm(l),x.upload.addEventListener("progress",p),x.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(f=k=>{x&&(r(!k||k.type?new mu(null,t,x):k),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const S=KH(o.url);if(S&&or.protocols.indexOf(S)===-1){r(new ut("Unsupported protocol "+S+":",ut.ERR_BAD_REQUEST,t));return}x.send(s||null)})},nV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const s=function(u){if(!o){o=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof ut?f:new mu(f instanceof Error?f.message:f))}};let i=e&&setTimeout(()=>{i=null,s(new ut(`timeout ${e} of ms exceeded`,ut.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>oe.asap(a),l}},rV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},oV=async function*(t,e){for await(const n of sV(t))yield*rV(n,e)},sV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},jN=(t,e,n,r)=>{const o=oV(t,e);let s=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await o.next();if(u){a(),l.close();return}let p=f.byteLength;if(n){let g=s+=p;n(g)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},Tg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",h_=Tg&&typeof ReadableStream=="function",iV=Tg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),p_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},aV=h_&&p_(()=>{let t=!1;const e=new Request(or.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),LN=64*1024,ow=h_&&p_(()=>oe.isReadableStream(new Response("").body)),Rm={stream:ow&&(t=>t.body)};Tg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rm[e]&&(Rm[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ut(`Response type '${e}' is not supported`,ut.ERR_NOT_SUPPORT,r)})})})(new Response);const lV=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(or.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await iV(t)).byteLength},cV=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??lV(e)},uV=Tg&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:f,withCredentials:p="same-origin",fetchOptions:g}=f_(t);u=u?(u+"").toLowerCase():"text";let y=nV([o,s&&s.toAbortSignal()],i),b;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let x;try{if(l&&aV&&n!=="get"&&n!=="head"&&(x=await cV(f,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),A;if(oe.isFormData(r)&&(A=N.headers.get("content-type"))&&f.setContentType(A),N.body){const[_,M]=PN(x,Tm(IN(l)));r=jN(N.body,LN,_,M)}}oe.isString(p)||(p=p?"include":"omit");const C="credentials"in Request.prototype;b=new Request(e,{...g,signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:C?p:void 0});let S=await fetch(b,g);const k=ow&&(u==="stream"||u==="response");if(ow&&(a||k&&w)){const N={};["status","statusText","headers"].forEach(L=>{N[L]=S[L]});const A=oe.toFiniteNumber(S.headers.get("content-length")),[_,M]=a&&PN(A,Tm(IN(a),!0))||[];S=new Response(jN(S.body,LN,_,()=>{M&&M(),w&&w()}),N)}u=u||"text";let T=await Rm[oe.findKey(Rm,u)||"text"](S,t);return!k&&w&&w(),await new Promise((N,A)=>{u_(N,A,{data:T,headers:jr.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:b})})}catch(C){throw w&&w(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,t,b),{cause:C.cause||C}):ut.from(C,C&&C.code,t,b)}}),sw={http:EH,xhr:tV,fetch:uV};oe.forEach(sw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const FN=t=>`- ${t}`,dV=t=>oe.isFunction(t)||t===null||t===!1,m_={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let s=0;s<e;s++){n=t[s];let i;if(r=n,!dV(n)&&(r=sw[(i=String(n)).toLowerCase()],r===void 0))throw new ut(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+s]=r}if(!r){const s=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(FN).join(`
`):" "+FN(s[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:sw};function p0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mu(null,t)}function $N(t){return p0(t),t.headers=jr.from(t.headers),t.data=h0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),m_.getAdapter(t.adapter||If.adapter)(t).then(function(r){return p0(t),r.data=h0.call(t,t.transformResponse,r),r.headers=jr.from(r.headers),r},function(r){return c_(r)||(p0(t),r&&r.response&&(r.response.data=h0.call(t,t.transformResponse,r.response),r.response.headers=jr.from(r.response.headers))),Promise.reject(r)})}const g_="1.10.0",Rg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Rg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zN={};Rg.transitional=function(e,n,r){function o(s,i){return"[Axios v"+g_+"] Transitional option '"+s+"'"+i+(r?". "+r:"")}return(s,i,a)=>{if(e===!1)throw new ut(o(i," has been removed"+(n?" in "+n:"")),ut.ERR_DEPRECATED);return n&&!zN[i]&&(zN[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,i,a):!0}};Rg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fV(t,e,n){if(typeof t!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const s=r[o],i=e[s];if(i){const a=t[s],l=a===void 0||i(a,s,t);if(l!==!0)throw new ut("option "+s+" must be "+l,ut.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ut("Unknown option "+s,ut.ERR_BAD_OPTION)}}const Hp={assertOptions:fV,validators:Rg},ps=Hp.validators;let hl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _N,response:new _N}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=El(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&Hp.assertOptions(r,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1),o!=null&&(oe.isFunction(o)?n.paramsSerializer={serialize:o}:Hp.assertOptions(o,{encode:ps.function,serialize:ps.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hp.assertOptions(n,{baseUrl:ps.spelling("baseURL"),withXsrfToken:ps.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=jr.concat(i,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let f,p=0,g;if(!l){const b=[$N.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,u),g=b.length,f=Promise.resolve(n);p<g;)f=f.then(b[p++],b[p++]);return f}g=a.length;let y=n;for(p=0;p<g;){const b=a[p++],w=a[p++];try{y=b(y)}catch(x){w.call(this,x);break}}try{f=$N.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,g=u.length;p<g;)f=f.then(u[p++],u[p++]);return f}getUri(e){e=El(this.defaults,e);const n=d_(e.baseURL,e.url,e.allowAbsoluteUrls);return i_(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){hl.prototype[e]=function(n,r){return this.request(El(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,i,a){return this.request(El(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}hl.prototype[e]=n(),hl.prototype[e+"Form"]=n(!0)});let hV=class y_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(a=>{r.subscribe(a),s=a}).then(o);return i.cancel=function(){r.unsubscribe(s)},i},e(function(s,i,a){r.reason||(r.reason=new mu(s,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new y_(function(o){e=o}),cancel:e}}};function pV(t){return function(n){return t.apply(null,n)}}function mV(t){return oe.isObject(t)&&t.isAxiosError===!0}const iw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iw).forEach(([t,e])=>{iw[e]=t});function v_(t){const e=new hl(t),n=q2(hl.prototype.request,e);return oe.extend(n,hl.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return v_(El(t,o))},n}const Pt=v_(If);Pt.Axios=hl;Pt.CanceledError=mu;Pt.CancelToken=hV;Pt.isCancel=c_;Pt.VERSION=g_;Pt.toFormData=Ng;Pt.AxiosError=ut;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=pV;Pt.isAxiosError=mV;Pt.mergeConfig=El;Pt.AxiosHeaders=jr;Pt.formToJSON=t=>l_(oe.isHTMLForm(t)?new FormData(t):t);Pt.getAdapter=m_.getAdapter;Pt.HttpStatusCode=iw;Pt.default=Pt;const{Axios:aue,AxiosError:lue,CanceledError:cue,isCancel:uue,CancelToken:due,VERSION:fue,all:hue,Cancel:pue,isAxiosError:mue,spread:gue,toFormData:yue,AxiosHeaders:vue,HttpStatusCode:xue,formToJSON:wue,getAdapter:bue,mergeConfig:Cue}=Pt,gV=["/api/credits/recent-expirations","/api/subscription/tier-info"],x_="https://itemize-backend-production-92ad.up.railway.app",Zt=Pt.create({baseURL:"http://localhost:3001",withCredentials:!0});Zt.interceptors.request.use(t=>{const e=window.location.hostname==="itemize.cloud";t.baseURL=e?x_:"http://localhost:3001";const n=t.url||"";if(gV.some(o=>n.includes(o))){const s=Pt.CancelToken.source();t.cancelToken=s.token,s.cancel(`Request to ${n} was blocked by interceptor`)}return t},t=>Promise.reject(t));Zt.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry")),Promise.reject(t)});const nf=()=>window.location.hostname==="itemize.cloud"?x_:"http://localhost:3001",yV=1,vV=1e6;let m0=0;function xV(){return m0=(m0+1)%Number.MAX_SAFE_INTEGER,m0.toString()}const g0=new Map,BN=t=>{if(g0.has(t))return;const e=setTimeout(()=>{g0.delete(t),Ad({type:"REMOVE_TOAST",toastId:t})},vV);g0.set(t,e)},wV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?BN(n):t.toasts.forEach(r=>{BN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vp=[];let Gp={toasts:[]};function Ad(t){Gp=wV(Gp,t),Vp.forEach(e=>{e(Gp)})}function aw({...t}){const e=xV(),n=o=>Ad({type:"UPDATE_TOAST",toast:{...o,id:e}}),r=()=>Ad({type:"DISMISS_TOAST",toastId:e});return Ad({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:n}}function Oo(){const[t,e]=m.useState(Gp);return m.useEffect(()=>(Vp.push(e),()=>{const n=Vp.indexOf(e);n>-1&&Vp.splice(n,1)}),[t]),{...t,toast:aw,dismiss:n=>Ad({type:"DISMISS_TOAST",toastId:n})}}function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function WN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hi(...t){return e=>{let n=!1;const r=t.map(o=>{const s=WN(o,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():WN(t[o],null)}}}}function dt(...t){return m.useCallback(hi(...t),t)}function bV(t,e){const n=m.createContext(e),r=s=>{const{children:i,...a}=s,l=m.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:i})};r.displayName=t+"Provider";function o(s){const i=m.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,o]}function $r(t,e=[]){let n=[];function r(s,i){const a=m.createContext(i),l=n.length;n=[...n,i];const u=p=>{var C;const{scope:g,children:y,...b}=p,w=((C=g==null?void 0:g[t])==null?void 0:C[l])||a,x=m.useMemo(()=>b,Object.values(b));return h.jsx(w.Provider,{value:x,children:y})};u.displayName=s+"Provider";function f(p,g){var w;const y=((w=g==null?void 0:g[t])==null?void 0:w[l])||a,b=m.useContext(y);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const o=()=>{const s=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,CV(o,...e)]}function CV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function wa(t){const e=kV(t),n=m.forwardRef((r,o)=>{const{children:s,...i}=r,a=m.Children.toArray(s),l=a.find(NV);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...i,ref:o,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return h.jsx(e,{...i,ref:o,children:s})});return n.displayName=`${t}.Slot`,n}var SV=wa("Slot");function kV(t){const e=m.forwardRef((n,r)=>{const{children:o,...s}=n;if(m.isValidElement(o)){const i=RV(o),a=TV(s,o.props);return o.type!==m.Fragment&&(a.ref=r?hi(r,i):i),m.cloneElement(o,a)}return m.Children.count(o)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var w_=Symbol("radix.slottable");function EV(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=w_,e}function NV(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===w_}function TV(t,e){const n={...e};for(const r in e){const o=t[r],s=e[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{const l=s(...a);return o(...a),l}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...t,...n}}function RV(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Df(t){const e=t+"CollectionProvider",[n,r]=$r(e),[o,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:x,children:C}=w,S=se.useRef(null),k=se.useRef(new Map).current;return h.jsx(o,{scope:x,itemMap:k,collectionRef:S,children:C})};i.displayName=e;const a=t+"CollectionSlot",l=wa(a),u=se.forwardRef((w,x)=>{const{scope:C,children:S}=w,k=s(a,C),T=dt(x,k.collectionRef);return h.jsx(l,{ref:T,children:S})});u.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=wa(f),y=se.forwardRef((w,x)=>{const{scope:C,children:S,...k}=w,T=se.useRef(null),N=dt(x,T),A=s(f,C);return se.useEffect(()=>(A.itemMap.set(T,{ref:T,...k}),()=>void A.itemMap.delete(T))),h.jsx(g,{[p]:"",ref:N,children:S})});y.displayName=f;function b(w){const x=s(t+"CollectionConsumer",w);return se.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const k=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((A,_)=>k.indexOf(A.ref.current)-k.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},b,r]}var MV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=MV.reduce((t,e)=>{const n=wa(`Primitive.${e}`),r=m.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function d1(t,e){t&&Eo.flushSync(()=>t.dispatchEvent(e))}function Fr(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function AV(t,e=globalThis==null?void 0:globalThis.document){const n=Fr(t);m.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _V="DismissableLayer",lw="dismissableLayer.update",OV="dismissableLayer.pointerDownOutside",PV="dismissableLayer.focusOutside",UN,b_=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ll=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=t,u=m.useContext(b_),[f,p]=m.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),b=dt(e,_=>p(_)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),C=w.indexOf(x),S=f?w.indexOf(f):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,T=S>=C,N=DV(_=>{const M=_.target,L=[...u.branches].some(F=>F.contains(M));!T||L||(o==null||o(_),i==null||i(_),_.defaultPrevented||a==null||a())},g),A=jV(_=>{const M=_.target;[...u.branches].some(F=>F.contains(M))||(s==null||s(_),i==null||i(_),_.defaultPrevented||a==null||a())},g);return AV(_=>{S===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},g),m.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(UN=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),HN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=UN)}},[f,g,n,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),HN())},[f,u]),m.useEffect(()=>{const _=()=>y({});return document.addEventListener(lw,_),()=>document.removeEventListener(lw,_)},[]),h.jsx(Fe.div,{...l,ref:b,style:{pointerEvents:k?T?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,N.onPointerDownCapture)})});Ll.displayName=_V;var IV="DismissableLayerBranch",C_=m.forwardRef((t,e)=>{const n=m.useContext(b_),r=m.useRef(null),o=dt(e,r);return m.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.jsx(Fe.div,{...t,ref:o})});C_.displayName=IV;function DV(t,e=globalThis==null?void 0:globalThis.document){const n=Fr(t),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){S_(OV,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",s),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jV(t,e=globalThis==null?void 0:globalThis.document){const n=Fr(t),r=m.useRef(!1);return m.useEffect(()=>{const o=s=>{s.target&&!r.current&&S_(PV,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HN(){const t=new CustomEvent(lw);document.dispatchEvent(t)}function S_(t,e,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?d1(o,s):o.dispatchEvent(s)}var LV=Ll,FV=C_,Dn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$V="Portal",gu=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[o,s]=m.useState(!1);Dn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?a1.createPortal(h.jsx(Fe.div,{...r,ref:e}),i):null});gu.displayName=$V;function zV(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var io=t=>{const{present:e,children:n}=t,r=BV(e),o=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),s=dt(r.ref,WV(o));return typeof n=="function"||r.isPresent?m.cloneElement(o,{ref:s}):null};io.displayName="Presence";function BV(t){const[e,n]=m.useState(),r=m.useRef(null),o=m.useRef(t),s=m.useRef("none"),i=t?"mounted":"unmounted",[a,l]=zV(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=cp(r.current);s.current=a==="mounted"?u:"none"},[a]),Dn(()=>{const u=r.current,f=o.current;if(f!==t){const g=s.current,y=cp(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),Dn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,p=y=>{const w=cp(r.current).includes(y.animationName);if(y.target===e&&w&&(l("ANIMATION_END"),!o.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=y=>{y.target===e&&(s.current=cp(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function cp(t){return(t==null?void 0:t.animationName)||"none"}function WV(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UV=gb[" useInsertionEffect ".trim().toString()]||Dn;function ro({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,s,i]=HV({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:o;{const f=m.useRef(t!==void 0);m.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=m.useCallback(f=>{var p;if(a){const g=VV(f)?f(t):f;g!==t&&((p=i.current)==null||p.call(i,g))}else s(f)},[a,t,s,i]);return[l,u]}function HV({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),o=m.useRef(n),s=m.useRef(e);return UV(()=>{s.current=e},[e]),m.useEffect(()=>{var i;o.current!==n&&((i=s.current)==null||i.call(s,n),o.current=n)},[n,o]),[n,r,s]}function VV(t){return typeof t=="function"}var k_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GV="VisuallyHidden",Mg=m.forwardRef((t,e)=>h.jsx(Fe.span,{...t,ref:e,style:{...k_,...t.style}}));Mg.displayName=GV;var KV=Mg,f1="ToastProvider",[h1,qV,YV]=Df("Toast"),[E_,Sue]=$r("Toast",[YV]),[JV,Ag]=E_(f1),N_=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=t,[a,l]=m.useState(null),[u,f]=m.useState(0),p=m.useRef(!1),g=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${f1}\`. Expected non-empty \`string\`.`),h.jsx(h1.Provider,{scope:e,children:h.jsx(JV,{scope:e,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>f(y=>y+1),[]),onToastRemove:m.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:i})})};N_.displayName=f1;var T_="ToastViewport",XV=["F8"],cw="toast.viewportPause",uw="toast.viewportResume",R_=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=XV,label:o="Notifications ({hotkey})",...s}=t,i=Ag(T_,n),a=qV(n),l=m.useRef(null),u=m.useRef(null),f=m.useRef(null),p=m.useRef(null),g=dt(e,p,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;m.useEffect(()=>{const x=C=>{var k;r.length!==0&&r.every(T=>C[T]||C.code===T)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,C=p.current;if(b&&x&&C){const S=()=>{if(!i.isClosePausedRef.current){const A=new CustomEvent(cw);C.dispatchEvent(A),i.isClosePausedRef.current=!0}},k=()=>{if(i.isClosePausedRef.current){const A=new CustomEvent(uw);C.dispatchEvent(A),i.isClosePausedRef.current=!1}},T=A=>{!x.contains(A.relatedTarget)&&k()},N=()=>{x.contains(document.activeElement)||k()};return x.addEventListener("focusin",S),x.addEventListener("focusout",T),x.addEventListener("pointermove",S),x.addEventListener("pointerleave",N),window.addEventListener("blur",S),window.addEventListener("focus",k),()=>{x.removeEventListener("focusin",S),x.removeEventListener("focusout",T),x.removeEventListener("pointermove",S),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",S),window.removeEventListener("focus",k)}}},[b,i.isClosePausedRef]);const w=m.useCallback(({tabbingDirection:x})=>{const S=a().map(k=>{const T=k.ref.current,N=[T,...u7(T)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?S.reverse():S).flat()},[a]);return m.useEffect(()=>{const x=p.current;if(x){const C=S=>{var N,A,_;const k=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!k){const M=document.activeElement,L=S.shiftKey;if(S.target===x&&L){(N=u.current)==null||N.focus();return}const U=w({tabbingDirection:L?"backwards":"forwards"}),K=U.findIndex(W=>W===M);y0(U.slice(K+1))?S.preventDefault():L?(A=u.current)==null||A.focus():(_=f.current)==null||_.focus()}};return x.addEventListener("keydown",C),()=>x.removeEventListener("keydown",C)}},[a,w]),h.jsxs(FV,{ref:l,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&h.jsx(dw,{ref:u,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});y0(x)}}),h.jsx(h1.Slot,{scope:n,children:h.jsx(Fe.ol,{tabIndex:-1,...s,ref:g})}),b&&h.jsx(dw,{ref:f,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});y0(x)}})]})});R_.displayName=T_;var M_="ToastFocusProxy",dw=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=t,s=Ag(M_,n);return h.jsx(Mg,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});dw.displayName=M_;var jf="Toast",QV="toast.swipeStart",ZV="toast.swipeMove",e7="toast.swipeCancel",t7="toast.swipeEnd",A_=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=t,[a,l]=ro({prop:r,defaultProp:o??!0,onChange:s,caller:jf});return h.jsx(io,{present:n||a,children:h.jsx(o7,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Fr(t.onPause),onResume:Fr(t.onResume),onSwipeStart:Ce(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});A_.displayName=jf;var[n7,r7]=E_(jf,{onClose(){}}),o7=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:y,...b}=t,w=Ag(jf,n),[x,C]=m.useState(null),S=dt(e,W=>C(W)),k=m.useRef(null),T=m.useRef(null),N=o||w.duration,A=m.useRef(0),_=m.useRef(N),M=m.useRef(0),{onToastAdd:L,onToastRemove:F}=w,z=Fr(()=>{var te;(x==null?void 0:x.contains(document.activeElement))&&((te=w.viewport)==null||te.focus()),i()}),U=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(M.current),A.current=new Date().getTime(),M.current=window.setTimeout(z,W))},[z]);m.useEffect(()=>{const W=w.viewport;if(W){const te=()=>{U(_.current),u==null||u()},J=()=>{const X=new Date().getTime()-A.current;_.current=_.current-X,window.clearTimeout(M.current),l==null||l()};return W.addEventListener(cw,J),W.addEventListener(uw,te),()=>{W.removeEventListener(cw,J),W.removeEventListener(uw,te)}}},[w.viewport,N,l,u,U]),m.useEffect(()=>{s&&!w.isClosePausedRef.current&&U(N)},[s,N,w.isClosePausedRef,U]),m.useEffect(()=>(L(),()=>F()),[L,F]);const K=m.useMemo(()=>x?L_(x):null,[x]);return w.viewport?h.jsxs(h.Fragment,{children:[K&&h.jsx(s7,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),h.jsx(n7,{scope:n,onClose:z,children:Eo.createPortal(h.jsx(h1.ItemSlot,{scope:n,children:h.jsx(LV,{asChild:!0,onEscapeKeyDown:Ce(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||z(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Ce(t.onPointerDown,W=>{W.button===0&&(k.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ce(t.onPointerMove,W=>{if(!k.current)return;const te=W.clientX-k.current.x,J=W.clientY-k.current.y,X=!!T.current,I=["left","right"].includes(w.swipeDirection),P=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,B=I?P(0,te):0,G=I?0:P(0,J),j=W.pointerType==="touch"?10:2,Z={x:B,y:G},Q={originalEvent:W,delta:Z};X?(T.current=Z,up(ZV,p,Q,{discrete:!1})):VN(Z,w.swipeDirection,j)?(T.current=Z,up(QV,f,Q,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(te)>j||Math.abs(J)>j)&&(k.current=null)}),onPointerUp:Ce(t.onPointerUp,W=>{const te=T.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),T.current=null,k.current=null,te){const X=W.currentTarget,I={originalEvent:W,delta:te};VN(te,w.swipeDirection,w.swipeThreshold)?up(t7,y,I,{discrete:!0}):up(e7,g,I,{discrete:!0}),X.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),s7=t=>{const{__scopeToast:e,children:n,...r}=t,o=Ag(jf,e),[s,i]=m.useState(!1),[a,l]=m.useState(!1);return l7(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:h.jsx(gu,{asChild:!0,children:h.jsx(Mg,{...r,children:s&&h.jsxs(h.Fragment,{children:[o.label," ",n]})})})},i7="ToastTitle",__=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Fe.div,{...r,ref:e})});__.displayName=i7;var a7="ToastDescription",O_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Fe.div,{...r,ref:e})});O_.displayName=a7;var P_="ToastAction",I_=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(j_,{altText:n,asChild:!0,children:h.jsx(p1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${P_}\`. Expected non-empty \`string\`.`),null)});I_.displayName=P_;var D_="ToastClose",p1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,o=r7(D_,n);return h.jsx(j_,{asChild:!0,children:h.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,o.onClose)})})});p1.displayName=D_;var j_=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...o}=t;return h.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function L_(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),c7(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...L_(r))}}),e}function up(t,e,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?d1(o,s):o.dispatchEvent(s)}var VN=(t,e,n=0)=>{const r=Math.abs(t.x),o=Math.abs(t.y),s=r>o;return e==="left"||e==="right"?s&&r>n:!s&&o>n};function l7(t=()=>{}){const e=Fr(t);Dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function c7(t){return t.nodeType===t.ELEMENT_NODE}function u7(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function y0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var d7=N_,F_=R_,$_=A_,z_=__,B_=O_,W_=I_,U_=p1;function H_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=H_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function V_(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=H_(t))&&(r&&(r+=" "),r+=e);return r}const GN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KN=V_,Lf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return KN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=e,i=Object.keys(o).map(u=>{const f=n==null?void 0:n[u],p=s==null?void 0:s[u];if(f===null)return null;const g=GN(f)||GN(p);return o[u][g]}),a=n&&Object.entries(n).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:p,className:g,...y}=f;return Object.entries(y).every(b=>{let[w,x]=b;return Array.isArray(x)?x.includes({...s,...a}[w]):{...s,...a}[w]===x})?[...u,p,g]:u},[]);return KN(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>m.createElement("svg",{ref:l,...h7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:G_("lucide",o),...a},[...i.map(([u,f])=>m.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=m.forwardRef(({className:r,...o},s)=>m.createElement(p7,{ref:s,iconNode:e,className:G_(`lucide-${f7(t)}`,r),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=qe("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=qe("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=qe("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=qe("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=qe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=qe("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=qe("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=qe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=qe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=qe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=qe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=qe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=qe("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=qe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=qe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=qe("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=qe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=qe("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=qe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g1="-",W7=t=>{const e=H7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(g1);return a[0]===""&&a.length!==1&&a.shift(),sO(a,e)||U7(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},sO=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?sO(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const s=t.join(g1);return(i=e.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},YN=/^\[(.+)\]$/,U7=t=>{if(YN.test(t)){const e=YN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},H7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return G7(Object.entries(t.classGroups),n).forEach(([s,i])=>{fw(i,r,s,e)}),r},fw=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const s=o===""?e:JN(e,o);s.classGroupId=n;return}if(typeof o=="function"){if(V7(o)){fw(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{fw(i,JN(e,s),n,r)})})},JN=(t,e)=>{let n=t;return e.split(g1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},V7=t=>t.isThemeGetter,G7=(t,e)=>e?t.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[e+i,a])):s);return[n,o]}):t,K7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},iO="!",q7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,o=e[0],s=e.length,i=a=>{const l=[];let u=0,f=0,p;for(let x=0;x<a.length;x++){let C=a[x];if(u===0){if(C===o&&(r||a.slice(x,x+s)===e)){l.push(a.slice(f,x)),f=x+s;continue}if(C==="/"){p=x;continue}}C==="["?u++:C==="]"&&u--}const g=l.length===0?a:a.substring(f),y=g.startsWith(iO),b=y?g.substring(1):g,w=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:i}):i},Y7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},J7=t=>({cache:K7(t.cacheSize),parseClassName:q7(t),...W7(t)}),X7=/\s+/,Q7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,s=[],i=t.trim().split(X7);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=n(u);let b=!!y,w=r(b?g.substring(0,y):g);if(!w){if(!b){a=u+(a.length>0?" "+a:a);continue}if(w=r(g),!w){a=u+(a.length>0?" "+a:a);continue}b=!1}const x=Y7(f).join(":"),C=p?x+iO:x,S=C+w;if(s.includes(S))continue;s.push(S);const k=o(w,b);for(let T=0;T<k.length;++T){const N=k[T];s.push(C+N)}a=u+(a.length>0?" "+a:a)}return a};function Z7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aO(e))&&(r&&(r+=" "),r+=n);return r}const aO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aO(t[r]))&&(n&&(n+=" "),n+=e);return n};function e9(t,...e){let n,r,o,s=i;function i(l){const u=e.reduce((f,p)=>p(f),t());return n=J7(u),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const f=Q7(l,n);return o(l,f),f}return function(){return s(Z7.apply(null,arguments))}}const Kt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lO=/^\[(?:([a-z-]+):)?(.+)\]$/i,t9=/^\d+\/\d+$/,n9=new Set(["px","full","screen"]),r9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,i9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qs=t=>Ic(t)||n9.has(t)||t9.test(t),Oi=t=>vu(t,"length",m9),Ic=t=>!!t&&!Number.isNaN(Number(t)),v0=t=>vu(t,"number",Ic),sd=t=>!!t&&Number.isInteger(Number(t)),l9=t=>t.endsWith("%")&&Ic(t.slice(0,-1)),ht=t=>lO.test(t),Pi=t=>r9.test(t),c9=new Set(["length","size","percentage"]),u9=t=>vu(t,c9,cO),d9=t=>vu(t,"position",cO),f9=new Set(["image","url"]),h9=t=>vu(t,f9,y9),p9=t=>vu(t,"",g9),id=()=>!0,vu=(t,e,n)=>{const r=lO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},m9=t=>o9.test(t)&&!s9.test(t),cO=()=>!1,g9=t=>i9.test(t),y9=t=>a9.test(t),v9=()=>{const t=Kt("colors"),e=Kt("spacing"),n=Kt("blur"),r=Kt("brightness"),o=Kt("borderColor"),s=Kt("borderRadius"),i=Kt("borderSpacing"),a=Kt("borderWidth"),l=Kt("contrast"),u=Kt("grayscale"),f=Kt("hueRotate"),p=Kt("invert"),g=Kt("gap"),y=Kt("gradientColorStops"),b=Kt("gradientColorStopPositions"),w=Kt("inset"),x=Kt("margin"),C=Kt("opacity"),S=Kt("padding"),k=Kt("saturate"),T=Kt("scale"),N=Kt("sepia"),A=Kt("skew"),_=Kt("space"),M=Kt("translate"),L=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ht,e],U=()=>[ht,e],K=()=>["",qs,Oi],W=()=>["auto",Ic,ht],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ht],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ic,ht];return{cacheSize:500,separator:":",theme:{colors:[id],spacing:[qs,Oi],blur:["none","",Pi,ht],brightness:G(),borderColor:[t],borderRadius:["none","","full",Pi,ht],borderSpacing:U(),borderWidth:K(),contrast:G(),grayscale:P(),hueRotate:G(),invert:P(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[l9,Oi],inset:z(),margin:z(),opacity:G(),padding:U(),saturate:G(),scale:G(),sepia:P(),skew:G(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[Pi]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),ht]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sd,ht]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",sd,ht]}],"grid-cols":[{"grid-cols":[id]}],"col-start-end":[{col:["auto",{span:["full",sd,ht]},ht]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[id]}],"row-start-end":[{row:["auto",{span:[sd,ht]},ht]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,e]}],"min-w":[{"min-w":[ht,e,"min","max","fit"]}],"max-w":[{"max-w":[ht,e,"none","full","min","max","fit","prose",{screen:[Pi]},Pi]}],h:[{h:[ht,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pi,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",v0]}],"font-family":[{font:[id]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",Ic,v0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qs,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qs,Oi]}],"underline-offset":[{"underline-offset":["auto",qs,ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),d9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},h9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:J()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[qs,ht]}],"outline-w":[{outline:[qs,Oi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[qs,Oi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pi,p9]}],"shadow-color":[{shadow:[id]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Pi,ht]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[sd,ht]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qs,Oi,v0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x9=e9(v9);function Be(...t){return x9(V_(t))}const w9=d7,uO=m.forwardRef(({className:t,...e},n)=>h.jsx(F_,{ref:n,className:Be("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col p-4 right-0 md:max-w-[420px]",t),...e}));uO.displayName=F_.displayName;const b9=Lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-bottom-full data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dO=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx($_,{ref:r,className:Be(b9({variant:e}),t),...n}));dO.displayName=$_.displayName;const C9=m.forwardRef(({className:t,...e},n)=>h.jsx(W_,{ref:n,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));C9.displayName=W_.displayName;const fO=m.forwardRef(({className:t,...e},n)=>h.jsx(U_,{ref:n,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(rs,{className:"h-4 w-4"})}));fO.displayName=U_.displayName;const hO=m.forwardRef(({className:t,...e},n)=>h.jsx(z_,{ref:n,className:Be("text-sm font-semibold",t),...e}));hO.displayName=z_.displayName;const pO=m.forwardRef(({className:t,...e},n)=>h.jsx(B_,{ref:n,className:Be("text-sm opacity-90",t),...e}));pO.displayName=B_.displayName;function S9(){const{toasts:t}=Oo();return h.jsxs(w9,{children:[t.map(function({id:e,title:n,description:r,action:o,...s}){return h.jsxs(dO,{...s,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(hO,{children:n}),r&&h.jsx(pO,{children:r})]}),o,h.jsx(fO,{})]},e)}),h.jsx(uO,{})]})}var Mm=["light","dark"],y1="(prefers-color-scheme: dark)",k9=typeof window>"u",v1=m.createContext(void 0),E9={setTheme:t=>{},themes:[]},ss=()=>{var t;return(t=m.useContext(v1))!=null?t:E9},N9=t=>m.useContext(v1)?t.children:m.createElement(R9,{...t}),T9=["light","dark"],R9=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=T9,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:f})=>{let[p,g]=m.useState(()=>XN(o,i)),[y,b]=m.useState(()=>XN(o)),w=l?Object.values(l):s,x=m.useCallback(T=>{let N=T;if(!N)return;T==="system"&&n&&(N=QN());let A=l?l[N]:N,_=e?A9():null,M=document.documentElement;if(a==="class"?(M.classList.remove(...w),A&&M.classList.add(A)):A?M.setAttribute(a,A):M.removeAttribute(a),r){let L=Mm.includes(i)?i:null,F=Mm.includes(N)?N:L;M.style.colorScheme=F}_==null||_()},[]),C=m.useCallback(T=>{let N=typeof T=="function"?T(T):T;g(N);try{localStorage.setItem(o,N)}catch{}},[t]),S=m.useCallback(T=>{let N=QN(T);b(N),p==="system"&&n&&!t&&x("system")},[p,t]);m.useEffect(()=>{let T=window.matchMedia(y1);return T.addListener(S),S(T),()=>T.removeListener(S)},[S]),m.useEffect(()=>{let T=N=>{if(N.key!==o)return;let A=N.newValue||i;C(A)};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[C]),m.useEffect(()=>{x(t??p)},[t,p]);let k=m.useMemo(()=>({theme:p,setTheme:C,forcedTheme:t,resolvedTheme:p==="system"?y:p,themes:n?[...s,"system"]:s,systemTheme:n?y:void 0}),[p,C,t,y,n,s]);return m.createElement(v1.Provider,{value:k},m.createElement(M9,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:o,themes:s,defaultTheme:i,attribute:a,value:l,children:u,attrs:w,nonce:f}),u)},M9=m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,attrs:a,nonce:l})=>{let u=s==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=o?Mm.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,w=!1,x=!0)=>{let C=i?i[b]:b,S=w?b+"|| ''":`'${C}'`,k="";return o&&x&&!w&&Mm.includes(b)&&(k+=`d.style.colorScheme = '${b}';`),n==="class"?w||C?k+=`c.add(${S})`:k+="null":C&&(k+=`d[s](n,${S})`),k},y=t?`!function(){${f}${g(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${y1}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}${u?"":"else{"+g(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}else{${g(s,!1,!1)};}${p}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})}),XN=(t,e)=>{if(k9)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},A9=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},QN=t=>(t||(t=window.matchMedia(y1)),t.matches?"dark":"light"),_9=t=>{switch(t){case"success":return I9;case"info":return j9;case"warning":return D9;case"error":return L9;default:return null}},O9=Array(12).fill(0),P9=({visible:t,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},se.createElement("div",{className:"sonner-spinner"},O9.map((n,r)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),I9=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),D9=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),j9=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L9=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F9=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$9=()=>{let[t,e]=se.useState(document.hidden);return se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},hw=1,z9=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,o=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:hw++,s=this.toasts.find(a=>a.id===o),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),s?this.toasts=this.toasts.map(a=>a.id===o?(this.publish({...a,...t,id:o,title:n}),{...a,...t,id:o,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:o}),o},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),o=n!==void 0,s,i=r.then(async l=>{if(s=["resolve",l],se.isValidElement(l))o=!1,this.create({id:n,type:"default",message:l});else if(W9(l)&&!l.ok){o=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:f})}else if(e.success!==void 0){o=!1;let u=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){o=!1;let u=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var l;o&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>i.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||hw++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mr=new z9,B9=(t,e)=>{let n=(e==null?void 0:e.id)||hw++;return Mr.addToast({title:t,...e,id:n}),n},W9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",U9=B9,H9=()=>Mr.toasts,V9=()=>Mr.getActiveToasts();Object.assign(U9,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:H9,getToasts:V9});function G9(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}G9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function dp(t){return t.label!==void 0}var K9=3,q9="32px",Y9="16px",ZN=4e3,J9=356,X9=14,Q9=20,Z9=200;function $o(...t){return t.filter(Boolean).join(" ")}function eG(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var tG=t=>{var e,n,r,o,s,i,a,l,u,f,p;let{invert:g,toast:y,unstyled:b,interacting:w,setHeights:x,visibleToasts:C,heights:S,index:k,toasts:T,expanded:N,removeToast:A,defaultRichColors:_,closeButton:M,style:L,cancelButtonStyle:F,actionButtonStyle:z,className:U="",descriptionClassName:K="",duration:W,position:te,gap:J,loadingIcon:X,expandByDefault:I,classNames:P,icons:B,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:j}=t,[Z,Q]=se.useState(null),[ee,ne]=se.useState(null),[H,ue]=se.useState(!1),[he,le]=se.useState(!1),[Ne,Ae]=se.useState(!1),[Je,De]=se.useState(!1),[Ze,_e]=se.useState(!1),[it,wt]=se.useState(0),[It,Re]=se.useState(0),Ee=se.useRef(y.duration||W||ZN),Ue=se.useRef(null),at=se.useRef(null),pe=k===0,xe=k+1<=C,ke=y.type,Ke=y.dismissible!==!1,lt=y.className||"",rt=y.descriptionClassName||"",Ht=se.useMemo(()=>S.findIndex(He=>He.toastId===y.id)||0,[S,y.id]),ae=se.useMemo(()=>{var He;return(He=y.closeButton)!=null?He:M},[y.closeButton,M]),Pe=se.useMemo(()=>y.duration||W||ZN,[y.duration,W]),Te=se.useRef(0),je=se.useRef(0),bt=se.useRef(0),Dt=se.useRef(null),[Po,ao]=te.split("-"),Ds=se.useMemo(()=>S.reduce((He,et,ot)=>ot>=Ht?He:He+et.height,0),[S,Ht]),bi=$9(),js=y.invert||g,Vt=ke==="loading";je.current=se.useMemo(()=>Ht*J+Ds,[Ht,Ds]),se.useEffect(()=>{Ee.current=Pe},[Pe]),se.useEffect(()=>{ue(!0)},[]),se.useEffect(()=>{let He=at.current;if(He){let et=He.getBoundingClientRect().height;return Re(et),x(ot=>[{toastId:y.id,height:et,position:y.position},...ot]),()=>x(ot=>ot.filter($t=>$t.toastId!==y.id))}},[x,y.id]),se.useLayoutEffect(()=>{if(!H)return;let He=at.current,et=He.style.height;He.style.height="auto";let ot=He.getBoundingClientRect().height;He.style.height=et,Re(ot),x($t=>$t.find(ln=>ln.toastId===y.id)?$t.map(ln=>ln.toastId===y.id?{...ln,height:ot}:ln):[{toastId:y.id,height:ot,position:y.position},...$t])},[H,y.title,y.description,x,y.id]);let Ft=se.useCallback(()=>{le(!0),wt(je.current),x(He=>He.filter(et=>et.toastId!==y.id)),setTimeout(()=>{A(y)},Z9)},[y,A,x,je]);se.useEffect(()=>{if(y.promise&&ke==="loading"||y.duration===1/0||y.type==="loading")return;let He;return N||w||j&&bi?(()=>{if(bt.current<Te.current){let et=new Date().getTime()-Te.current;Ee.current=Ee.current-et}bt.current=new Date().getTime()})():Ee.current!==1/0&&(Te.current=new Date().getTime(),He=setTimeout(()=>{var et;(et=y.onAutoClose)==null||et.call(y,y),Ft()},Ee.current)),()=>clearTimeout(He)},[N,w,y,ke,j,bi,Ft]),se.useEffect(()=>{y.delete&&Ft()},[Ft,y.delete]);function Cn(){var He,et,ot;return B!=null&&B.loading?se.createElement("div",{className:$o(P==null?void 0:P.loader,(He=y==null?void 0:y.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":ke==="loading"},B.loading):X?se.createElement("div",{className:$o(P==null?void 0:P.loader,(et=y==null?void 0:y.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":ke==="loading"},X):se.createElement(P9,{className:$o(P==null?void 0:P.loader,(ot=y==null?void 0:y.classNames)==null?void 0:ot.loader),visible:ke==="loading"})}return se.createElement("li",{tabIndex:0,ref:at,className:$o(U,lt,P==null?void 0:P.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[ke],(n=y==null?void 0:y.classNames)==null?void 0:n[ke]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:_,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":H,"data-promise":!!y.promise,"data-swiped":Ze,"data-removed":he,"data-visible":xe,"data-y-position":Po,"data-x-position":ao,"data-index":k,"data-front":pe,"data-swiping":Ne,"data-dismissible":Ke,"data-type":ke,"data-invert":js,"data-swipe-out":Je,"data-swipe-direction":ee,"data-expanded":!!(N||I&&H),style:{"--index":k,"--toasts-before":k,"--z-index":T.length-k,"--offset":`${he?it:je.current}px`,"--initial-height":I?"auto":`${It}px`,...L,...y.style},onDragEnd:()=>{Ae(!1),Q(null),Dt.current=null},onPointerDown:He=>{Vt||!Ke||(Ue.current=new Date,wt(je.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(Ae(!0),Dt.current={x:He.clientX,y:He.clientY}))},onPointerUp:()=>{var He,et,ot,$t;if(Je||!Ke)return;Dt.current=null;let ln=Number(((He=at.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rt=Number(((et=at.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),en=new Date().getTime()-((ot=Ue.current)==null?void 0:ot.getTime()),zt=Z==="x"?ln:Rt,Jt=Math.abs(zt)/en;if(Math.abs(zt)>=Q9||Jt>.11){wt(je.current),($t=y.onDismiss)==null||$t.call(y,y),ne(Z==="x"?ln>0?"right":"left":Rt>0?"down":"up"),Ft(),De(!0),_e(!1);return}Ae(!1),Q(null)},onPointerMove:He=>{var et,ot,$t,ln;if(!Dt.current||!Ke||((et=window.getSelection())==null?void 0:et.toString().length)>0)return;let Rt=He.clientY-Dt.current.y,en=He.clientX-Dt.current.x,zt=(ot=t.swipeDirections)!=null?ot:eG(te);!Z&&(Math.abs(en)>1||Math.abs(Rt)>1)&&Q(Math.abs(en)>Math.abs(Rt)?"x":"y");let Jt={x:0,y:0};Z==="y"?(zt.includes("top")||zt.includes("bottom"))&&(zt.includes("top")&&Rt<0||zt.includes("bottom")&&Rt>0)&&(Jt.y=Rt):Z==="x"&&(zt.includes("left")||zt.includes("right"))&&(zt.includes("left")&&en<0||zt.includes("right")&&en>0)&&(Jt.x=en),(Math.abs(Jt.x)>0||Math.abs(Jt.y)>0)&&_e(!0),($t=at.current)==null||$t.style.setProperty("--swipe-amount-x",`${Jt.x}px`),(ln=at.current)==null||ln.style.setProperty("--swipe-amount-y",`${Jt.y}px`)}},ae&&!y.jsx?se.createElement("button",{"aria-label":G,"data-disabled":Vt,"data-close-button":!0,onClick:Vt||!Ke?()=>{}:()=>{var He;Ft(),(He=y.onDismiss)==null||He.call(y,y)},className:$o(P==null?void 0:P.closeButton,(o=y==null?void 0:y.classNames)==null?void 0:o.closeButton)},(s=B==null?void 0:B.close)!=null?s:F9):null,y.jsx||m.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:se.createElement(se.Fragment,null,ke||y.icon||y.promise?se.createElement("div",{"data-icon":"",className:$o(P==null?void 0:P.icon,(i=y==null?void 0:y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Cn():null,y.type!=="loading"?y.icon||(B==null?void 0:B[ke])||_9(ke):null):null,se.createElement("div",{"data-content":"",className:$o(P==null?void 0:P.content,(a=y==null?void 0:y.classNames)==null?void 0:a.content)},se.createElement("div",{"data-title":"",className:$o(P==null?void 0:P.title,(l=y==null?void 0:y.classNames)==null?void 0:l.title)},typeof y.title=="function"?y.title():y.title),y.description?se.createElement("div",{"data-description":"",className:$o(K,rt,P==null?void 0:P.description,(u=y==null?void 0:y.classNames)==null?void 0:u.description)},typeof y.description=="function"?y.description():y.description):null),m.isValidElement(y.cancel)?y.cancel:y.cancel&&dp(y.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||F,onClick:He=>{var et,ot;dp(y.cancel)&&Ke&&((ot=(et=y.cancel).onClick)==null||ot.call(et,He),Ft())},className:$o(P==null?void 0:P.cancelButton,(f=y==null?void 0:y.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,m.isValidElement(y.action)?y.action:y.action&&dp(y.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||z,onClick:He=>{var et,ot;dp(y.action)&&((ot=(et=y.action).onClick)==null||ot.call(et,He),!He.defaultPrevented&&Ft())},className:$o(P==null?void 0:P.actionButton,(p=y==null?void 0:y.classNames)==null?void 0:p.actionButton)},y.action.label):null))};function eT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nG(t,e){let n={};return[t,e].forEach((r,o)=>{let s=o===1,i=s?"--mobile-offset":"--offset",a=s?Y9:q9;function l(u){["top","right","bottom","left"].forEach(f=>{n[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var rG=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,mobileOffset:u,theme:f="light",richColors:p,duration:g,style:y,visibleToasts:b=K9,toastOptions:w,dir:x=eT(),gap:C=X9,loadingIcon:S,icons:k,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:N}=t,[A,_]=se.useState([]),M=se.useMemo(()=>Array.from(new Set([r].concat(A.filter(j=>j.position).map(j=>j.position)))),[A,r]),[L,F]=se.useState([]),[z,U]=se.useState(!1),[K,W]=se.useState(!1),[te,J]=se.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=se.useRef(null),I=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=se.useRef(null),B=se.useRef(!1),G=se.useCallback(j=>{_(Z=>{var Q;return(Q=Z.find(ee=>ee.id===j.id))!=null&&Q.delete||Mr.dismiss(j.id),Z.filter(({id:ee})=>ee!==j.id)})},[]);return se.useEffect(()=>Mr.subscribe(j=>{if(j.dismiss){_(Z=>Z.map(Q=>Q.id===j.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{a1.flushSync(()=>{_(Z=>{let Q=Z.findIndex(ee=>ee.id===j.id);return Q!==-1?[...Z.slice(0,Q),{...Z[Q],...j},...Z.slice(Q+1)]:[j,...Z]})})})}),[]),se.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:Z})=>{J(Z?"dark":"light")})}catch{j.addListener(({matches:Q})=>{try{J(Q?"dark":"light")}catch(ee){console.error(ee)}})}},[f]),se.useEffect(()=>{A.length<=1&&U(!1)},[A]),se.useEffect(()=>{let j=Z=>{var Q,ee;o.every(ne=>Z[ne]||Z.code===ne)&&(U(!0),(Q=X.current)==null||Q.focus()),Z.code==="Escape"&&(document.activeElement===X.current||(ee=X.current)!=null&&ee.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[o]),se.useEffect(()=>{if(X.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,B.current=!1)}},[X.current]),se.createElement("section",{ref:e,"aria-label":`${T} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((j,Z)=>{var Q;let[ee,ne]=j.split("-");return A.length?se.createElement("ol",{key:j,dir:x==="auto"?eT():x,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":ee,"data-lifted":z&&A.length>1&&!s,"data-x-position":ne,style:{"--front-toast-height":`${((Q=L[0])==null?void 0:Q.height)||0}px`,"--width":`${J9}px`,"--gap":`${C}px`,...y,...nG(l,u)},onBlur:H=>{B.current&&!H.currentTarget.contains(H.relatedTarget)&&(B.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||B.current||(B.current=!0,P.current=H.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{K||U(!1)},onDragEnd:()=>U(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},A.filter(H=>!H.position&&Z===0||H.position===j).map((H,ue)=>{var he,le;return se.createElement(tG,{key:H.id,icons:k,index:ue,toast:H,defaultRichColors:p,duration:(he=w==null?void 0:w.duration)!=null?he:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:b,closeButton:(le=w==null?void 0:w.closeButton)!=null?le:i,interacting:K,position:j,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:G,toasts:A.filter(Ne=>Ne.position==H.position),heights:L.filter(Ne=>Ne.position==H.position),setHeights:F,expandByDefault:s,gap:C,loadingIcon:S,expanded:z,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const oG=({...t})=>{const{theme:e="system"}=ss();return h.jsx(rG,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var sG=gb[" useId ".trim().toString()]||(()=>{}),iG=0;function Gn(t){const[e,n]=m.useState(sG());return Dn(()=>{n(r=>r??String(iG++))},[t]),e?`radix-${e}`:""}const aG=["top","right","bottom","left"],ba=Math.min,Yr=Math.max,Am=Math.round,fp=Math.floor,Ts=t=>({x:t,y:t}),lG={left:"right",right:"left",bottom:"top",top:"bottom"},cG={start:"end",end:"start"};function pw(t,e,n){return Yr(t,ba(e,n))}function pi(t,e){return typeof t=="function"?t(e):t}function mi(t){return t.split("-")[0]}function xu(t){return t.split("-")[1]}function x1(t){return t==="x"?"y":"x"}function w1(t){return t==="y"?"height":"width"}function Ss(t){return["top","bottom"].includes(mi(t))?"y":"x"}function b1(t){return x1(Ss(t))}function uG(t,e,n){n===void 0&&(n=!1);const r=xu(t),o=b1(t),s=w1(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=_m(i)),[i,_m(i)]}function dG(t){const e=_m(t);return[mw(t),e,mw(e)]}function mw(t){return t.replace(/start|end/g,e=>cG[e])}function fG(t,e,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?s:i;default:return[]}}function hG(t,e,n,r){const o=xu(t);let s=fG(mi(t),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),e&&(s=s.concat(s.map(mw)))),s}function _m(t){return t.replace(/left|right|bottom|top/g,e=>lG[e])}function pG(t){return{top:0,right:0,bottom:0,left:0,...t}}function mO(t){return typeof t!="number"?pG(t):{top:t,right:t,bottom:t,left:t}}function Om(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function tT(t,e,n){let{reference:r,floating:o}=t;const s=Ss(e),i=b1(e),a=w1(i),l=mi(e),u=s==="y",f=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[a]/2-o[a]/2;let y;switch(l){case"top":y={x:f,y:r.y-o.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-o.width,y:p};break;default:y={x:r.x,y:r.y}}switch(xu(e)){case"start":y[i]-=g*(n&&u?-1:1);break;case"end":y[i]+=g*(n&&u?-1:1);break}return y}const mG=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y:p}=tT(u,r,l),g=r,y={},b=0;for(let w=0;w<a.length;w++){const{name:x,fn:C}=a[w],{x:S,y:k,data:T,reset:N}=await C({x:f,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:y,rects:u,platform:i,elements:{reference:t,floating:e}});f=S??f,p=k??p,y={...y,[x]:{...y[x],...T}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:o}):N.rects),{x:f,y:p}=tT(u,g,l)),w=-1)}return{x:f,y:p,placement:g,strategy:o,middlewareData:y}};async function rf(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=pi(e,t),b=mO(y),x=a[g?p==="floating"?"reference":"floating":p],C=Om(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),S=p==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},N=Om(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:k,strategy:l}):S);return{top:(C.top-N.top+b.top)/T.y,bottom:(N.bottom-C.bottom+b.bottom)/T.y,left:(C.left-N.left+b.left)/T.x,right:(N.right-C.right+b.right)/T.x}}const gG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=e,{element:u,padding:f=0}=pi(t,e)||{};if(u==null)return{};const p=mO(f),g={x:n,y:r},y=b1(o),b=w1(y),w=await i.getDimensions(u),x=y==="y",C=x?"top":"left",S=x?"bottom":"right",k=x?"clientHeight":"clientWidth",T=s.reference[b]+s.reference[y]-g[y]-s.floating[b],N=g[y]-s.reference[y],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=A?A[k]:0;(!_||!await(i.isElement==null?void 0:i.isElement(A)))&&(_=a.floating[k]||s.floating[b]);const M=T/2-N/2,L=_/2-w[b]/2-1,F=ba(p[C],L),z=ba(p[S],L),U=F,K=_-w[b]-z,W=_/2-w[b]/2+M,te=pw(U,W,K),J=!l.arrow&&xu(o)!=null&&W!==te&&s.reference[b]/2-(W<U?F:z)-w[b]/2<0,X=J?W<U?W-U:W-K:0;return{[y]:g[y]+X,data:{[y]:te,centerOffset:W-te-X,...J&&{alignmentOffset:X}},reset:J}}}),yG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=pi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=mi(o),S=Ss(a),k=mi(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=g||(k||!w?[_m(a)]:dG(a)),A=b!=="none";!g&&A&&N.push(...hG(a,w,b,T));const _=[a,...N],M=await rf(e,x),L=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&L.push(M[C]),p){const W=uG(o,i,T);L.push(M[W[0]],M[W[1]])}if(F=[...F,{placement:o,overflows:L}],!L.every(W=>W<=0)){var z,U;const W=(((z=s.flip)==null?void 0:z.index)||0)+1,te=_[W];if(te&&(!(p==="alignment"?S!==Ss(te):!1)||F.every(I=>I.overflows[0]>0&&Ss(I.placement)===S)))return{data:{index:W,overflows:F},reset:{placement:te}};let J=(U=F.filter(X=>X.overflows[0]<=0).sort((X,I)=>X.overflows[1]-I.overflows[1])[0])==null?void 0:U.placement;if(!J)switch(y){case"bestFit":{var K;const X=(K=F.filter(I=>{if(A){const P=Ss(I.placement);return P===S||P==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(P=>P>0).reduce((P,B)=>P+B,0)]).sort((I,P)=>I[1]-P[1])[0])==null?void 0:K[0];X&&(J=X);break}case"initialPlacement":J=a;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function nT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rT(t){return aG.some(e=>t[e]>=0)}const vG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=pi(t,e);switch(r){case"referenceHidden":{const s=await rf(e,{...o,elementContext:"reference"}),i=nT(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:rT(i)}}}case"escaped":{const s=await rf(e,{...o,altBoundary:!0}),i=nT(s,n.floating);return{data:{escapedOffsets:i,escaped:rT(i)}}}default:return{}}}}};async function xG(t,e){const{placement:n,platform:r,elements:o}=t,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=mi(n),a=xu(n),l=Ss(n)==="y",u=["left","top"].includes(i)?-1:1,f=s&&l?-1:1,p=pi(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),l?{x:y*f,y:g*u}:{x:g*u,y:y*f}}const wG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=e,l=await xG(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},bG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:C,y:S}=x;return{x:C,y:S}}},...l}=pi(t,e),u={x:n,y:r},f=await rf(e,l),p=Ss(mi(o)),g=x1(p);let y=u[g],b=u[p];if(s){const x=g==="y"?"top":"left",C=g==="y"?"bottom":"right",S=y+f[x],k=y-f[C];y=pw(S,y,k)}if(i){const x=p==="y"?"top":"left",C=p==="y"?"bottom":"right",S=b+f[x],k=b-f[C];b=pw(S,b,k)}const w=a.fn({...e,[g]:y,[p]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:s,[p]:i}}}}}},CG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=pi(t,e),f={x:n,y:r},p=Ss(o),g=x1(p);let y=f[g],b=f[p];const w=pi(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const k=g==="y"?"height":"width",T=s.reference[g]-s.floating[k]+x.mainAxis,N=s.reference[g]+s.reference[k]-x.mainAxis;y<T?y=T:y>N&&(y=N)}if(u){var C,S;const k=g==="y"?"width":"height",T=["top","left"].includes(mi(o)),N=s.reference[p]-s.floating[k]+(T&&((C=i.offset)==null?void 0:C[p])||0)+(T?0:x.crossAxis),A=s.reference[p]+s.reference[k]+(T?0:((S=i.offset)==null?void 0:S[p])||0)-(T?x.crossAxis:0);b<N?b=N:b>A&&(b=A)}return{[g]:y,[p]:b}}}},SG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:s,platform:i,elements:a}=e,{apply:l=()=>{},...u}=pi(t,e),f=await rf(e,u),p=mi(o),g=xu(o),y=Ss(o)==="y",{width:b,height:w}=s.floating;let x,C;p==="top"||p==="bottom"?(x=p,C=g===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(C=p,x=g==="end"?"top":"bottom");const S=w-f.top-f.bottom,k=b-f.left-f.right,T=ba(w-f[x],S),N=ba(b-f[C],k),A=!e.middlewareData.shift;let _=T,M=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=S),A&&!g){const F=Yr(f.left,0),z=Yr(f.right,0),U=Yr(f.top,0),K=Yr(f.bottom,0);y?M=b-2*(F!==0||z!==0?F+z:Yr(f.left,f.right)):_=w-2*(U!==0||K!==0?U+K:Yr(f.top,f.bottom))}await l({...e,availableWidth:M,availableHeight:_});const L=await i.getDimensions(a.floating);return b!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function Pg(){return typeof window<"u"}function wu(t){return gO(t)?(t.nodeName||"").toLowerCase():"#document"}function eo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ps(t){var e;return(e=(gO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gO(t){return Pg()?t instanceof Node||t instanceof eo(t).Node:!1}function Qo(t){return Pg()?t instanceof Element||t instanceof eo(t).Element:!1}function Rs(t){return Pg()?t instanceof HTMLElement||t instanceof eo(t).HTMLElement:!1}function oT(t){return!Pg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof eo(t).ShadowRoot}function zf(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Zo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function kG(t){return["table","td","th"].includes(wu(t))}function Ig(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function C1(t){const e=S1(),n=Qo(t)?Zo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EG(t){let e=Ca(t);for(;Rs(e)&&!nu(e);){if(C1(e))return e;if(Ig(e))return null;e=Ca(e)}return null}function S1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nu(t){return["html","body","#document"].includes(wu(t))}function Zo(t){return eo(t).getComputedStyle(t)}function Dg(t){return Qo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ca(t){if(wu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oT(t)&&t.host||Ps(t);return oT(e)?e.host:e}function yO(t){const e=Ca(t);return nu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rs(e)&&zf(e)?e:yO(e)}function of(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=yO(t),s=o===((r=t.ownerDocument)==null?void 0:r.body),i=eo(o);if(s){const a=gw(i);return e.concat(i,i.visualViewport||[],zf(o)?o:[],a&&n?of(a):[])}return e.concat(o,of(o,[],n))}function gw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vO(t){const e=Zo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Rs(t),s=o?t.offsetWidth:n,i=o?t.offsetHeight:r,a=Am(n)!==s||Am(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function k1(t){return Qo(t)?t:t.contextElement}function Dc(t){const e=k1(t);if(!Rs(e))return Ts(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:s}=vO(e);let i=(s?Am(n.width):n.width)/r,a=(s?Am(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const NG=Ts(0);function xO(t){const e=eo(t);return!S1()||!e.visualViewport?NG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==eo(t)?!1:e}function Nl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=k1(t);let i=Ts(1);e&&(r?Qo(r)&&(i=Dc(r)):i=Dc(t));const a=TG(s,n,r)?xO(s):Ts(0);let l=(o.left+a.x)/i.x,u=(o.top+a.y)/i.y,f=o.width/i.x,p=o.height/i.y;if(s){const g=eo(s),y=r&&Qo(r)?eo(r):r;let b=g,w=gw(b);for(;w&&r&&y!==b;){const x=Dc(w),C=w.getBoundingClientRect(),S=Zo(w),k=C.left+(w.clientLeft+parseFloat(S.paddingLeft))*x.x,T=C.top+(w.clientTop+parseFloat(S.paddingTop))*x.y;l*=x.x,u*=x.y,f*=x.x,p*=x.y,l+=k,u+=T,b=eo(w),w=gw(b)}}return Om({width:f,height:p,x:l,y:u})}function E1(t,e){const n=Dg(t).scrollLeft;return e?e.left+n:Nl(Ps(t)).left+n}function wO(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:E1(t,r)),s=r.top+e.scrollTop;return{x:o,y:s}}function RG(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const s=o==="fixed",i=Ps(r),a=e?Ig(e.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Ts(1);const f=Ts(0),p=Rs(r);if((p||!p&&!s)&&((wu(r)!=="body"||zf(i))&&(l=Dg(r)),Rs(r))){const y=Nl(r);u=Dc(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const g=i&&!p&&!s?wO(i,l,!0):Ts(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-l.scrollTop*u.y+f.y+g.y}}function MG(t){return Array.from(t.getClientRects())}function AG(t){const e=Ps(t),n=Dg(t),r=t.ownerDocument.body,o=Yr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+E1(t);const a=-n.scrollTop;return Zo(r).direction==="rtl"&&(i+=Yr(e.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function _G(t,e){const n=eo(t),r=Ps(t),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const u=S1();(!u||u&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function OG(t,e){const n=Nl(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,s=Rs(t)?Dc(t):Ts(1),i=t.clientWidth*s.x,a=t.clientHeight*s.y,l=o*s.x,u=r*s.y;return{width:i,height:a,x:l,y:u}}function sT(t,e,n){let r;if(e==="viewport")r=_G(t,n);else if(e==="document")r=AG(Ps(t));else if(Qo(e))r=OG(e,n);else{const o=xO(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Om(r)}function bO(t,e){const n=Ca(t);return n===e||!Qo(n)||nu(n)?!1:Zo(n).position==="fixed"||bO(n,e)}function PG(t,e){const n=e.get(t);if(n)return n;let r=of(t,[],!1).filter(a=>Qo(a)&&wu(a)!=="body"),o=null;const s=Zo(t).position==="fixed";let i=s?Ca(t):t;for(;Qo(i)&&!nu(i);){const a=Zo(i),l=C1(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||zf(i)&&!l&&bO(t,i))?r=r.filter(f=>f!==i):o=a,i=Ca(i)}return e.set(t,r),r}function IG(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[...n==="clippingAncestors"?Ig(e)?[]:PG(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,f)=>{const p=sT(e,f,o);return u.top=Yr(p.top,u.top),u.right=ba(p.right,u.right),u.bottom=ba(p.bottom,u.bottom),u.left=Yr(p.left,u.left),u},sT(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function DG(t){const{width:e,height:n}=vO(t);return{width:e,height:n}}function jG(t,e,n){const r=Rs(e),o=Ps(e),s=n==="fixed",i=Nl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ts(0);function u(){l.x=E1(o)}if(r||!r&&!s)if((wu(e)!=="body"||zf(o))&&(a=Dg(e)),r){const y=Nl(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else o&&u();s&&!r&&o&&u();const f=o&&!r&&!s?wO(o,a):Ts(0),p=i.left+a.scrollLeft-l.x-f.x,g=i.top+a.scrollTop-l.y-f.y;return{x:p,y:g,width:i.width,height:i.height}}function x0(t){return Zo(t).position==="static"}function iT(t,e){if(!Rs(t)||Zo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ps(t)===n&&(n=n.ownerDocument.body),n}function CO(t,e){const n=eo(t);if(Ig(t))return n;if(!Rs(t)){let o=Ca(t);for(;o&&!nu(o);){if(Qo(o)&&!x0(o))return o;o=Ca(o)}return n}let r=iT(t,e);for(;r&&kG(r)&&x0(r);)r=iT(r,e);return r&&nu(r)&&x0(r)&&!C1(r)?n:r||EG(t)||n}const LG=async function(t){const e=this.getOffsetParent||CO,n=this.getDimensions,r=await n(t.floating);return{reference:jG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FG(t){return Zo(t).direction==="rtl"}const $G={convertOffsetParentRelativeRectToViewportRelativeRect:RG,getDocumentElement:Ps,getClippingRect:IG,getOffsetParent:CO,getElementRects:LG,getClientRects:MG,getDimensions:DG,getScale:Dc,isElement:Qo,isRTL:FG};function SO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zG(t,e){let n=null,r;const o=Ps(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:f,top:p,width:g,height:y}=u;if(a||e(),!g||!y)return;const b=fp(p),w=fp(o.clientWidth-(f+g)),x=fp(o.clientHeight-(p+y)),C=fp(f),k={rootMargin:-b+"px "+-w+"px "+-x+"px "+-C+"px",threshold:Yr(0,ba(1,l))||1};let T=!0;function N(A){const _=A[0].intersectionRatio;if(_!==l){if(!T)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!SO(u,t.getBoundingClientRect())&&i(),T=!1}try{n=new IntersectionObserver(N,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(N,k)}n.observe(t)}return i(!0),s}function BG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=k1(t),f=o||s?[...u?of(u):[],...of(e)]:[];f.forEach(C=>{o&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const p=u&&a?zG(u,n):null;let g=-1,y=null;i&&(y=new ResizeObserver(C=>{let[S]=C;S&&S.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let b,w=l?Nl(t):null;l&&x();function x(){const C=Nl(t);w&&!SO(w,C)&&n(),w=C,b=requestAnimationFrame(x)}return n(),()=>{var C;f.forEach(S=>{o&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),p==null||p(),(C=y)==null||C.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const WG=wG,UG=bG,HG=yG,VG=SG,GG=vG,aT=gG,KG=CG,qG=(t,e,n)=>{const r=new Map,o={platform:$G,...n},s={...o.platform,_c:r};return mG(t,e,{...o,platform:s})};var YG=typeof document<"u",JG=function(){},Kp=YG?m.useLayoutEffect:JG;function Pm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Pm(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&t.$$typeof)&&!Pm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function kO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lT(t,e){const n=kO(t);return Math.round(e*n)/n}function w0(t){const e=m.useRef(t);return Kp(()=>{e.current=t}),e}function XG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,p]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=m.useState(r);Pm(g,r)||y(r);const[b,w]=m.useState(null),[x,C]=m.useState(null),S=m.useCallback(I=>{I!==A.current&&(A.current=I,w(I))},[]),k=m.useCallback(I=>{I!==_.current&&(_.current=I,C(I))},[]),T=s||b,N=i||x,A=m.useRef(null),_=m.useRef(null),M=m.useRef(f),L=l!=null,F=w0(l),z=w0(o),U=w0(u),K=m.useCallback(()=>{if(!A.current||!_.current)return;const I={placement:e,strategy:n,middleware:g};z.current&&(I.platform=z.current),qG(A.current,_.current,I).then(P=>{const B={...P,isPositioned:U.current!==!1};W.current&&!Pm(M.current,B)&&(M.current=B,Eo.flushSync(()=>{p(B)}))})},[g,e,n,z,U]);Kp(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(I=>({...I,isPositioned:!1})))},[u]);const W=m.useRef(!1);Kp(()=>(W.current=!0,()=>{W.current=!1}),[]),Kp(()=>{if(T&&(A.current=T),N&&(_.current=N),T&&N){if(F.current)return F.current(T,N,K);K()}},[T,N,K,F,L]);const te=m.useMemo(()=>({reference:A,floating:_,setReference:S,setFloating:k}),[S,k]),J=m.useMemo(()=>({reference:T,floating:N}),[T,N]),X=m.useMemo(()=>{const I={position:n,left:0,top:0};if(!J.floating)return I;const P=lT(J.floating,f.x),B=lT(J.floating,f.y);return a?{...I,transform:"translate("+P+"px, "+B+"px)",...kO(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:B}},[n,a,J.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:K,refs:te,elements:J,floatingStyles:X}),[f,K,te,J,X])}const QG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aT({element:r.current,padding:o}).fn(n):{}:r?aT({element:r,padding:o}).fn(n):{}}}},ZG=(t,e)=>({...WG(t),options:[t,e]}),eK=(t,e)=>({...UG(t),options:[t,e]}),tK=(t,e)=>({...KG(t),options:[t,e]}),nK=(t,e)=>({...HG(t),options:[t,e]}),rK=(t,e)=>({...VG(t),options:[t,e]}),oK=(t,e)=>({...GG(t),options:[t,e]}),sK=(t,e)=>({...QG(t),options:[t,e]});var iK="Arrow",EO=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...s}=t;return h.jsx(Fe.svg,{...s,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});EO.displayName=iK;var aK=EO;function N1(t){const[e,n]=m.useState(void 0);return Dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var T1="Popper",[NO,Ra]=$r(T1),[lK,TO]=NO(T1),RO=t=>{const{__scopePopper:e,children:n}=t,[r,o]=m.useState(null);return h.jsx(lK,{scope:e,anchor:r,onAnchorChange:o,children:n})};RO.displayName=T1;var MO="PopperAnchor",AO=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,s=TO(MO,n),i=m.useRef(null),a=dt(e,i);return m.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:h.jsx(Fe.div,{...o,ref:a})});AO.displayName=MO;var R1="PopperContent",[cK,uK]=NO(R1),_O=m.forwardRef((t,e)=>{var H,ue,he,le,Ne,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,...w}=t,x=TO(R1,n),[C,S]=m.useState(null),k=dt(e,Je=>S(Je)),[T,N]=m.useState(null),A=N1(T),_=(A==null?void 0:A.width)??0,M=(A==null?void 0:A.height)??0,L=r+(s!=="center"?"-"+s:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(u)?u:[u],U=z.length>0,K={padding:F,boundary:z.filter(fK),altBoundary:U},{refs:W,floatingStyles:te,placement:J,isPositioned:X,middlewareData:I}=XG({strategy:"fixed",placement:L,whileElementsMounted:(...Je)=>BG(...Je,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[ZG({mainAxis:o+M,alignmentAxis:i}),l&&eK({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?tK():void 0,...K}),l&&nK({...K}),rK({...K,apply:({elements:Je,rects:De,availableWidth:Ze,availableHeight:_e})=>{const{width:it,height:wt}=De.reference,It=Je.floating.style;It.setProperty("--radix-popper-available-width",`${Ze}px`),It.setProperty("--radix-popper-available-height",`${_e}px`),It.setProperty("--radix-popper-anchor-width",`${it}px`),It.setProperty("--radix-popper-anchor-height",`${wt}px`)}}),T&&sK({element:T,padding:a}),hK({arrowWidth:_,arrowHeight:M}),g&&oK({strategy:"referenceHidden",...K})]}),[P,B]=IO(J),G=Fr(b);Dn(()=>{X&&(G==null||G())},[X,G]);const j=(H=I.arrow)==null?void 0:H.x,Z=(ue=I.arrow)==null?void 0:ue.y,Q=((he=I.arrow)==null?void 0:he.centerOffset)!==0,[ee,ne]=m.useState();return Dn(()=>{C&&ne(window.getComputedStyle(C).zIndex)},[C]),h.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:X?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(le=I.transformOrigin)==null?void 0:le.x,(Ne=I.transformOrigin)==null?void 0:Ne.y].join(" "),...((Ae=I.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(cK,{scope:n,placedSide:P,onArrowChange:N,arrowX:j,arrowY:Z,shouldHideArrow:Q,children:h.jsx(Fe.div,{"data-side":P,"data-align":B,...w,ref:k,style:{...w.style,animation:X?void 0:"none"}})})})});_O.displayName=R1;var OO="PopperArrow",dK={top:"bottom",right:"left",bottom:"top",left:"right"},PO=m.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,s=uK(OO,r),i=dK[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(aK,{...o,ref:n,style:{...o.style,display:"block"}})})});PO.displayName=OO;function fK(t){return t!==null}var hK=t=>({name:"transformOrigin",options:t,fn(e){var x,C,S;const{placement:n,rects:r,middlewareData:o}=e,i=((x=o.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[u,f]=IO(n),p={start:"0%",center:"50%",end:"100%"}[f],g=(((C=o.arrow)==null?void 0:C.x)??0)+a/2,y=(((S=o.arrow)==null?void 0:S.y)??0)+l/2;let b="",w="";return u==="bottom"?(b=i?p:`${g}px`,w=`${-l}px`):u==="top"?(b=i?p:`${g}px`,w=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,w=i?p:`${y}px`):u==="left"&&(b=`${r.floating.width+l}px`,w=i?p:`${y}px`),{data:{x:b,y:w}}}});function IO(t){const[e,n="center"]=t.split("-");return[e,n]}var M1=RO,Bf=AO,jg=_O,Lg=PO,[Fg,kue]=$r("Tooltip",[Ra]),A1=Ra(),DO="TooltipProvider",pK=700,cT="tooltip.open",[mK,jO]=Fg(DO),LO=t=>{const{__scopeTooltip:e,delayDuration:n=pK,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=t,i=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),h.jsx(mK,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(u=>{a.current=u},[]),disableHoverableContent:o,children:s})};LO.displayName=DO;var FO="Tooltip",[Eue,$g]=Fg(FO),yw="TooltipTrigger",gK=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=$g(yw,n),s=jO(yw,n),i=A1(n),a=m.useRef(null),l=dt(e,a,o.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),p=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),h.jsx(Bf,{asChild:!0,...i,children:h.jsx(Fe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Ce(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ce(t.onFocus,()=>{u.current||o.onOpen()}),onBlur:Ce(t.onBlur,o.onClose),onClick:Ce(t.onClick,o.onClose)})})});gK.displayName=yw;var yK="TooltipPortal",[Nue,vK]=Fg(yK,{forceMount:void 0}),ru="TooltipContent",$O=m.forwardRef((t,e)=>{const n=vK(ru,t.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=t,i=$g(ru,t.__scopeTooltip);return h.jsx(io,{present:r||i.open,children:i.disableHoverableContent?h.jsx(zO,{side:o,...s,ref:e}):h.jsx(xK,{side:o,...s,ref:e})})}),xK=m.forwardRef((t,e)=>{const n=$g(ru,t.__scopeTooltip),r=jO(ru,t.__scopeTooltip),o=m.useRef(null),s=dt(e,o),[i,a]=m.useState(null),{trigger:l,onClose:u}=n,f=o.current,{onPointerInTransitChange:p}=r,g=m.useCallback(()=>{a(null),p(!1)},[p]),y=m.useCallback((b,w)=>{const x=b.currentTarget,C={x:b.clientX,y:b.clientY},S=kK(C,x.getBoundingClientRect()),k=EK(C,S),T=NK(w.getBoundingClientRect()),N=RK([...k,...T]);a(N),p(!0)},[p]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(l&&f){const b=x=>y(x,f),w=x=>y(x,l);return l.addEventListener("pointerleave",b),f.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",w)}}},[l,f,y,g]),m.useEffect(()=>{if(i){const b=w=>{const x=w.target,C={x:w.clientX,y:w.clientY},S=(l==null?void 0:l.contains(x))||(f==null?void 0:f.contains(x)),k=!TK(C,i);S?g():k&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,f,i,u,g]),h.jsx(zO,{...t,ref:s})}),[wK,bK]=Fg(FO,{isInside:!1}),CK=EV("TooltipContent"),zO=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=t,l=$g(ru,n),u=A1(n),{onClose:f}=l;return m.useEffect(()=>(document.addEventListener(cT,f),()=>document.removeEventListener(cT,f)),[f]),m.useEffect(()=>{if(l.trigger){const p=g=>{const y=g.target;y!=null&&y.contains(l.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,f]),h.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:h.jsxs(jg,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(CK,{children:r}),h.jsx(wK,{scope:n,isInside:!0,children:h.jsx(KV,{id:l.contentId,role:"tooltip",children:o||r})})]})})});$O.displayName=ru;var BO="TooltipArrow",SK=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=A1(n);return bK(BO,n).isInside?null:h.jsx(Lg,{...o,...r,ref:e})});SK.displayName=BO;function kK(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EK(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function NK(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function TK(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const a=e[s],l=e[i],u=a.x,f=a.y,p=l.x,g=l.y;f>r!=g>r&&n<(p-u)*(r-f)/(g-f)+u&&(o=!o)}return o}function RK(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MK(e)}function MK(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const s=e[e.length-1],i=e[e.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AK=LO,WO=$O;const _K=AK,OK=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(WO,{ref:r,sideOffset:e,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));OK.displayName=WO.displayName;var zg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bg=typeof window>"u"||"Deno"in globalThis;function Wo(){}function PK(t,e){return typeof t=="function"?t(e):t}function IK(t){return typeof t=="number"&&t>=0&&t!==1/0}function DK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vw(t,e){return typeof t=="function"?t(e):t}function jK(t,e){return typeof t=="function"?t(e):t}function uT(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==_1(i,e.options))return!1}else if(!af(e.queryKey,i))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||o&&o!==e.state.fetchStatus||s&&!s(e))}function dT(t,e){const{exact:n,status:r,predicate:o,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(sf(e.options.mutationKey)!==sf(s))return!1}else if(!af(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function _1(t,e){return((e==null?void 0:e.queryKeyHashFn)||sf)(t)}function sf(t){return JSON.stringify(t,(e,n)=>xw(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function af(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>af(t[n],e[n])):!1}function UO(t,e){if(t===e)return t;const n=fT(t)&&fT(e);if(n||xw(t)&&xw(e)){const r=n?t:Object.keys(t),o=r.length,s=n?e:Object.keys(e),i=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let f=0;f<i;f++){const p=n?f:s[f];(!n&&l.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,u++):(a[p]=UO(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&u++)}return o===i&&u===o?t:a}return e}function fT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xw(t){if(!hT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hT(t){return Object.prototype.toString.call(t)==="[object Object]"}function LK(t){return new Promise(e=>{setTimeout(e,t)})}function FK(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?UO(t,e):e}function $K(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function zK(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var O1=Symbol();function HO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===O1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var il,Gi,zc,NM,BK=(NM=class extends zg{constructor(){super();Nt(this,il);Nt(this,Gi);Nt(this,zc);ct(this,zc,e=>{if(!Bg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,Gi)||this.setEventListener(ce(this,zc))}onUnsubscribe(){var e;this.hasListeners()||((e=ce(this,Gi))==null||e.call(this),ct(this,Gi,void 0))}setEventListener(e){var n;ct(this,zc,e),(n=ce(this,Gi))==null||n.call(this),ct(this,Gi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ce(this,il)!==e&&(ct(this,il,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ce(this,il)=="boolean"?ce(this,il):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},il=new WeakMap,Gi=new WeakMap,zc=new WeakMap,NM),VO=new BK,Bc,Ki,Wc,TM,WK=(TM=class extends zg{constructor(){super();Nt(this,Bc,!0);Nt(this,Ki);Nt(this,Wc);ct(this,Wc,e=>{if(!Bg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ce(this,Ki)||this.setEventListener(ce(this,Wc))}onUnsubscribe(){var e;this.hasListeners()||((e=ce(this,Ki))==null||e.call(this),ct(this,Ki,void 0))}setEventListener(e){var n;ct(this,Wc,e),(n=ce(this,Ki))==null||n.call(this),ct(this,Ki,e(this.setOnline.bind(this)))}setOnline(e){ce(this,Bc)!==e&&(ct(this,Bc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ce(this,Bc)}},Bc=new WeakMap,Ki=new WeakMap,Wc=new WeakMap,TM),Im=new WK;function UK(){let t,e;const n=new Promise((o,s)=>{t=o,e=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}function HK(t){return Math.min(1e3*2**t,3e4)}function GO(t){return(t??"online")==="online"?Im.isOnline():!0}var KO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function b0(t){return t instanceof KO}function qO(t){let e=!1,n=0,r=!1,o;const s=UK(),i=w=>{var x;r||(g(new KO(w)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>VO.isFocused()&&(t.networkMode==="always"||Im.isOnline())&&t.canRun(),f=()=>GO(t.networkMode)&&t.canRun(),p=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),o==null||o(),s.resolve(w))},g=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),o==null||o(),s.reject(w))},y=()=>new Promise(w=>{var x;o=C=>{(r||u())&&w(C)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;o=void 0,r||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(C){w=Promise.reject(C)}Promise.resolve(w).then(p).catch(C=>{var A;if(r)return;const S=t.retry??(Bg?0:3),k=t.retryDelay??HK,T=typeof k=="function"?k(n,C):k,N=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,C);if(e||!N){g(C);return}n++,(A=t.onFail)==null||A.call(t,n,C),LK(T).then(()=>u()?void 0:y()).then(()=>{e?g(C):b()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():y().then(b),s)}}var VK=t=>setTimeout(t,0);function GK(){let t=[],e=0,n=a=>{a()},r=a=>{a()},o=VK;const s=a=>{e?t.push(a):o(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var mr=GK(),al,RM,YO=(RM=class{constructor(){Nt(this,al)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IK(this.gcTime)&&ct(this,al,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bg?1/0:5*60*1e3))}clearGcTimeout(){ce(this,al)&&(clearTimeout(ce(this,al)),ct(this,al,void 0))}},al=new WeakMap,RM),Uc,Hc,vo,ll,tr,Nf,cl,Uo,Js,MM,KK=(MM=class extends YO{constructor(e){super();Nt(this,Uo);Nt(this,Uc);Nt(this,Hc);Nt(this,vo);Nt(this,ll);Nt(this,tr);Nt(this,Nf);Nt(this,cl);ct(this,cl,!1),ct(this,Nf,e.defaultOptions),this.setOptions(e.options),this.observers=[],ct(this,ll,e.client),ct(this,vo,ce(this,ll).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ct(this,Uc,YK(this.options)),this.state=e.state??ce(this,Uc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ce(this,tr))==null?void 0:e.promise}setOptions(e){this.options={...ce(this,Nf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,vo).remove(this)}setData(e,n){const r=FK(this.state.data,e,this.options);return Qn(this,Uo,Js).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Qn(this,Uo,Js).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,o;const n=(r=ce(this,tr))==null?void 0:r.promise;return(o=ce(this,tr))==null||o.cancel(e),n?n.then(Wo).catch(Wo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,Uc))}isActive(){return this.observers.some(e=>jK(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===O1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vw(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!DK(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ce(this,tr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ce(this,tr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ce(this,vo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ce(this,tr)&&(ce(this,cl)?ce(this,tr).cancel({revert:!0}):ce(this,tr).cancelRetry()),this.scheduleGc()),ce(this,vo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qn(this,Uo,Js).call(this,{type:"invalidate"})}fetch(e,n){var u,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,tr))return ce(this,tr).continueRetry(),ce(this,tr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,o=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(ct(this,cl,!0),r.signal)})},s=()=>{const g=HO(this.options,n),b=(()=>{const w={client:ce(this,ll),queryKey:this.queryKey,meta:this.meta};return o(w),w})();return ct(this,cl,!1),this.options.persister?this.options.persister(g,b,this):g(b)},a=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,ll),state:this.state,fetchFn:s};return o(g),g})();(u=this.options.behavior)==null||u.onFetch(a,this),ct(this,Hc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Qn(this,Uo,Js).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=g=>{var y,b,w,x;b0(g)&&g.silent||Qn(this,Uo,Js).call(this,{type:"error",error:g}),b0(g)||((b=(y=ce(this,vo).config).onError)==null||b.call(y,g,this),(x=(w=ce(this,vo).config).onSettled)==null||x.call(w,this.state.data,g,this)),this.scheduleGc()};return ct(this,tr,qO({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var y,b,w,x;if(g===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(C){l(C);return}(b=(y=ce(this,vo).config).onSuccess)==null||b.call(y,g,this),(x=(w=ce(this,vo).config).onSettled)==null||x.call(w,g,this.state.error,this),this.scheduleGc()},onError:l,onFail:(g,y)=>{Qn(this,Uo,Js).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{Qn(this,Uo,Js).call(this,{type:"pause"})},onContinue:()=>{Qn(this,Uo,Js).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ce(this,tr).start()}},Uc=new WeakMap,Hc=new WeakMap,vo=new WeakMap,ll=new WeakMap,tr=new WeakMap,Nf=new WeakMap,cl=new WeakMap,Uo=new WeakSet,Js=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qK(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return b0(o)&&o.revert&&ce(this,Hc)?{...ce(this,Hc),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),mr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ce(this,vo).notify({query:this,type:"updated",action:e})})},MM);function qK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function YK(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ys,AM,JK=(AM=class extends zg{constructor(e={}){super();Nt(this,ys);this.config=e,ct(this,ys,new Map)}build(e,n,r){const o=n.queryKey,s=n.queryHash??_1(o,n);let i=this.get(s);return i||(i=new KK({client:e,queryKey:o,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(i)),i}add(e){ce(this,ys).has(e.queryHash)||(ce(this,ys).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ce(this,ys).get(e.queryHash);n&&(e.destroy(),n===e&&ce(this,ys).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ce(this,ys).get(e)}getAll(){return[...ce(this,ys).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uT(e,r)):n}notify(e){mr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){mr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ys=new WeakMap,AM),vs,hr,ul,xs,Ii,_M,XK=(_M=class extends YO{constructor(e){super();Nt(this,xs);Nt(this,vs);Nt(this,hr);Nt(this,ul);this.mutationId=e.mutationId,ct(this,hr,e.mutationCache),ct(this,vs,[]),this.state=e.state||QK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ce(this,vs).includes(e)||(ce(this,vs).push(e),this.clearGcTimeout(),ce(this,hr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ct(this,vs,ce(this,vs).filter(n=>n!==e)),this.scheduleGc(),ce(this,hr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ce(this,vs).length||(this.state.status==="pending"?this.scheduleGc():ce(this,hr).remove(this))}continue(){var e;return((e=ce(this,ul))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,a,l,u,f,p,g,y,b,w,x,C,S,k,T,N,A,_,M;const n=()=>{Qn(this,xs,Ii).call(this,{type:"continue"})};ct(this,ul,qO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,F)=>{Qn(this,xs,Ii).call(this,{type:"failed",failureCount:L,error:F})},onPause:()=>{Qn(this,xs,Ii).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,hr).canRun(this)}));const r=this.state.status==="pending",o=!ce(this,ul).canStart();try{if(r)n();else{Qn(this,xs,Ii).call(this,{type:"pending",variables:e,isPaused:o}),await((i=(s=ce(this,hr).config).onMutate)==null?void 0:i.call(s,e,this));const F=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));F!==this.state.context&&Qn(this,xs,Ii).call(this,{type:"pending",context:F,variables:e,isPaused:o})}const L=await ce(this,ul).start();return await((f=(u=ce(this,hr).config).onSuccess)==null?void 0:f.call(u,L,e,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,L,e,this.state.context)),await((b=(y=ce(this,hr).config).onSettled)==null?void 0:b.call(y,L,null,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,L,null,e,this.state.context)),Qn(this,xs,Ii).call(this,{type:"success",data:L}),L}catch(L){try{throw await((S=(C=ce(this,hr).config).onError)==null?void 0:S.call(C,L,e,this.state.context,this)),await((T=(k=this.options).onError)==null?void 0:T.call(k,L,e,this.state.context)),await((A=(N=ce(this,hr).config).onSettled)==null?void 0:A.call(N,void 0,L,this.state.variables,this.state.context,this)),await((M=(_=this.options).onSettled)==null?void 0:M.call(_,void 0,L,e,this.state.context)),L}finally{Qn(this,xs,Ii).call(this,{type:"error",error:L})}}finally{ce(this,hr).runNext(this)}}},vs=new WeakMap,hr=new WeakMap,ul=new WeakMap,xs=new WeakSet,Ii=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mr.batch(()=>{ce(this,vs).forEach(r=>{r.onMutationUpdate(e)}),ce(this,hr).notify({mutation:this,type:"updated",action:e})})},_M);function QK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,Ho,Tf,OM,ZK=(OM=class extends zg{constructor(e={}){super();Nt(this,ti);Nt(this,Ho);Nt(this,Tf);this.config=e,ct(this,ti,new Set),ct(this,Ho,new Map),ct(this,Tf,0)}build(e,n,r){const o=new XK({mutationCache:this,mutationId:++Vh(this,Tf)._,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){ce(this,ti).add(e);const n=hp(e);if(typeof n=="string"){const r=ce(this,Ho).get(n);r?r.push(e):ce(this,Ho).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ce(this,ti).delete(e)){const n=hp(e);if(typeof n=="string"){const r=ce(this,Ho).get(n);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&ce(this,Ho).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=hp(e);if(typeof n=="string"){const r=ce(this,Ho).get(n),o=r==null?void 0:r.find(s=>s.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const n=hp(e);if(typeof n=="string"){const o=(r=ce(this,Ho).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mr.batch(()=>{ce(this,ti).forEach(e=>{this.notify({type:"removed",mutation:e})}),ce(this,ti).clear(),ce(this,Ho).clear()})}getAll(){return Array.from(ce(this,ti))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dT(n,r))}findAll(e={}){return this.getAll().filter(n=>dT(e,n))}notify(e){mr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return mr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Wo))))}},ti=new WeakMap,Ho=new WeakMap,Tf=new WeakMap,OM);function hp(t){var e;return(e=t.options.scope)==null?void 0:e.id}function pT(t){return{onFetch:(e,n)=>{var f,p,g,y,b;const r=e.options,o=(g=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],i=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const x=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},C=HO(e.options,e.fetchOptions),S=async(k,T,N)=>{if(w)return Promise.reject();if(T==null&&k.pages.length)return Promise.resolve(k);const _=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:T,direction:N?"backward":"forward",meta:e.options.meta};return x(z),z})(),M=await C(_),{maxPages:L}=e.options,F=N?zK:$K;return{pages:F(k.pages,M,L),pageParams:F(k.pageParams,T,L)}};if(o&&s.length){const k=o==="backward",T=k?eq:mT,N={pages:s,pageParams:i},A=T(r,N);a=await S(N,A,k)}else{const k=t??s.length;do{const T=l===0?i[0]??r.initialPageParam:mT(r,a);if(l>0&&T==null)break;a=await S(a,T),l++}while(l<k)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function mT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eq(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var un,qi,Yi,Vc,Gc,Ji,Kc,qc,PM,tq=(PM=class{constructor(t={}){Nt(this,un);Nt(this,qi);Nt(this,Yi);Nt(this,Vc);Nt(this,Gc);Nt(this,Ji);Nt(this,Kc);Nt(this,qc);ct(this,un,t.queryCache||new JK),ct(this,qi,t.mutationCache||new ZK),ct(this,Yi,t.defaultOptions||{}),ct(this,Vc,new Map),ct(this,Gc,new Map),ct(this,Ji,0)}mount(){Vh(this,Ji)._++,ce(this,Ji)===1&&(ct(this,Kc,VO.subscribe(async t=>{t&&(await this.resumePausedMutations(),ce(this,un).onFocus())})),ct(this,qc,Im.subscribe(async t=>{t&&(await this.resumePausedMutations(),ce(this,un).onOnline())})))}unmount(){var t,e;Vh(this,Ji)._--,ce(this,Ji)===0&&((t=ce(this,Kc))==null||t.call(this),ct(this,Kc,void 0),(e=ce(this,qc))==null||e.call(this),ct(this,qc,void 0))}isFetching(t){return ce(this,un).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ce(this,qi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ce(this,un).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ce(this,un).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ce(this,un).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=ce(this,un).get(r.queryHash),s=o==null?void 0:o.state.data,i=PK(e,s);if(i!==void 0)return ce(this,un).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return mr.batch(()=>ce(this,un).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ce(this,un).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ce(this,un);mr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ce(this,un);return mr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=mr.batch(()=>ce(this,un).findAll(t).map(o=>o.cancel(n)));return Promise.all(r).then(Wo).catch(Wo)}invalidateQueries(t,e={}){return mr.batch(()=>(ce(this,un).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=mr.batch(()=>ce(this,un).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Wo)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Wo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ce(this,un).build(this,e);return n.isStaleByTime(vw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wo).catch(Wo)}fetchInfiniteQuery(t){return t.behavior=pT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wo).catch(Wo)}ensureInfiniteQueryData(t){return t.behavior=pT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Im.isOnline()?ce(this,qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,un)}getMutationCache(){return ce(this,qi)}getDefaultOptions(){return ce(this,Yi)}setDefaultOptions(t){ct(this,Yi,t)}setQueryDefaults(t,e){ce(this,Vc).set(sf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ce(this,Vc).values()],n={};return e.forEach(r=>{af(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ce(this,Gc).set(sf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ce(this,Gc).values()],n={};return e.forEach(r=>{af(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ce(this,Yi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===O1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ce(this,Yi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ce(this,un).clear(),ce(this,qi).clear()}},un=new WeakMap,qi=new WeakMap,Yi=new WeakMap,Vc=new WeakMap,Gc=new WeakMap,Ji=new WeakMap,Kc=new WeakMap,qc=new WeakMap,PM),nq=m.createContext(void 0),rq=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(nq.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}var ea;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ea||(ea={}));const gT="popstate";function oq(t){t===void 0&&(t={});function e(r,o){let{pathname:s,search:i,hash:a}=r.location;return ww("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Dm(o)}return iq(e,n,null,t)}function vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sq(){return Math.random().toString(36).substr(2,8)}function yT(t,e){return{usr:t.state,key:t.key,idx:e}}function ww(t,e,n,r){return n===void 0&&(n=null),lf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bu(e):e,{state:n,key:e&&e.key||r||sq()})}function Dm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iq(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,a=ea.Pop,l=null,u=f();u==null&&(u=0,i.replaceState(lf({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function p(){a=ea.Pop;let x=f(),C=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:C})}function g(x,C){a=ea.Push;let S=ww(w.location,x,C);u=f()+1;let k=yT(S,u),T=w.createHref(S);try{i.pushState(k,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(T)}s&&l&&l({action:a,location:w.location,delta:1})}function y(x,C){a=ea.Replace;let S=ww(w.location,x,C);u=f();let k=yT(S,u),T=w.createHref(S);i.replaceState(k,"",T),s&&l&&l({action:a,location:w.location,delta:0})}function b(x){let C=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof x=="string"?x:Dm(x);return S=S.replace(/ $/,"%20"),vn(C,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,C)}let w={get action(){return a},get location(){return t(o,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(gT,p),l=x,()=>{o.removeEventListener(gT,p),l=null}},createHref(x){return e(o,x)},createURL:b,encodeLocation(x){let C=b(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:y,go(x){return i.go(x)}};return w}var vT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vT||(vT={}));function aq(t,e,n){return n===void 0&&(n="/"),lq(t,e,n)}function lq(t,e,n,r){let o=typeof e=="string"?bu(e):e,s=P1(o.pathname||"/",n);if(s==null)return null;let i=XO(t);cq(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=bq(s);a=vq(i[l],u)}return a}function XO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(vn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fa([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(vn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XO(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:gq(u,s.index),routesMeta:f})};return t.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of QO(s.path))o(s,i,l)}),e}function QO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=QO(r.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uq=/^:[\w-]+$/,dq=3,fq=2,hq=1,pq=10,mq=-2,xT=t=>t==="*";function gq(t,e){let n=t.split("/"),r=n.length;return n.some(xT)&&(r+=mq),e&&(r+=fq),n.filter(o=>!xT(o)).reduce((o,s)=>o+(uq.test(s)?dq:s===""?hq:pq),r)}function yq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function vq(t,e,n){let{routesMeta:r}=t,o={},s="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=xq({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),g=l.route;if(!p)return null;Object.assign(o,p.params),i.push({params:o,pathname:fa([s,p.pathname]),pathnameBase:Eq(fa([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=fa([s,p.pathnameBase]))}return i}function xq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wq(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((u,f,p)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let w=a[p]||"";i=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[p];return y&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function wq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function bq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?bu(t):t;return{pathname:n?n.startsWith("/")?n:Sq(n,e):e,search:Nq(r),hash:Tq(o)}}function Sq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function C0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I1(t,e){let n=kq(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function D1(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=bu(t):(o=lf({},t),vn(!o.pathname||!o.pathname.includes("?"),C0("?","pathname","search",o)),vn(!o.pathname||!o.pathname.includes("#"),C0("#","pathname","hash",o)),vn(!o.search||!o.search.includes("#"),C0("#","search","hash",o)));let s=t===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=n;else{let p=e.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),p-=1;o.pathname=g.join("/")}a=p>=0?e[p]:"/"}let l=Cq(o,a),u=i&&i!=="/"&&i.endsWith("/"),f=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const fa=t=>t.join("/").replace(/\/\/+/g,"/"),Eq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Rq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZO=["post","put","patch","delete"];new Set(ZO);const Mq=["get",...ZO];new Set(Mq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}const j1=m.createContext(null),Aq=m.createContext(null),Ma=m.createContext(null),Wg=m.createContext(null),Is=m.createContext({outlet:null,matches:[],isDataRoute:!1}),eP=m.createContext(null);function _q(t,e){let{relative:n}=e===void 0?{}:e;Cu()||vn(!1);let{basename:r,navigator:o}=m.useContext(Ma),{hash:s,pathname:i,search:a}=nP(t,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:fa([r,i])),o.createHref({pathname:l,search:a,hash:s})}function Cu(){return m.useContext(Wg)!=null}function Aa(){return Cu()||vn(!1),m.useContext(Wg).location}function tP(t){m.useContext(Ma).static||m.useLayoutEffect(t)}function Su(){let{isDataRoute:t}=m.useContext(Is);return t?Kq():Oq()}function Oq(){Cu()||vn(!1);let t=m.useContext(j1),{basename:e,future:n,navigator:r}=m.useContext(Ma),{matches:o}=m.useContext(Is),{pathname:s}=Aa(),i=JSON.stringify(I1(o,n.v7_relativeSplatPath)),a=m.useRef(!1);return tP(()=>{a.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=D1(u,JSON.parse(i),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:fa([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,i,s,t])}const Pq=m.createContext(null);function Iq(t){let e=m.useContext(Is).outlet;return e&&m.createElement(Pq.Provider,{value:t},e)}function Dq(){let{matches:t}=m.useContext(Is),e=t[t.length-1];return e?e.params:{}}function nP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ma),{matches:o}=m.useContext(Is),{pathname:s}=Aa(),i=JSON.stringify(I1(o,r.v7_relativeSplatPath));return m.useMemo(()=>D1(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function jq(t,e){return Lq(t,e)}function Lq(t,e,n,r){Cu()||vn(!1);let{navigator:o}=m.useContext(Ma),{matches:s}=m.useContext(Is),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=Aa(),f;if(e){var p;let x=typeof e=="string"?bu(e):e;l==="/"||(p=x.pathname)!=null&&p.startsWith(l)||vn(!1),f=x}else f=u;let g=f.pathname||"/",y=g;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=aq(t,{pathname:y}),w=Wq(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:fa([l,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:fa([l,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&w?m.createElement(Wg.Provider,{value:{location:cf({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ea.Pop}},w):w}function Fq(){let t=Gq(),e=Rq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:o},n):null,null)}const $q=m.createElement(Fq,null);class zq extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Is.Provider,{value:this.props.routeContext},m.createElement(eP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bq(t){let{routeContext:e,match:n,children:r}=t,o=m.useContext(j1);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Is.Provider,{value:e},r)}function Wq(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||vn(!1),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let y,b=!1,w=null,x=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||$q,l&&(u<0&&g===0?(qq("route-fallback"),b=!0,x=null):u===g&&(b=!0,x=p.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,g+1)),S=()=>{let k;return y?k=w:b?k=x:p.route.Component?k=m.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=f,m.createElement(Bq,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?m.createElement(zq,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}var rP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rP||{}),oP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oP||{});function Uq(t){let e=m.useContext(j1);return e||vn(!1),e}function Hq(t){let e=m.useContext(Aq);return e||vn(!1),e}function Vq(t){let e=m.useContext(Is);return e||vn(!1),e}function sP(t){let e=Vq(),n=e.matches[e.matches.length-1];return n.route.id||vn(!1),n.route.id}function Gq(){var t;let e=m.useContext(eP),n=Hq(),r=sP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Kq(){let{router:t}=Uq(rP.UseNavigateStable),e=sP(oP.UseNavigateStable),n=m.useRef(!1);return tP(()=>{n.current=!0}),m.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,cf({fromRouteId:e},s)))},[t,e])}const wT={};function qq(t,e,n){wT[t]||(wT[t]=!0)}function Yq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bw(t){let{to:e,replace:n,state:r,relative:o}=t;Cu()||vn(!1);let{future:s,static:i}=m.useContext(Ma),{matches:a}=m.useContext(Is),{pathname:l}=Aa(),u=Su(),f=D1(e,I1(a,s.v7_relativeSplatPath),l,o==="path"),p=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:o}),[u,p,o,n,r]),null}function Jq(t){return Iq(t.context)}function Xs(t){vn(!1)}function Xq(t){let{basename:e="/",children:n=null,location:r,navigationType:o=ea.Pop,navigator:s,static:i=!1,future:a}=t;Cu()&&vn(!1);let l=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:s,static:i,future:cf({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof r=="string"&&(r=bu(r));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:b="default"}=r,w=m.useMemo(()=>{let x=P1(f,l);return x==null?null:{location:{pathname:x,search:p,hash:g,state:y,key:b},navigationType:o}},[l,f,p,g,y,b,o]);return w==null?null:m.createElement(Ma.Provider,{value:u},m.createElement(Wg.Provider,{children:n,value:w}))}function Qq(t){let{children:e,location:n}=t;return jq(Cw(e),n)}new Promise(()=>{});function Cw(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,o)=>{if(!m.isValidElement(r))return;let s=[...e,o];if(r.type===m.Fragment){n.push.apply(n,Cw(r.props.children,s));return}r.type!==Xs&&vn(!1),!r.props.index||!r.props.children||vn(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Cw(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function Zq(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function eY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tY(t,e){return t.button===0&&(!e||e==="_self")&&!eY(t)}const nY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rY="6";try{window.__reactRouterVersion=rY}catch{}const oY="startTransition",bT=gb[oY];function sY(t){let{basename:e,children:n,future:r,window:o}=t,s=m.useRef();s.current==null&&(s.current=oq({window:o,v5Compat:!0}));let i=s.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=m.useCallback(p=>{u&&bT?bT(()=>l(p)):l(p)},[l,u]);return m.useLayoutEffect(()=>i.listen(f),[i,f]),m.useEffect(()=>Yq(r),[r]),m.createElement(Xq,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const iY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lY=m.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:s,replace:i,state:a,target:l,to:u,preventScrollReset:f,viewTransition:p}=e,g=Zq(e,nY),{basename:y}=m.useContext(Ma),b,w=!1;if(typeof u=="string"&&aY.test(u)&&(b=u,iY))try{let k=new URL(window.location.href),T=u.startsWith("//")?new URL(k.protocol+u):new URL(u),N=P1(T.pathname,y);T.origin===k.origin&&N!=null?u=N+T.search+T.hash:w=!0}catch{}let x=_q(u,{relative:o}),C=cY(u,{replace:i,state:a,target:l,preventScrollReset:f,relative:o,viewTransition:p});function S(k){r&&r(k),k.defaultPrevented||C(k)}return m.createElement("a",Sw({},g,{href:b||x,onClick:w||s?r:S,ref:n,target:l}))});var CT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(CT||(CT={}));var ST;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ST||(ST={}));function cY(t,e){let{target:n,replace:r,state:o,preventScrollReset:s,relative:i,viewTransition:a}=e===void 0?{}:e,l=Su(),u=Aa(),f=nP(t,{relative:i});return m.useCallback(p=>{if(tY(p,n)){p.preventDefault();let g=r!==void 0?r:Dm(u)===Dm(f);l(t,{replace:g,state:o,preventScrollReset:s,relative:i,viewTransition:a})}},[u,l,f,r,o,n,t,s,i,a])}function uY(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[o,s]=m.useState(!1),i=m.useRef(n);i.current=n;const a=m.useRef(r);return a.current=r,m.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=e,l.onload=()=>{var u;s(!0),(u=i.current)===null||u===void 0||u.call(i)},l.onerror=()=>{var u;s(!1),(u=a.current)===null||u===void 0||u.call(a)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[e]),o}const iP=m.createContext(null);function dY({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:o}){const s=uY({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),i=m.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:s}),[t,s]);return se.createElement(iP.Provider,{value:i},o)}function fY(){const t=m.useContext(iP);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function hY(){var t,e,n;(n=(e=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.accounts)===null||e===void 0?void 0:e.id)===null||n===void 0||n.disableAutoSelect()}function pY({flow:t="implicit",scope:e="",onSuccess:n,onError:r,onNonOAuthError:o,overrideScope:s,state:i,...a}){const{clientId:l,scriptLoadedSuccessfully:u}=fY(),f=m.useRef(),p=m.useRef(n);p.current=n;const g=m.useRef(r);g.current=r;const y=m.useRef(o);y.current=o,m.useEffect(()=>{var x,C;if(!u)return;const S=t==="implicit"?"initTokenClient":"initCodeClient",k=(C=(x=window==null?void 0:window.google)===null||x===void 0?void 0:x.accounts)===null||C===void 0?void 0:C.oauth2[S]({client_id:l,scope:s?e:`openid profile email ${e}`,callback:T=>{var N,A;if(T.error)return(N=g.current)===null||N===void 0?void 0:N.call(g,T);(A=p.current)===null||A===void 0||A.call(p,T)},error_callback:T=>{var N;(N=y.current)===null||N===void 0||N.call(y,T)},state:i,...a});f.current=k},[l,u,t,e,i]);const b=m.useCallback(x=>{var C;return(C=f.current)===null||C===void 0?void 0:C.requestAccessToken(x)},[]),w=m.useCallback(()=>{var x;return(x=f.current)===null||x===void 0?void 0:x.requestCode()},[]);return t==="implicit"?b:w}const aP=m.createContext(void 0),is=()=>{const t=m.useContext(aP);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},mY=({children:t})=>{const[e,n]=m.useState(null),[r,o]=m.useState(!0),[s,i]=m.useState(null),[a,l]=m.useState(0),u=m.useRef(0);m.useEffect(()=>{(async()=>{try{console.log("Starting authentication initialization");const x=localStorage.getItem("itemize_token"),C=localStorage.getItem("itemize_user"),S=localStorage.getItem("itemize_expiry");if(console.log("Auth data from storage:",{hasToken:!!x,hasUser:!!C,hasExpiry:!!S}),x&&typeof x=="string"&&C&&typeof C=="string"&&C!=="undefined"&&S&&!isNaN(parseInt(S))&&parseInt(S)>Date.now())try{const k=JSON.parse(C);if(k&&typeof k=="object"&&k.uid)console.log("Restoring authentication with user:",k),i(x),n(k),l(Date.now()),console.log("Authentication restored successfully");else throw console.error("Invalid user data structure:",k),new Error("Invalid user data structure")}catch(k){console.error("Failed to parse saved user data:",k),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry"),i(null),n(null)}else console.log("No valid authentication found, cleaning up storage"),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry"),i(null),n(null)}catch(x){console.error("Error initializing auth:",x),i(null),n(null)}finally{console.log("Authentication initialization complete"),o(!1)}})()},[]);const f=pY({onSuccess:async w=>{o(!0);try{console.log("Google login successful, getting user info");const C=(await Pt.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${w.access_token}`}})).data;console.log("Received user info from Google:",C);const S=nf();console.log("Sending user info to backend:",`${S}/api/auth/google-login`);try{const k=await Pt.post(`${S}/api/auth/google-login`,{googleId:C.sub,email:C.email,name:C.name,picture:C.picture});if(console.log("Backend auth response:",k.data),!k.data)throw new Error("Empty response data from backend");const T=k.data.token,N=k.data.user;if(!T)throw new Error("Missing token in backend response");if(!N||!N.uid)throw new Error("Missing or invalid user data in backend response");const A=Date.now()+7*24*60*60*1e3;localStorage.setItem("itemize_token",T),localStorage.setItem("itemize_user",JSON.stringify(N)),localStorage.setItem("itemize_expiry",A.toString()),console.log("Setting authentication state with:",{token:T,user:N}),i(T),n(N),l(Date.now()),console.log("Backend auth successful, state updated"),aw({title:"Welcome!",description:"Successfully signed in with Google."})}catch(k){throw console.error("Backend auth error:",k),new Error(`Backend authentication failed: ${k.message}`)}}catch(x){console.error("Google login failed:",x)}finally{o(!1)}},onError:()=>{console.error("Google login failed"),o(!1)},scope:"email profile"}),p=()=>{f()},g=()=>{console.log("Logging out user..."),i(null),n(null),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry");try{hY()}catch(w){console.error("Error signing out from Google:",w)}if(u.current<3)try{Zt.post("/api/auth/logout").catch(w=>{console.error("Backend logout failed:",w),u.current++})}catch(w){console.error("Backend logout failed:",w),u.current++}},y=async w=>{o(!0);try{console.log("Google One Tap login successful");const x=nf(),C=await Pt.post(`${x}/api/auth/google-credential`,{credential:w.credential}),{token:S,user:k}=C.data,T=Date.now()+7*24*60*60*1e3;localStorage.setItem("itemize_token",S),localStorage.setItem("itemize_user",JSON.stringify(k)),localStorage.setItem("itemize_expiry",T.toString()),console.log("Setting authentication state with:",{token:S,user:k}),i(S),n(k),l(Date.now()),aw({title:"Welcome!",description:"Successfully signed in with Google."})}catch(x){console.error("Google credential login failed:",x)}finally{o(!1)}};m.useEffect(()=>{console.log("Auth context changed:",{isAuthenticated:!!e&&!!s,hasUser:!!e,hasToken:!!s,lastAuthenticated:a,userData:e})},[e,s,a]);const b={currentUser:e,loading:r,login:p,logout:g,handleGoogleSuccess:y,token:s,isAuthenticated:!!e&&!!s};return h.jsx(aP.Provider,{value:b,children:t})},kT="itemize-ai-suggest-enabled",lP=m.createContext({aiEnabled:!0,setAiEnabled:()=>{}}),gY=({children:t})=>{const[e,n]=m.useState(()=>{try{const r=localStorage.getItem(kT);return r?JSON.parse(r):!0}catch{return!0}});return m.useEffect(()=>{localStorage.setItem(kT,JSON.stringify(e))},[e]),h.jsx(lP.Provider,{value:{aiEnabled:e,setAiEnabled:n},children:t})},L1=()=>m.useContext(lP),yY=Lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},s)=>{const i=r?SV:"button";return h.jsx(i,{className:Be(yY({variant:e,size:n,className:t})),ref:s,...o})});Se.displayName="Button";function F1(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ug="Switch",[vY,Tue]=$r(Ug),[xY,wY]=vY(Ug),cP=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:u,form:f,...p}=t,[g,y]=m.useState(null),b=dt(e,k=>y(k)),w=m.useRef(!1),x=g?f||!!g.closest("form"):!0,[C,S]=ro({prop:o,defaultProp:s??!1,onChange:u,caller:Ug});return h.jsxs(xY,{scope:n,checked:C,disabled:a,children:[h.jsx(Fe.button,{type:"button",role:"switch","aria-checked":C,"aria-required":i,"data-state":hP(C),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:b,onClick:Ce(t.onClick,k=>{S(T=>!T),x&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),x&&h.jsx(fP,{control:g,bubbles:!w.current,name:r,value:l,checked:C,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});cP.displayName=Ug;var uP="SwitchThumb",dP=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,o=wY(uP,n);return h.jsx(Fe.span,{"data-state":hP(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});dP.displayName=uP;var bY="SwitchBubbleInput",fP=m.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...o},s)=>{const i=m.useRef(null),a=dt(i,s),l=F1(n),u=N1(e);return m.useEffect(()=>{const f=i.current;if(!f)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&y){const b=new Event("click",{bubbles:r});y.call(f,n),f.dispatchEvent(b)}},[l,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});fP.displayName=bY;function hP(t){return t?"checked":"unchecked"}var pP=cP,CY=dP;const mP=m.forwardRef(({className:t,...e},n)=>h.jsx(pP,{className:Be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-blue-600 data-[state=checked]:to-indigo-600 data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(CY,{className:Be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));mP.displayName=pP.displayName;var SY="Label",gP=m.forwardRef((t,e)=>h.jsx(Fe.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gP.displayName=SY;var yP=gP;const kY=Lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gr=m.forwardRef(({className:t,...e},n)=>h.jsx(yP,{ref:n,className:Be(kY(),t),...e}));gr.displayName=yP.displayName;var EY=m.createContext(void 0);function Wf(t){const e=m.useContext(EY);return t||e||"ltr"}var S0=0;function Hg(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ET()),document.body.insertAdjacentElement("beforeend",t[1]??ET()),S0++,()=>{S0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),S0--}},[])}function ET(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var k0="focusScope.autoFocusOnMount",E0="focusScope.autoFocusOnUnmount",NT={bubbles:!1,cancelable:!0},NY="FocusScope",Uf=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=t,[a,l]=m.useState(null),u=Fr(o),f=Fr(s),p=m.useRef(null),g=dt(e,w=>l(w)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let w=function(k){if(y.paused||!a)return;const T=k.target;a.contains(T)?p.current=T:Di(p.current,{select:!0})},x=function(k){if(y.paused||!a)return;const T=k.relatedTarget;T!==null&&(a.contains(T)||Di(p.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const N of k)N.removedNodes.length>0&&Di(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const S=new MutationObserver(C);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),S.disconnect()}}},[r,a,y.paused]),m.useEffect(()=>{if(a){RT.add(y);const w=document.activeElement;if(!a.contains(w)){const C=new CustomEvent(k0,NT);a.addEventListener(k0,u),a.dispatchEvent(C),C.defaultPrevented||(TY(OY(vP(a)),{select:!0}),document.activeElement===w&&Di(a))}return()=>{a.removeEventListener(k0,u),setTimeout(()=>{const C=new CustomEvent(E0,NT);a.addEventListener(E0,f),a.dispatchEvent(C),C.defaultPrevented||Di(w??document.body,{select:!0}),a.removeEventListener(E0,f),RT.remove(y)},0)}}},[a,u,f,y]);const b=m.useCallback(w=>{if(!n&&!r||y.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,C=document.activeElement;if(x&&C){const S=w.currentTarget,[k,T]=RY(S);k&&T?!w.shiftKey&&C===T?(w.preventDefault(),n&&Di(k,{select:!0})):w.shiftKey&&C===k&&(w.preventDefault(),n&&Di(T,{select:!0})):C===S&&w.preventDefault()}},[n,r,y.paused]);return h.jsx(Fe.div,{tabIndex:-1,...i,ref:g,onKeyDown:b})});Uf.displayName=NY;function TY(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Di(r,{select:e}),document.activeElement!==n)return}function RY(t){const e=vP(t),n=TT(e,t),r=TT(e.reverse(),t);return[n,r]}function vP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function TT(t,e){for(const n of t)if(!MY(n,{upTo:e}))return n}function MY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AY(t){return t instanceof HTMLInputElement&&"select"in t}function Di(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&AY(t)&&e&&t.select()}}var RT=_Y();function _Y(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=MT(t,e),t.unshift(e)},remove(e){var n;t=MT(t,e),(n=t[0])==null||n.resume()}}}function MT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function OY(t){return t.filter(e=>e.tagName!=="A")}var N0="rovingFocusGroup.onEntryFocus",PY={bubbles:!1,cancelable:!0},Hf="RovingFocusGroup",[kw,xP,IY]=Df(Hf),[DY,Vg]=$r(Hf,[IY]),[jY,LY]=DY(Hf),wP=m.forwardRef((t,e)=>h.jsx(kw.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(kw.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(FY,{...t,ref:e})})}));wP.displayName=Hf;var FY=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=t,g=m.useRef(null),y=dt(e,g),b=Wf(s),[w,x]=ro({prop:i,defaultProp:a??null,onChange:l,caller:Hf}),[C,S]=m.useState(!1),k=Fr(u),T=xP(n),N=m.useRef(!1),[A,_]=m.useState(0);return m.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(N0,k),()=>M.removeEventListener(N0,k)},[k]),h.jsx(jY,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:w,onItemFocus:m.useCallback(M=>x(M),[x]),onItemShiftTab:m.useCallback(()=>S(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(M=>M+1),[]),onFocusableItemRemove:m.useCallback(()=>_(M=>M-1),[]),children:h.jsx(Fe.div,{tabIndex:C||A===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{N.current=!0}),onFocus:Ce(t.onFocus,M=>{const L=!N.current;if(M.target===M.currentTarget&&L&&!C){const F=new CustomEvent(N0,PY);if(M.currentTarget.dispatchEvent(F),!F.defaultPrevented){const z=T().filter(J=>J.focusable),U=z.find(J=>J.active),K=z.find(J=>J.id===w),te=[U,K,...z].filter(Boolean).map(J=>J.ref.current);SP(te,f)}}N.current=!1}),onBlur:Ce(t.onBlur,()=>S(!1))})})}),bP="RovingFocusGroupItem",CP=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...a}=t,l=Gn(),u=s||l,f=LY(bP,n),p=f.currentTabStopId===u,g=xP(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:w}=f;return m.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),h.jsx(kw.ItemSlot,{scope:n,id:u,focusable:r,active:o,children:h.jsx(Fe.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:Ce(t.onMouseDown,x=>{r?f.onItemFocus(u):x.preventDefault()}),onFocus:Ce(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ce(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const C=BY(x,f.orientation,f.dir);if(C!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let k=g().filter(T=>T.focusable).map(T=>T.ref.current);if(C==="last")k.reverse();else if(C==="prev"||C==="next"){C==="prev"&&k.reverse();const T=k.indexOf(x.currentTarget);k=f.loop?WY(k,T+1):k.slice(T+1)}setTimeout(()=>SP(k))}}),children:typeof i=="function"?i({isCurrentTabStop:p,hasTabStop:w!=null}):i})})});CP.displayName=bP;var $Y={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function BY(t,e,n){const r=zY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $Y[r]}function SP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function WY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kP=wP,EP=CP,UY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sc=new WeakMap,pp=new WeakMap,mp={},T0=0,NP=function(t){return t&&(t.host||NP(t.parentNode))},HY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},VY=function(t,e,n,r){var o=HY(e,Array.isArray(t)?t:[t]);mp[n]||(mp[n]=new WeakMap);var s=mp[n],i=[],a=new Set,l=new Set(o),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};o.forEach(u);var f=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var y=g.getAttribute(r),b=y!==null&&y!=="false",w=(sc.get(g)||0)+1,x=(s.get(g)||0)+1;sc.set(g,w),s.set(g,x),i.push(g),w===1&&b&&pp.set(g,!0),x===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return f(e),a.clear(),T0++,function(){i.forEach(function(p){var g=sc.get(p)-1,y=s.get(p)-1;sc.set(p,g),s.set(p,y),g||(pp.has(p)||p.removeAttribute(r),pp.delete(p)),y||p.removeAttribute(n)}),T0--,T0||(sc=new WeakMap,sc=new WeakMap,pp=new WeakMap,mp={})}},Gg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=UY(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),VY(r,o,n,"aria-hidden")):function(){return null}},Cs=function(){return Cs=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cs.apply(this,arguments)};function TP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function GY(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,s;r<o;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var qp="right-scroll-bar-position",Yp="width-before-scroll-bar",KY="with-scroll-bars-hidden",qY="--removed-body-scroll-bar-size";function R0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function YY(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var JY=typeof window<"u"?m.useLayoutEffect:m.useEffect,AT=new WeakMap;function XY(t,e){var n=YY(null,function(r){return t.forEach(function(o){return R0(o,r)})});return JY(function(){var r=AT.get(n);if(r){var o=new Set(r),s=new Set(t),i=n.current;o.forEach(function(a){s.has(a)||R0(a,null)}),s.forEach(function(a){o.has(a)||R0(a,i)})}AT.set(n,t)},[t]),n}function QY(t){return t}function ZY(t,e){e===void 0&&(e=QY);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var i=e(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var f=i;i=[],f.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return o}function eJ(t){t===void 0&&(t={});var e=ZY(null);return e.options=Cs({async:!0,ssr:!1},t),e}var RP=function(t){var e=t.sideCar,n=TP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Cs({},n))};RP.isSideCarExport=!0;function tJ(t,e){return t.useMedium(e),RP}var MP=eJ(),M0=function(){},Kg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:M0,onWheelCapture:M0,onTouchMoveCapture:M0}),o=r[0],s=r[1],i=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,y=t.noRelative,b=t.noIsolation,w=t.inert,x=t.allowPinchZoom,C=t.as,S=C===void 0?"div":C,k=t.gapMode,T=TP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=g,A=XY([n,e]),_=Cs(Cs({},T),o);return m.createElement(m.Fragment,null,f&&m.createElement(N,{sideCar:MP,removeScrollBar:u,shards:p,noRelative:y,noIsolation:b,inert:w,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:k}),i?m.cloneElement(m.Children.only(a),Cs(Cs({},_),{ref:A})):m.createElement(S,Cs({},_,{className:l,ref:A}),a))});Kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kg.classNames={fullWidth:Yp,zeroRight:qp};var nJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nJ();return e&&t.setAttribute("nonce",e),t}function oJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rJ())&&(oJ(e,n),sJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aJ=function(){var t=iJ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},AP=function(){var t=aJ(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},lJ={left:0,top:0,right:0,gap:0},A0=function(t){return parseInt(t||"",10)||0},cJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[A0(n),A0(r),A0(o)]},uJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lJ;var e=cJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},dJ=AP(),jc="data-scroll-locked",fJ=function(t,e,n,r){var o=t.left,s=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(KY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(jc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yp," .").concat(Yp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jc,`] {
    `).concat(qY,": ").concat(a,`px;
  }
`)},_T=function(){var t=parseInt(document.body.getAttribute(jc)||"0",10);return isFinite(t)?t:0},hJ=function(){m.useEffect(function(){return document.body.setAttribute(jc,(_T()+1).toString()),function(){var t=_T()-1;t<=0?document.body.removeAttribute(jc):document.body.setAttribute(jc,t.toString())}},[])},pJ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;hJ();var s=m.useMemo(function(){return uJ(o)},[o]);return m.createElement(dJ,{styles:fJ(s,!e,o,n?"":"!important")})},Ew=!1;if(typeof window<"u")try{var gp=Object.defineProperty({},"passive",{get:function(){return Ew=!0,!0}});window.addEventListener("test",gp,gp),window.removeEventListener("test",gp,gp)}catch{Ew=!1}var ic=Ew?{passive:!1}:!1,mJ=function(t){return t.tagName==="TEXTAREA"},_P=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mJ(t)&&n[e]==="visible")},gJ=function(t){return _P(t,"overflowY")},yJ=function(t){return _P(t,"overflowX")},OT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=OP(t,r);if(o){var s=PP(t,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},OP=function(t,e){return t==="v"?gJ(e):yJ(e)},PP=function(t,e){return t==="v"?vJ(e):xJ(e)},wJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},bJ=function(t,e,n,r,o){var s=wJ(t,window.getComputedStyle(e).direction),i=s*r,a=n.target,l=e.contains(a),u=!1,f=i>0,p=0,g=0;do{if(!a)break;var y=PP(t,a),b=y[0],w=y[1],x=y[2],C=w-x-s*b;(b||C)&&OP(t,a)&&(p+=C,g+=b);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},yp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PT=function(t){return[t.deltaX,t.deltaY]},IT=function(t){return t&&"current"in t?t.current:t},CJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},kJ=0,ac=[];function EJ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),o=m.useState(kJ++)[0],s=m.useState(AP)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var w=GY([t.lockRef.current],(t.shards||[]).map(IT),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!i.current.allowPinchZoom;var C=yp(w),S=n.current,k="deltaX"in w?w.deltaX:S[0]-C[0],T="deltaY"in w?w.deltaY:S[1]-C[1],N,A=w.target,_=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in w&&_==="h"&&A.type==="range")return!1;var M=OT(_,A);if(!M)return!0;if(M?N=_:(N=_==="v"?"h":"v",M=OT(_,A)),!M)return!1;if(!r.current&&"changedTouches"in w&&(k||T)&&(r.current=N),!N)return!0;var L=r.current||N;return bJ(L,x,w,L==="h"?k:T)},[]),l=m.useCallback(function(w){var x=w;if(!(!ac.length||ac[ac.length-1]!==s)){var C="deltaY"in x?PT(x):yp(x),S=e.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&CJ(N.delta,C)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var k=(i.current.shards||[]).map(IT).filter(Boolean).filter(function(N){return N.contains(x.target)}),T=k.length>0?a(x,k[0]):!i.current.noIsolation;T&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(w,x,C,S){var k={name:w,delta:x,target:C,should:S,shadowParent:NJ(C)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(T){return T!==k})},1)},[]),f=m.useCallback(function(w){n.current=yp(w),r.current=void 0},[]),p=m.useCallback(function(w){u(w.type,PT(w),w.target,a(w,t.lockRef.current))},[]),g=m.useCallback(function(w){u(w.type,yp(w),w.target,a(w,t.lockRef.current))},[]);m.useEffect(function(){return ac.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,ic),document.addEventListener("touchmove",l,ic),document.addEventListener("touchstart",f,ic),function(){ac=ac.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,ic),document.removeEventListener("touchmove",l,ic),document.removeEventListener("touchstart",f,ic)}},[]);var y=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(s,{styles:SJ(o)}):null,y?m.createElement(pJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function NJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TJ=tJ(MP,EJ);var Vf=m.forwardRef(function(t,e){return m.createElement(Kg,Cs({},t,{ref:e,sideCar:TJ}))});Vf.classNames=Kg.classNames;var Nw=["Enter"," "],RJ=["ArrowDown","PageUp","Home"],IP=["ArrowUp","PageDown","End"],MJ=[...RJ,...IP],AJ={ltr:[...Nw,"ArrowRight"],rtl:[...Nw,"ArrowLeft"]},_J={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gf="Menu",[uf,OJ,PJ]=Df(Gf),[Fl,DP]=$r(Gf,[PJ,Ra,Vg]),qg=Ra(),jP=Vg(),[IJ,$l]=Fl(Gf),[DJ,Kf]=Fl(Gf),LP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=t,a=qg(e),[l,u]=m.useState(null),f=m.useRef(!1),p=Fr(s),g=Wf(o);return m.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),h.jsx(M1,{...a,children:h.jsx(IJ,{scope:e,open:n,onOpenChange:p,content:l,onContentChange:u,children:h.jsx(DJ,{scope:e,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:i,children:r})})})};LP.displayName=Gf;var jJ="MenuAnchor",$1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=qg(n);return h.jsx(Bf,{...o,...r,ref:e})});$1.displayName=jJ;var z1="MenuPortal",[LJ,FP]=Fl(z1,{forceMount:void 0}),$P=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,s=$l(z1,e);return h.jsx(LJ,{scope:e,forceMount:n,children:h.jsx(io,{present:n||s.open,children:h.jsx(gu,{asChild:!0,container:o,children:r})})})};$P.displayName=z1;var To="MenuContent",[FJ,B1]=Fl(To),zP=m.forwardRef((t,e)=>{const n=FP(To,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,s=$l(To,t.__scopeMenu),i=Kf(To,t.__scopeMenu);return h.jsx(uf.Provider,{scope:t.__scopeMenu,children:h.jsx(io,{present:r||s.open,children:h.jsx(uf.Slot,{scope:t.__scopeMenu,children:i.modal?h.jsx($J,{...o,ref:e}):h.jsx(zJ,{...o,ref:e})})})})}),$J=m.forwardRef((t,e)=>{const n=$l(To,t.__scopeMenu),r=m.useRef(null),o=dt(e,r);return m.useEffect(()=>{const s=r.current;if(s)return Gg(s)},[]),h.jsx(W1,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zJ=m.forwardRef((t,e)=>{const n=$l(To,t.__scopeMenu);return h.jsx(W1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),BJ=wa("MenuContent.ScrollLock"),W1=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:y,disableOutsideScroll:b,...w}=t,x=$l(To,n),C=Kf(To,n),S=qg(n),k=jP(n),T=OJ(n),[N,A]=m.useState(null),_=m.useRef(null),M=dt(e,_,x.onContentChange),L=m.useRef(0),F=m.useRef(""),z=m.useRef(0),U=m.useRef(null),K=m.useRef("right"),W=m.useRef(0),te=b?Vf:m.Fragment,J=b?{as:BJ,allowPinchZoom:!0}:void 0,X=P=>{var H,ue;const B=F.current+P,G=T().filter(he=>!he.disabled),j=document.activeElement,Z=(H=G.find(he=>he.ref.current===j))==null?void 0:H.textValue,Q=G.map(he=>he.textValue),ee=ZJ(Q,B,Z),ne=(ue=G.find(he=>he.textValue===ee))==null?void 0:ue.ref.current;(function he(le){F.current=le,window.clearTimeout(L.current),le!==""&&(L.current=window.setTimeout(()=>he(""),1e3))})(B),ne&&setTimeout(()=>ne.focus())};m.useEffect(()=>()=>window.clearTimeout(L.current),[]),Hg();const I=m.useCallback(P=>{var G,j;return K.current===((G=U.current)==null?void 0:G.side)&&tX(P,(j=U.current)==null?void 0:j.area)},[]);return h.jsx(FJ,{scope:n,searchRef:F,onItemEnter:m.useCallback(P=>{I(P)&&P.preventDefault()},[I]),onItemLeave:m.useCallback(P=>{var B;I(P)||((B=_.current)==null||B.focus(),A(null))},[I]),onTriggerLeave:m.useCallback(P=>{I(P)&&P.preventDefault()},[I]),pointerGraceTimerRef:z,onPointerGraceIntentChange:m.useCallback(P=>{U.current=P},[]),children:h.jsx(te,{...J,children:h.jsx(Uf,{asChild:!0,trapped:o,onMountAutoFocus:Ce(s,P=>{var B;P.preventDefault(),(B=_.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:h.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:y,children:h.jsx(kP,{asChild:!0,...k,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:A,onEntryFocus:Ce(l,P=>{C.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(jg,{role:"menu","aria-orientation":"vertical","data-state":nI(x.open),"data-radix-menu-content":"",dir:C.dir,...S,...w,ref:M,style:{outline:"none",...w.style},onKeyDown:Ce(w.onKeyDown,P=>{const G=P.target.closest("[data-radix-menu-content]")===P.currentTarget,j=P.ctrlKey||P.altKey||P.metaKey,Z=P.key.length===1;G&&(P.key==="Tab"&&P.preventDefault(),!j&&Z&&X(P.key));const Q=_.current;if(P.target!==Q||!MJ.includes(P.key))return;P.preventDefault();const ne=T().filter(H=>!H.disabled).map(H=>H.ref.current);IP.includes(P.key)&&ne.reverse(),XJ(ne)}),onBlur:Ce(t.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(L.current),F.current="")}),onPointerMove:Ce(t.onPointerMove,df(P=>{const B=P.target,G=W.current!==P.clientX;if(P.currentTarget.contains(B)&&G){const j=P.clientX>W.current?"right":"left";K.current=j,W.current=P.clientX}}))})})})})})})});zP.displayName=To;var WJ="MenuGroup",U1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Fe.div,{role:"group",...r,ref:e})});U1.displayName=WJ;var UJ="MenuLabel",BP=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Fe.div,{...r,ref:e})});BP.displayName=UJ;var jm="MenuItem",DT="menu.itemSelect",Yg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,s=m.useRef(null),i=Kf(jm,t.__scopeMenu),a=B1(jm,t.__scopeMenu),l=dt(e,s),u=m.useRef(!1),f=()=>{const p=s.current;if(!n&&p){const g=new CustomEvent(DT,{bubbles:!0,cancelable:!0});p.addEventListener(DT,y=>r==null?void 0:r(y),{once:!0}),d1(p,g),g.defaultPrevented?u.current=!1:i.onClose()}};return h.jsx(WP,{...o,ref:l,disabled:n,onClick:Ce(t.onClick,f),onPointerDown:p=>{var g;(g=t.onPointerDown)==null||g.call(t,p),u.current=!0},onPointerUp:Ce(t.onPointerUp,p=>{var g;u.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:Ce(t.onKeyDown,p=>{const g=a.searchRef.current!=="";n||g&&p.key===" "||Nw.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Yg.displayName=jm;var WP=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=t,i=B1(jm,n),a=jP(n),l=m.useRef(null),u=dt(e,l),[f,p]=m.useState(!1),[g,y]=m.useState("");return m.useEffect(()=>{const b=l.current;b&&y((b.textContent??"").trim())},[s.children]),h.jsx(uf.ItemSlot,{scope:n,disabled:r,textValue:o??g,children:h.jsx(EP,{asChild:!0,...a,focusable:!r,children:h.jsx(Fe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Ce(t.onPointerMove,df(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,df(b=>i.onItemLeave(b))),onFocus:Ce(t.onFocus,()=>p(!0)),onBlur:Ce(t.onBlur,()=>p(!1))})})})}),HJ="MenuCheckboxItem",UP=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return h.jsx(qP,{scope:t.__scopeMenu,checked:n,children:h.jsx(Yg,{role:"menuitemcheckbox","aria-checked":Lm(n)?"mixed":n,...o,ref:e,"data-state":V1(n),onSelect:Ce(o.onSelect,()=>r==null?void 0:r(Lm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UP.displayName=HJ;var HP="MenuRadioGroup",[VJ,GJ]=Fl(HP,{value:void 0,onValueChange:()=>{}}),VP=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...o}=t,s=Fr(r);return h.jsx(VJ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:h.jsx(U1,{...o,ref:e})})});VP.displayName=HP;var GP="MenuRadioItem",KP=m.forwardRef((t,e)=>{const{value:n,...r}=t,o=GJ(GP,t.__scopeMenu),s=n===o.value;return h.jsx(qP,{scope:t.__scopeMenu,checked:s,children:h.jsx(Yg,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":V1(s),onSelect:Ce(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});KP.displayName=GP;var H1="MenuItemIndicator",[qP,KJ]=Fl(H1,{checked:!1}),YP=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,s=KJ(H1,n);return h.jsx(io,{present:r||Lm(s.checked)||s.checked===!0,children:h.jsx(Fe.span,{...o,ref:e,"data-state":V1(s.checked)})})});YP.displayName=H1;var qJ="MenuSeparator",JP=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});JP.displayName=qJ;var YJ="MenuArrow",XP=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=qg(n);return h.jsx(Lg,{...o,...r,ref:e})});XP.displayName=YJ;var JJ="MenuSub",[Rue,QP]=Fl(JJ),md="MenuSubTrigger",ZP=m.forwardRef((t,e)=>{const n=$l(md,t.__scopeMenu),r=Kf(md,t.__scopeMenu),o=QP(md,t.__scopeMenu),s=B1(md,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},f=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),h.jsx($1,{asChild:!0,...u,children:h.jsx(WP,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":nI(n.open),...t,ref:hi(e,o.onTriggerChange),onClick:p=>{var g;(g=t.onClick)==null||g.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,df(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ce(t.onPointerLeave,df(p=>{var y,b;f();const g=(y=n.content)==null?void 0:y.getBoundingClientRect();if(g){const w=(b=n.content)==null?void 0:b.dataset.side,x=w==="right",C=x?-5:5,S=g[x?"left":"right"],k=g[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+C,y:p.clientY},{x:S,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:S,y:g.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,p=>{var y;const g=s.searchRef.current!=="";t.disabled||g&&p.key===" "||AJ[r.dir].includes(p.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),p.preventDefault())})})})});ZP.displayName=md;var eI="MenuSubContent",tI=m.forwardRef((t,e)=>{const n=FP(To,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,s=$l(To,t.__scopeMenu),i=Kf(To,t.__scopeMenu),a=QP(eI,t.__scopeMenu),l=m.useRef(null),u=dt(e,l);return h.jsx(uf.Provider,{scope:t.__scopeMenu,children:h.jsx(io,{present:r||s.open,children:h.jsx(uf.Slot,{scope:t.__scopeMenu,children:h.jsx(W1,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;i.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{var y;const p=f.currentTarget.contains(f.target),g=_J[i.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),f.preventDefault())})})})})})});tI.displayName=eI;function nI(t){return t?"open":"closed"}function Lm(t){return t==="indeterminate"}function V1(t){return Lm(t)?"indeterminate":t?"checked":"unchecked"}function XJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function QJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function ZJ(t,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=QJ(t,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function eX(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const a=e[s],l=e[i],u=a.x,f=a.y,p=l.x,g=l.y;f>r!=g>r&&n<(p-u)*(r-f)/(g-f)+u&&(o=!o)}return o}function tX(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return eX(n,e)}function df(t){return e=>e.pointerType==="mouse"?t(e):void 0}var nX=LP,rX=$1,oX=$P,sX=zP,iX=U1,aX=BP,lX=Yg,cX=UP,uX=VP,dX=KP,fX=YP,hX=JP,pX=XP,mX=ZP,gX=tI,Jg="DropdownMenu",[yX,Mue]=$r(Jg,[DP]),Sr=DP(),[vX,rI]=yX(Jg),oI=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=Sr(e),u=m.useRef(null),[f,p]=ro({prop:o,defaultProp:s??!1,onChange:i,caller:Jg});return h.jsx(vX,{scope:e,triggerId:Gn(),triggerRef:u,contentId:Gn(),open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(g=>!g),[p]),modal:a,children:h.jsx(nX,{...l,open:f,onOpenChange:p,dir:r,modal:a,children:n})})};oI.displayName=Jg;var sI="DropdownMenuTrigger",iI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=t,s=rI(sI,n),i=Sr(n);return h.jsx(rX,{asChild:!0,...i,children:h.jsx(Fe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:hi(e,s.triggerRef),onPointerDown:Ce(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ce(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});iI.displayName=sI;var xX="DropdownMenuPortal",aI=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Sr(e);return h.jsx(oX,{...r,...n})};aI.displayName=xX;var lI="DropdownMenuContent",cI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=rI(lI,n),s=Sr(n),i=m.useRef(!1);return h.jsx(sX,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!o.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cI.displayName=lI;var wX="DropdownMenuGroup",bX=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(iX,{...o,...r,ref:e})});bX.displayName=wX;var CX="DropdownMenuLabel",uI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(aX,{...o,...r,ref:e})});uI.displayName=CX;var SX="DropdownMenuItem",dI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(lX,{...o,...r,ref:e})});dI.displayName=SX;var kX="DropdownMenuCheckboxItem",fI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(cX,{...o,...r,ref:e})});fI.displayName=kX;var EX="DropdownMenuRadioGroup",NX=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(uX,{...o,...r,ref:e})});NX.displayName=EX;var TX="DropdownMenuRadioItem",hI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(dX,{...o,...r,ref:e})});hI.displayName=TX;var RX="DropdownMenuItemIndicator",pI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(fX,{...o,...r,ref:e})});pI.displayName=RX;var MX="DropdownMenuSeparator",mI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(hX,{...o,...r,ref:e})});mI.displayName=MX;var AX="DropdownMenuArrow",_X=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(pX,{...o,...r,ref:e})});_X.displayName=AX;var OX="DropdownMenuSubTrigger",gI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(mX,{...o,...r,ref:e})});gI.displayName=OX;var PX="DropdownMenuSubContent",yI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Sr(n);return h.jsx(gX,{...o,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yI.displayName=PX;var IX=oI,DX=iI,jX=aI,vI=cI,xI=uI,wI=dI,bI=fI,CI=hI,SI=pI,kI=mI,EI=gI,NI=yI;const Xg=IX,Qg=DX,LX=m.forwardRef(({className:t,inset:e,children:n,...r},o)=>h.jsxs(EI,{ref:o,className:Be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(y7,{className:"ml-auto h-4 w-4"})]}));LX.displayName=EI.displayName;const FX=m.forwardRef(({className:t,...e},n)=>h.jsx(NI,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));FX.displayName=NI.displayName;const qf=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(jX,{children:h.jsx(vI,{ref:r,sideOffset:e,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));qf.displayName=vI.displayName;const gi=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(wI,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));gi.displayName=wI.displayName;const $X=m.forwardRef(({className:t,children:e,checked:n,...r},o)=>h.jsxs(bI,{ref:o,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(SI,{children:h.jsx(_o,{className:"h-4 w-4"})})}),e]}));$X.displayName=bI.displayName;const zX=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(CI,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(SI,{children:h.jsx(w7,{className:"h-2 w-2 fill-current"})})}),e]}));zX.displayName=CI.displayName;const TI=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(xI,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));TI.displayName=xI.displayName;const gd=m.forwardRef(({className:t,...e},n)=>h.jsx(kI,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));gd.displayName=kI.displayName;const BX=()=>{const{currentUser:t,login:e,logout:n}=is(),{theme:r,setTheme:o}=ss(),{aiEnabled:s,setAiEnabled:i}=L1(),{toast:a}=Oo();Aa();const l=Su(),u=()=>{try{e()}catch(g){console.error("Error initiating login:",g),a({title:"Error",description:"Could not start sign-in process. Please try again.",variant:"destructive"})}},f=async()=>{try{await n(),a({title:"Goodbye!",description:"Successfully signed out."})}catch{a({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},p=g=>{l(g==="/"?t?"/canvas":"/home":g)};return h.jsx("nav",{className:"border-b backdrop-blur supports-[backdrop-filter]:bg-background/60",style:{backgroundColor:r==="dark"?"#1e293b":"#ffffff",borderBottomColor:r==="dark"?"#475569":"#e5e7eb"},children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsx("img",{src:r==="dark"?"/cover_whitetext.png":"/cover.png",alt:"Itemize",className:"h-16 w-auto cursor-pointer",onClick:()=>p("/")})}),h.jsx("div",{className:"flex items-center md:space-x-4",children:t?h.jsxs(Xg,{children:[h.jsx(Qg,{asChild:!0,children:h.jsx(Se,{variant:"ghost",className:"relative h-9 w-9 rounded-full p-0 bg-blue-600 hover:bg-blue-700 border-0",children:h.jsx(B7,{className:"h-5 w-5 text-white"})})}),h.jsxs(qf,{className:"w-64",align:"end",forceMount:!0,children:[h.jsx(TI,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:t.name||"User"}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),h.jsx(gd,{}),h.jsxs("div",{className:"px-2 py-2",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx(j7,{className:"mr-2 h-4 w-4 text-blue-600"}),h.jsx("span",{className:"text-sm font-medium",children:"Theme"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 ml-6",children:[h.jsxs("button",{onClick:()=>o("light"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors ${r==="light"?"bg-accent text-accent-foreground":"hover:bg-accent/80 hover:text-accent-foreground"}`,children:[h.jsx(F7,{className:"h-4 w-4"}),"Light"]}),h.jsxs("button",{onClick:()=>o("dark"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors ${r==="dark"?"bg-accent text-accent-foreground":"hover:bg-accent/80 hover:text-accent-foreground"}`,children:[h.jsx(P7,{className:"h-4 w-4"}),"Dark"]})]})]}),h.jsx(gd,{}),h.jsxs("div",{className:"px-2 py-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Zi,{className:"mr-2 h-4 w-4 text-blue-600"}),h.jsx(gr,{htmlFor:"ai-suggest-toggle",className:"text-sm font-medium",children:"AI Enhancements"})]}),h.jsx(mP,{id:"ai-suggest-toggle",checked:s,onCheckedChange:i})]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:"Get AI-powered suggestions"})]}),h.jsx(gd,{}),h.jsxs(gi,{onClick:()=>p("/help"),children:[h.jsx(J_,{className:"mr-2 h-4 w-4 text-blue-600"}),h.jsx("span",{children:"Help"})]}),h.jsx(gd,{}),h.jsxs(gi,{onClick:f,children:[h.jsx(M7,{className:"mr-2 h-4 w-4 text-red-600"}),h.jsx("span",{children:"Log out"})]})]})]}):h.jsxs(Se,{onClick:u,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-light",size:"sm",children:[h.jsx(R7,{className:"mr-2 h-4 w-4"}),"Sign in"]})})]})})})},WX=()=>{const{theme:t}=ss(),e=Su(),{toast:n}=Oo(),r=new Date().getFullYear(),o=()=>{window.scrollTo({top:0,behavior:"smooth"})},s=a=>{e(a)},i=()=>{n({title:"Contact Us",description:"Email us at support@itemize.cloud"})};return h.jsx("footer",{className:"border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 mt-12",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("div",{className:"flex items-center mb-4",children:h.jsx("img",{src:t==="dark"?"/cover_whitetext.png":"/cover.png",alt:"Itemize",className:"h-10 w-auto cursor-pointer",onClick:()=>s("/")})}),h.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Organize thoughts, ideas, projects and more with AI-enhanced tools."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium mb-4",children:"Quick Links"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{}),h.jsx("li",{children:h.jsxs(Se,{variant:"ghost",className:"w-full justify-start pl-0 text-muted-foreground hover:text-foreground",onClick:()=>s("/canvas"),children:[h.jsx(yu,{className:"mr-2 h-4 w-4"}),"Canvas"]})}),h.jsx("li",{children:h.jsxs(Se,{variant:"ghost",className:"w-full justify-start pl-0 text-muted-foreground hover:text-foreground",onClick:()=>s("/help"),children:[h.jsx(J_,{className:"mr-2 h-4 w-4"}),"Help"]})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium mb-4",children:"Connect"}),h.jsxs("div",{className:"flex space-x-4 mb-4",children:[h.jsx(Se,{variant:"outline",size:"icon",onClick:()=>window.open("https://twitter.com/itemize","_blank"),children:h.jsx($7,{className:"h-4 w-4"})}),h.jsx(Se,{variant:"outline",size:"icon",onClick:()=>window.open("https://github.com/yourusername/itemize","_blank"),children:h.jsx(k7,{className:"h-4 w-4"})}),h.jsx(Se,{variant:"outline",size:"icon",onClick:i,children:h.jsx(A7,{className:"h-4 w-4"})})]})]})]}),h.jsxs("div",{className:"border-t pt-6 flex flex-col md:flex-row justify-between items-center",children:[h.jsxs("p",{className:"text-sm text-muted-foreground mb-4 md:mb-0",children:["© ",r," Itemize. All rights reserved."]}),h.jsxs("div",{className:"flex items-center space-x-6",children:[h.jsx(Se,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:()=>s("/help/terms-of-service"),children:"Terms of Service"}),h.jsxs(Se,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground flex items-center",onClick:o,children:["Back to top",h.jsx(g7,{className:"ml-1 h-4 w-4"})]})]})]})]})})},UX=()=>{const{login:t,currentUser:e,isAuthenticated:n,token:r}=is(),{theme:o}=ss(),s=Su(),i=se.useRef(!1),a=o==="light",l=a?"bg-gradient-to-br from-blue-50 to-indigo-100":"bg-gradient-to-br from-slate-900 to-slate-800",u=a?"text-gray-900":"text-slate-100",f=a?"text-gray-600":"text-slate-400",p=a?"bg-white":"bg-slate-800",g=a?"border-gray-100":"border-slate-700",y=a?"bg-blue-400":"bg-slate-600",b=a?"none":"invert(1) brightness(1.2)";console.log("Home component rendered:",{hasUser:!!e,hasToken:!!r,isAuthenticated:n,alreadyNavigated:i.current}),se.useEffect(()=>{n&&!i.current&&(console.log("Navigating to /canvas due to authenticated user:",{user:e,token:r}),i.current=!0,setTimeout(()=>s("/canvas"),0))},[e,s,n,r]);const w=async()=>{try{console.log("Starting login process"),i.current=!1,await t(),console.log("Login process completed, will navigate to /canvas after auth context updates")}catch(x){console.error("Login failed:",x)}};return h.jsxs("div",{className:`min-h-screen ${l} overflow-hidden relative`,children:[h.jsx("div",{className:"absolute inset-0 z-0 opacity-20",children:h.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:Array.from({length:10}).map((x,C)=>h.jsx("div",{className:`absolute rounded-full ${y}`,style:{width:`${Math.random()*300+50}px`,height:`${Math.random()*300+50}px`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:Math.random()*.2,transform:`scale(${Math.random()*1+.5})`,filter:"blur(60px)"}},`pattern-${C}`))})}),h.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("div",{className:"mb-2",children:h.jsx("img",{src:"/icon.png",alt:"Itemize",className:"h-20 md:h-24 w-auto mx-auto"})}),h.jsxs("h1",{className:`text-4xl font-light italic tracking-tight ${u} sm:text-5xl md:text-6xl`,style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsxs("div",{className:"flex flex-col items-center md:hidden gap-1 pb-2",children:[h.jsx("div",{className:"text-center w-full",children:h.jsx("div",{className:"text-2xl md:text-xl inline-block whitespace-nowrap font-light",children:"Organize your life with"})}),h.jsx("div",{className:"mt-1",children:h.jsx("div",{className:`text-2xl md:text-2xl font-light italic tracking-wide ${f}`,children:"ITEMIZE"})})]}),h.jsxs("div",{className:"hidden md:flex flex-row items-center justify-center gap-3",children:[h.jsx("span",{children:"Organize your life"}),h.jsx("span",{children:"with"}),h.jsx("img",{src:"/profile.png",alt:"Itemize",className:"h-64 inline-block",style:{filter:b}})]})]}),h.jsx("p",{className:`mt-2 max-w-md mx-auto text-base ${f} sm:text-lg md:mt-3 md:text-xl md:max-w-3xl`,style:{fontFamily:'"Raleway", sans-serif'},children:"The complete organizational ecosystem with lists, notes, and intelligent tools to streamline your workflow."}),h.jsx("div",{className:"mt-6 flex flex-col sm:flex-row gap-4 justify-center",children:h.jsxs(Se,{onClick:w,className:"rounded-md px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 font-light text-white",size:"lg",children:["Get Started Free",h.jsx(qN,{className:"ml-2 h-5 w-5"})]})})]}),h.jsxs("div",{className:"mt-16 mb-12",children:[h.jsx("h2",{className:`text-3xl font-light italic text-center ${u} mb-8`,style:{fontFamily:'"Raleway", sans-serif'},children:"Tools to stay organized"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[h.jsxs("div",{className:`${p} p-8 rounded-xl shadow-sm border ${g} transform transition-all duration-300 hover:shadow-md hover:-translate-y-1`,children:[h.jsx("div",{className:`w-14 h-14 ${a?"bg-blue-100":"bg-blue-900"} rounded-full flex items-center justify-center mb-5`,children:h.jsx(N7,{className:"h-7 w-7 text-blue-600"})}),h.jsx("h3",{className:`text-xl font-semibold ${u} mb-3`,style:{fontFamily:'"Raleway", sans-serif'},children:"Organizational Tools"}),h.jsx("p",{className:f,style:{fontFamily:'"Raleway", sans-serif'},children:"Create and manage lists, notes, and any organizational content you need. From shopping lists to project notes, everything in one place."}),h.jsxs("div",{className:`mt-6 pt-4 border-t ${g}`,children:[h.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Lists, Notes, & Whiteboards"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Easy categories & color groupings"})]})]})]}),h.jsxs("div",{className:`${p} p-8 rounded-xl shadow-sm border ${g} transform transition-all duration-300 hover:shadow-md hover:-translate-y-1`,children:[h.jsx("div",{className:`w-14 h-14 ${a?"bg-blue-100":"bg-blue-900"} rounded-full flex items-center justify-center mb-5`,children:h.jsx(Zi,{className:"h-7 w-7 text-blue-600"})}),h.jsx("h3",{className:`text-xl font-semibold ${u} mb-3`,style:{fontFamily:'"Raleway", sans-serif'},children:"Smart Suggestions"}),h.jsx("p",{className:f,style:{fontFamily:'"Raleway", sans-serif'},children:"Let AI help you build lists faster with intelligent item suggestions and effortless autocomplete."}),h.jsxs("div",{className:`mt-6 pt-4 border-t ${g}`,children:[h.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"AI-powered item suggestions"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Effortless autocomplete"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Context-aware suggestions"})]})]})]}),h.jsxs("div",{className:`${p} p-8 rounded-xl shadow-sm border ${g} transform transition-all duration-300 hover:shadow-md hover:-translate-y-1`,children:[h.jsx("div",{className:`w-14 h-14 ${a?"bg-blue-100":"bg-blue-900"} rounded-full flex items-center justify-center mb-5`,children:h.jsx(b7,{className:"h-7 w-7 text-blue-600"})}),h.jsx("h3",{className:`text-xl font-semibold ${u} mb-3`,style:{fontFamily:'"Raleway", sans-serif'},children:"Access Anywhere"}),h.jsx("p",{className:f,style:{fontFamily:'"Raleway", sans-serif'},children:"Your organizational tools are synced and available across all your devices whenever and wherever you need them."}),h.jsxs("div",{className:`mt-6 pt-4 border-t ${g}`,children:[h.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Real-time synchronization"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Works offline too"})]})]})]})]})]}),h.jsxs("div",{className:"mt-16 mb-12",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:`text-3xl font-light italic ${u} mb-4`,style:{fontFamily:'"Raleway", sans-serif'},children:"See them in action"})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[h.jsxs("div",{className:`${p} rounded-xl shadow-sm border ${g} overflow-hidden`,children:[h.jsx("div",{className:"p-4 pb-2",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`inline-block w-3 h-3 rounded-full border ${a?"border-gray-400":"border-slate-500"}`,style:{backgroundColor:"#4F46E5"}}),h.jsx(T7,{className:`h-4 w-4 ${a?"text-slate-500":"text-slate-400"}`}),h.jsx("h3",{className:`text-lg font-medium ${u}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Itemize Features"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(oi,{className:`h-4 w-4 ${a?"text-gray-400":"text-slate-500"}`}),h.jsx("button",{className:"ml-2 p-1",children:h.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full`})]})})]})]})}),h.jsx("div",{className:"mb-2 px-6",children:h.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a?"border-gray-300 bg-white text-gray-700":"border-slate-600 bg-slate-700 text-slate-300"} cursor-pointer`,style:{fontFamily:'"Raleway", sans-serif'},children:"Productivity"})}),h.jsxs("div",{className:"px-6 py-2",children:[h.jsx("div",{className:`w-full ${a?"bg-gray-100":"bg-slate-700"} rounded-full h-2 mb-1`,children:h.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"75%",backgroundColor:"#4F46E5"}})}),h.jsx("div",{className:`text-xs ${a?"text-gray-500":"text-slate-400"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"6 of 8 completed"})]}),h.jsxs("div",{className:"px-6 py-2 space-y-0.5",children:[h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(yo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Custom color coding"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(yo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Cloud synchronization"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(yo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Category assignment"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(yo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Real-time collaboration"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(yo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:`line-through ${a?"text-gray-400":"text-slate-500"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Drag & drop reordering"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:`w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 ${a?"border-gray-300":"border-slate-600"}`}),h.jsx("span",{className:u,style:{fontFamily:'"Raleway", sans-serif'},children:"AI-powered suggestions"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:`w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 ${a?"border-gray-300":"border-slate-600"}`}),h.jsx("span",{className:u,style:{fontFamily:'"Raleway", sans-serif'},children:"Cross-device access"})]})})]}),h.jsx("div",{className:`px-6 py-4 border-t ${g}`,children:h.jsxs("div",{className:`flex items-center space-x-2 ${a?"text-gray-400":"text-slate-500"}`,children:[h.jsx(Ff,{className:"h-4 w-4"}),h.jsx("span",{className:"text-sm",style:{fontFamily:'"Raleway", sans-serif'},children:"Add new item..."}),h.jsx("div",{className:"ml-auto",children:h.jsx(Zi,{className:"h-4 w-4 text-blue-600"})})]})})]}),h.jsxs("div",{className:`${p} rounded-xl shadow-sm border ${g} overflow-hidden h-full flex flex-col`,children:[h.jsx("div",{className:"p-4 pb-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`inline-block w-3 h-3 rounded-full border ${a?"border-gray-400":"border-slate-500"}`,style:{backgroundColor:"#F59E0B"}}),h.jsx($f,{className:`h-4 w-4 ${a?"text-slate-500":"text-slate-400"}`}),h.jsx("h3",{className:`font-semibold ${u}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Why Choose Itemize?"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(oi,{className:`h-4 w-4 ${a?"text-gray-400":"text-slate-500"}`}),h.jsx("button",{className:"ml-2 p-1",children:h.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full`})]})})]})]})}),h.jsx("div",{className:"mb-2 px-6",children:h.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a?"border-gray-300 bg-white text-gray-700":"border-slate-600 bg-slate-700 text-slate-300"} cursor-pointer`,style:{fontFamily:'"Raleway", sans-serif'},children:"Marketing"})}),h.jsx("div",{className:"mx-6 mb-3",children:h.jsxs("div",{className:`flex items-center gap-1 p-2 border-b ${g} ${a?"bg-gray-50":"bg-slate-700"}`,children:[h.jsxs("div",{className:`w-16 h-7 text-xs ${p} border ${g} rounded px-1 flex items-center justify-between`,children:[h.jsx(rO,{className:"h-3 w-3"}),h.jsx(oi,{className:"h-2 w-2"})]}),h.jsxs("div",{className:"flex",children:[h.jsx("button",{className:"h-7 w-7 p-0 bg-accent text-accent-foreground rounded flex items-center justify-center",children:h.jsx(Y_,{className:"h-3 w-3"})}),h.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:h.jsx(Z_,{className:"h-3 w-3"})}),h.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:h.jsx(oO,{className:"h-3 w-3"})})]}),h.jsx("div",{className:`h-5 w-px ${a?"bg-gray-300":"bg-slate-600"}`}),h.jsxs("div",{className:"flex",children:[h.jsx("button",{className:"h-7 w-7 p-0 bg-accent text-accent-foreground rounded flex items-center justify-center",children:h.jsx(q_,{className:"h-3 w-3"})}),h.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:h.jsx(K_,{className:"h-3 w-3"})})]}),h.jsx("div",{className:`h-5 w-px ${a?"bg-gray-300":"bg-slate-600"}`}),h.jsxs("div",{className:"flex",children:[h.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:h.jsx(tO,{className:"h-3 w-3"})}),h.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:h.jsx(eO,{className:"h-3 w-3"})}),h.jsx("button",{className:`h-7 w-7 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:h.jsx(nO,{className:"h-3 w-3"})})]})]})}),h.jsx("div",{className:"flex-1 mx-6 mb-3",children:h.jsxs("div",{className:`${a?"bg-white":"bg-slate-800"} rounded-lg p-4 space-y-3 min-h-[200px]`,children:[h.jsx("h2",{className:`text-lg font-semibold ${a?"text-gray-900":"text-white"}`,children:"Why Choose Itemize?"}),h.jsxs("p",{className:`text-sm ${a?"text-gray-700":"text-gray-300"}`,style:{fontFamily:'"Raleway", sans-serif'},children:["Itemize combines ",h.jsx("strong",{children:"lists"})," and ",h.jsx("em",{children:"notes"})," into one platform. Planning tasks or brainstorming projects? We adapt to your workflow."]}),h.jsx("div",{className:"space-y-1",children:h.jsxs("p",{className:`text-sm ${a?"text-gray-700":"text-gray-300"}`,style:{fontFamily:'"Raleway", sans-serif'},children:["Key benefits include custom color coding for visual organization, real-time cloud synchr",h.jsx("span",{className:a?"text-gray-400":"text-slate-500",children:"onization across all your devices, intelligent AI suggestions to boost productivity, and seamless category management to keep everything organized."})]})})]})}),h.jsx("div",{className:`px-6 py-4 border-t ${g}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:`text-xs ${a?"text-gray-500":"text-slate-400"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Last edited: Just now"}),h.jsx("div",{title:"AI-powered suggestions",children:h.jsx(Zi,{className:"h-4 w-4 text-amber-500"})})]})})]}),h.jsxs("div",{className:`${p} rounded-xl shadow-sm border ${g} overflow-hidden h-full flex flex-col`,children:[h.jsx("div",{className:"p-4 pb-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`inline-block w-3 h-3 rounded-full border ${a?"border-gray-400":"border-slate-500"}`,style:{backgroundColor:"#10B981"}}),h.jsx(yu,{className:`h-4 w-4 ${a?"text-slate-500":"text-slate-400"}`}),h.jsx("h3",{className:`font-semibold ${u}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Project Brainstorm"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(oi,{className:`h-4 w-4 ${a?"text-gray-400":"text-slate-500"}`}),h.jsx("button",{className:"ml-2 p-1",children:h.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full mb-0.5`}),h.jsx("div",{className:`w-1 h-1 ${a?"bg-gray-400":"bg-slate-500"} rounded-full`})]})})]})]})}),h.jsx("div",{className:"mb-3 px-6",children:h.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a?"border-gray-300 bg-white text-gray-700":"border-slate-600 bg-slate-700 text-slate-300"} cursor-pointer`,style:{fontFamily:'"Raleway", sans-serif'},children:"Design"})}),h.jsx("div",{className:"mx-6 mb-3",children:h.jsxs("div",{className:`flex items-center gap-2 p-2 border ${g} ${a?"bg-gray-50":"bg-slate-700"} rounded-t-lg`,children:[h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{className:"h-6 w-6 p-0 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center",children:h.jsx(X_,{className:"h-3 w-3"})}),h.jsx("button",{className:`h-6 w-6 p-0 ${a?"hover:bg-gray-100":"hover:bg-slate-600"} rounded flex items-center justify-center`,children:h.jsx(Q_,{className:"h-3 w-3"})})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{className:"w-5 h-5 rounded border-2 border-blue-700 shadow-sm",style:{backgroundColor:"#2563eb"}}),h.jsx("button",{className:`w-5 h-5 rounded border ${a?"border-gray-300 hover:border-gray-400":"border-slate-600 hover:border-slate-500"} shadow-sm`,style:{backgroundColor:"#000000"}}),h.jsx("button",{className:`w-5 h-5 rounded border ${a?"border-gray-300 hover:border-gray-400":"border-slate-600 hover:border-slate-500"} shadow-sm`,style:{backgroundColor:"#FF0000"}}),h.jsx("button",{className:`w-5 h-5 rounded border ${a?"border-gray-300 hover:border-gray-400":"border-slate-600 hover:border-slate-500"} shadow-sm`,style:{backgroundColor:"#00FF00"}})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:`text-xs ${a?"text-gray-600":"text-slate-400"}`,children:"Size:"}),h.jsx("div",{className:`w-8 h-1.5 ${a?"bg-gray-200":"bg-slate-600"} rounded-full relative`,children:h.jsx("div",{className:"absolute left-1/3 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-blue-600 rounded-full border border-white shadow"})})]})]})}),h.jsx("div",{className:"flex-1 mx-6 mb-3",children:h.jsx("div",{className:"bg-white rounded-b-lg h-full flex flex-col relative border border-gray-200 border-t-0",style:{minHeight:"280px"},children:h.jsx("div",{className:"p-4 flex-1 flex flex-col justify-center items-center",children:h.jsx("img",{src:"/icon.png",alt:"Itemize logo",className:"w-32 h-32 object-contain"})})})}),h.jsx("div",{className:`px-6 py-4 border-t ${g}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:`text-xs ${a?"text-gray-500":"text-slate-400"}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Last edited: Just now"}),h.jsx("div",{title:"AI-powered suggestions",children:h.jsx(Zi,{className:"h-4 w-4 text-green-500"})})]})})]})]}),h.jsx("div",{className:"text-center mt-8",children:h.jsxs(Se,{onClick:w,className:"rounded-md px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 font-light text-white text-lg",size:"lg",children:["Start Organizing Today",h.jsx(qN,{className:"ml-2 h-6 w-6"})]})})]})]})]})},sn=m.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:Be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));sn.displayName="Input";var Zg="Popover",[RI,Aue]=$r(Zg,[Ra]),Yf=Ra(),[HX,_a]=RI(Zg),MI=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!1}=t,a=Yf(e),l=m.useRef(null),[u,f]=m.useState(!1),[p,g]=ro({prop:r,defaultProp:o??!1,onChange:s,caller:Zg});return h.jsx(M1,{...a,children:h.jsx(HX,{scope:e,contentId:Gn(),triggerRef:l,open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>f(!0),[]),onCustomAnchorRemove:m.useCallback(()=>f(!1),[]),modal:i,children:n})})};MI.displayName=Zg;var AI="PopoverAnchor",VX=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=_a(AI,n),s=Yf(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=o;return m.useEffect(()=>(i(),()=>a()),[i,a]),h.jsx(Bf,{...s,...r,ref:e})});VX.displayName=AI;var _I="PopoverTrigger",OI=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=_a(_I,n),s=Yf(n),i=dt(e,o.triggerRef),a=h.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":LI(o.open),...r,ref:i,onClick:Ce(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?a:h.jsx(Bf,{asChild:!0,...s,children:a})});OI.displayName=_I;var G1="PopoverPortal",[GX,KX]=RI(G1,{forceMount:void 0}),PI=t=>{const{__scopePopover:e,forceMount:n,children:r,container:o}=t,s=_a(G1,e);return h.jsx(GX,{scope:e,forceMount:n,children:h.jsx(io,{present:n||s.open,children:h.jsx(gu,{asChild:!0,container:o,children:r})})})};PI.displayName=G1;var ou="PopoverContent",II=m.forwardRef((t,e)=>{const n=KX(ou,t.__scopePopover),{forceMount:r=n.forceMount,...o}=t,s=_a(ou,t.__scopePopover);return h.jsx(io,{present:r||s.open,children:s.modal?h.jsx(YX,{...o,ref:e}):h.jsx(JX,{...o,ref:e})})});II.displayName=ou;var qX=wa("PopoverContent.RemoveScroll"),YX=m.forwardRef((t,e)=>{const n=_a(ou,t.__scopePopover),r=m.useRef(null),o=dt(e,r),s=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return Gg(i)},[]),h.jsx(Vf,{as:qX,allowPinchZoom:!0,children:h.jsx(DI,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),JX=m.forwardRef((t,e)=>{const n=_a(ou,t.__scopePopover),r=m.useRef(!1),o=m.useRef(!1);return h.jsx(DI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),DI=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:f,...p}=t,g=_a(ou,n),y=Yf(n);return Hg(),h.jsx(Uf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:h.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:h.jsx(jg,{"data-state":LI(g.open),role:"dialog",id:g.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jI="PopoverClose",XX=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=_a(jI,n);return h.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>o.onOpenChange(!1))})});XX.displayName=jI;var QX="PopoverArrow",ZX=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=Yf(n);return h.jsx(Lg,{...o,...r,ref:e})});ZX.displayName=QX;function LI(t){return t?"open":"closed"}var eQ=MI,tQ=OI,nQ=PI,FI=II;const $I=eQ,zI=tQ,K1=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},o)=>h.jsx(nQ,{children:h.jsx(FI,{ref:o,align:e,sideOffset:n,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));K1.displayName=FI.displayName;var jT=1,rQ=.9,oQ=.8,sQ=.17,_0=.1,O0=.999,iQ=.9999,aQ=.99,lQ=/[\\\/_+.#"@\[\(\{&]/,cQ=/[\\\/_+.#"@\[\(\{&]/g,uQ=/[\s-]/,BI=/[\s-]/g;function Tw(t,e,n,r,o,s,i){if(s===e.length)return o===t.length?jT:aQ;var a=`${o},${s}`;if(i[a]!==void 0)return i[a];for(var l=r.charAt(s),u=n.indexOf(l,o),f=0,p,g,y,b;u>=0;)p=Tw(t,e,n,r,u+1,s+1,i),p>f&&(u===o?p*=jT:lQ.test(t.charAt(u-1))?(p*=oQ,y=t.slice(o,u-1).match(cQ),y&&o>0&&(p*=Math.pow(O0,y.length))):uQ.test(t.charAt(u-1))?(p*=rQ,b=t.slice(o,u-1).match(BI),b&&o>0&&(p*=Math.pow(O0,b.length))):(p*=sQ,o>0&&(p*=Math.pow(O0,u-o))),t.charAt(u)!==e.charAt(s)&&(p*=iQ)),(p<_0&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(g=Tw(t,e,n,r,u+1,s+2,i),g*_0>p&&(p=g*_0)),p>f&&(f=p),u=n.indexOf(l,u+1);return i[a]=f,f}function LT(t){return t.toLowerCase().replace(BI," ")}function dQ(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Tw(t,e,LT(t),LT(e),0,0,{})}var ey="Dialog",[WI,_ue]=$r(ey),[fQ,as]=WI(ey),UI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=t,a=m.useRef(null),l=m.useRef(null),[u,f]=ro({prop:r,defaultProp:o??!1,onChange:s,caller:ey});return h.jsx(fQ,{scope:e,triggerRef:a,contentRef:l,contentId:Gn(),titleId:Gn(),descriptionId:Gn(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:i,children:n})};UI.displayName=ey;var HI="DialogTrigger",hQ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=as(HI,n),s=dt(e,o.triggerRef);return h.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":J1(o.open),...r,ref:s,onClick:Ce(t.onClick,o.onOpenToggle)})});hQ.displayName=HI;var q1="DialogPortal",[pQ,VI]=WI(q1,{forceMount:void 0}),GI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,s=as(q1,e);return h.jsx(pQ,{scope:e,forceMount:n,children:m.Children.map(r,i=>h.jsx(io,{present:n||s.open,children:h.jsx(gu,{asChild:!0,container:o,children:i})}))})};GI.displayName=q1;var Fm="DialogOverlay",KI=m.forwardRef((t,e)=>{const n=VI(Fm,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,s=as(Fm,t.__scopeDialog);return s.modal?h.jsx(io,{present:r||s.open,children:h.jsx(gQ,{...o,ref:e})}):null});KI.displayName=Fm;var mQ=wa("DialogOverlay.RemoveScroll"),gQ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=as(Fm,n);return h.jsx(Vf,{as:mQ,allowPinchZoom:!0,shards:[o.contentRef],children:h.jsx(Fe.div,{"data-state":J1(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Tl="DialogContent",qI=m.forwardRef((t,e)=>{const n=VI(Tl,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,s=as(Tl,t.__scopeDialog);return h.jsx(io,{present:r||s.open,children:s.modal?h.jsx(yQ,{...o,ref:e}):h.jsx(vQ,{...o,ref:e})})});qI.displayName=Tl;var yQ=m.forwardRef((t,e)=>{const n=as(Tl,t.__scopeDialog),r=m.useRef(null),o=dt(e,n.contentRef,r);return m.useEffect(()=>{const s=r.current;if(s)return Gg(s)},[]),h.jsx(YI,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,s=>s.preventDefault())})}),vQ=m.forwardRef((t,e)=>{const n=as(Tl,t.__scopeDialog),r=m.useRef(!1),o=m.useRef(!1);return h.jsx(YI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),YI=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=t,a=as(Tl,n),l=m.useRef(null),u=dt(e,l);return Hg(),h.jsxs(h.Fragment,{children:[h.jsx(Uf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:h.jsx(Ll,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":J1(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(xQ,{titleId:a.titleId}),h.jsx(bQ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Y1="DialogTitle",JI=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=as(Y1,n);return h.jsx(Fe.h2,{id:o.titleId,...r,ref:e})});JI.displayName=Y1;var XI="DialogDescription",QI=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=as(XI,n);return h.jsx(Fe.p,{id:o.descriptionId,...r,ref:e})});QI.displayName=XI;var ZI="DialogClose",eD=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=as(ZI,n);return h.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>o.onOpenChange(!1))})});eD.displayName=ZI;function J1(t){return t?"open":"closed"}var tD="DialogTitleWarning",[Oue,nD]=bV(tD,{contentName:Tl,titleName:Y1,docsSlug:"dialog"}),xQ=({titleId:t})=>{const e=nD(tD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},wQ="DialogDescriptionWarning",bQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nD(wQ).contentName}}.`;return m.useEffect(()=>{var s;const o=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},rD=UI,oD=GI,X1=KI,Q1=qI,sD=JI,iD=QI,CQ=eD,ad='[cmdk-group=""]',P0='[cmdk-group-items=""]',SQ='[cmdk-group-heading=""]',aD='[cmdk-item=""]',FT=`${aD}:not([aria-disabled="true"])`,Rw="cmdk-item-select",uc="data-value",kQ=(t,e,n)=>dQ(t,e,n),lD=m.createContext(void 0),Jf=()=>m.useContext(lD),cD=m.createContext(void 0),Z1=()=>m.useContext(cD),uD=m.createContext(void 0),dD=m.forwardRef((t,e)=>{let n=dc(()=>{var j,Z;return{search:"",value:(Z=(j=t.value)!=null?j:t.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=dc(()=>new Set),o=dc(()=>new Map),s=dc(()=>new Map),i=dc(()=>new Set),a=fD(t),{label:l,children:u,value:f,onValueChange:p,filter:g,shouldFilter:y,loop:b,disablePointerSelection:w=!1,vimBindings:x=!0,...C}=t,S=Gn(),k=Gn(),T=Gn(),N=m.useRef(null),A=DQ();Rl(()=>{if(f!==void 0){let j=f.trim();n.current.value=j,_.emit()}},[f]),Rl(()=>{A(6,K)},[]);let _=m.useMemo(()=>({subscribe:j=>(i.current.add(j),()=>i.current.delete(j)),snapshot:()=>n.current,setState:(j,Z,Q)=>{var ee,ne,H,ue;if(!Object.is(n.current[j],Z)){if(n.current[j]=Z,j==="search")U(),F(),A(1,z);else if(j==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let he=document.getElementById(T);he?he.focus():(ee=document.getElementById(S))==null||ee.focus()}if(A(7,()=>{var he;n.current.selectedItemId=(he=W())==null?void 0:he.id,_.emit()}),Q||A(5,K),((ne=a.current)==null?void 0:ne.value)!==void 0){let he=Z??"";(ue=(H=a.current).onValueChange)==null||ue.call(H,he);return}}_.emit()}},emit:()=>{i.current.forEach(j=>j())}}),[]),M=m.useMemo(()=>({value:(j,Z,Q)=>{var ee;Z!==((ee=s.current.get(j))==null?void 0:ee.value)&&(s.current.set(j,{value:Z,keywords:Q}),n.current.filtered.items.set(j,L(Z,Q)),A(2,()=>{F(),_.emit()}))},item:(j,Z)=>(r.current.add(j),Z&&(o.current.has(Z)?o.current.get(Z).add(j):o.current.set(Z,new Set([j]))),A(3,()=>{U(),F(),n.current.value||z(),_.emit()}),()=>{s.current.delete(j),r.current.delete(j),n.current.filtered.items.delete(j);let Q=W();A(4,()=>{U(),(Q==null?void 0:Q.getAttribute("id"))===j&&z(),_.emit()})}),group:j=>(o.current.has(j)||o.current.set(j,new Set),()=>{s.current.delete(j),o.current.delete(j)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:S,inputId:T,labelId:k,listInnerRef:N}),[]);function L(j,Z){var Q,ee;let ne=(ee=(Q=a.current)==null?void 0:Q.filter)!=null?ee:kQ;return j?ne(j,n.current.search,Z):0}function F(){if(!n.current.search||a.current.shouldFilter===!1)return;let j=n.current.filtered.items,Z=[];n.current.filtered.groups.forEach(ee=>{let ne=o.current.get(ee),H=0;ne.forEach(ue=>{let he=j.get(ue);H=Math.max(he,H)}),Z.push([ee,H])});let Q=N.current;te().sort((ee,ne)=>{var H,ue;let he=ee.getAttribute("id"),le=ne.getAttribute("id");return((H=j.get(le))!=null?H:0)-((ue=j.get(he))!=null?ue:0)}).forEach(ee=>{let ne=ee.closest(P0);ne?ne.appendChild(ee.parentElement===ne?ee:ee.closest(`${P0} > *`)):Q.appendChild(ee.parentElement===Q?ee:ee.closest(`${P0} > *`))}),Z.sort((ee,ne)=>ne[1]-ee[1]).forEach(ee=>{var ne;let H=(ne=N.current)==null?void 0:ne.querySelector(`${ad}[${uc}="${encodeURIComponent(ee[0])}"]`);H==null||H.parentElement.appendChild(H)})}function z(){let j=te().find(Q=>Q.getAttribute("aria-disabled")!=="true"),Z=j==null?void 0:j.getAttribute(uc);_.setState("value",Z||void 0)}function U(){var j,Z,Q,ee;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ne=0;for(let H of r.current){let ue=(Z=(j=s.current.get(H))==null?void 0:j.value)!=null?Z:"",he=(ee=(Q=s.current.get(H))==null?void 0:Q.keywords)!=null?ee:[],le=L(ue,he);n.current.filtered.items.set(H,le),le>0&&ne++}for(let[H,ue]of o.current)for(let he of ue)if(n.current.filtered.items.get(he)>0){n.current.filtered.groups.add(H);break}n.current.filtered.count=ne}function K(){var j,Z,Q;let ee=W();ee&&(((j=ee.parentElement)==null?void 0:j.firstChild)===ee&&((Q=(Z=ee.closest(ad))==null?void 0:Z.querySelector(SQ))==null||Q.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function W(){var j;return(j=N.current)==null?void 0:j.querySelector(`${aD}[aria-selected="true"]`)}function te(){var j;return Array.from(((j=N.current)==null?void 0:j.querySelectorAll(FT))||[])}function J(j){let Z=te()[j];Z&&_.setState("value",Z.getAttribute(uc))}function X(j){var Z;let Q=W(),ee=te(),ne=ee.findIndex(ue=>ue===Q),H=ee[ne+j];(Z=a.current)!=null&&Z.loop&&(H=ne+j<0?ee[ee.length-1]:ne+j===ee.length?ee[0]:ee[ne+j]),H&&_.setState("value",H.getAttribute(uc))}function I(j){let Z=W(),Q=Z==null?void 0:Z.closest(ad),ee;for(;Q&&!ee;)Q=j>0?PQ(Q,ad):IQ(Q,ad),ee=Q==null?void 0:Q.querySelector(FT);ee?_.setState("value",ee.getAttribute(uc)):X(j)}let P=()=>J(te().length-1),B=j=>{j.preventDefault(),j.metaKey?P():j.altKey?I(1):X(1)},G=j=>{j.preventDefault(),j.metaKey?J(0):j.altKey?I(-1):X(-1)};return m.createElement(Fe.div,{ref:e,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:j=>{var Z;(Z=C.onKeyDown)==null||Z.call(C,j);let Q=j.nativeEvent.isComposing||j.keyCode===229;if(!(j.defaultPrevented||Q))switch(j.key){case"n":case"j":{x&&j.ctrlKey&&B(j);break}case"ArrowDown":{B(j);break}case"p":case"k":{x&&j.ctrlKey&&G(j);break}case"ArrowUp":{G(j);break}case"Home":{j.preventDefault(),J(0);break}case"End":{j.preventDefault(),P();break}case"Enter":{j.preventDefault();let ee=W();if(ee){let ne=new Event(Rw);ee.dispatchEvent(ne)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:LQ},l),ty(t,j=>m.createElement(cD.Provider,{value:_},m.createElement(lD.Provider,{value:M},j))))}),EQ=m.forwardRef((t,e)=>{var n,r;let o=Gn(),s=m.useRef(null),i=m.useContext(uD),a=Jf(),l=fD(t),u=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:i==null?void 0:i.forceMount;Rl(()=>{if(!u)return a.item(o,i==null?void 0:i.id)},[u]);let f=hD(o,s,[t.value,t.children,s],t.keywords),p=Z1(),g=Sa(A=>A.value&&A.value===f.current),y=Sa(A=>u||a.filter()===!1?!0:A.search?A.filtered.items.get(o)>0:!0);m.useEffect(()=>{let A=s.current;if(!(!A||t.disabled))return A.addEventListener(Rw,b),()=>A.removeEventListener(Rw,b)},[y,t.onSelect,t.disabled]);function b(){var A,_;w(),(_=(A=l.current).onSelect)==null||_.call(A,f.current)}function w(){p.setState("value",f.current,!0)}if(!y)return null;let{disabled:x,value:C,onSelect:S,forceMount:k,keywords:T,...N}=t;return m.createElement(Fe.div,{ref:hi(s,e),...N,id:o,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!g,"data-disabled":!!x,"data-selected":!!g,onPointerMove:x||a.getDisablePointerSelection()?void 0:w,onClick:x?void 0:b},t.children)}),NQ=m.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:o,...s}=t,i=Gn(),a=m.useRef(null),l=m.useRef(null),u=Gn(),f=Jf(),p=Sa(y=>o||f.filter()===!1?!0:y.search?y.filtered.groups.has(i):!0);Rl(()=>f.group(i),[]),hD(i,a,[t.value,t.heading,l]);let g=m.useMemo(()=>({id:i,forceMount:o}),[o]);return m.createElement(Fe.div,{ref:hi(a,e),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&m.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),ty(t,y=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},m.createElement(uD.Provider,{value:g},y))))}),TQ=m.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,o=m.useRef(null),s=Sa(i=>!i.search);return!n&&!s?null:m.createElement(Fe.div,{ref:hi(o,e),...r,"cmdk-separator":"",role:"separator"})}),RQ=m.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,o=t.value!=null,s=Z1(),i=Sa(u=>u.search),a=Sa(u=>u.selectedItemId),l=Jf();return m.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),m.createElement(Fe.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:o?t.value:i,onChange:u=>{o||s.setState("search",u.target.value),n==null||n(u.target.value)}})}),MQ=m.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...o}=t,s=m.useRef(null),i=m.useRef(null),a=Sa(u=>u.selectedItemId),l=Jf();return m.useEffect(()=>{if(i.current&&s.current){let u=i.current,f=s.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=u.offsetHeight;f.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(p),g.unobserve(u)}}},[]),m.createElement(Fe.div,{ref:hi(s,e),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},ty(t,u=>m.createElement("div",{ref:hi(i,l.listInnerRef),"cmdk-list-sizer":""},u)))}),AQ=m.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:s,container:i,...a}=t;return m.createElement(rD,{open:n,onOpenChange:r},m.createElement(oD,{container:i},m.createElement(X1,{"cmdk-overlay":"",className:o}),m.createElement(Q1,{"aria-label":t.label,"cmdk-dialog":"",className:s},m.createElement(dD,{ref:e,...a}))))}),_Q=m.forwardRef((t,e)=>Sa(n=>n.filtered.count===0)?m.createElement(Fe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),OQ=m.forwardRef((t,e)=>{let{progress:n,children:r,label:o="Loading...",...s}=t;return m.createElement(Fe.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},ty(t,i=>m.createElement("div",{"aria-hidden":!0},i)))}),zr=Object.assign(dD,{List:MQ,Item:EQ,Input:RQ,Group:NQ,Separator:TQ,Dialog:AQ,Empty:_Q,Loading:OQ});function PQ(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function IQ(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function fD(t){let e=m.useRef(t);return Rl(()=>{e.current=t}),e}var Rl=typeof window>"u"?m.useEffect:m.useLayoutEffect;function dc(t){let e=m.useRef();return e.current===void 0&&(e.current=t()),e}function Sa(t){let e=Z1(),n=()=>t(e.snapshot());return m.useSyncExternalStore(e.subscribe,n,n)}function hD(t,e,n,r=[]){let o=m.useRef(),s=Jf();return Rl(()=>{var i;let a=(()=>{var u;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():o.current}})(),l=r.map(u=>u.trim());s.value(t,a,l),(i=e.current)==null||i.setAttribute(uc,a),o.current=a}),o}var DQ=()=>{let[t,e]=m.useState(),n=dc(()=>new Map);return Rl(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,o)=>{n.current.set(r,o),e({})}};function jQ(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function ty({asChild:t,children:e},n){return t&&m.isValidElement(e)?m.cloneElement(jQ(e),{ref:e.ref},n(e.props.children)):n(e)}var LQ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Xf=rD,FQ=oD,pD=m.forwardRef(({className:t,...e},n)=>h.jsx(X1,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pD.displayName=X1.displayName;const ku=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(FQ,{children:[h.jsx(pD,{}),h.jsxs(Q1,{ref:r,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(CQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(rs,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ku.displayName=Q1.displayName;const Eu=({className:t,...e})=>h.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Eu.displayName="DialogHeader";const Nu=m.forwardRef(({className:t,...e},n)=>h.jsx(sD,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",t),...e}));Nu.displayName=sD.displayName;const $Q=m.forwardRef(({className:t,...e},n)=>h.jsx(iD,{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));$Q.displayName=iD.displayName;const mD=m.forwardRef(({className:t,...e},n)=>h.jsx(zr,{ref:n,className:Be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));mD.displayName=zr.displayName;const gD=m.forwardRef(({className:t,...e},n)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(ws,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(zr.Input,{ref:n,className:Be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));gD.displayName=zr.Input.displayName;const yD=m.forwardRef(({className:t,...e},n)=>h.jsx(zr.List,{ref:n,className:Be("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));yD.displayName=zr.List.displayName;const vD=m.forwardRef((t,e)=>h.jsx(zr.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));vD.displayName=zr.Empty.displayName;const xD=m.forwardRef(({className:t,...e},n)=>h.jsx(zr.Group,{ref:n,className:Be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));xD.displayName=zr.Group.displayName;const zQ=m.forwardRef(({className:t,...e},n)=>h.jsx(zr.Separator,{ref:n,className:Be("-mx-1 h-px bg-border",t),...e}));zQ.displayName=zr.Separator.displayName;const Jp=m.forwardRef(({className:t,...e},n)=>h.jsx(zr.Item,{ref:n,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Jp.displayName=zr.Item.displayName;const wD=({isOpen:t,onClose:e,onCreateList:n,existingCategories:r})=>{const[o,s]=m.useState(""),[i,a]=m.useState(""),[l,u]=m.useState(!1),[f,p]=m.useState(""),[g,y]=m.useState("#3B82F6");m.useEffect(()=>{f&&a(f)},[f]),m.useEffect(()=>{i||p("")},[i]);const b=x=>{if(x.preventDefault(),o.trim()){const C=i.trim()||"General";n(o.trim(),C,g),s(""),a(""),y("#3B82F6")}},w=()=>{s(""),a(""),y("#3B82F6"),e()};return h.jsx(Xf,{open:t,onOpenChange:w,children:h.jsxs(ku,{className:"sm:max-w-md",children:[h.jsx(Eu,{children:h.jsx(Nu,{children:"Create New List"})}),h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(gr,{htmlFor:"title",children:"List Title"}),h.jsx(sn,{id:"title",placeholder:"Enter list title...",value:o,onChange:x=>s(x.target.value),className:"mt-1",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx(gr,{htmlFor:"customType",children:"Category (Optional)"}),h.jsxs($I,{open:l,onOpenChange:u,children:[h.jsx(zI,{asChild:!0,children:h.jsxs(Se,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between mt-1 font-normal",children:[i||"Select category or type new...",h.jsx(x7,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),h.jsx(K1,{className:"w-[--radix-popover-trigger-width] p-0",children:h.jsxs(mD,{children:[h.jsx(gD,{placeholder:"Search or create category...",value:i,onValueChange:x=>{a(x),p("")}}),h.jsxs(yD,{children:[h.jsx(vD,{children:i.trim()?`Create "${i}"`:"No category found."}),h.jsxs(xD,{children:[!r.includes("General")&&h.jsxs(Jp,{value:"General",onSelect:x=>{p(x===f?"":x),a(x===i?"":x),u(!1)},children:[h.jsx(_o,{className:Be("mr-2 h-4 w-4",i==="General"?"opacity-100":"opacity-0")}),"General"]},"General"),r.map(x=>h.jsxs(Jp,{value:x,onSelect:C=>{p(C===f?"":C),a(C===i?"":C),u(!1)},children:[h.jsx(_o,{className:Be("mr-2 h-4 w-4",i===x?"opacity-100":"opacity-0")}),x]},x))]}),i.trim()&&!r.includes(i.trim())&&h.jsxs(Jp,{value:i.trim(),onSelect:()=>{p(i.trim()),u(!1)},children:[h.jsx(Ko,{className:"mr-2 h-4 w-4"}),'Create "',i.trim(),'"']},i.trim())]})]})})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select an existing category, type a new one, or leave empty for "General".'}),r.length===0&&h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:'No categories available yet. You can create your first category or use "General".'})]}),h.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[h.jsx(Se,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),h.jsx(Se,{type:"submit",disabled:!o.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Create List"})]})]})]})})},ny=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ny.displayName="Card";const ry=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",t),...e}));ry.displayName="CardHeader";const oy=m.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:Be("text-2xl font-semibold leading-none tracking-tight",t),...e}));oy.displayName="CardTitle";const BQ=m.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));BQ.displayName="CardDescription";const bD=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Be("p-6 pt-0",t),...e}));bD.displayName="CardContent";const WQ=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",t),...e}));WQ.displayName="CardFooter";var sy="Collapsible",[UQ,Pue]=$r(sy),[HQ,eC]=UQ(sy),CD=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:s,onOpenChange:i,...a}=t,[l,u]=ro({prop:r,defaultProp:o??!1,onChange:i,caller:sy});return h.jsx(HQ,{scope:n,disabled:s,contentId:Gn(),open:l,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),children:h.jsx(Fe.div,{"data-state":nC(l),"data-disabled":s?"":void 0,...a,ref:e})})});CD.displayName=sy;var SD="CollapsibleTrigger",kD=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,o=eC(SD,n);return h.jsx(Fe.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":nC(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:Ce(t.onClick,o.onOpenToggle)})});kD.displayName=SD;var tC="CollapsibleContent",ED=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=eC(tC,t.__scopeCollapsible);return h.jsx(io,{present:n||o.open,children:({present:s})=>h.jsx(VQ,{...r,ref:e,present:s})})});ED.displayName=tC;var VQ=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:o,...s}=t,i=eC(tC,n),[a,l]=m.useState(r),u=m.useRef(null),f=dt(e,u),p=m.useRef(0),g=p.current,y=m.useRef(0),b=y.current,w=i.open||a,x=m.useRef(w),C=m.useRef(void 0);return m.useEffect(()=>{const S=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(S)},[]),Dn(()=>{const S=u.current;if(S){C.current=C.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const k=S.getBoundingClientRect();p.current=k.height,y.current=k.width,x.current||(S.style.transitionDuration=C.current.transitionDuration,S.style.animationName=C.current.animationName),l(r)}},[i.open,r]),h.jsx(Fe.div,{"data-state":nC(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!w,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:w&&o})});function nC(t){return t?"open":"closed"}var GQ=CD;const rC=GQ,oC=kD,sC=ED,KQ=30*60*1e3,qQ=500,$T=2e3,YQ=({enabled:t,listTitle:e,existingItems:n})=>{const[r,o]=m.useState([]),[s,i]=m.useState(0),[a,l]=m.useState(null),[u,f]=m.useState(!1),[p,g]=m.useState(null),y=m.useRef(null),b=m.useRef(0),{token:w}=is();m.useEffect(()=>{t||l(null)},[t]);const x=m.useCallback(()=>{try{const M=`itemize-suggestions-${e}-${n.join(",")}`,L=localStorage.getItem(M);if(L){const{suggestions:F,timestamp:z}=JSON.parse(L);if(Date.now()-z<KQ&&F&&F.length>0)return F}}catch(M){console.warn("Failed to read suggestion cache:",M)}return null},[e,n]),C=m.useCallback(M=>{try{if(!e||!M.length)return;const L=`itemize-suggestions-${e}-${n.join(",")}`,F={suggestions:M,timestamp:Date.now()};localStorage.setItem(L,JSON.stringify(F))}catch(L){console.warn("Failed to cache suggestions:",L)}},[e,n]),S=m.useCallback(async()=>{var z;if(y.current&&(clearTimeout(y.current),y.current=null),!t||!e||n.length===0){o([]),l(null);return}if(!w){g("You must be logged in to use AI suggestions");return}const M=x();if(M){console.log("Using cached suggestions for:",e),o(M),l(M[0]||null),f(!1);return}const F=Date.now()-b.current;if(F<$T){f(!0);const U=$T-F;console.log(`Throttling API call for ${U}ms`),y.current=setTimeout(()=>{S()},U);return}try{f(!0),g(null),b.current=Date.now();const U=nf(),K=await Pt.post(`${U}/api/suggestions`,{listTitle:e,existingItems:n.filter(W=>W.trim()!=="")},{withCredentials:!0,headers:{Authorization:`Bearer ${w}`}});if(K.data&&K.data.suggestions&&K.data.suggestions.length>0){const W=K.data.suggestions;o(W),l(W[0]),i(0),C(W)}else o([]),l(null)}catch(U){console.error("Failed to fetch AI suggestions:",U),((z=U==null?void 0:U.response)==null?void 0:z.status)===401?g("Session expired. Please log in again to use AI suggestions."):g(U instanceof Error?U.message:"Failed to get suggestions"),o([]),l(null)}finally{f(!1)}},[t,e,n,w,x,C]),k=m.useCallback(()=>{y.current&&clearTimeout(y.current),f(!0),y.current=setTimeout(()=>{S()},qQ)},[S]),T=m.useCallback(M=>{if(!t||!M.trim())return null;if(r.length>0){const L=M.toLowerCase().trim(),F=r.filter(U=>U.toLowerCase().startsWith(L)&&U.toLowerCase()!==L);if(F.length>0)return console.log("Using API suggestion (prefix match):",F[0]),F[0];const z=r.filter(U=>U.toLowerCase().includes(L)&&U.toLowerCase()!==L);if(z.length>0)return console.log("Using API suggestion (contains match):",z[0]),z[0]}return null},[t,r]),N=m.useCallback(M=>{const L=r.filter(F=>F.toLowerCase()!==M.toLowerCase());return L.length>0?l(L[0]):l(null),M},[r]),A=m.useCallback(()=>{if(r.length===0)return null;const M=(s+1)%r.length;i(M);const L=r[M];return l(L),L},[r,s]),_=m.useCallback(()=>r.length>0?r[0]:null,[r]);return m.useEffect(()=>{if(t&&!a){const M=_();M?l(M):k()}},[t,a,_,k]),{currentSuggestion:a,suggestions:r,isLoading:u,error:p,debouncedFetchSuggestions:k,fetchSuggestions:S,getSuggestionForInput:T,acceptSuggestion:N,getNextSuggestion:A,generateContextSuggestion:_}},JQ=({list:t,onUpdate:e,onDelete:n,isCollapsed:r,onToggleCollapsed:o,existingCategories:s=[],addCategory:i,updateCategory:a})=>{const{aiEnabled:l,setAiEnabled:u}=L1(),f=t.items.map(Re=>Re.text),{currentSuggestion:p,suggestions:g,isLoading:y,debouncedFetchSuggestions:b,getNextSuggestion:w,getSuggestionForInput:x}=YQ({enabled:l,listTitle:t.title,existingItems:f});m.useEffect(()=>{l&&!p&&b()},[l,p,b]);const{toast:C}=Oo(),[S,k]=m.useState(!0),T=r!==void 0?!r:S,N=o||k,[A,_]=m.useState(!1),[M,L]=m.useState(t.title),[F,z]=m.useState(!1),[U,K]=m.useState(!1),[W,te]=m.useState(""),[J,X]=m.useState(""),[I,P]=m.useState(null),[B,G]=m.useState(""),[j,Z]=m.useState(!1),Q=m.useRef(null),ee=m.useRef(null);m.useEffect(()=>{L(t.title)},[t.title]);const ne=()=>{M.trim()!==""?(e({...t,title:M.trim()}),_(!1)):C({title:"Title cannot be empty",description:"Please enter a valid list title",variant:"destructive"})},H=()=>{n(t.id)},ue=async Re=>{if(Re==="__custom__"){K(!0);return}if(Re.trim()&&!s.find(Ee=>Ee.name===Re)&&i)try{await i({name:Re.trim(),color_value:"#3B82F6"})}catch(Ee){console.error("Failed to create category in database:",Ee)}e({...t,type:Re}),z(!1),K(!1)},he=async()=>{if(W.trim()!=="")try{i&&await i({name:W.trim(),color_value:"#3B82F6"}),e({...t,type:W.trim()}),z(!1),K(!1),te("")}catch(Re){console.error("Failed to create category:",Re),C({title:"Error creating category",description:"Could not create the category. Please try again.",variant:"destructive"})}else C({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},le=async(Re,Ee)=>{try{await a(Re,{color_value:Ee})}catch(Ue){console.error("Failed to update category color:",Ue),C({title:"Error",description:"Could not update category color.",variant:"destructive"})}},Ne=()=>{if(J.trim()!==""){const Re={id:crypto.randomUUID(),text:J.trim(),completed:!1};e({...t,items:[...t.items,Re]}),X("")}},Ae=Re=>{const Ee=t.items.map(Ue=>Ue.id===Re?{...Ue,completed:!Ue.completed}:Ue);e({...t,items:Ee})},Je=Re=>{const Ee=t.items.filter(Ue=>Ue.id!==Re);e({...t,items:Ee})},De=Re=>{P(Re.id),G(Re.text)},Ze=()=>{if(I&&B.trim()!==""){const Re=t.items.map(Ee=>Ee.id===I?{...Ee,text:B.trim()}:Ee);e({...t,items:Re}),P(null),G("")}else B.trim()===""&&C({title:"Item text cannot be empty",description:"Please enter valid text for the item",variant:"destructive"})},_e=m.useMemo(()=>!l||!J?null:x(J),[l,J,x]);return{isCollapsibleOpen:T,setIsCollapsibleOpen:N,isEditing:A,setIsEditing:_,editTitle:M,setEditTitle:L,handleEditTitle:ne,handleDeleteList:H,handleSaveListColor:async Re=>{Z(!0);try{await new Promise(Ee=>setTimeout(Ee,1e3)),e({...t,color_value:Re})}catch(Ee){throw console.error("Failed to save list color:",Ee),Ee}finally{Z(!1)}},isSavingColor:j,isEditingCategory:F,setIsEditingCategory:z,showNewCategoryInput:U,setShowNewCategoryInput:K,newCategory:W,setNewCategory:te,handleEditCategory:ue,handleAddCustomCategory:he,handleUpdateCategoryColor:le,newItemText:J,setNewItemText:X,editingItemId:I,editingItemText:B,setEditingItemText:G,handleAddItem:Ne,toggleItemCompleted:Ae,removeItem:Je,startEditingItem:De,handleEditItem:Ze,suggestions:g,isLoadingSuggestions:y,aiEnabled:l,setAiEnabled:u,currentSuggestion:p,currentInputSuggestion:_e,handleGetSuggestion:()=>{if(console.log("Getting next suggestion"),!l)u(!0),setTimeout(()=>b(),100);else if(p){const Re={id:crypto.randomUUID(),text:p,completed:!1};e({...t,items:[...t.items,Re]}),w()}else b()},handleAcceptSuggestion:()=>{_e?X(_e):p&&X(p)},titleEditRef:Q,newItemInputRef:ee}},XQ=["#EF4444","#F97316","#EAB308","#22C55E","#10B981","#14B8A6","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#A855F7","#EC4899","#F87171","#FBBF24","#4ADE80","#60A5FA","#C084FC","#78716C","#D1D5DB","#9CA3AF","#6B7280","#4B5563","#374151","#1F2937"],vi=({color:t,onChange:e,onSave:n,children:r,className:o})=>{const[s,i]=se.useState(!1),a=l=>{e(l),n&&n(l),i(!1)};return h.jsxs($I,{open:s,onOpenChange:i,children:[h.jsx(zI,{asChild:!0,className:o,children:r}),h.jsx(K1,{className:"w-auto p-2 shadow-xl grid grid-cols-6 gap-1",align:"start",children:XQ.map(l=>h.jsx("button",{title:l,onClick:()=>a(l),className:`w-6 h-6 rounded-full border-2 transition-all
                        ${t===l?"ring-2 ring-offset-1 ring-primary":"hover:opacity-80"}
                        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary`,style:{backgroundColor:l,borderColor:l===t?"var(--primary)":l}},l))})]})},QQ=({title:t,listColor:e,isEditing:n,editTitle:r,isCollapsibleOpen:o,setEditTitle:s,setIsEditing:i,handleEditTitle:a,handleDeleteList:l,titleEditRef:u,onColorSave:f,isSavingColor:p})=>{const{toast:g}=Oo(),[y,b]=se.useState(e||"#808080");se.useEffect(()=>{b(e||"#808080")},[e]);const w=y;return h.jsx(ry,{className:"pb-2",children:h.jsx("div",{className:"flex justify-between items-center",children:n?h.jsxs("div",{className:"flex gap-1 w-full",children:[h.jsx(sn,{ref:u,value:r,onChange:x=>s(x.target.value),className:"h-8",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&a()}}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:a,className:"h-8 w-8 p-0",children:h.jsx(_o,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>i(!1),className:"h-8 w-8 p-0",children:h.jsx(rs,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vi,{color:w,onChange:x=>{b(x)},onSave:async x=>{if(x!==(e||"#808080"))try{await f(x)}catch{g({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),b(e||"#808080")}},children:h.jsxs(Se,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change list color",disabled:p,children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-gray-400 transition-colors duration-150",style:{backgroundColor:w}}),p&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 rounded-full",children:h.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),h.jsx(_g,{className:"h-4 w-4 text-slate-500"}),h.jsx(oy,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!0),children:t})]}),h.jsxs("div",{className:"flex",children:[h.jsx(oC,{asChild:!0,children:h.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(oi,{className:Be("h-4 w-4 transition-transform",o?"":"transform rotate-180")})})}),h.jsxs(Xg,{children:[h.jsx(Qg,{asChild:!0,children:h.jsx(Se,{variant:"ghost",className:"h-8 w-8 p-0",children:h.jsx(m1,{className:"h-4 w-4"})})}),h.jsxs(qf,{align:"end",children:[h.jsxs(gi,{onClick:()=>i(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Ff,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),h.jsxs(gi,{onClick:l,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Og,{className:"mr-2 h-4 w-4"}),"Delete List"]})]})]})]})]})})})};function $m(t,[e,n]){return Math.min(n,Math.max(e,t))}var ZQ=[" ","Enter","ArrowUp","ArrowDown"],eZ=[" ","Enter"],Ml="Select",[iy,ay,tZ]=Df(Ml),[Tu,Iue]=$r(Ml,[tZ,Ra]),ly=Ra(),[nZ,Oa]=Tu(Ml),[rZ,oZ]=Tu(Ml),ND=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:s,value:i,defaultValue:a,onValueChange:l,dir:u,name:f,autoComplete:p,disabled:g,required:y,form:b}=t,w=ly(e),[x,C]=m.useState(null),[S,k]=m.useState(null),[T,N]=m.useState(!1),A=Wf(u),[_,M]=ro({prop:r,defaultProp:o??!1,onChange:s,caller:Ml}),[L,F]=ro({prop:i,defaultProp:a,onChange:l,caller:Ml}),z=m.useRef(null),U=x?b||!!x.closest("form"):!0,[K,W]=m.useState(new Set),te=Array.from(K).map(J=>J.props.value).join(";");return h.jsx(M1,{...w,children:h.jsxs(nZ,{required:y,scope:e,trigger:x,onTriggerChange:C,valueNode:S,onValueNodeChange:k,valueNodeHasChildren:T,onValueNodeHasChildrenChange:N,contentId:Gn(),value:L,onValueChange:F,open:_,onOpenChange:M,dir:A,triggerPointerDownPosRef:z,disabled:g,children:[h.jsx(iy.Provider,{scope:e,children:h.jsx(rZ,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(J=>{W(X=>new Set(X).add(J))},[]),onNativeOptionRemove:m.useCallback(J=>{W(X=>{const I=new Set(X);return I.delete(J),I})},[]),children:n})}),U?h.jsxs(JD,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:L,onChange:J=>F(J.target.value),disabled:g,form:b,children:[L===void 0?h.jsx("option",{value:""}):null,Array.from(K)]},te):null]})})};ND.displayName=Ml;var TD="SelectTrigger",RD=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,s=ly(n),i=Oa(TD,n),a=i.disabled||r,l=dt(e,i.onTriggerChange),u=ay(n),f=m.useRef("touch"),[p,g,y]=QD(w=>{const x=u().filter(k=>!k.disabled),C=x.find(k=>k.value===i.value),S=ZD(x,w,C);S!==void 0&&i.onValueChange(S.value)}),b=w=>{a||(i.onOpenChange(!0),y()),w&&(i.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return h.jsx(Bf,{asChild:!0,...s,children:h.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":XD(i.value)?"":void 0,...o,ref:l,onClick:Ce(o.onClick,w=>{w.currentTarget.focus(),f.current!=="mouse"&&b(w)}),onPointerDown:Ce(o.onPointerDown,w=>{f.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:Ce(o.onKeyDown,w=>{const x=p.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(x&&w.key===" ")&&ZQ.includes(w.key)&&(b(),w.preventDefault())})})})});RD.displayName=TD;var MD="SelectValue",AD=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:i="",...a}=t,l=Oa(MD,n),{onValueNodeHasChildrenChange:u}=l,f=s!==void 0,p=dt(e,l.onValueNodeChange);return Dn(()=>{u(f)},[u,f]),h.jsx(Fe.span,{...a,ref:p,style:{pointerEvents:"none"},children:XD(l.value)?h.jsx(h.Fragment,{children:i}):s})});AD.displayName=MD;var sZ="SelectIcon",_D=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return h.jsx(Fe.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});_D.displayName=sZ;var iZ="SelectPortal",OD=t=>h.jsx(gu,{asChild:!0,...t});OD.displayName=iZ;var Al="SelectContent",PD=m.forwardRef((t,e)=>{const n=Oa(Al,t.__scopeSelect),[r,o]=m.useState();if(Dn(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?Eo.createPortal(h.jsx(ID,{scope:t.__scopeSelect,children:h.jsx(iy.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(DD,{...t,ref:e})});PD.displayName=Al;var zo=10,[ID,Pa]=Tu(Al),aZ="SelectContentImpl",lZ=wa("SelectContent.RemoveScroll"),DD=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:x,...C}=t,S=Oa(Al,n),[k,T]=m.useState(null),[N,A]=m.useState(null),_=dt(e,H=>T(H)),[M,L]=m.useState(null),[F,z]=m.useState(null),U=ay(n),[K,W]=m.useState(!1),te=m.useRef(!1);m.useEffect(()=>{if(k)return Gg(k)},[k]),Hg();const J=m.useCallback(H=>{const[ue,...he]=U().map(Ae=>Ae.ref.current),[le]=he.slice(-1),Ne=document.activeElement;for(const Ae of H)if(Ae===Ne||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===ue&&N&&(N.scrollTop=0),Ae===le&&N&&(N.scrollTop=N.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Ne))return},[U,N]),X=m.useCallback(()=>J([M,k]),[J,M,k]);m.useEffect(()=>{K&&X()},[K,X]);const{onOpenChange:I,triggerPointerDownPosRef:P}=S;m.useEffect(()=>{if(k){let H={x:0,y:0};const ue=le=>{var Ne,Ae;H={x:Math.abs(Math.round(le.pageX)-(((Ne=P.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Ae=P.current)==null?void 0:Ae.y)??0))}},he=le=>{H.x<=10&&H.y<=10?le.preventDefault():k.contains(le.target)||I(!1),document.removeEventListener("pointermove",ue),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",he,{capture:!0})}}},[k,I,P]),m.useEffect(()=>{const H=()=>I(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[I]);const[B,G]=QD(H=>{const ue=U().filter(Ne=>!Ne.disabled),he=ue.find(Ne=>Ne.ref.current===document.activeElement),le=ZD(ue,H,he);le&&setTimeout(()=>le.ref.current.focus())}),j=m.useCallback((H,ue,he)=>{const le=!te.current&&!he;(S.value!==void 0&&S.value===ue||le)&&(L(H),le&&(te.current=!0))},[S.value]),Z=m.useCallback(()=>k==null?void 0:k.focus(),[k]),Q=m.useCallback((H,ue,he)=>{const le=!te.current&&!he;(S.value!==void 0&&S.value===ue||le)&&z(H)},[S.value]),ee=r==="popper"?Mw:jD,ne=ee===Mw?{side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:x}:{};return h.jsx(ID,{scope:n,content:k,viewport:N,onViewportChange:A,itemRefCallback:j,selectedItem:M,onItemLeave:Z,itemTextRefCallback:Q,focusSelectedItem:X,selectedItemText:F,position:r,isPositioned:K,searchRef:B,children:h.jsx(Vf,{as:lZ,allowPinchZoom:!0,children:h.jsx(Uf,{asChild:!0,trapped:S.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Ce(o,H=>{var ue;(ue=S.trigger)==null||ue.focus({preventScroll:!0}),H.preventDefault()}),children:h.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:h.jsx(ee,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:H=>H.preventDefault(),...C,...ne,onPlaced:()=>W(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ce(C.onKeyDown,H=>{const ue=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ue&&H.key.length===1&&G(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let le=U().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(H.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const Ne=H.target,Ae=le.indexOf(Ne);le=le.slice(Ae+1)}setTimeout(()=>J(le)),H.preventDefault()}})})})})})})});DD.displayName=aZ;var cZ="SelectItemAlignedPosition",jD=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,s=Oa(Al,n),i=Pa(Al,n),[a,l]=m.useState(null),[u,f]=m.useState(null),p=dt(e,_=>f(_)),g=ay(n),y=m.useRef(!1),b=m.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:C,focusSelectedItem:S}=i,k=m.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&w&&x&&C){const _=s.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),F=C.getBoundingClientRect();if(s.dir!=="rtl"){const Ne=F.left-M.left,Ae=L.left-Ne,Je=_.left-Ae,De=_.width+Je,Ze=Math.max(De,M.width),_e=window.innerWidth-zo,it=$m(Ae,[zo,Math.max(zo,_e-Ze)]);a.style.minWidth=De+"px",a.style.left=it+"px"}else{const Ne=M.right-F.right,Ae=window.innerWidth-L.right-Ne,Je=window.innerWidth-_.right-Ae,De=_.width+Je,Ze=Math.max(De,M.width),_e=window.innerWidth-zo,it=$m(Ae,[zo,Math.max(zo,_e-Ze)]);a.style.minWidth=De+"px",a.style.right=it+"px"}const z=g(),U=window.innerHeight-zo*2,K=w.scrollHeight,W=window.getComputedStyle(u),te=parseInt(W.borderTopWidth,10),J=parseInt(W.paddingTop,10),X=parseInt(W.borderBottomWidth,10),I=parseInt(W.paddingBottom,10),P=te+J+K+I+X,B=Math.min(x.offsetHeight*5,P),G=window.getComputedStyle(w),j=parseInt(G.paddingTop,10),Z=parseInt(G.paddingBottom,10),Q=_.top+_.height/2-zo,ee=U-Q,ne=x.offsetHeight/2,H=x.offsetTop+ne,ue=te+J+H,he=P-ue;if(ue<=Q){const Ne=z.length>0&&x===z[z.length-1].ref.current;a.style.bottom="0px";const Ae=u.clientHeight-w.offsetTop-w.offsetHeight,Je=Math.max(ee,ne+(Ne?Z:0)+Ae+X),De=ue+Je;a.style.height=De+"px"}else{const Ne=z.length>0&&x===z[0].ref.current;a.style.top="0px";const Je=Math.max(Q,te+w.offsetTop+(Ne?j:0)+ne)+he;a.style.height=Je+"px",w.scrollTop=ue-Q+w.offsetTop}a.style.margin=`${zo}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[g,s.trigger,s.valueNode,a,u,w,x,C,s.dir,r]);Dn(()=>k(),[k]);const[T,N]=m.useState();Dn(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const A=m.useCallback(_=>{_&&b.current===!0&&(k(),S==null||S(),b.current=!1)},[k,S]);return h.jsx(dZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:A,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:h.jsx(Fe.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});jD.displayName=cZ;var uZ="SelectPopperPosition",Mw=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=zo,...s}=t,i=ly(n);return h.jsx(jg,{...i,...s,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mw.displayName=uZ;var[dZ,iC]=Tu(Al,{}),Aw="SelectViewport",LD=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,s=Pa(Aw,n),i=iC(Aw,n),a=dt(e,s.onViewportChange),l=m.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(iy.Slot,{scope:n,children:h.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ce(o.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&p){const y=Math.abs(l.current-f.scrollTop);if(y>0){const b=window.innerHeight-zo*2,w=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),C=Math.max(w,x);if(C<b){const S=C+y,k=Math.min(b,S),T=S-k;p.style.height=k+"px",p.style.bottom==="0px"&&(f.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});LD.displayName=Aw;var FD="SelectGroup",[fZ,hZ]=Tu(FD),pZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=Gn();return h.jsx(fZ,{scope:n,id:o,children:h.jsx(Fe.div,{role:"group","aria-labelledby":o,...r,ref:e})})});pZ.displayName=FD;var $D="SelectLabel",zD=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=hZ($D,n);return h.jsx(Fe.div,{id:o.id,...r,ref:e})});zD.displayName=$D;var zm="SelectItem",[mZ,BD]=Tu(zm),WD=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...i}=t,a=Oa(zm,n),l=Pa(zm,n),u=a.value===r,[f,p]=m.useState(s??""),[g,y]=m.useState(!1),b=dt(e,S=>{var k;return(k=l.itemRefCallback)==null?void 0:k.call(l,S,r,o)}),w=Gn(),x=m.useRef("touch"),C=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(mZ,{scope:n,value:r,disabled:o,textId:w,isSelected:u,onItemTextChange:m.useCallback(S=>{p(k=>k||((S==null?void 0:S.textContent)??"").trim())},[]),children:h.jsx(iy.ItemSlot,{scope:n,value:r,disabled:o,textValue:f,children:h.jsx(Fe.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:b,onFocus:Ce(i.onFocus,()=>y(!0)),onBlur:Ce(i.onBlur,()=>y(!1)),onClick:Ce(i.onClick,()=>{x.current!=="mouse"&&C()}),onPointerUp:Ce(i.onPointerUp,()=>{x.current==="mouse"&&C()}),onPointerDown:Ce(i.onPointerDown,S=>{x.current=S.pointerType}),onPointerMove:Ce(i.onPointerMove,S=>{var k;x.current=S.pointerType,o?(k=l.onItemLeave)==null||k.call(l):x.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(i.onPointerLeave,S=>{var k;S.currentTarget===document.activeElement&&((k=l.onItemLeave)==null||k.call(l))}),onKeyDown:Ce(i.onKeyDown,S=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&S.key===" "||(eZ.includes(S.key)&&C(),S.key===" "&&S.preventDefault())})})})})});WD.displayName=zm;var yd="SelectItemText",UD=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...s}=t,i=Oa(yd,n),a=Pa(yd,n),l=BD(yd,n),u=oZ(yd,n),[f,p]=m.useState(null),g=dt(e,C=>p(C),l.onItemTextChange,C=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,C,l.value,l.disabled)}),y=f==null?void 0:f.textContent,b=m.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=u;return Dn(()=>(w(b),()=>x(b)),[w,x,b]),h.jsxs(h.Fragment,{children:[h.jsx(Fe.span,{id:l.textId,...s,ref:g}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Eo.createPortal(s.children,i.valueNode):null]})});UD.displayName=yd;var HD="SelectItemIndicator",VD=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BD(HD,n).isSelected?h.jsx(Fe.span,{"aria-hidden":!0,...r,ref:e}):null});VD.displayName=HD;var _w="SelectScrollUpButton",GD=m.forwardRef((t,e)=>{const n=Pa(_w,t.__scopeSelect),r=iC(_w,t.__scopeSelect),[o,s]=m.useState(!1),i=dt(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?h.jsx(qD,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});GD.displayName=_w;var Ow="SelectScrollDownButton",KD=m.forwardRef((t,e)=>{const n=Pa(Ow,t.__scopeSelect),r=iC(Ow,t.__scopeSelect),[o,s]=m.useState(!1),i=dt(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;s(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?h.jsx(qD,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});KD.displayName=Ow;var qD=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,s=Pa("SelectScrollButton",n),i=m.useRef(null),a=ay(n),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Dn(()=>{var f;const u=a().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),h.jsx(Fe.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ce(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ce(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ce(o.onPointerLeave,()=>{l()})})}),gZ="SelectSeparator",YD=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(Fe.div,{"aria-hidden":!0,...r,ref:e})});YD.displayName=gZ;var Pw="SelectArrow",yZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=ly(n),s=Oa(Pw,n),i=Pa(Pw,n);return s.open&&i.position==="popper"?h.jsx(Lg,{...o,...r,ref:e}):null});yZ.displayName=Pw;var vZ="SelectBubbleInput",JD=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const o=m.useRef(null),s=dt(r,o),i=F1(e);return m.useEffect(()=>{const a=o.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&f){const p=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[i,e]),h.jsx(Fe.select,{...n,style:{...k_,...n.style},ref:s,defaultValue:e})});JD.displayName=vZ;function XD(t){return t===""||t===void 0}function QD(t){const e=Fr(t),n=m.useRef(""),r=m.useRef(0),o=m.useCallback(i=>{const a=n.current+i;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function ZD(t,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=xZ(t,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function xZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wZ=ND,ej=RD,bZ=AD,CZ=_D,SZ=OD,tj=PD,kZ=LD,nj=zD,rj=WD,EZ=UD,NZ=VD,oj=GD,sj=KD,ij=YD;const Ia=wZ,Da=bZ,xi=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ej,{ref:r,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(CZ,{asChild:!0,children:h.jsx(oi,{className:"h-4 w-4 opacity-50"})})]}));xi.displayName=ej.displayName;const aj=m.forwardRef(({className:t,...e},n)=>h.jsx(oj,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(v7,{className:"h-4 w-4"})}));aj.displayName=oj.displayName;const lj=m.forwardRef(({className:t,...e},n)=>h.jsx(sj,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(oi,{className:"h-4 w-4"})}));lj.displayName=sj.displayName;const wi=m.forwardRef(({className:t,children:e,position:n="popper",...r},o)=>h.jsx(SZ,{children:h.jsxs(tj,{ref:o,className:Be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(aj,{}),h.jsx(kZ,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(lj,{})]})}));wi.displayName=tj.displayName;const TZ=m.forwardRef(({className:t,...e},n)=>h.jsx(nj,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));TZ.displayName=nj.displayName;const yn=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(rj,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(NZ,{children:h.jsx(_o,{className:"h-4 w-4"})})}),h.jsx(EZ,{children:e})]}));yn.displayName=rj.displayName;const RZ=m.forwardRef(({className:t,...e},n)=>h.jsx(ij,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));RZ.displayName=ij.displayName;const MZ=Lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function aC({className:t,variant:e,...n}){return h.jsx("div",{className:Be(MZ({variant:e}),t),...n})}const AZ=({currentCategory:t,categoryColor:e,itemColor:n,existingCategories:r,isEditingCategory:o,showNewCategoryInput:s,newCategory:i,setNewCategory:a,setIsEditingCategory:l,setShowNewCategoryInput:u,handleEditCategory:f,handleAddCustomCategory:p,handleUpdateCategoryColor:g})=>{const y=t&&t!==""?t:"General",b=e||n||"#808080",w=()=>"#ffffff";return h.jsx("div",{className:"mb-2 px-6 flex items-center gap-2",children:o?h.jsx("div",{className:"mb-2 w-full",children:s?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(sn,{value:i,onChange:x=>a(x.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&p()}}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:p,className:"h-8 w-8 p-0",children:h.jsx(_o,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>{u(!1),a("")},className:"h-8 w-8 p-0",children:h.jsx(rs,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsxs(Ia,{onValueChange:f,defaultValue:y,children:[h.jsx(xi,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx(Da,{placeholder:"Select a category"})}),h.jsxs(wi,{children:[r.map(x=>h.jsx(yn,{value:x.name,style:{fontFamily:'"Raleway", sans-serif'},children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:x.color_value}}),x.name]})},x.name)),h.jsx(yn,{value:"__custom__",className:"text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:"+ Add new category"})]})]}),y!=="__custom__"&&h.jsx("div",{className:"flex items-center gap-2 ml-2",children:h.jsx(vi,{color:b,onChange:x=>g(y,x),onSave:x=>g(y,x),children:h.jsxs(Se,{variant:"outline",size:"sm",className:"h-8 px-3 flex items-center gap-2",children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:b}}),"Category Color"]})})}),h.jsx(Se,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>l(!1),children:"Cancel"})]})}):h.jsx(aC,{variant:"outline",className:"cursor-pointer hover:opacity-80 transition-opacity border-none",style:{fontFamily:'"Raleway", sans-serif',backgroundColor:b,color:w()},onClick:()=>l(!0),children:y})})};function _Z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>r=>{e.forEach(o=>o(r))},e)}const cy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ru(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function lC(t){return"nodeType"in t}function Br(t){var e,n;return t?Ru(t)?t:lC(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function cC(t){const{Document:e}=Br(t);return t instanceof e}function Qf(t){return Ru(t)?!1:t instanceof Br(t).HTMLElement}function cj(t){return t instanceof Br(t).SVGElement}function Mu(t){return t?Ru(t)?t.document:lC(t)?cC(t)?t:Qf(t)||cj(t)?t.ownerDocument:document:document:document}const Ms=cy?m.useLayoutEffect:m.useEffect;function uC(t){const e=m.useRef(t);return Ms(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function OZ(){const t=m.useRef(null),e=m.useCallback((r,o)=>{t.current=setInterval(r,o)},[]),n=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ff(t,e){e===void 0&&(e=[t]);const n=m.useRef(t);return Ms(()=>{n.current!==t&&(n.current=t)},e),n}function Zf(t,e){const n=m.useRef();return m.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Bm(t){const e=uC(t),n=m.useRef(null),r=m.useCallback(o=>{o!==n.current&&(e==null||e(o,n.current)),n.current=o},[]);return[n,r]}function Iw(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let I0={};function eh(t,e){return m.useMemo(()=>{if(e)return e;const n=I0[t]==null?0:I0[t]+1;return I0[t]=n,t+"-"+n},[t,e])}function uj(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const a=Object.entries(i);for(const[l,u]of a){const f=s[l];f!=null&&(s[l]=f+t*u)}return s},{...e})}}const Lc=uj(1),hf=uj(-1);function PZ(t){return"clientX"in t&&"clientY"in t}function dC(t){if(!t)return!1;const{KeyboardEvent:e}=Br(t.target);return e&&t instanceof e}function IZ(t){if(!t)return!1;const{TouchEvent:e}=Br(t.target);return e&&t instanceof e}function Dw(t){if(IZ(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return PZ(t)?{x:t.clientX,y:t.clientY}:null}const pf=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[pf.Translate.toString(t),pf.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),zT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function DZ(t){return t.matches(zT)?t:t.querySelector(zT)}const jZ={display:"none"};function LZ(t){let{id:e,value:n}=t;return se.createElement("div",{id:e,style:jZ},n)}function FZ(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return se.createElement("div",{id:e,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function $Z(){const[t,e]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const dj=m.createContext(null);function zZ(t){const e=m.useContext(dj);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function BZ(){const[t]=m.useState(()=>new Set),e=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:o,event:s}=r;t.forEach(i=>{var a;return(a=i[o])==null?void 0:a.call(i,s)})},[t]),e]}const WZ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},UZ={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function HZ(t){let{announcements:e=UZ,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=WZ}=t;const{announce:s,announcement:i}=$Z(),a=eh("DndLiveRegion"),[l,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),zZ(m.useMemo(()=>({onDragStart(p){let{active:g}=p;s(e.onDragStart({active:g}))},onDragMove(p){let{active:g,over:y}=p;e.onDragMove&&s(e.onDragMove({active:g,over:y}))},onDragOver(p){let{active:g,over:y}=p;s(e.onDragOver({active:g,over:y}))},onDragEnd(p){let{active:g,over:y}=p;s(e.onDragEnd({active:g,over:y}))},onDragCancel(p){let{active:g,over:y}=p;s(e.onDragCancel({active:g,over:y}))}}),[s,e])),!l)return null;const f=se.createElement(se.Fragment,null,se.createElement(LZ,{id:r,value:o.draggable}),se.createElement(FZ,{id:a,announcement:i}));return n?Eo.createPortal(f,n):f}var Nn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Nn||(Nn={}));function Wm(){}function BT(t,e){return m.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function VZ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const es=Object.freeze({x:0,y:0});function fj(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hj(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function GZ(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function WT(t){let{left:e,top:n,height:r,width:o}=t;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+r},{x:e+o,y:n+r}]}function pj(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function UT(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const KZ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=UT(e,e.left,e.top),s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const u=fj(UT(l),o);s.push({id:a,data:{droppableContainer:i,value:u}})}}return s.sort(hj)},qZ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=WT(e),s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const u=WT(l),f=o.reduce((g,y,b)=>g+fj(u[b],y),0),p=Number((f/4).toFixed(4));s.push({id:a,data:{droppableContainer:i,value:p}})}}return s.sort(hj)};function YZ(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),i=o-r,a=s-n;if(r<o&&n<s){const l=e.width*e.height,u=t.width*t.height,f=i*a,p=f/(l+u-f);return Number(p.toFixed(4))}return 0}const JZ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=[];for(const s of r){const{id:i}=s,a=n.get(i);if(a){const l=YZ(a,e);l>0&&o.push({id:i,data:{droppableContainer:s,value:l}})}}return o.sort(GZ)};function XZ(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function mj(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:es}function QZ(t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,a)=>({...i,top:i.top+t*a.y,bottom:i.bottom+t*a.y,left:i.left+t*a.x,right:i.right+t*a.x}),{...n})}}const ZZ=QZ(1);function eee(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function tee(t,e,n){const r=eee(e);if(!r)return t;const{scaleX:o,scaleY:s,x:i,y:a}=r,l=t.left-i-(1-o)*parseFloat(n),u=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?t.width/o:t.width,p=s?t.height/s:t.height;return{width:f,height:p,top:u,right:l+f,bottom:u+p,left:l}}const nee={ignoreTransform:!1};function Au(t,e){e===void 0&&(e=nee);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:f}=Br(t).getComputedStyle(t);u&&(n=tee(n,u,f))}const{top:r,left:o,width:s,height:i,bottom:a,right:l}=n;return{top:r,left:o,width:s,height:i,bottom:a,right:l}}function HT(t){return Au(t,{ignoreTransform:!0})}function ree(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function oee(t,e){return e===void 0&&(e=Br(t).getComputedStyle(t)),e.position==="fixed"}function see(t,e){e===void 0&&(e=Br(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=e[o];return typeof s=="string"?n.test(s):!1})}function uy(t,e){const n=[];function r(o){if(e!=null&&n.length>=e||!o)return n;if(cC(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Qf(o)||cj(o)||n.includes(o))return n;const s=Br(t).getComputedStyle(o);return o!==t&&see(o,s)&&n.push(o),oee(o,s)?n:r(o.parentNode)}return t?r(t):n}function gj(t){const[e]=uy(t,1);return e??null}function D0(t){return!cy||!t?null:Ru(t)?t:lC(t)?cC(t)||t===Mu(t).scrollingElement?window:Qf(t)?t:null:null}function yj(t){return Ru(t)?t.scrollX:t.scrollLeft}function vj(t){return Ru(t)?t.scrollY:t.scrollTop}function jw(t){return{x:yj(t),y:vj(t)}}var An;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(An||(An={}));function xj(t){return!cy||!t?!1:t===document.scrollingElement}function wj(t){const e={x:0,y:0},n=xj(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,i=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:a,maxScroll:r,minScroll:e}}const iee={x:.2,y:.2};function aee(t,e,n,r,o){let{top:s,left:i,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=iee);const{isTop:u,isBottom:f,isLeft:p,isRight:g}=wj(t),y={x:0,y:0},b={x:0,y:0},w={height:e.height*o.y,width:e.width*o.x};return!u&&s<=e.top+w.height?(y.y=An.Backward,b.y=r*Math.abs((e.top+w.height-s)/w.height)):!f&&l>=e.bottom-w.height&&(y.y=An.Forward,b.y=r*Math.abs((e.bottom-w.height-l)/w.height)),!g&&a>=e.right-w.width?(y.x=An.Forward,b.x=r*Math.abs((e.right-w.width-a)/w.width)):!p&&i<=e.left+w.width&&(y.x=An.Backward,b.x=r*Math.abs((e.left+w.width-i)/w.width)),{direction:y,speed:b}}function lee(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:e,left:n,right:r,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:o,width:t.clientWidth,height:t.clientHeight}}function bj(t){return t.reduce((e,n)=>Lc(e,jw(n)),es)}function cee(t){return t.reduce((e,n)=>e+yj(n),0)}function uee(t){return t.reduce((e,n)=>e+vj(n),0)}function dee(t,e){if(e===void 0&&(e=Au),!t)return;const{top:n,left:r,bottom:o,right:s}=e(t);gj(t)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const fee=[["x",["left","right"],cee],["y",["top","bottom"],uee]];class fC{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=uy(n),o=bj(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,i,a]of fee)for(const l of i)Object.defineProperty(this,l,{get:()=>{const u=a(r),f=o[s]-u;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _d{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var o;(o=this.target)==null||o.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function hee(t){const{EventTarget:e}=Br(t);return t instanceof e?t:Mu(t)}function j0(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var xo;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(xo||(xo={}));function VT(t){t.preventDefault()}function pee(t){t.stopPropagation()}var kt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(kt||(kt={}));const Cj={start:[kt.Space,kt.Enter],cancel:[kt.Esc],end:[kt.Space,kt.Enter,kt.Tab]},mee=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case kt.Right:return{...n,x:n.x+25};case kt.Left:return{...n,x:n.x-25};case kt.Down:return{...n,y:n.y+25};case kt.Up:return{...n,y:n.y-25}}};class hC{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new _d(Mu(n)),this.windowListeners=new _d(Br(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xo.Resize,this.handleCancel),this.windowListeners.add(xo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xo.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&dee(r),n(es)}handleKeyDown(e){if(dC(e)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=Cj,coordinateGetter:i=mee,scrollBehavior:a="smooth"}=o,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:es;this.referenceCoordinates||(this.referenceCoordinates=f);const p=i(e,{active:n,context:r.current,currentCoordinates:f});if(p){const g=hf(p,f),y={x:0,y:0},{scrollableAncestors:b}=r.current;for(const w of b){const x=e.code,{isTop:C,isRight:S,isLeft:k,isBottom:T,maxScroll:N,minScroll:A}=wj(w),_=lee(w),M={x:Math.min(x===kt.Right?_.right-_.width/2:_.right,Math.max(x===kt.Right?_.left:_.left+_.width/2,p.x)),y:Math.min(x===kt.Down?_.bottom-_.height/2:_.bottom,Math.max(x===kt.Down?_.top:_.top+_.height/2,p.y))},L=x===kt.Right&&!S||x===kt.Left&&!k,F=x===kt.Down&&!T||x===kt.Up&&!C;if(L&&M.x!==p.x){const z=w.scrollLeft+g.x,U=x===kt.Right&&z<=N.x||x===kt.Left&&z>=A.x;if(U&&!g.y){w.scrollTo({left:z,behavior:a});return}U?y.x=w.scrollLeft-z:y.x=x===kt.Right?w.scrollLeft-N.x:w.scrollLeft-A.x,y.x&&w.scrollBy({left:-y.x,behavior:a});break}else if(F&&M.y!==p.y){const z=w.scrollTop+g.y,U=x===kt.Down&&z<=N.y||x===kt.Up&&z>=A.y;if(U&&!g.x){w.scrollTo({top:z,behavior:a});return}U?y.y=w.scrollTop-z:y.y=x===kt.Down?w.scrollTop-N.y:w.scrollTop-A.y,y.y&&w.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(e,Lc(hf(p,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hC.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Cj,onActivation:o}=e,{active:s}=n;const{code:i}=t.nativeEvent;if(r.start.includes(i)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),o==null||o({event:t.nativeEvent}),!0)}return!1}}];function GT(t){return!!(t&&"distance"in t)}function KT(t){return!!(t&&"delay"in t)}class pC{constructor(e,n,r){var o;r===void 0&&(r=hee(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:i}=s;this.props=e,this.events=n,this.document=Mu(i),this.documentListeners=new _d(this.document),this.listeners=new _d(r),this.windowListeners=new _d(Br(i)),this.initialCoordinates=(o=Dw(s))!=null?o:es,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(xo.Resize,this.handleCancel),this.windowListeners.add(xo.DragStart,VT),this.windowListeners.add(xo.VisibilityChange,this.handleCancel),this.windowListeners.add(xo.ContextMenu,VT),this.documentListeners.add(xo.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(KT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(GT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:o}=this.props;o(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(xo.Click,pee,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xo.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:a}}=s;if(!o)return;const l=(n=Dw(e))!=null?n:es,u=hf(o,l);if(!r&&a){if(GT(a)){if(a.tolerance!=null&&j0(u,a.tolerance))return this.handleCancel();if(j0(u,a.distance))return this.handleStart()}if(KT(a)&&j0(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),i(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===kt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const gee={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mC extends pC{constructor(e){const{event:n}=e,r=Mu(n.target);super(e,gee,r)}}mC.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const yee={move:{name:"mousemove"},end:{name:"mouseup"}};var Lw;(function(t){t[t.RightClick=2]="RightClick"})(Lw||(Lw={}));class vee extends pC{constructor(e){super(e,yee,Mu(e.event.target))}}vee.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Lw.RightClick?!1:(r==null||r({event:n}),!0)}}];const L0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xee extends pC{constructor(e){super(e,L0)}static setup(){return window.addEventListener(L0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(L0.move.name,e)};function e(){}}}xee.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Od;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Od||(Od={}));var Um;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Um||(Um={}));function wee(t){let{acceleration:e,activator:n=Od.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:a=Um.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:f,delta:p,threshold:g}=t;const y=Cee({delta:p,disabled:!s}),[b,w]=OZ(),x=m.useRef({x:0,y:0}),C=m.useRef({x:0,y:0}),S=m.useMemo(()=>{switch(n){case Od.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Od.DraggableRect:return o}},[n,o,l]),k=m.useRef(null),T=m.useCallback(()=>{const A=k.current;if(!A)return;const _=x.current.x*C.current.x,M=x.current.y*C.current.y;A.scrollBy(_,M)},[]),N=m.useMemo(()=>a===Um.TreeOrder?[...u].reverse():u,[a,u]);m.useEffect(()=>{if(!s||!u.length||!S){w();return}for(const A of N){if((r==null?void 0:r(A))===!1)continue;const _=u.indexOf(A),M=f[_];if(!M)continue;const{direction:L,speed:F}=aee(A,M,S,e,g);for(const z of["x","y"])y[z][L[z]]||(F[z]=0,L[z]=0);if(F.x>0||F.y>0){w(),k.current=A,b(T,i),x.current=F,C.current=L;return}}x.current={x:0,y:0},C.current={x:0,y:0},w()},[e,T,r,w,s,i,JSON.stringify(S),JSON.stringify(y),b,u,N,f,JSON.stringify(g)])}const bee={x:{[An.Backward]:!1,[An.Forward]:!1},y:{[An.Backward]:!1,[An.Forward]:!1}};function Cee(t){let{delta:e,disabled:n}=t;const r=Iw(e);return Zf(o=>{if(n||!r||!o)return bee;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[An.Backward]:o.x[An.Backward]||s.x===-1,[An.Forward]:o.x[An.Forward]||s.x===1},y:{[An.Backward]:o.y[An.Backward]||s.y===-1,[An.Forward]:o.y[An.Forward]||s.y===1}}},[n,e,r])}function See(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Zf(o=>{var s;return e==null?null:(s=r??o)!=null?s:null},[r,e])}function kee(t,e){return m.useMemo(()=>t.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,r)}));return[...n,...s]},[]),[t,e])}var mf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(mf||(mf={}));var Fw;(function(t){t.Optimized="optimized"})(Fw||(Fw={}));const qT=new Map;function Eee(t,e){let{dragging:n,dependencies:r,config:o}=e;const[s,i]=m.useState(null),{frequency:a,measure:l,strategy:u}=o,f=m.useRef(t),p=x(),g=ff(p),y=m.useCallback(function(C){C===void 0&&(C=[]),!g.current&&i(S=>S===null?C:S.concat(C.filter(k=>!S.includes(k))))},[g]),b=m.useRef(null),w=Zf(C=>{if(p&&!n)return qT;if(!C||C===qT||f.current!==t||s!=null){const S=new Map;for(let k of t){if(!k)continue;if(s&&s.length>0&&!s.includes(k.id)&&k.rect.current){S.set(k.id,k.rect.current);continue}const T=k.node.current,N=T?new fC(l(T),T):null;k.rect.current=N,N&&S.set(k.id,N)}return S}return C},[t,s,n,p,l]);return m.useEffect(()=>{f.current=t},[t]),m.useEffect(()=>{p||y()},[n,p]),m.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),m.useEffect(()=>{p||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},a))},[a,p,y,...r]),{droppableRects:w,measureDroppableContainers:y,measuringScheduled:s!=null};function x(){switch(u){case mf.Always:return!1;case mf.BeforeDragging:return n;default:return!n}}}function Sj(t,e){return Zf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Nee(t,e){return Sj(t,e)}function Tee(t){let{callback:e,disabled:n}=t;const r=uC(e),o=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return m.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function dy(t){let{callback:e,disabled:n}=t;const r=uC(e),o=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return m.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Ree(t){return new fC(Au(t),t)}function YT(t,e,n){e===void 0&&(e=Ree);const[r,o]=m.useState(null);function s(){o(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const f=e(t);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const i=Tee({callback(l){if(t)for(const u of l){const{type:f,target:p}=u;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),a=dy({callback:s});return Ms(()=>{s(),t?(a==null||a.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[t]),r}function Mee(t){const e=Sj(t);return mj(t,e)}const JT=[];function Aee(t){const e=m.useRef(t),n=Zf(r=>t?r&&r!==JT&&t&&e.current&&t.parentNode===e.current.parentNode?r:uy(t):JT,[t]);return m.useEffect(()=>{e.current=t},[t]),n}function _ee(t){const[e,n]=m.useState(null),r=m.useRef(t),o=m.useCallback(s=>{const i=D0(s.target);i&&n(a=>a?(a.set(i,jw(i)),new Map(a)):null)},[]);return m.useEffect(()=>{const s=r.current;if(t!==s){i(s);const a=t.map(l=>{const u=D0(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,jw(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{i(t),i(s)};function i(a){a.forEach(l=>{const u=D0(l);u==null||u.removeEventListener("scroll",o)})}},[o,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,i)=>Lc(s,i),es):bj(t):es,[t,e])}function XT(t,e){e===void 0&&(e=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},e),m.useEffect(()=>{const r=t!==es;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?hf(t,n.current):es}function Oee(t){m.useEffect(()=>{if(!cy)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function Pee(t,e){return m.useMemo(()=>t.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,e)},n},{}),[t,e])}function kj(t){return m.useMemo(()=>t?ree(t):null,[t])}const QT=[];function Iee(t,e){e===void 0&&(e=Au);const[n]=t,r=kj(n?Br(n):null),[o,s]=m.useState(QT);function i(){s(()=>t.length?t.map(l=>xj(l)?r:new fC(e(l),l)):QT)}const a=dy({callback:i});return Ms(()=>{a==null||a.disconnect(),i(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),o}function Dee(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Qf(e)?e:t}function jee(t){let{measure:e}=t;const[n,r]=m.useState(null),o=m.useCallback(u=>{for(const{target:f}of u)if(Qf(f)){r(p=>{const g=e(f);return p?{...p,width:g.width,height:g.height}:g});break}},[e]),s=dy({callback:o}),i=m.useCallback(u=>{const f=Dee(u);s==null||s.disconnect(),f&&(s==null||s.observe(f)),r(f?e(f):null)},[e,s]),[a,l]=Bm(i);return m.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Lee=[{sensor:mC,options:{}},{sensor:hC,options:{}}],Fee={current:{}},Xp={draggable:{measure:HT},droppable:{measure:HT,strategy:mf.WhileDragging,frequency:Fw.Optimized},dragOverlay:{measure:Au}};class Pd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const $ee={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Pd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xp,measureDroppableContainers:Wm,windowRect:null,measuringScheduled:!1},zee={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wm,draggableNodes:new Map,over:null,measureDroppableContainers:Wm},fy=m.createContext(zee),Ej=m.createContext($ee);function Bee(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Pd}}}function Wee(t,e){switch(e.type){case Nn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Nn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Nn.DragEnd:case Nn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Nn.RegisterDroppable:{const{element:n}=e,{id:r}=n,o=new Pd(t.droppable.containers);return o.set(r,n),{...t,droppable:{...t.droppable,containers:o}}}case Nn.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new Pd(t.droppable.containers);return i.set(n,{...s,disabled:o}),{...t,droppable:{...t.droppable,containers:i}}}case Nn.UnregisterDroppable:{const{id:n,key:r}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const s=new Pd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function Uee(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:o}=m.useContext(fy),s=Iw(r),i=Iw(n==null?void 0:n.id);return m.useEffect(()=>{if(!e&&!r&&s&&i!=null){if(!dC(s)||document.activeElement===s.target)return;const a=o.get(i);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[l.current,u.current]){if(!f)continue;const p=DZ(f);if(p){p.focus();break}}})}},[r,e,o,i,s]),null}function Hee(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((o,s)=>s({transform:o,...r}),n):n}function Vee(t){return m.useMemo(()=>({draggable:{...Xp.draggable,...t==null?void 0:t.draggable},droppable:{...Xp.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Xp.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function Gee(t){let{activeNode:e,measure:n,initialRect:r,config:o=!0}=t;const s=m.useRef(!1),{x:i,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Ms(()=>{if(!i&&!a||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const f=n(u),p=mj(f,r);if(i||(p.x=0),a||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=gj(u);g&&g.scrollBy({top:p.y,left:p.x})}},[e,i,a,r,n])}const Nj=m.createContext({...es,scaleX:1,scaleY:1});var zi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(zi||(zi={}));const Kee=m.memo(function(e){var n,r,o,s;let{id:i,accessibility:a,autoScroll:l=!0,children:u,sensors:f=Lee,collisionDetection:p=JZ,measuring:g,modifiers:y,...b}=e;const w=m.useReducer(Wee,void 0,Bee),[x,C]=w,[S,k]=BZ(),[T,N]=m.useState(zi.Uninitialized),A=T===zi.Initialized,{draggable:{active:_,nodes:M,translate:L},droppable:{containers:F}}=x,z=_!=null?M.get(_):null,U=m.useRef({initial:null,translated:null}),K=m.useMemo(()=>{var Vt;return _!=null?{id:_,data:(Vt=z==null?void 0:z.data)!=null?Vt:Fee,rect:U}:null},[_,z]),W=m.useRef(null),[te,J]=m.useState(null),[X,I]=m.useState(null),P=ff(b,Object.values(b)),B=eh("DndDescribedBy",i),G=m.useMemo(()=>F.getEnabled(),[F]),j=Vee(g),{droppableRects:Z,measureDroppableContainers:Q,measuringScheduled:ee}=Eee(G,{dragging:A,dependencies:[L.x,L.y],config:j.droppable}),ne=See(M,_),H=m.useMemo(()=>X?Dw(X):null,[X]),ue=js(),he=Nee(ne,j.draggable.measure);Gee({activeNode:_!=null?M.get(_):null,config:ue.layoutShiftCompensation,initialRect:he,measure:j.draggable.measure});const le=YT(ne,j.draggable.measure,he),Ne=YT(ne?ne.parentElement:null),Ae=m.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=F.getNodeFor((n=Ae.current.over)==null?void 0:n.id),De=jee({measure:j.dragOverlay.measure}),Ze=(r=De.nodeRef.current)!=null?r:ne,_e=A?(o=De.rect)!=null?o:le:null,it=!!(De.nodeRef.current&&De.rect),wt=Mee(it?null:le),It=kj(Ze?Br(Ze):null),Re=Aee(A?Je??ne:null),Ee=Iee(Re),Ue=Hee(y,{transform:{x:L.x-wt.x,y:L.y-wt.y,scaleX:1,scaleY:1},activatorEvent:X,active:K,activeNodeRect:le,containerNodeRect:Ne,draggingNodeRect:_e,over:Ae.current.over,overlayNodeRect:De.rect,scrollableAncestors:Re,scrollableAncestorRects:Ee,windowRect:It}),at=H?Lc(H,L):null,pe=_ee(Re),xe=XT(pe),ke=XT(pe,[le]),Ke=Lc(Ue,xe),lt=_e?ZZ(_e,Ue):null,rt=K&&lt?p({active:K,collisionRect:lt,droppableRects:Z,droppableContainers:G,pointerCoordinates:at}):null,Ht=pj(rt,"id"),[ae,Pe]=m.useState(null),Te=it?Ue:Lc(Ue,ke),je=XZ(Te,(s=ae==null?void 0:ae.rect)!=null?s:null,le),bt=m.useRef(null),Dt=m.useCallback((Vt,Ft)=>{let{sensor:Cn,options:He}=Ft;if(W.current==null)return;const et=M.get(W.current);if(!et)return;const ot=Vt.nativeEvent,$t=new Cn({active:W.current,activeNode:et,event:ot,options:He,context:Ae,onAbort(Rt){if(!M.get(Rt))return;const{onDragAbort:zt}=P.current,Jt={id:Rt};zt==null||zt(Jt),S({type:"onDragAbort",event:Jt})},onPending(Rt,en,zt,Jt){if(!M.get(Rt))return;const{onDragPending:me}=P.current,ge={id:Rt,constraint:en,initialCoordinates:zt,offset:Jt};me==null||me(ge),S({type:"onDragPending",event:ge})},onStart(Rt){const en=W.current;if(en==null)return;const zt=M.get(en);if(!zt)return;const{onDragStart:Jt}=P.current,Ls={activatorEvent:ot,active:{id:en,data:zt.data,rect:U}};Eo.unstable_batchedUpdates(()=>{Jt==null||Jt(Ls),N(zi.Initializing),C({type:Nn.DragStart,initialCoordinates:Rt,active:en}),S({type:"onDragStart",event:Ls}),J(bt.current),I(ot)})},onMove(Rt){C({type:Nn.DragMove,coordinates:Rt})},onEnd:ln(Nn.DragEnd),onCancel:ln(Nn.DragCancel)});bt.current=$t;function ln(Rt){return async function(){const{active:zt,collisions:Jt,over:Ls,scrollAdjustedTranslate:me}=Ae.current;let ge=null;if(zt&&me){const{cancelDrop:we}=P.current;ge={activatorEvent:ot,active:zt,collisions:Jt,delta:me,over:Ls},Rt===Nn.DragEnd&&typeof we=="function"&&await Promise.resolve(we(ge))&&(Rt=Nn.DragCancel)}W.current=null,Eo.unstable_batchedUpdates(()=>{C({type:Rt}),N(zi.Uninitialized),Pe(null),J(null),I(null),bt.current=null;const we=Rt===Nn.DragEnd?"onDragEnd":"onDragCancel";if(ge){const $e=P.current[we];$e==null||$e(ge),S({type:we,event:ge})}})}}},[M]),Po=m.useCallback((Vt,Ft)=>(Cn,He)=>{const et=Cn.nativeEvent,ot=M.get(He);if(W.current!==null||!ot||et.dndKit||et.defaultPrevented)return;const $t={active:ot};Vt(Cn,Ft.options,$t)===!0&&(et.dndKit={capturedBy:Ft.sensor},W.current=He,Dt(Cn,Ft))},[M,Dt]),ao=kee(f,Po);Oee(f),Ms(()=>{le&&T===zi.Initializing&&N(zi.Initialized)},[le,T]),m.useEffect(()=>{const{onDragMove:Vt}=P.current,{active:Ft,activatorEvent:Cn,collisions:He,over:et}=Ae.current;if(!Ft||!Cn)return;const ot={active:Ft,activatorEvent:Cn,collisions:He,delta:{x:Ke.x,y:Ke.y},over:et};Eo.unstable_batchedUpdates(()=>{Vt==null||Vt(ot),S({type:"onDragMove",event:ot})})},[Ke.x,Ke.y]),m.useEffect(()=>{const{active:Vt,activatorEvent:Ft,collisions:Cn,droppableContainers:He,scrollAdjustedTranslate:et}=Ae.current;if(!Vt||W.current==null||!Ft||!et)return;const{onDragOver:ot}=P.current,$t=He.get(Ht),ln=$t&&$t.rect.current?{id:$t.id,rect:$t.rect.current,data:$t.data,disabled:$t.disabled}:null,Rt={active:Vt,activatorEvent:Ft,collisions:Cn,delta:{x:et.x,y:et.y},over:ln};Eo.unstable_batchedUpdates(()=>{Pe(ln),ot==null||ot(Rt),S({type:"onDragOver",event:Rt})})},[Ht]),Ms(()=>{Ae.current={activatorEvent:X,active:K,activeNode:ne,collisionRect:lt,collisions:rt,droppableRects:Z,draggableNodes:M,draggingNode:Ze,draggingNodeRect:_e,droppableContainers:F,over:ae,scrollableAncestors:Re,scrollAdjustedTranslate:Ke},U.current={initial:_e,translated:lt}},[K,ne,rt,lt,M,Ze,_e,Z,F,ae,Re,Ke]),wee({...ue,delta:L,draggingRect:lt,pointerCoordinates:at,scrollableAncestors:Re,scrollableAncestorRects:Ee});const Ds=m.useMemo(()=>({active:K,activeNode:ne,activeNodeRect:le,activatorEvent:X,collisions:rt,containerNodeRect:Ne,dragOverlay:De,draggableNodes:M,droppableContainers:F,droppableRects:Z,over:ae,measureDroppableContainers:Q,scrollableAncestors:Re,scrollableAncestorRects:Ee,measuringConfiguration:j,measuringScheduled:ee,windowRect:It}),[K,ne,le,X,rt,Ne,De,M,F,Z,ae,Q,Re,Ee,j,ee,It]),bi=m.useMemo(()=>({activatorEvent:X,activators:ao,active:K,activeNodeRect:le,ariaDescribedById:{draggable:B},dispatch:C,draggableNodes:M,over:ae,measureDroppableContainers:Q}),[X,ao,K,le,C,B,M,ae,Q]);return se.createElement(dj.Provider,{value:k},se.createElement(fy.Provider,{value:bi},se.createElement(Ej.Provider,{value:Ds},se.createElement(Nj.Provider,{value:je},u)),se.createElement(Uee,{disabled:(a==null?void 0:a.restoreFocus)===!1})),se.createElement(HZ,{...a,hiddenTextDescribedById:B}));function js(){const Vt=(te==null?void 0:te.autoScrollEnabled)===!1,Ft=typeof l=="object"?l.enabled===!1:l===!1,Cn=A&&!Vt&&!Ft;return typeof l=="object"?{...l,enabled:Cn}:{enabled:Cn}}}),qee=m.createContext(null),ZT="button",Yee="Draggable";function Jee(t){let{id:e,data:n,disabled:r=!1,attributes:o}=t;const s=eh(Yee),{activators:i,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:f,draggableNodes:p,over:g}=m.useContext(fy),{role:y=ZT,roleDescription:b="draggable",tabIndex:w=0}=o??{},x=(l==null?void 0:l.id)===e,C=m.useContext(x?Nj:qee),[S,k]=Bm(),[T,N]=Bm(),A=Pee(i,e),_=ff(n);Ms(()=>(p.set(e,{id:e,key:s,node:S,activatorNode:T,data:_}),()=>{const L=p.get(e);L&&L.key===s&&p.delete(e)}),[p,e]);const M=m.useMemo(()=>({role:y,tabIndex:w,"aria-disabled":r,"aria-pressed":x&&y===ZT?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,y,w,x,b,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:M,isDragging:x,listeners:r?void 0:A,node:S,over:g,setNodeRef:k,setActivatorNodeRef:N,transform:C}}function Xee(){return m.useContext(Ej)}const Qee="Droppable",Zee={timeout:25};function ete(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:o}=t;const s=eh(Qee),{active:i,dispatch:a,over:l,measureDroppableContainers:u}=m.useContext(fy),f=m.useRef({disabled:n}),p=m.useRef(!1),g=m.useRef(null),y=m.useRef(null),{disabled:b,updateMeasurementsFor:w,timeout:x}={...Zee,...o},C=ff(w??r),S=m.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(C.current)?C.current:[C.current]),y.current=null},x)},[x]),k=dy({callback:S,disabled:b||!i}),T=m.useCallback((M,L)=>{k&&(L&&(k.unobserve(L),p.current=!1),M&&k.observe(M))},[k]),[N,A]=Bm(T),_=ff(e);return m.useEffect(()=>{!k||!N.current||(k.disconnect(),p.current=!1,k.observe(N.current))},[N,k]),m.useEffect(()=>(a({type:Nn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:N,rect:g,data:_}}),()=>a({type:Nn.UnregisterDroppable,key:s,id:r})),[r]),m.useEffect(()=>{n!==f.current.disabled&&(a({type:Nn.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,a]),{active:i,rect:g,isOver:(l==null?void 0:l.id)===r,node:N,over:l,setNodeRef:A}}function gC(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function tte(t,e){return t.reduce((n,r,o)=>{const s=e.get(r);return s&&(n[o]=s),n},Array(t.length))}function vp(t){return t!==null&&t>=0}function nte(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function rte(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Tj=t=>{let{rects:e,activeIndex:n,overIndex:r,index:o}=t;const s=gC(e,r,n),i=e[o],a=s[o];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},xp={scaleX:1,scaleY:1},ote=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:i}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(o===n){const u=s[i];return u?{x:0,y:n<i?u.top+u.height-(a.top+a.height):u.top-a.top,...xp}:null}const l=ste(s,o,n);return o>n&&o<=i?{x:0,y:-a.height-l,...xp}:o<n&&o>=i?{x:0,y:a.height+l,...xp}:{x:0,y:0,...xp}};function ste(t,e,n){const r=t[e],o=t[e-1],s=t[e+1];return r?n<e?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Rj="Sortable",Mj=se.createContext({activeIndex:-1,containerId:Rj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tj,disabled:{draggable:!1,droppable:!1}});function ite(t){let{children:e,id:n,items:r,strategy:o=Tj,disabled:s=!1}=t;const{active:i,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:f}=Xee(),p=eh(Rj,n),g=a.rect!==null,y=m.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),b=i!=null,w=i?y.indexOf(i.id):-1,x=u?y.indexOf(u.id):-1,C=m.useRef(y),S=!nte(y,C.current),k=x!==-1&&w===-1||S,T=rte(s);Ms(()=>{S&&b&&f(y)},[S,y,b,f]),m.useEffect(()=>{C.current=y},[y]);const N=m.useMemo(()=>({activeIndex:w,containerId:p,disabled:T,disableTransforms:k,items:y,overIndex:x,useDragOverlay:g,sortedRects:tte(y,l),strategy:o}),[w,p,T.draggable,T.droppable,k,y,x,l,g,o]);return se.createElement(Mj.Provider,{value:N},e)}const ate=t=>{let{id:e,items:n,activeIndex:r,overIndex:o}=t;return gC(n,r,o).indexOf(e)},lte=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:o,items:s,newIndex:i,previousItems:a,previousContainerId:l,transition:u}=t;return!u||!r||a!==s&&o===i?!1:n?!0:i!==o&&e===l},cte={duration:200,easing:"ease"},Aj="transform",ute=pf.Transition.toString({property:Aj,duration:0,easing:"linear"}),dte={roleDescription:"sortable"};function fte(t){let{disabled:e,index:n,node:r,rect:o}=t;const[s,i]=m.useState(null),a=m.useRef(n);return Ms(()=>{if(!e&&n!==a.current&&r.current){const l=o.current;if(l){const u=Au(r.current,{ignoreTransform:!0}),f={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(f.x||f.y)&&i(f)}}n!==a.current&&(a.current=n)},[e,n,r,o]),m.useEffect(()=>{s&&i(null)},[s]),s}function hte(t){let{animateLayoutChanges:e=lte,attributes:n,disabled:r,data:o,getNewIndex:s=ate,id:i,strategy:a,resizeObserverConfig:l,transition:u=cte}=t;const{items:f,containerId:p,activeIndex:g,disabled:y,disableTransforms:b,sortedRects:w,overIndex:x,useDragOverlay:C,strategy:S}=m.useContext(Mj),k=pte(r,y),T=f.indexOf(i),N=m.useMemo(()=>({sortable:{containerId:p,index:T,items:f},...o}),[p,o,T,f]),A=m.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:_,node:M,isOver:L,setNodeRef:F}=ete({id:i,data:N,disabled:k.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...l}}),{active:z,activatorEvent:U,activeNodeRect:K,attributes:W,setNodeRef:te,listeners:J,isDragging:X,over:I,setActivatorNodeRef:P,transform:B}=Jee({id:i,data:N,attributes:{...dte,...n},disabled:k.draggable}),G=_Z(F,te),j=!!z,Z=j&&!b&&vp(g)&&vp(x),Q=!C&&X,ee=Q&&Z?B:null,H=Z?ee??(a??S)({rects:w,activeNodeRect:K,activeIndex:g,overIndex:x,index:T}):null,ue=vp(g)&&vp(x)?s({id:i,items:f,activeIndex:g,overIndex:x}):T,he=z==null?void 0:z.id,le=m.useRef({activeId:he,items:f,newIndex:ue,containerId:p}),Ne=f!==le.current.items,Ae=e({active:z,containerId:p,isDragging:X,isSorting:j,id:i,index:T,items:f,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:u,wasDragging:le.current.activeId!=null}),Je=fte({disabled:!Ae,index:T,node:M,rect:_});return m.useEffect(()=>{j&&le.current.newIndex!==ue&&(le.current.newIndex=ue),p!==le.current.containerId&&(le.current.containerId=p),f!==le.current.items&&(le.current.items=f)},[j,ue,p,f]),m.useEffect(()=>{if(he===le.current.activeId)return;if(he!=null&&le.current.activeId==null){le.current.activeId=he;return}const Ze=setTimeout(()=>{le.current.activeId=he},50);return()=>clearTimeout(Ze)},[he]),{active:z,activeIndex:g,attributes:W,data:N,rect:_,index:T,newIndex:ue,items:f,isOver:L,isSorting:j,isDragging:X,listeners:J,node:M,overIndex:x,over:I,setNodeRef:G,setActivatorNodeRef:P,setDroppableNodeRef:F,setDraggableNodeRef:te,transform:Je??H,transition:De()};function De(){if(Je||Ne&&le.current.newIndex===T)return ute;if(!(Q&&!dC(U)||!u)&&(j||Ae))return pf.Transition.toString({...u,property:Aj})}}function pte(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Hm(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const mte=[kt.Down,kt.Right,kt.Up,kt.Left],gte=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:i,scrollableAncestors:a}}=e;if(mte.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const g=o.get(p.id);if(g)switch(t.code){case kt.Down:r.top<g.top&&l.push(p);break;case kt.Up:r.top>g.top&&l.push(p);break;case kt.Left:r.left>g.left&&l.push(p);break;case kt.Right:r.left<g.left&&l.push(p);break}});const u=qZ({collisionRect:r,droppableRects:o,droppableContainers:l});let f=pj(u,"id");if(f===(i==null?void 0:i.id)&&u.length>1&&(f=u[1].id),f!=null){const p=s.get(n.id),g=s.get(f),y=g?o.get(g.id):null,b=g==null?void 0:g.node.current;if(b&&y&&p&&g){const x=uy(b).some((A,_)=>a[_]!==A),C=_j(p,g),S=yte(p,g),k=x||!C?{x:0,y:0}:{x:S?r.width-y.width:0,y:S?r.height-y.height:0},T={x:y.left,y:y.top};return k.x&&k.y?T:hf(T,k)}}}};function _j(t,e){return!Hm(t)||!Hm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function yte(t,e){return!Hm(t)||!Hm(e)||!_j(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const vte=({item:t,editingItemId:e,editingItemText:n,setEditingItemText:r,toggleItemCompleted:o,startEditingItem:s,handleEditItem:i,removeItem:a})=>{const l=e===t.id,{attributes:u,listeners:f,setNodeRef:p,transform:g,transition:y,isDragging:b}=hte({id:t.id,disabled:l}),w={transform:pf.Transform.toString(g),transition:y,opacity:b?.5:1};return h.jsx("div",{ref:p,style:w,className:"flex items-center py-1 group","data-sortable-item":!0,children:l?h.jsxs("div",{className:"flex items-center gap-1 w-full",children:[h.jsx(sn,{value:n,onChange:x=>r(x.target.value),className:"h-8 flex-grow",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&i()}}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:i,className:"h-8 w-8 p-0",children:h.jsx(_o,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>r(""),className:"h-8 w-8 p-0",children:h.jsx(rs,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{...u,...f,className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing mr-2 p-1","data-sortable-handle":!0,children:h.jsx(E7,{className:"h-4 w-4 text-gray-400 dark:text-gray-300","data-lucide":"grip-vertical"})}),h.jsxs("div",{className:"flex items-center flex-grow cursor-pointer",onClick:()=>o(t.id),children:[h.jsx("div",{style:t.completed?{backgroundColor:"var(--list-color)",borderColor:"var(--list-color)"}:{},className:`w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 ${t.completed?"":"border-gray-300 hover:border-[var(--list-color)]"}`,children:t.completed&&h.jsx(_o,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:`${t.completed?"line-through text-gray-400 dark:text-gray-300":""}`,style:{fontFamily:'"Raleway", sans-serif'},children:t.text})]}),h.jsxs("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>s(t),className:"h-8 w-8 p-0",children:h.jsx(Ff,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>a(t.id),className:"h-8 w-8 p-0 text-red-600",children:h.jsx(Og,{className:"h-4 w-4"})})]})]})})},xte=({progress:t,totalItems:e,completedItems:n})=>h.jsxs("div",{className:"px-6 py-2",children:[h.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mb-1",children:h.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${t}%`,backgroundColor:"var(--list-color)"}})}),h.jsxs("div",{className:"text-xs text-gray-500 dark:text-white",style:{fontFamily:'"Raleway", sans-serif'},children:[n," of ",e," completed"]})]}),wte=t=>{const{newItemText:e,setNewItemText:n,handleAddItem:r,inputRef:o,currentInputSuggestion:s,currentSuggestion:i,handleAcceptSuggestion:a,handleGetSuggestion:l,aiEnabled:u,isLoadingSuggestions:f}=t,p=g=>{if(console.log("Key pressed:",g.key,{currentInputSuggestion:s}),g.key==="Enter")r();else if(g.key==="Escape")n("");else if(g.key==="Tab"&&s)g.preventDefault(),a(),console.log("Accepting suggestion with Tab");else if(g.key==="ArrowRight"&&s){const y=g.currentTarget;y.selectionStart===y.value.length&&(g.preventDefault(),a(),console.log("Accepting suggestion with ArrowRight"))}};return h.jsxs("div",{className:"flex flex-col p-2 border-t",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"relative flex-1 rounded-md border",children:[h.jsx(sn,{ref:o,value:e,onChange:g=>n(g.target.value),placeholder:"Add new item...",className:`h-8 border-0 focus-visible:ring-0 focus-visible:ring-offset-0 ${u?"pr-8":""}`,style:{fontFamily:'"Raleway", sans-serif'},onKeyDown:p}),u&&h.jsx("button",{type:"button",onClick:l,className:"absolute right-2 top-1/2 transform -translate-y-1/2 cursor-pointer",children:h.jsx(Zi,{size:14,style:{color:"var(--list-color)"},className:`${f?"animate-pulse":""}`})}),u&&s&&e&&s.toLowerCase().startsWith(e.toLowerCase())&&h.jsx("div",{className:"absolute left-0 top-0 right-8 bottom-0 flex items-center pointer-events-none z-10",children:h.jsxs("div",{className:"px-3 flex items-center w-full pr-2",children:[h.jsx("span",{className:"text-transparent",children:e}),h.jsx("span",{className:"text-gray-500 overflow-hidden text-ellipsis whitespace-nowrap font-medium",style:{pointerEvents:"none",fontFamily:'"Raleway", sans-serif',maxWidth:"calc(100% - 2rem)"},title:"Press Tab or Right Arrow to accept",children:s.substring(e.length)})]})})]}),h.jsx(Se,{size:"sm",variant:"secondary",onClick:r,className:"h-8 w-8 p-0",disabled:!e.trim(),children:h.jsx(Ko,{className:"h-4 w-4"})}),h.jsxs(Se,{size:"sm",variant:"ghost",onClick:()=>n(""),className:"h-8 w-8 p-0",children:[h.jsx("span",{className:"sr-only",children:"Clear"}),h.jsx("span",{"aria-hidden":"true",children:"×"})]})]}),u&&h.jsxs("button",{onClick:l,className:"mt-2 w-full flex items-center gap-1.5 px-2 py-1.5 text-sm text-foreground hover:bg-muted rounded-md transition-colors",style:{fontFamily:'"Raleway", sans-serif'},disabled:f,children:[h.jsx(Zi,{className:"w-4 h-4",style:{color:"var(--list-color)"}}),h.jsx("span",{className:"font-medium",children:"Suggest:"}),i&&h.jsx("span",{style:{color:"var(--list-color)"},className:"font-medium overflow-hidden text-ellipsis whitespace-nowrap",children:i})]})]})},yC=({list:t,onUpdate:e,onDelete:n,existingCategories:r,isCollapsed:o,onToggleCollapsed:s,addCategory:i,updateCategory:a})=>{var Ze;const{isCollapsibleOpen:l,isEditing:u,setIsEditing:f,editTitle:p,setEditTitle:g,handleEditTitle:y,handleDeleteList:b,handleSaveListColor:w,isSavingColor:x,isEditingCategory:C,setIsEditingCategory:S,showNewCategoryInput:k,setShowNewCategoryInput:T,newCategory:N,setNewCategory:A,handleEditCategory:_,handleAddCustomCategory:M,handleUpdateCategoryColor:L,newItemText:F,setNewItemText:z,editingItemId:U,editingItemText:K,setEditingItemText:W,handleAddItem:te,toggleItemCompleted:J,removeItem:X,startEditingItem:I,handleEditItem:P,isLoadingSuggestions:B,handleGetSuggestion:G,handleAcceptSuggestion:j,currentSuggestion:Z,currentInputSuggestion:Q,aiEnabled:ee,titleEditRef:ne,newItemInputRef:H}=JQ({list:t,onUpdate:e,onDelete:n,isCollapsed:o,onToggleCollapsed:s,existingCategories:r,addCategory:i,updateCategory:a}),ue=VZ(BT(mC),BT(hC,{coordinateGetter:gte})),he=_e=>{const{active:it,over:wt}=_e;if(wt&&it.id!==wt.id){const It=t.items.findIndex(at=>at.id===it.id),Re=t.items.findIndex(at=>at.id===wt.id),Ee=gC(t.items,It,Re),Ue={...t,items:Ee};e(Ue)}};m.useEffect(()=>{if(!u)return;const _e=it=>{ne.current&&!ne.current.contains(it.target)&&y()};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[u,y]);const le=t.items.length,Ne=t.items.filter(_e=>_e.completed).length,Ae=le>0?Ne/le*100:0,Je=(Ze=r.find(_e=>_e.name===t.type))==null?void 0:Ze.color_value,De=t.color_value||Je||"#808080";return h.jsx(rC,{open:l,onOpenChange:_e=>{s&&o!==void 0&&!o!==_e&&s()},className:"w-full",style:{"--list-color":De},children:h.jsxs(ny,{className:"w-full border shadow-sm",children:[h.jsx(QQ,{title:t.title,listColor:t.color_value,isEditing:u,editTitle:p,isCollapsibleOpen:l,setEditTitle:g,setIsEditing:f,handleEditTitle:y,handleDeleteList:b,titleEditRef:ne,onColorSave:w,isSavingColor:x}),h.jsx(AZ,{currentCategory:t.type,categoryColor:Je,itemColor:t.color_value,existingCategories:r,isEditingCategory:C,showNewCategoryInput:k,newCategory:N,setNewCategory:A,setIsEditingCategory:S,setShowNewCategoryInput:T,handleEditCategory:_,handleAddCustomCategory:M,handleUpdateCategoryColor:L}),h.jsx(sC,{children:h.jsxs(bD,{className:"p-0",children:[le>0&&h.jsx(xte,{progress:Ae,totalItems:le,completedItems:Ne}),h.jsxs("div",{className:"px-6 py-2 space-y-0.5",children:[h.jsx(Kee,{sensors:ue,collisionDetection:KZ,onDragEnd:he,children:h.jsx(ite,{items:t.items.map(_e=>_e.id),strategy:ote,children:t.items.map(_e=>h.jsx(vte,{item:_e,editingItemId:U,editingItemText:K,setEditingItemText:W,toggleItemCompleted:J,startEditingItem:I,handleEditItem:P,removeItem:X},_e.id))})}),t.items.length===0&&h.jsx("div",{className:"text-gray-400 dark:text-gray-300 text-sm py-2 italic",style:{fontFamily:'"Raleway", sans-serif'},children:"No items yet. Add one below or use AI suggestions."})]}),h.jsx(wte,{newItemText:F,setNewItemText:z,handleAddItem:te,inputRef:H,currentInputSuggestion:Q,currentSuggestion:Z,handleAcceptSuggestion:j,handleGetSuggestion:G,aiEnabled:ee,isLoadingSuggestions:B})]})})]})})},bte=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(""),[o,s]=m.useState(!1),[i,a]=m.useState("all"),[l,u]=m.useState(!0),{toast:f}=Oo(),{isAuthenticated:p,token:g}=is();m.useEffect(()=>{p&&y()},[p]);const y=async()=>{try{u(!0);const A=(await Zt.get("/api/lists",{headers:{Authorization:`Bearer ${g}`}})).data.map(_=>({id:_.id,title:_.title,type:_.category||"General",items:_.items||[],createdAt:new Date(_.createdAt),color_value:_.color_value||"#808080"}));e(A)}catch(N){console.error("Failed to fetch lists:",N),f({title:"Error fetching lists",description:"Could not retrieve your lists. Please try again later.",variant:"destructive"})}finally{u(!1)}},b=async(N,A)=>{try{const _=await Zt.post("/api/lists",{title:N,category:A,items:[]},{headers:{Authorization:`Bearer ${g}`}}),M={..._.data,type:_.data.category,items:_.data.items||[],createdAt:new Date(_.data.createdAt),color_value:_.data.color_value||"#808080"};e(L=>[M,...L]),s(!1),f({title:"List created!",description:`Your ${A} list "${N}" has been created.`})}catch(_){console.error("Failed to create list:",_),f({title:"Error creating list",description:"Could not create your list. Please try again.",variant:"destructive"})}},w=async N=>{try{await Zt.delete(`/api/lists/${N}`,{headers:{Authorization:`Bearer ${g}`}}),e(A=>A.filter(_=>_.id!==N)),f({title:"List deleted",description:"Your list has been removed."})}catch(A){console.error("Failed to delete list:",A),f({title:"Error deleting list",description:"Could not delete your list. Please try again.",variant:"destructive"})}},x=async N=>{try{const A={title:N.title,category:N.type,items:N.items,color_value:N.color_value};await Zt.put(`/api/lists/${N.id}`,A,{headers:{Authorization:`Bearer ${g}`}});const _=N.type,M=t.find(F=>F.id===N.id),L=M?M.type:void 0;e(F=>F.map(z=>z.id===N.id?{...N,color_value:N.color_value||"#808080"}:z))}catch(A){console.error("Failed to update list:",A),f({title:"Error updating list",description:"Could not update your list. Please try again.",variant:"destructive"})}},C=t.filter(N=>{const A=N.title.toLowerCase().includes(n.toLowerCase())||N.items.some(M=>M.text.toLowerCase().includes(n.toLowerCase())),_=i==="all"||N.type===i;return A&&_}),S=()=>{const N=new Set(t.map(A=>A.type||"General"));return["all",...Array.from(N).sort()]},k=()=>{const N=Array.from(new Set(t.map(A=>A.type).filter(A=>A&&A.toLowerCase()!=="general")));return N.length===0&&t.some(A=>A.type&&A.type.toLowerCase()==="general")?["General"]:N.length>0?N.sort():["General"]},T=()=>{const N={all:t.length};return t.forEach(A=>{N[A.type]=(N[A.type]||0)+1}),N};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/50",children:[h.jsx("div",{className:"bg-background border-b border-border sticky top-0 z-40",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Lists"}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),h.jsx(sn,{placeholder:"Search lists...",value:n,onChange:N=>r(N.target.value),className:"pl-10 w-48 h-9"})]})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs(Se,{onClick:()=>s(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:[h.jsx(Ko,{className:"h-4 w-4 mr-1"}),h.jsx("span",{className:"hidden sm:inline",children:"New List"}),h.jsx("span",{className:"sm:hidden",children:"New"})]})})]})}),h.jsx("div",{className:"sm:hidden pb-4",children:h.jsxs("div",{className:"relative",children:[h.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),h.jsx(sn,{placeholder:"Search lists...",value:n,onChange:N=>r(N.target.value),className:"pl-10"})]})})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:S().map(N=>{const A=T()[N]||0;return h.jsxs(Se,{variant:i===N?"default":"outline",size:"sm",onClick:()=>a(N),className:`capitalize ${i===N?"bg-blue-600 hover:bg-blue-700":""}`,children:[N," (",A,")"]},N)})}),l?h.jsx("div",{className:"text-center py-12",children:h.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[h.jsx("div",{className:"h-8 bg-slate-200 rounded w-32 mb-4"}),h.jsx("div",{className:"h-4 bg-slate-200 rounded w-64"})]})}):C.length===0?h.jsx("div",{className:"text-center py-12",children:t.length===0?h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Ko,{className:"h-8 w-8 text-blue-600"})}),h.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Create your first list"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Get organized with custom lists for any purpose - shopping, notes, tasks, and more."}),h.jsxs(Se,{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700",children:[h.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Create List"]})]})}):h.jsxs("div",{className:"text-muted-foreground",children:[h.jsx(ws,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"No lists match your search criteria."})]})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(N=>h.jsx(yC,{list:N,onUpdate:x,onDelete:w,existingCategories:k()},N.id))})]}),h.jsx(wD,{isOpen:o,onClose:()=>s(!1),onCreateList:b,existingCategories:k()})]})},Cte=()=>{const t=Aa();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),h.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Ste=()=>{const t=Su();return m.useEffect(()=>{(async()=>{var n,r,o;try{const s=new URLSearchParams(window.location.search),i=s.get("code"),a=s.get("error");if(console.log("AuthCallback received:",{hasCode:!!i,codeLength:i==null?void 0:i.length,error:a||"none",searchParams:window.location.search}),a){console.error("OAuth error:",a),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:a},window.location.origin),window.close()):t("/",{replace:!0});return}if(!i){console.error("No authorization code received"),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:"No authorization code received"},window.location.origin),window.close()):t("/",{replace:!0});return}const l=nf();console.log("Authorization code found, length:",i.length),console.log("Sending request to backend at:",`${l}/api/auth/google-login`);const u=await fetch(`${l}/api/auth/google-login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:i})});if(console.log("Backend response received, status:",u.status),!u.ok)throw new Error("Failed to authenticate with backend");const f=await u.json();console.log("User authenticated successfully:",((n=f.user)==null?void 0:n.email)||"unknown"),window.opener?(console.log("Window opener found, posting success message"),window.opener.postMessage({type:"GOOGLE_AUTH_SUCCESS",user:f.user,token:f.accessToken},window.location.origin),window.close()):(console.log("No opener window, navigating to home page"),t("/",{replace:!0}))}catch(s){console.error("Error during auth callback:",s),console.error("Response data:",(r=s.response)==null?void 0:r.data),console.error("Response status:",(o=s.response)==null?void 0:o.status),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:s instanceof Error?s.message:"Authentication failed"},window.location.origin),window.close()):t("/",{replace:!0})}})()},[t]),h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Completing authentication..."})]})})},kte=()=>{const{"*":t}=Dq(),{theme:e}=ss(),[n,r]=m.useState(""),[o,s]=m.useState(null),[i,a]=m.useState([]),[l,u]=m.useState(!0),[f,p]=m.useState(!1),[g,y]=m.useState(""),b=m.useRef(null),w=e==="dark"?"bg-slate-800":"bg-gray-50",x=e==="dark"?"bg-slate-700":"bg-white",C=e==="dark"?"text-slate-100":"text-gray-900",S=e==="dark"?"text-slate-400":"text-gray-500",k=e==="dark"?"border-slate-600":"border-gray-200",T=e==="dark"?"hover:bg-slate-600":"hover:bg-gray-100",N=e==="dark"?"bg-blue-900 text-blue-300":"bg-blue-200 text-blue-800",A=e==="dark"?"bg-slate-600 hover:bg-slate-500":"bg-gray-200 hover:bg-gray-300",_=e==="dark"?"shadow-slate-900/50":"shadow-md",M=z=>z.replace(/-/g," ").replace(/\b\w/g,U=>U.toUpperCase()),L=(z,U)=>{if(!U.trim())return z;const K=U.toLowerCase(),W=te=>{const J=[];for(const X of te){const I=M(X.name).toLowerCase().includes(K),P=X.path.toLowerCase().includes(K);if(X.children){const B=W(X.children);(I||P||B.length>0)&&J.push({...X,children:B.length>0?B:X.children})}else(I||P)&&J.push(X)}return J};return W(z)},F=(z,U=0)=>Array.isArray(z)?z.map(K=>h.jsxs("div",{style:{paddingLeft:`${U*16}px`},children:[h.jsxs(lY,{to:`/help/${K.path}`,className:`flex items-center px-3 py-2.5 rounded-lg text-sm transition-all duration-200 ${t===K.path||t===void 0&&K.path==="getting-started"?N+" shadow-sm":`${C} ${T}`}`,style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>p(!1),children:[K.type==="folder"?h.jsx(S7,{className:`h-4 w-4 mr-3 flex-shrink-0 ${t===K.path||t===void 0&&K.path==="getting-started"?e==="dark"?"text-blue-300":"text-blue-600":e==="dark"?"text-blue-400":"text-blue-500"}`}):h.jsx(C7,{className:`h-4 w-4 mr-3 flex-shrink-0 ${t===K.path||t===void 0&&K.path==="getting-started"?e==="dark"?"text-blue-300":"text-blue-600":e==="dark"?"text-blue-400":"text-blue-500"}`}),h.jsx("span",{className:"truncate font-medium",children:M(K.name)})]}),K.children&&h.jsx("div",{className:"mt-1 space-y-1",children:F(K.children,U+1)})]},K.path)):(console.warn("renderDocTree received non-array items:",z),[]);return m.useEffect(()=>{const z=async()=>{u(!0);try{s(null);const K=!t||t==="/"?"getting-started":t,W=await Pt.get(`/api/docs/content?path=${K}`);r(W.data.content)}catch(K){console.error("Error fetching documentation content:",K),s("Failed to load documentation content. Please try again later."),r("")}finally{u(!1)}},U=async()=>{try{const K=await Pt.get("/api/docs/structure"),W=Array.isArray(K.data)?K.data:[];a(W)}catch(K){console.error("Error fetching documentation structure:",K),a([])}};z(),U()},[t]),m.useEffect(()=>{const z=U=>{var K;if(U.key==="/"&&!U.ctrlKey&&!U.metaKey&&!U.altKey){const W=document.activeElement;if(W&&(W.tagName==="INPUT"||W.tagName==="TEXTAREA"))return;U.preventDefault(),(K=b.current)==null||K.focus()}};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[]),o?h.jsx("div",{className:`min-h-screen flex items-center justify-center ${w}`,style:{fontFamily:'"Raleway", sans-serif'},children:h.jsxs("div",{className:`max-w-md mx-auto p-8 text-center rounded-lg border ${k} ${x} ${_}`,children:[h.jsx("div",{className:`text-lg font-medium mb-2 ${e==="dark"?"text-red-400":"text-red-600"}`,children:"Documentation Error"}),h.jsx("div",{className:S,children:o})]})}):h.jsxs("div",{className:`flex min-h-screen ${w} ${C}`,style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx("div",{className:`w-80 ${x} overflow-y-auto fixed inset-y-0 left-0 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 z-30 border-r ${k} ${f?"translate-x-0":"-translate-x-full"}`,style:{fontFamily:'"Raleway", sans-serif'},children:h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:`text-xl font-bold mb-6 ${C}`,style:{fontFamily:'"Raleway", sans-serif'},children:"Documentation"}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),h.jsx("input",{ref:b,type:"text",value:g,onChange:z=>y(z.target.value),placeholder:"Search documentation... (Press / to focus)",className:`w-full pl-10 pr-4 py-2 rounded-lg border ${k} ${e==="dark"?"bg-slate-700 text-slate-100 placeholder-slate-400":"bg-gray-50 text-gray-900 placeholder-gray-500"} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`,style:{fontFamily:'"Raleway", sans-serif'}}),g&&h.jsx("button",{onClick:()=>y(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(rs,{className:"w-4 h-4"})})]}),g&&h.jsx("div",{className:`mt-2 text-xs ${S}`,style:{fontFamily:'"Raleway", sans-serif'},children:(()=>{const U=L(i,g).reduce((K,W)=>{const te=J=>J.reduce((X,I)=>X+1+(I.children?te(I.children):0),0);return K+te([W])},0);return U===0?"No results found":`${U} result${U===1?"":"s"} found`})()})]}),h.jsx("nav",{className:"space-y-1",children:l&&i.length===0?h.jsx("div",{className:`text-center py-4 ${S}`,style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx("div",{className:"text-sm",children:"Loading structure..."})}):(()=>{const z=L(i,g);return z.length===0&&g?h.jsxs("div",{className:`text-center py-4 ${S}`,style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsxs("div",{className:"text-sm",children:['No results found for "',g,'"']}),h.jsx("button",{onClick:()=>y(""),className:`text-xs mt-2 ${e==="dark"?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:"Clear search"})]}):F(z)})()})]})}),f&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>p(!1)}),h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"lg:hidden mb-6",children:h.jsxs("button",{onClick:()=>p(!0),className:`flex items-center px-4 py-3 rounded-lg ${A} ${C} transition-colors shadow-sm`,style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(_7,{className:"h-5 w-5 mr-3"}),h.jsx("span",{className:"text-sm font-medium",children:"Documentation Menu"})]})}),l&&!n?h.jsx("div",{className:`text-center py-12 ${S}`,style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx("div",{className:"text-lg",children:"Loading documentation..."})}):h.jsx("div",{className:`prose lg:prose-xl max-w-none ${e==="dark"?"prose-invert prose-headings:text-slate-100 prose-p:text-slate-300 prose-strong:text-slate-200 prose-code:text-slate-200 prose-pre:bg-slate-700 prose-blockquote:text-slate-300":"prose-headings:text-gray-900 prose-p:text-gray-700"}`,style:{fontFamily:'"Raleway", sans-serif',"--tw-prose-body":'"Raleway", sans-serif',"--tw-prose-headings":'"Raleway", sans-serif',"--tw-prose-lead":'"Raleway", sans-serif',"--tw-prose-links":'"Raleway", sans-serif',"--tw-prose-bold":'"Raleway", sans-serif',"--tw-prose-counters":'"Raleway", sans-serif',"--tw-prose-bullets":'"Raleway", sans-serif',"--tw-prose-hr":'"Raleway", sans-serif',"--tw-prose-quotes":'"Raleway", sans-serif',"--tw-prose-quote-borders":'"Raleway", sans-serif',"--tw-prose-captions":'"Raleway", sans-serif',"--tw-prose-kbd":'"Raleway", sans-serif',"--tw-prose-code":'"Raleway", sans-serif',"--tw-prose-pre-code":'"Raleway", sans-serif',"--tw-prose-th-borders":'"Raleway", sans-serif'},children:h.jsx("div",{className:"prose prose-lg max-w-none",children:h.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:n})})})]})})]})},Ete=({children:t})=>{const{currentUser:e,loading:n,isAuthenticated:r}=is();return console.log("ProtectedRoute evaluation:",{hasUser:!!e,loading:n,isAuthenticated:r,userData:e}),n?(console.log("Protected route loading state"),h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})):e?(console.log("Protected route rendering content"),t?h.jsx(h.Fragment,{children:t}):h.jsx(Jq,{})):(console.log("Protected route redirect - not authenticated"),h.jsx(bw,{to:"/home",replace:!0}))},Nte=({list:t,onUpdate:e,onDelete:n,existingCategories:r,canvasTransform:o,onPositionChange:s,isCollapsed:i,onToggleCollapsed:a,addCategory:l,updateCategory:u})=>{const f=m.useRef(null),[p,g]=m.useState(!1),[y,b]=m.useState(!1),[w,x]=m.useState({x:0,y:0}),[C,S]=m.useState({startX:0,startY:0,startWidth:0,startHeight:0});m.useEffect(()=>{f.current&&(f.current.style.left=`${t.position_x||0}px`,f.current.style.top=`${t.position_y||0}px`)},[t.position_x,t.position_y]);const k=_=>{var L;if(!_.target.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle')&&(_.preventDefault(),f.current)){const F=(L=f.current.parentElement)==null?void 0:L.getBoundingClientRect();if(F){const z=(_.clientX-F.left-o.x)/o.scale,U=(_.clientY-F.top-o.y)/o.scale,K=parseFloat(f.current.style.left)||0,W=parseFloat(f.current.style.top)||0;x({x:(z-K)*o.scale,y:(U-W)*o.scale}),g(!0)}}},T=_=>{var M;if(p&&f.current){const L=(M=f.current.parentElement)==null?void 0:M.getBoundingClientRect();if(!L)return;const F=(_.clientX-L.left-o.x)/o.scale,z=(_.clientY-L.top-o.y)/o.scale,U=F-w.x/o.scale,K=z-w.y/o.scale;f.current.style.left=`${U}px`,f.current.style.top=`${K}px`}if(y&&f.current){const F=(_.clientX-C.startX)/o.scale,z=Math.max(320,C.startWidth+F);f.current.style.width=`${z}px`}},N=()=>{if(p&&f.current){g(!1);const _=parseFloat(f.current.style.left)||0,M=parseFloat(f.current.style.top)||0,L={x:Math.round(_),y:Math.round(M)};s(t.id,L)}if(y&&f.current){b(!1);const _=parseFloat(f.current.style.left)||0,M=parseFloat(f.current.style.top)||0,L=parseFloat(f.current.style.width)||t.width||340;e({...t,position_x:Math.round(_),position_y:Math.round(M),width:Math.round(L)})}};m.useEffect(()=>((p||y)&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",N)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",N)}),[p,y,w,C]);const A=_=>{if(_.preventDefault(),_.stopPropagation(),f.current){const M=parseFloat(f.current.style.width)||t.width||340;S({startX:_.clientX,startY:_.clientY,startWidth:M,startHeight:0}),b(!0)}};return h.jsxs("div",{ref:f,onMouseDown:k,className:"draggable-list-card shadow-lg rounded-lg flex flex-col overflow-hidden border relative",style:{position:"absolute",width:`${t.width||340}px`,height:"auto",minHeight:"150px",zIndex:p||y?1e3:1,cursor:p?"grabbing":y?"ew-resize":"grab",transition:p||y?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:p||y?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:p||y?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[h.jsx(yC,{list:t,onUpdate:e,onDelete:n,existingCategories:r,isCollapsed:i,onToggleCollapsed:a,addCategory:l,updateCategory:u}),!i&&h.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-ew-resize",onMouseDown:A,style:{background:"linear-gradient(90deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6,zIndex:10}})]})},Oj=({position:t,onAddList:e,onAddNote:n,onAddWhiteboard:r,onClose:o,isFromButton:s=!1,absolutePosition:i})=>{const a=(l,u)=>{l.stopPropagation(),u()};return h.jsx("div",{className:`context-menu ${s?"dropdown-menu":""} bg-background border border-border rounded-md shadow-lg`,style:{position:s?"fixed":"absolute",top:s&&i?`${i.y}px`:`${t.y}px`,left:s&&i?`${i.x}px`:`${t.x}px`,transform:"translateX(-50%)",zIndex:2e3,padding:"0.5rem 0",minWidth:"180px",marginTop:s?"0":"10px"},onClick:l=>l.stopPropagation(),children:h.jsxs("div",{className:"menu-items",children:[h.jsxs("button",{className:"menu-item flex items-center px-4 py-3 cursor-pointer bg-transparent border-none w-full text-left font-light text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-foreground",onClick:l=>a(l,e),children:[h.jsx(_g,{className:"h-4 w-4 mr-3 text-muted-foreground"}),h.jsx("span",{children:"Add List"})]}),n&&h.jsxs("button",{className:"menu-item flex items-center px-4 py-3 cursor-pointer bg-transparent border-none w-full text-left font-light text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-foreground",onClick:l=>a(l,n),children:[h.jsx($f,{className:"h-4 w-4 mr-3 text-muted-foreground"}),h.jsx("span",{children:"Add Note"})]}),r&&h.jsxs("button",{className:"menu-item flex items-center px-4 py-3 cursor-pointer bg-transparent border-none w-full text-left font-light text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-foreground",onClick:l=>a(l,r),children:[h.jsx(yu,{className:"h-4 w-4 mr-3 text-muted-foreground"}),h.jsx("span",{children:"Add Whiteboard"})]})]})})},Yn=t=>t?{Authorization:`Bearer ${t}`}:{},Pj=async t=>(await Zt.get("/api/canvas/lists",{headers:Yn(t)})).data,Ij=async(t,e)=>{const n={...t,category:t.type||t.category||"General"};delete n.type;const r=await Zt.post("/api/lists",n,{headers:Yn(e)});return{...r.data,type:r.data.category}},Dj=async(t,e)=>{const n={...t,category:t.type||t.category};delete n.type;const r=await Zt.put(`/api/lists/${t.id}`,n,{headers:Yn(e)});return{...r.data,type:r.data.category}},jj=async(t,e)=>(await Zt.delete(`/api/lists/${t}`,{headers:Yn(e)})).data,Tte=async(t,e,n,r)=>(await Zt.put(`/api/lists/${t}/position`,{x:e,y:n},{headers:Yn(r)})).data,Rte=async t=>(await Zt.get("/api/notes",{headers:Yn(t)})).data,eR=async(t,e)=>(await Zt.post("/api/notes",t,{headers:Yn(e)})).data,Mte=async(t,e,n)=>(await Zt.put(`/api/notes/${t}`,e,{headers:Yn(n)})).data,Ate=async(t,e)=>(await Zt.delete(`/api/notes/${t}`,{headers:Yn(e)})).data,_te=async t=>(await Zt.get("/api/whiteboards",{headers:Yn(t)})).data,Ote=async(t,e)=>(await Zt.post("/api/whiteboards",t,{headers:Yn(e)})).data,Pte=async(t,e,n)=>(console.log("Sending whiteboard update to backend:",{whiteboardId:t,whiteboardData:e}),(await Zt.put(`/api/whiteboards/${t}`,e,{headers:Yn(n)})).data),Ite=async(t,e)=>(await Zt.delete(`/api/whiteboards/${t}`,{headers:Yn(e)})).data,Dte=async t=>(await Zt.get("/api/categories",{headers:Yn(t)})).data,jte=async(t,e)=>(await Zt.post("/api/categories",t,{headers:Yn(e)})).data,Lte=async(t,e,n)=>(await Zt.put(`/api/categories/${t}`,e,{headers:Yn(n)})).data,Fte=async(t,e)=>(await Zt.delete(`/api/categories/${t}`,{headers:Yn(e)})).data,Lj=({isOpen:t,onClose:e,onListCreated:n,existingCategories:r,position:o})=>{const{token:s}=is(),[i,a]=m.useState(""),[l,u]=m.useState(""),[f,p]=m.useState(""),[g,y]=m.useState(!1),[b,w]=m.useState("#3B82F6"),[x,C]=m.useState(!1),[S,k]=m.useState(""),T=async N=>{if(N.preventDefault(),!i.trim()){k("Please enter a title");return}const _=(g?f.trim():l)||"General";C(!0),k("");try{const M={title:i,type:_,color_value:b,items:[],...o&&{position_x:o.x,position_y:o.y}},L=await Ij(M,s);n(L),a(""),u(""),p(""),y(!1),w("#3B82F6"),e()}catch(M){console.error("Failed to create list:",M),k("Failed to create list. Please try again.")}finally{C(!1)}};return h.jsx(Xf,{open:t,onOpenChange:N=>!N&&e(),children:h.jsxs(ku,{className:"sm:max-w-[425px]",children:[h.jsx(Eu,{children:h.jsxs(Nu,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(_g,{className:"h-5 w-5 text-slate-500"}),"Add List"]})}),h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"title",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),h.jsx(sn,{id:"title",value:i,onChange:N=>a(N.target.value),placeholder:"Enter list title",autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[g?h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"newCategory",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(sn,{id:"newCategory",value:f,onChange:N=>p(N.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:N=>{N.key==="Enter"&&f.trim()&&(u(f.trim()),y(!1),k(""))}}),h.jsx(Se,{type:"button",variant:"outline",onClick:()=>{f.trim()&&(u(f.trim()),y(!1),k(""))},disabled:!f.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),h.jsx(Se,{type:"button",variant:"outline",onClick:()=>{y(!1),p("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"category",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),h.jsxs(Ia,{value:l,onValueChange:N=>{N==="__add_new__"?(y(!0),u("")):(u(N),k(""))},children:[h.jsx(xi,{children:h.jsx(Da,{placeholder:"Select a category"})}),h.jsxs(wi,{children:[!r.includes("General")&&h.jsx(yn,{value:"General",children:"General"}),r.map(N=>h.jsx(yn,{value:N,children:N},N)),h.jsx(yn,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),h.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:r.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),h.jsx(vi,{color:b,onChange:w,onSave:w,children:h.jsx(Se,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change list color",children:h.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:b}})})})]})]}),S&&h.jsx("p",{className:"text-red-500 text-sm",style:{fontFamily:'"Raleway", sans-serif'},children:S}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Se,{type:"button",variant:"outline",onClick:e,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),h.jsx(Se,{type:"submit",disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:x?"Creating...":"Create List"})]})]})]})})},$te=({size:t="md",className:e=""})=>{const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t];return h.jsx("div",{className:`${e}`,children:h.jsx("div",{className:`${r} animate-spin rounded-full border-2 border-t-transparent border-primary`})})},zte=({note:t,onUpdate:e,onDelete:n,isCollapsed:r,onToggleCollapsed:o,updateCategory:s,addCategory:i})=>{const{toast:a}=Oo(),[l,u]=m.useState(!0),f=r!==void 0?!r:l,p=o||u,[g,y]=m.useState(!1),[b,w]=m.useState(t.title||"Untitled Note"),[x,C]=m.useState(!1),[S,k]=m.useState(t.content||""),[T,N]=m.useState(!1),[A,_]=m.useState(!1),[M,L]=m.useState(!1),[F,z]=m.useState(""),U=m.useRef(null),K=m.useRef(null);se.useEffect(()=>{w(t.title||"Untitled Note")},[t.title]),se.useEffect(()=>{k(t.content||"")},[t.content]);const W=m.useCallback(async()=>{b.trim()!==t.title&&await e(t.id,{title:b.trim()}),y(!1)},[b,t.title,t.id,e]),te=m.useCallback(async()=>{S.trim()!==t.content&&await e(t.id,{content:S.trim(),updated_at:new Date().toISOString()}),C(!1)},[S,t.content,t.id,e]),J=m.useCallback(async()=>{await n(t.id)},[t.id,n]),X=m.useCallback(async B=>{N(!0);try{await e(t.id,{color_value:B})}catch(G){throw console.error("Failed to save note color:",G),a({title:"Error updating color",description:"Could not update note color. Please try again.",variant:"destructive"}),G}finally{N(!1)}},[t.id,e,a]),I=m.useCallback(async B=>{if(B==="__custom__"){L(!0);return}try{await e(t.id,{category:B}),_(!1),L(!1)}catch(G){console.error("Failed to update note category:",G),a({title:"Error updating category",description:"Could not update note category. Please try again.",variant:"destructive"})}},[t.id,e,a]),P=m.useCallback(async()=>{if(F.trim()!=="")try{await e(t.id,{category:F.trim()}),_(!1),L(!1),z("")}catch(B){console.error("Failed to add custom category:",B),a({title:"Error adding category",description:"Could not add custom category. Please try again.",variant:"destructive"})}else a({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},[F,t.id,e,a]);return{noteTitle:t.title||"Untitled Note",isCollapsibleOpen:f,setIsCollapsibleOpen:p,isEditing:g,setIsEditing:y,editTitle:b,setEditTitle:w,handleEditTitle:W,isEditingContent:x,setIsEditingContent:C,editContent:S,setEditContent:k,handleEditContent:te,handleDeleteNote:J,handleSaveNoteColor:X,isSavingColor:T,isEditingCategory:A,setIsEditingCategory:_,showNewCategoryInput:M,setShowNewCategoryInput:L,newCategory:F,setNewCategory:z,handleEditCategory:I,handleAddCustomCategory:P,titleEditRef:U,contentEditRef:K}};function Bn(t){this.content=t}Bn.prototype={constructor:Bn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),s=r.content.slice();return o==-1?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new Bn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Bn(n)},addToStart:function(t,e){return new Bn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Bn(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),s=r.find(t);return o.splice(s==-1?o.length:s,0,e,n),new Bn(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Bn.from(t),t.size?new Bn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Bn.from(t),t.size?new Bn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Bn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Bn.from=function(t){if(t instanceof Bn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Bn(e)};function Fj(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),s=e.child(r);if(o==s){n+=o.nodeSize;continue}if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let i=0;o.text[i]==s.text[i];i++)n++;return n}if(o.content.size||s.content.size){let i=Fj(o.content,s.content,n+1);if(i!=null)return i}n+=o.nodeSize}}function $j(t,e,n,r){for(let o=t.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:n,b:r};let i=t.child(--o),a=e.child(--s),l=i.nodeSize;if(i==a){n-=l,r-=l;continue}if(!i.sameMarkup(a))return{a:n,b:r};if(i.isText&&i.text!=a.text){let u=0,f=Math.min(i.text.length,a.text.length);for(;u<f&&i.text[i.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(i.content.size||a.content.size){let u=$j(i.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class ve{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,s){for(let i=0,a=0;a<n;i++){let l=this.content[i],u=a+l.nodeSize;if(u>e&&r(l,o+a,s||null,i)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,n-f),r,o+f)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let s="",i=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(i?i=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new ve(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let s=0,i=0;i<n;s++){let a=this.content[s],l=i+a.nodeSize;l>e&&((i<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-i),Math.min(a.text.length,n-i)):a=a.cut(Math.max(0,e-i-1),Math.min(a.content.size,n-i-1))),r.push(a),o+=a.nodeSize),i=l}return new ve(r,o)}cutByIndex(e,n){return e==n?ve.empty:e==0&&n==this.content.length?this:new ve(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new ve(o,s)}addToStart(e){return new ve([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ve(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return Fj(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return $j(this,e,n,r)}findIndex(e,n=-1){if(e==0)return wp(0,e);if(e==this.size)return wp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let s=this.child(r),i=o+s.nodeSize;if(i>=e)return i==e||n>0?wp(r+1,i):wp(r,o);o=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ve.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ve(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ve.empty;let n,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(n||(n=e.slice(0,o)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ve(n||e,r)}static from(e){if(!e)return ve.empty;if(e instanceof ve)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ve([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ve.empty=new ve([],0);const F0={index:0,offset:0};function wp(t,e){return F0.index=t,F0.offset=e,F0}function Vm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Vm(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Vm(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Lt=class $w{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Vm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $w.none;if(e instanceof $w)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Lt.none=[];class Gm extends Error{}class Oe{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Bj(this.content,e+this.openStart,n);return r&&new Oe(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Oe(zj(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Oe.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Oe(ve.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new Oe(e,r,o)}}Oe.empty=new Oe(ve.empty,0,0);function zj(t,e,n){let{index:r,offset:o}=t.findIndex(e),s=t.maybeChild(r),{index:i,offset:a}=t.findIndex(n);if(o==e||s.isText){if(a!=n&&!t.child(i).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(zj(s.content,e-o-1,n-o-1)))}function Bj(t,e,n,r){let{index:o,offset:s}=t.findIndex(e),i=t.maybeChild(o);if(s==e||i.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=Bj(i.content,e-s-1,n);return a&&t.replaceChild(o,i.copy(a))}function Bte(t,e,n){if(n.openStart>t.depth)throw new Gm("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Gm("Inconsistent open depths");return Wj(t,e,n,0)}function Wj(t,e,n,r){let o=t.index(r),s=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let i=Wj(t,e,n,r+1);return s.copy(s.content.replaceChild(o,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let i=t.parent,a=i.content;return ml(i,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:i,end:a}=Wte(n,t);return ml(s,Hj(t,i,a,e,r))}else return ml(s,Km(t,e,r))}function Uj(t,e){if(!e.type.compatibleContent(t.type))throw new Gm("Cannot join "+e.type.name+" onto "+t.type.name)}function zw(t,e,n){let r=t.node(n);return Uj(r,e.node(n)),r}function pl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Id(t,e,n,r){let o=(e||t).node(n),s=0,i=e?e.index(n):o.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(pl(t.nodeAfter,r),s++));for(let a=s;a<i;a++)pl(o.child(a),r);e&&e.depth==n&&e.textOffset&&pl(e.nodeBefore,r)}function ml(t,e){return t.type.checkContent(e),t.copy(e)}function Hj(t,e,n,r,o){let s=t.depth>o&&zw(t,e,o+1),i=r.depth>o&&zw(n,r,o+1),a=[];return Id(null,t,o,a),s&&i&&e.index(o)==n.index(o)?(Uj(s,i),pl(ml(s,Hj(t,e,n,r,o+1)),a)):(s&&pl(ml(s,Km(t,e,o+1)),a),Id(e,n,o,a),i&&pl(ml(i,Km(n,r,o+1)),a)),Id(r,null,o,a),new ve(a)}function Km(t,e,n){let r=[];if(Id(null,t,n,r),t.depth>n){let o=zw(t,e,n+1);pl(ml(o,Km(t,e,n+1)),r)}return Id(e,null,n,r),new ve(r)}function Wte(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)o=e.node(s).copy(ve.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class gf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Lt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let s=r.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!o||!s[i].isInSet(o.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new qm(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,s=n;for(let i=e;;){let{index:a,offset:l}=i.content.findIndex(s),u=s-l;if(r.push(i,a,o+l),!u||(i=i.child(a),i.isText))break;s=u-1,o+=l+1}return new gf(n,r,s)}static resolveCached(e,n){let r=tR.get(e);if(r)for(let s=0;s<r.elts.length;s++){let i=r.elts[s];if(i.pos==n)return i}else tR.set(e,r=new Ute);let o=r.elts[r.i]=gf.resolve(e,n);return r.i=(r.i+1)%Hte,o}}class Ute{constructor(){this.elts=[],this.i=0}}const Hte=12,tR=new WeakMap;class qm{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Vte=Object.create(null);let ha=class Bw{constructor(e,n,r,o=Lt.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||ve.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Vm(this.attrs,n||e.defaultAttrs||Vte)&&Lt.sameSet(this.marks,r||Lt.none)}copy(e=null){return e==this.content?this:new Bw(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Bw(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Oe.empty;let o=this.resolve(e),s=this.resolve(n),i=r?0:o.sharedDepth(n),a=o.start(i),u=o.node(i).content.cut(o.pos-a,s.pos-a);return new Oe(u,o.depth-i,s.depth-i)}replace(e,n,r){return Bte(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return gf.resolveCached(this,e)}resolveNoCache(e){return gf.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Vj(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ve.empty,o=0,s=r.childCount){let i=this.contentMatchAt(e).matchFragment(r,o,s),a=i&&i.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),i=s&&s.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Lt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Lt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=ve.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,o,r);return s.type.checkAttrs(s.attrs),s}};ha.prototype.text=void 0;class Ym extends ha{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Vj(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ym(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ym(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Vj(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class _l{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Gte(e,n);if(r.next==null)return _l.empty;let o=Gj(r);r.next&&r.err("Unexpected trailing text");let s=Zte(Qte(o));return ene(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let s=n;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function s(i,a){let l=i.matchFragment(e,r);if(l&&(!n||l.validEnd))return ve.from(a.map(u=>u.createAndFill()));for(let u=0;u<i.next.length;u++){let{type:f,next:p}=i.next[u];if(!(f.isText||f.hasRequiredAttrs())&&o.indexOf(p)==-1){o.push(p);let g=s(p,a.concat(f));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let i=[];for(let a=o;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:a,next:l}=s.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let i=0;i<r.next.length;i++)s+=(i?", ":"")+r.next[i].type.name+"->"+e.indexOf(r.next[i].next);return s}).join(`
`)}}_l.empty=new _l(!0);class Gte{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Gj(t){let e=[];do e.push(Kte(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Kte(t){let e=[];do e.push(qte(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function qte(t){let e=Xte(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Yte(t,e);else break;return e}function nR(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Yte(t,e){let n=nR(t),r=n;return t.eat(",")&&(t.next!="}"?r=nR(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Jte(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let s in n){let i=n[s];i.isInGroup(e)&&o.push(i)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function Xte(t){if(t.eat("(")){let e=Gj(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Jte(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Qte(t){let e=[[]];return o(s(t,0),n()),e;function n(){return e.push([])-1}function r(i,a,l){let u={term:l,to:a};return e[i].push(u),u}function o(i,a){i.forEach(l=>l.to=a)}function s(i,a){if(i.type=="choice")return i.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(i.type=="seq")for(let l=0;;l++){let u=s(i.exprs[l],a);if(l==i.exprs.length-1)return u;o(u,a=n())}else if(i.type=="star"){let l=n();return r(a,l),o(s(i.expr,l),l),[r(l)]}else if(i.type=="plus"){let l=n();return o(s(i.expr,a),l),o(s(i.expr,l),l),[r(l)]}else{if(i.type=="opt")return[r(a)].concat(s(i.expr,a));if(i.type=="range"){let l=a;for(let u=0;u<i.min;u++){let f=n();o(s(i.expr,l),f),l=f}if(i.max==-1)o(s(i.expr,l),l);else for(let u=i.min;u<i.max;u++){let f=n();r(l,f),o(s(i.expr,l),f),l=f}return[r(l)]}else{if(i.type=="name")return[r(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function Kj(t,e){return e-t}function rR(t,e){let n=[];return r(e),n.sort(Kj);function r(o){let s=t[o];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(o);for(let i=0;i<s.length;i++){let{term:a,to:l}=s[i];!a&&n.indexOf(l)==-1&&r(l)}}}function Zte(t){let e=Object.create(null);return n(rR(t,0));function n(r){let o=[];r.forEach(i=>{t[i].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let f=0;f<o.length;f++)o[f][0]==a&&(u=o[f][1]);rR(t,l).forEach(f=>{u||o.push([a,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let s=e[r.join(",")]=new _l(r.indexOf(t.length-1)>-1);for(let i=0;i<o.length;i++){let a=o[i][1].sort(Kj);s.next.push({type:o[i][0],next:e[a.join(",")]||n(a)})}return s}}function ene(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],s=!o.validEnd,i=[];for(let a=0;a<o.next.length;a++){let{type:l,next:u}=o.next[a];i.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function qj(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Yj(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let s=t[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Jj(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let s=t[o];s.validate&&s.validate(e[o])}}function Xj(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new nne(t,r,e[r]);return n}let oR=class Qj{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Xj(e,r.attrs),this.defaultAttrs=qj(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==_l.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Yj(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ha(this,this.computeAttrs(e),ve.from(n),Lt.setFrom(r))}createChecked(e=null,n,r){return n=ve.from(n),this.checkContent(n),new ha(this,this.computeAttrs(e),n,Lt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ve.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let o=this.contentMatch.matchFragment(n),s=o&&o.fillBefore(ve.empty,!0);return s?new ha(this,e,n.append(s),Lt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Jj(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Lt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,i)=>r[s]=new Qj(s,n,i));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function tne(t,e,n){let r=n.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class nne{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?tne(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class hy{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=Xj(e,o.attrs),this.excluded=null;let s=qj(this.attrs);this.instance=s?new Lt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Lt(this,Yj(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((s,i)=>r[s]=new hy(s,o++,n,i)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Jj(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Zj{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=Bn.from(e.nodes),n.marks=Bn.from(e.marks||{}),this.nodes=oR.compile(this.spec.nodes,this),this.marks=hy.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],i=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[i]||(r[i]=_l.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?sR(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:sR(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof oR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new Ym(r,r.defaultAttrs,e,Lt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ha.fromJSON(this,e)}markFromJSON(e){return Lt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function sR(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],s=t.marks[o],i=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function rne(t){return t.tag!=null}function one(t){return t.style!=null}class pa{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(rne(o))this.tags.push(o);else if(one(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new aR(this,n,!1);return r.addAll(e,Lt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new aR(this,n,!0);return r.addAll(e,Lt.none,n.from,n.to),Oe.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(ane(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(e);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(e,n,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let i=this.styles[s],a=i.style;if(!(a.indexOf(e)!=0||i.context&&!r.matchesContext(i.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(i.getAttrs){let l=i.getAttrs(n);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(e){let n=[];function r(o){let s=o.priority==null?50:o.priority,i=0;for(;i<n.length;i++){let a=n[i];if((a.priority==null?50:a.priority)<s)break}n.splice(i,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(i=>{r(i=lR(i)),i.mark||i.ignore||i.clearMark||(i.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(i=>{r(i=lR(i)),i.node||i.ignore||i.mark||(i.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new pa(e,pa.schemaRules(e)))}}const eL={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},sne={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tL={ol:!0,ul:!0},yf=1,Ww=2,Dd=4;function iR(t,e,n){return e!=null?(e?yf:0)|(e==="full"?Ww:0):t&&t.whitespace=="pre"?yf|Ww:n&~Dd}class bp{constructor(e,n,r,o,s,i){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=i,this.content=[],this.activeMarks=Lt.none,this.match=s||(i&Dd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ve.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&yf)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let n=ve.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ve.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eL.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class aR{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,s,i=iR(null,n.preserveWhitespace,0)|(r?Dd:0);o?s=new bp(o.type,o.attrs,Lt.none,!0,n.topMatch||o.type.contentMatch,i):r?s=new bp(null,null,Lt.none,!0,null,i):s=new bp(e.schema.topNodeType,null,Lt.none,!0,null,i),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,s=o.options&Ww?"full":this.localPreserveWS||(o.options&yf)>0;if(s==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=o.content[o.content.length-1],a=e.previousSibling;(!i||a&&a.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i=e.nodeName.toLowerCase(),a;tL.hasOwnProperty(i)&&this.parser.normalizeLists&&ine(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:sne.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,f=this.needsBlock;if(eL.hasOwnProperty(i))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=l&&l.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),u&&this.sync(s),this.needsBlock=f}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],i=r.getPropertyValue(s);if(i)for(let a=void 0;;){let l=this.parser.matchStyle(s,i,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let s,i;if(n.node)if(i=this.parser.schema.nodes[n.node],i.isLeaf)this.insertNode(i.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(i,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,o){let s=r||0;for(let i=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];i!=a;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i,n);this.findAtPoint(e,s)}findPlace(e,n,r){let o,s;for(let i=this.open,a=0;i>=0;i--){let l=this.nodes[i],u=l.findWrapping(e);if(u&&(!o||o.length>u.length+a)&&(o=u,s=l,!u.length))break;if(l.solid){if(r)break;a+=2}}if(!o)return null;this.sync(s);for(let i=0;i<o.length;i++)n=this.enterInner(o[i],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let o=this.findPlace(e,n,r);if(o){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Lt.none;for(let a of o.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):cR(a.type,e.type))&&(i=a.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,n,r,o){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,o)),s}enterInner(e,n,r,o=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=iR(e,s,i.options);i.options&Dd&&i.content.length==0&&(a|=Dd);let l=Lt.none;return r=r.filter(u=>(i.type?i.type.allowsMarkType(u.type):cR(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new bp(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=yf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),i=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(i(a-1,l))return!0;return!1}else{let f=l>0||l==0&&o?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;l--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function ine(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&tL.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function ane(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function lR(t){let e={};for(let n in t)e[n]=t[n];return e}function cR(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let s=[],i=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:f}=a.edge(l);if(u==e||s.indexOf(f)<0&&i(f))return!0}};if(i(o.contentMatch))return!0}}class zl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=$0(n).createDocumentFragment());let o=r,s=[];return e.forEach(i=>{if(s.length||i.marks.length){let a=0,l=0;for(;a<s.length&&l<i.marks.length;){let u=i.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)o=s.pop()[1];for(;l<i.marks.length;){let u=i.marks[l++],f=this.serializeMark(u,i.isInline,n);f&&(s.push([u,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(i,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=Qp($0(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&Qp($0(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return Qp(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=uR(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return uR(e.marks)}}function uR(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function $0(t){return t.document||window.document}const dR=new WeakMap;function lne(t){let e=dR.get(t);return e===void 0&&dR.set(t,e=cne(t)),e}function cne(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function Qp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=lne(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let a,l=n?t.createElementNS(n,o):t.createElement(o),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let p in u)if(u[p]!=null){let g=p.indexOf(" ");g>0?l.setAttributeNS(p.slice(0,g),p.slice(g+1),u[p]):l.setAttribute(p,u[p])}}for(let p=f;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:y,contentDOM:b}=Qp(t,g,n,r);if(l.appendChild(y),b){if(a)throw new RangeError("Multiple content holes");a=b}}}return{dom:l,contentDOM:a}}const nL=65535,rL=Math.pow(2,16);function une(t,e){return t+e*rL}function fR(t){return t&nL}function dne(t){return(t-(t&nL))/rL}const oL=1,sL=2,Zp=4,iL=8;class Uw{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&iL)>0}get deletedBefore(){return(this.delInfo&(oL|Zp))>0}get deletedAfter(){return(this.delInfo&(sL|Zp))>0}get deletedAcross(){return(this.delInfo&Zp)>0}}class Jr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Jr.empty)return Jr.empty}recover(e){let n=0,r=fR(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+dne(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let u=this.ranges[a+s],f=this.ranges[a+i],p=l+u;if(e<=p){let g=u?e==l?-1:e==p?1:n:n,y=l+o+(g<0?0:f);if(r)return y;let b=e==(n<0?l:p)?null:une(a/3,e-l),w=e==l?sL:e==p?oL:Zp;return(n<0?e!=l:e!=p)&&(w|=iL),new Uw(y,w,b)}o+=f-u}return r?e+o:new Uw(e+o,0,null)}touches(e,n){let r=0,o=fR(n),s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],f=l+u;if(e<=f&&a==o*3)return!0;r+=this.ranges[a+i]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let i=this.ranges[o],a=i-(this.inverted?s:0),l=i+(this.inverted?0:s),u=this.ranges[o+n],f=this.ranges[o+r];e(a,a+u,l,l+f),s+=f-u}}invert(){return new Jr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Jr.empty:new Jr(e<0?[0,-e,0]:[0,0,e])}}Jr.empty=new Jr([]);class vf{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new vf(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new vf;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let s=this.from;s<this.to;s++){let i=this._maps[s],a=i.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new Uw(e,o,null)}}const z0=Object.create(null);class ar{getMap(){return Jr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=z0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in z0)throw new RangeError("Duplicate use of step JSON ID "+e);return z0[e]=n,n.prototype.jsonID=e,n}}class bn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new bn(e,null)}static fail(e){return new bn(null,e)}static fromReplace(e,n,r,o){try{return bn.ok(e.replace(n,r,o))}catch(s){if(s instanceof Gm)return bn.fail(s.message);throw s}}}function vC(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let s=t.child(o);s.content.size&&(s=s.copy(vC(s.content,e,s))),s.isInline&&(s=e(s,n,o)),r.push(s)}return ve.fromArray(r)}class ta extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new Oe(vC(n.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),o),n.openStart,n.openEnd);return bn.fromReplace(e,this.from,this.to,s)}invert(){return new ks(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ta(n.pos,r.pos,this.mark)}merge(e){return e instanceof ta&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ta(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ta(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("addMark",ta);class ks extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Oe(vC(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return bn.fromReplace(e,this.from,this.to,r)}invert(){return new ta(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ks(n.pos,r.pos,this.mark)}merge(e){return e instanceof ks&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ks(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ks(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("removeMark",ks);class na extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return bn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return bn.fromReplace(e,this.pos,this.pos+1,new Oe(ve.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new na(this.pos,n.marks[o]);return new na(this.pos,this.mark)}}return new Ol(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new na(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new na(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("addNodeMark",na);class Ol extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return bn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return bn.fromReplace(e,this.pos,this.pos+1,new Oe(ve.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new na(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ol(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ol(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("removeNodeMark",Ol);class _n extends ar{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&Hw(e,this.from,this.to)?bn.fail("Structure replace would overwrite content"):bn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Jr([this.from,this.to-this.from,this.slice.size])}invert(e){return new _n(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new _n(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof _n)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Oe.empty:new Oe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new _n(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Oe.empty:new Oe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new _n(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _n(n.from,n.to,Oe.fromJSON(e,n.slice),!!n.structure)}}ar.jsonID("replace",_n);class Pn extends ar{constructor(e,n,r,o,s,i,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=i,this.structure=a}apply(e){if(this.structure&&(Hw(e,this.from,this.gapFrom)||Hw(e,this.gapTo,this.to)))return bn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return bn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?bn.fromReplace(e,this.from,this.to,r):bn.fail("Content does not fit in gap")}getMap(){return new Jr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Pn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||s>r.pos?null:new Pn(n.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Pn(n.from,n.to,n.gapFrom,n.gapTo,Oe.fromJSON(e,n.slice),n.insert,!!n.structure)}}ar.jsonID("replaceAround",Pn);function Hw(t,e,n){let r=t.resolve(e),o=n-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let i=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,o--}}return!1}function fne(t,e,n,r){let o=[],s=[],i,a;t.doc.nodesBetween(e,n,(l,u,f)=>{if(!l.isInline)return;let p=l.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let g=Math.max(u,e),y=Math.min(u+l.nodeSize,n),b=r.addToSet(p);for(let w=0;w<p.length;w++)p[w].isInSet(b)||(i&&i.to==g&&i.mark.eq(p[w])?i.to=y:o.push(i=new ks(g,y,p[w])));a&&a.to==g?a.to=y:s.push(a=new ta(g,y,r))}}),o.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function hne(t,e,n,r){let o=[],s=0;t.doc.nodesBetween(e,n,(i,a)=>{if(!i.isInline)return;s++;let l=null;if(r instanceof hy){let u=i.marks,f;for(;f=r.isInSet(u);)(l||(l=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(i.marks)&&(l=[r]):l=i.marks;if(l&&l.length){let u=Math.min(a+i.nodeSize,n);for(let f=0;f<l.length;f++){let p=l[f],g;for(let y=0;y<o.length;y++){let b=o[y];b.step==s-1&&p.eq(o[y].style)&&(g=b)}g?(g.to=u,g.step=s):o.push({style:p,from:Math.max(a,e),to:u,step:s})}}}),o.forEach(i=>t.step(new ks(i.from,i.to,i.style)))}function xC(t,e,n,r=n.contentMatch,o=!0){let s=t.doc.nodeAt(e),i=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),f=a+u.nodeSize,p=r.matchType(u.type);if(!p)i.push(new _n(a,f,Oe.empty));else{r=p;for(let g=0;g<u.marks.length;g++)n.allowsMarkType(u.marks[g].type)||t.step(new ks(a,f,u.marks[g]));if(o&&u.isText&&n.whitespace!="pre"){let g,y=/\r?\n|\r/g,b;for(;g=y.exec(u.text);)b||(b=new Oe(ve.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),i.push(new _n(a+g.index,a+g.index+g[0].length,b))}}a=f}if(!r.validEnd){let l=r.fillBefore(ve.empty,!0);t.replace(a,a,new Oe(l,0,0))}for(let l=i.length-1;l>=0;l--)t.step(i[l])}function pne(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function _u(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),s=t.$from.index(r),i=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(s,i,n))return r;if(r==0||o.type.spec.isolating||!pne(o,s,i))break}return null}function mne(t,e,n){let{$from:r,$to:o,depth:s}=e,i=r.before(s+1),a=o.after(s+1),l=i,u=a,f=ve.empty,p=0;for(let b=s,w=!1;b>n;b--)w||r.index(b)>0?(w=!0,f=ve.from(r.node(b).copy(f)),p++):l--;let g=ve.empty,y=0;for(let b=s,w=!1;b>n;b--)w||o.after(b+1)<o.end(b)?(w=!0,g=ve.from(o.node(b).copy(g)),y++):u++;t.step(new Pn(l,u,i,a,new Oe(f.append(g),p,y),f.size-p,!0))}function wC(t,e,n=null,r=t){let o=gne(t,e),s=o&&yne(r,e);return s?o.map(hR).concat({type:e,attrs:n}).concat(s.map(hR)):null}function hR(t){return{type:t,attrs:null}}function gne(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let i=s.length?s[0]:e;return n.canReplaceWith(r,o,i)?s:null}function yne(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.child(r),i=e.contentMatch.findWrapping(s.type);if(!i)return null;let l=(i.length?i[i.length-1]:e).contentMatch;for(let u=r;l&&u<o;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:i}function vne(t,e,n){let r=ve.empty;for(let i=n.length-1;i>=0;i--){if(r.size){let a=n[i].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ve.from(n[i].type.create(n[i].attrs,r))}let o=e.start,s=e.end;t.step(new Pn(o,s,o,s,new Oe(r,0,0),n.length,!0))}function xne(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(i,a)=>{let l=typeof o=="function"?o(i):o;if(i.isTextblock&&!i.hasMarkup(r,l)&&wne(t.doc,t.mapping.slice(s).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!b?u=!1:!y&&b&&(u=!0)}u===!1&&lL(t,i,a,s),xC(t,t.mapping.slice(s).map(a,1),r,void 0,u===null);let f=t.mapping.slice(s),p=f.map(a,1),g=f.map(a+i.nodeSize,1);return t.step(new Pn(p,g,p+1,g-1,new Oe(ve.from(r.create(l,null,i.marks)),0,0),1,!0)),u===!0&&aL(t,i,a,s),!1}})}function aL(t,e,n,r){e.forEach((o,s)=>{if(o.isText){let i,a=/\r?\n|\r/g;for(;i=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+s+i.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function lL(t,e,n,r){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let i=t.mapping.slice(r).map(n+1+s);t.replaceWith(i,i+1,e.type.schema.text(`
`))}})}function wne(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function bne(t,e,n,r,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let i=n.create(r,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,i);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Pn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Oe(ve.from(i),0,0),1,!0))}function ai(t,e,n=1,r){let o=t.resolve(e),s=o.depth-n,i=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,f=n-2;u>s;u--,f--){let p=o.node(u),g=o.index(u);if(p.type.spec.isolating)return!1;let y=p.content.cutByIndex(g,p.childCount),b=r&&r[f+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let w=r&&r[f]||p;if(!p.canReplace(g+1,p.childCount)||!w.type.validContent(y))return!1}let a=o.indexAfter(s),l=r&&r[0];return o.node(s).canReplaceWith(a,a,l?l.type:o.node(s+1).type)}function Cne(t,e,n=1,r){let o=t.doc.resolve(e),s=ve.empty,i=ve.empty;for(let a=o.depth,l=o.depth-n,u=n-1;a>l;a--,u--){s=ve.from(o.node(a).copy(s));let f=r&&r[u];i=ve.from(f?f.type.create(f.attrs,i):o.node(a).copy(i))}t.step(new _n(e,e,new Oe(s.append(i),n,n),!0))}function ja(t,e){let n=t.resolve(e),r=n.index();return cL(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Sne(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),i=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(i),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function cL(t,e){return!!(t&&e&&!t.isLeaf&&Sne(t,e))}function py(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let s,i,a=r.index(o);if(o==r.depth?(s=r.nodeBefore,i=r.nodeAfter):n>0?(s=r.node(o+1),a++,i=r.node(o).maybeChild(a)):(s=r.node(o).maybeChild(a-1),i=r.node(o+1)),s&&!s.isTextblock&&cL(s,i)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function kne(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,s=t.doc.resolve(e-n),i=s.node().type;if(o&&i.inlineContent){let f=i.whitespace=="pre",p=!!i.contentMatch.matchType(o);f&&!p?r=!1:!f&&p&&(r=!0)}let a=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);lL(t,f.node(),f.before(),a)}i.inlineContent&&xC(t,e+n-1,i,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),u=l.map(e-n);if(t.step(new _n(u,l.map(e+n,-1),Oe.empty,!0)),r===!0){let f=t.doc.resolve(u);aL(t,f.node(),f.before(),t.steps.length)}return t}function Ene(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,n))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,n))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function uL(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let s=0;s<n.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let i=r.depth;i>=0;i--){let a=i==r.depth?0:r.pos<=(r.start(i+1)+r.end(i+1))/2?-1:1,l=r.index(i)+(a>0?1:0),u=r.node(i),f=!1;if(s==1)f=u.canReplace(l,l,o);else{let p=u.contentMatchAt(l).findWrapping(o.firstChild.type);f=p&&u.canReplaceWith(l,l,p[0])}if(f)return a==0?r.pos:a<0?r.before(i+1):r.after(i+1)}return null}function my(t,e,n=e,r=Oe.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),s=t.resolve(n);return dL(o,s,r)?new _n(e,n,r):new Nne(o,s,r).fit()}function dL(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Nne{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ve.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ve.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,i=r.depth,a=o.depth;for(;i&&a&&s.childCount==1;)s=s.firstChild.content,i--,a--;let l=new Oe(s,i,a);return e>-1?new Pn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new _n(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=B0(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let i=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],f,p=null;if(n==1&&(i?u.matchType(i.type)||(p=u.fillBefore(ve.from(i),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:p};if(n==2&&i&&(f=u.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:f};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=B0(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Oe(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=B0(e,n);if(o.childCount<=1&&n>0){let s=e.size-n<=n+o.size;this.unplaced=new Oe(vd(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Oe(vd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let i=this.unplaced,a=r?r.content:i.content,l=i.openStart-e,u=0,f=[],{match:p,type:g}=this.frontier[n];if(o){for(let w=0;w<o.childCount;w++)f.push(o.child(w));p=p.matchFragment(o)}let y=a.size+e-(i.content.size-i.openEnd);for(;u<a.childCount;){let w=a.child(u),x=p.matchType(w.type);if(!x)break;u++,(u>1||l==0||w.content.size)&&(p=x,f.push(fL(w.mark(g.allowedMarks(w.marks)),u==1?l:0,u==a.childCount?y:-1)))}let b=u==a.childCount;b||(y=-1),this.placed=xd(this.placed,n,ve.from(f)),this.frontier[n].match=p,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,x=a;w<y;w++){let C=x.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),x=C.content}this.unplaced=b?e==0?Oe.empty:new Oe(vd(i.content,e-1,1),e-1,y<0?i.openEnd:e-1):new Oe(vd(i.content,e,u),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!W0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),i=W0(e,n,o,r,s);if(i){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],f=W0(e,a,u,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:i,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=xd(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=xd(this.placed,this.depth,ve.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ve.empty,!0);n.childCount&&(this.placed=xd(this.placed,this.frontier.length,n))}}function vd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(vd(t.firstChild.content,e-1,n)))}function xd(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(xd(t.lastChild.content,e-1,n)))}function B0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function fL(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,fL(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ve.empty,!0)))),t.copy(r)}function W0(t,e,n,r,o){let s=t.node(e),i=o?t.indexAfter(e):t.index(e);if(i==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,i);return a&&!Tne(n,s.content,i)?a:null}function Tne(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Rne(t){return t.spec.defining||t.spec.definingForContent}function Mne(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(dL(o,s,r))return t.step(new _n(e,n,r));let i=pL(o,t.doc.resolve(n));i[i.length-1]==0&&i.pop();let a=-(o.depth+1);i.unshift(a);for(let g=o.depth,y=o.pos-1;g>0;g--,y--){let b=o.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;i.indexOf(g)>-1?a=g:o.before(g)==y&&i.splice(1,0,-g)}let l=i.indexOf(a),u=[],f=r.openStart;for(let g=r.content,y=0;;y++){let b=g.firstChild;if(u.push(b),y==r.openStart)break;g=b.content}for(let g=f-1;g>=0;g--){let y=u[g],b=Rne(y.type);if(b&&!y.sameMarkup(o.node(Math.abs(a)-1)))f=g;else if(b||!y.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let y=(g+f+1)%(r.openStart+1),b=u[y];if(b)for(let w=0;w<i.length;w++){let x=i[(w+l)%i.length],C=!0;x<0&&(C=!1,x=-x);let S=o.node(x-1),k=o.index(x-1);if(S.canReplaceWith(k,k,b.type,b.marks))return t.replace(o.before(x),C?s.after(x):n,new Oe(hL(r.content,0,r.openStart,y),y,r.openEnd))}}let p=t.steps.length;for(let g=i.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>p));g--){let y=i[g];y<0||(e=o.before(y),n=s.after(y))}}function hL(t,e,n,r,o){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(hL(s.content,e+1,n,r,s)))}if(e>r){let s=o.contentMatchAt(0),i=s.fillBefore(t).append(t);t=i.append(s.matchFragment(i).fillBefore(ve.empty,!0))}return t}function Ane(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=Ene(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new Oe(ve.from(r),0,0))}function _ne(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),s=pL(r,o);for(let i=0;i<s.length;i++){let a=s[i],l=i==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(e-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i&&r.start(i-1)==o.start(i-1)&&r.node(i-1).canReplace(r.index(i-1),o.index(i-1)))return t.delete(r.before(i),n);t.delete(e,n)}function pL(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let s=t.start(o);if(s<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&n.push(o)}return n}class Fc extends ar{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return bn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return bn.fromReplace(e,this.pos,this.pos+1,new Oe(ve.from(o),0,n.isLeaf?0:1))}getMap(){return Jr.empty}invert(e){return new Fc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Fc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fc(n.pos,n.attr,n.value)}}ar.jsonID("attr",Fc);class xf extends ar{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return bn.ok(r)}getMap(){return Jr.empty}invert(e){return new xf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new xf(n.attr,n.value)}}ar.jsonID("docAttr",xf);let su=class extends Error{};su=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};su.prototype=Object.create(Error.prototype);su.prototype.constructor=su;su.prototype.name="TransformError";class One{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new su(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Oe.empty){let o=my(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new Oe(ve.from(r),0,0))}delete(e,n){return this.replace(e,n,Oe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Mne(this,e,n,r),this}replaceRangeWith(e,n,r){return Ane(this,e,n,r),this}deleteRange(e,n){return _ne(this,e,n),this}lift(e,n){return mne(this,e,n),this}join(e,n=1){return kne(this,e,n),this}wrap(e,n){return vne(this,e,n),this}setBlockType(e,n=e,r,o=null){return xne(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return bne(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new Fc(e,n,r)),this}setDocAttribute(e,n){return this.step(new xf(e,n)),this}addNodeMark(e,n){return this.step(new na(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Lt)n.isInSet(r.marks)&&this.step(new Ol(e,n));else{let o=r.marks,s,i=[];for(;s=n.isInSet(o);)i.push(new Ol(e,s)),o=s.removeFromSet(o);for(let a=i.length-1;a>=0;a--)this.step(i[a])}return this}split(e,n=1,r){return Cne(this,e,n,r),this}addMark(e,n,r){return fne(this,e,n,r),this}removeMark(e,n,r){return hne(this,e,n,r),this}clearIncompatible(e,n,r){return xC(this,e,n,r),this}}const U0=Object.create(null);class pt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Pne(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Oe.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let s=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:u}=i[a],f=e.mapping.slice(s);e.replaceRange(f.map(l.pos),f.map(u.pos),a?Oe.empty:n),a==0&&gR(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:i,$to:a}=o[s],l=e.mapping.slice(r),u=l.map(i.pos),f=l.map(a.pos);s?e.deleteRange(u,f):(e.replaceRangeWith(u,f,n),gR(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new tt(e):fc(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let i=n<0?fc(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):fc(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(i)return i}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new to(e.node(0))}static atStart(e){return fc(e,e,0,0,1)||new to(e)}static atEnd(e){return fc(e,e,e.content.size,e.childCount,-1)||new to(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=U0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in U0)throw new RangeError("Duplicate use of selection JSON ID "+e);return U0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return tt.between(this.$anchor,this.$head).getBookmark()}}pt.prototype.visible=!0;class Pne{constructor(e,n){this.$from=e,this.$to=n}}let pR=!1;function mR(t){!pR&&!t.parent.inlineContent&&(pR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class tt extends pt{constructor(e,n=e){mR(e),mR(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return pt.near(r);let o=e.resolve(n.map(this.anchor));return new tt(o.parent.inlineContent?o:r,r)}replace(e,n=Oe.empty){if(super.replace(e,n),n==Oe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof tt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new gy(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new tt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let s=pt.findFrom(n,r,!0)||pt.findFrom(n,-r,!0);if(s)n=s.$head;else return pt.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(pt.findFrom(e,-r,!0)||pt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new tt(e,n)}}pt.jsonID("text",tt);class gy{constructor(e,n){this.anchor=e,this.head=n}map(e){return new gy(e.map(this.anchor),e.map(this.head))}resolve(e){return tt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ge extends pt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),s=e.resolve(o);return r?pt.near(s):new Ge(s)}content(){return new Oe(ve.from(this.node),0,0)}eq(e){return e instanceof Ge&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bC(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ge(e.resolve(n.anchor))}static create(e,n){return new Ge(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ge.prototype.visible=!1;pt.jsonID("node",Ge);class bC{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new gy(r,r):new bC(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ge.isSelectable(r)?new Ge(n):pt.near(n)}}class to extends pt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Oe.empty){if(n==Oe.empty){e.delete(0,e.doc.content.size);let r=pt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new to(e)}map(e){return new to(e)}eq(e){return e instanceof to}getBookmark(){return Ine}}pt.jsonID("all",to);const Ine={map(){return this},resolve(t){return new to(t)}};function fc(t,e,n,r,o,s=!1){if(e.inlineContent)return tt.create(t,n);for(let i=r-(o>0?0:1);o>0?i<e.childCount:i>=0;i+=o){let a=e.child(i);if(a.isAtom){if(!s&&Ge.isSelectable(a))return Ge.create(t,n-(o<0?a.nodeSize:0))}else{let l=fc(t,a,n+o,o<0?a.childCount:0,o,s);if(l)return l}n+=a.nodeSize*o}return null}function gR(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof _n||o instanceof Pn))return;let s=t.mapping.maps[r],i;s.forEach((a,l,u,f)=>{i==null&&(i=f)}),t.setSelection(pt.near(t.doc.resolve(i),n))}const yR=1,Cp=2,vR=4;class Dne extends One{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|yR)&~Cp,this.storedMarks=null,this}get selectionSet(){return(this.updated&yR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Cp,this}ensureMarks(e){return Lt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Cp)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Cp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Lt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let i=this.doc.resolve(n);s=r==n?i.marks():i.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,s)),this.selection.empty||this.setSelection(pt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=vR,this}get scrolledIntoView(){return(this.updated&vR)>0}}function xR(t,e){return!e||!t?t:t.bind(e)}class wd{constructor(e,n,r){this.name=e,this.init=xR(n.init,r),this.apply=xR(n.apply,r)}}const jne=[new wd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new wd("selection",{init(t,e){return t.selection||pt.atStart(e.doc)},apply(t){return t.selection}}),new wd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new wd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class H0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=jne.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wd(r.key,r.spec.state,r))})}}class Nc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let l=o?o[i].n:0,u=o?o[i].state:this,f=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(f&&r.filterTransaction(f,i)){if(f.setMeta("appendedTransaction",e),!o){o=[];for(let p=0;p<this.config.plugins.length;p++)o.push(p<i?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}o&&(o[i]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Nc(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Dne(this)}static create(e){let n=new H0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Nc(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new H0(this.schema,e.plugins),r=n.fields,o=new Nc(n);for(let s=0;s<r.length;s++){let i=r[s].name;o[i]=this.hasOwnProperty(i)?this[i]:r[s].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new H0(e.schema,e.plugins),s=new Nc(o);return o.fields.forEach(i=>{if(i.name=="doc")s.doc=ha.fromJSON(e.schema,n.doc);else if(i.name=="selection")s.selection=pt.fromJSON(s.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==i.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[i.name]=u.fromJSON.call(l,e,n[a],s);return}}s[i.name]=i.init(e,s)}}),s}}function mL(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=mL(o,e,{})),n[r]=o}return n}class kr{constructor(e){this.spec=e,this.props={},e.props&&mL(e.props,this,this.props),this.key=e.key?e.key.key:gL("plugin")}getState(e){return e[this.key]}}const V0=Object.create(null);function gL(t){return t in V0?t+"$"+ ++V0[t]:(V0[t]=0,t+"$")}class ls{constructor(e="key"){this.key=gL(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Wn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},iu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Vw=null;const Zs=function(t,e,n){let r=Vw||(Vw=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Lne=function(){Vw=null},Pl=function(t,e,n,r){return n&&(wR(t,e,n,r,-1)||wR(t,e,n,r,1))},Fne=/^(img|br|input|textarea|hr)$/i;function wR(t,e,n,r,o){for(var s;;){if(t==n&&e==r)return!0;if(e==(o<0?0:So(t))){let i=t.parentNode;if(!i||i.nodeType!=1||th(t)||Fne.test(t.nodeName)||t.contentEditable=="false")return!1;e=Wn(t)+(o<0?0:1),t=i}else if(t.nodeType==1){let i=t.childNodes[e+(o<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((s=i.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=o;else return!1;else t=i,e=o<0?So(t):0}else return!1}}function So(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $ne(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=So(t)}else if(t.parentNode&&!th(t))e=Wn(t),t=t.parentNode;else return null}}function zne(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!th(t))e=Wn(t)+1,t=t.parentNode;else return null}}function Bne(t,e,n){for(let r=e==0,o=e==So(t);r||o;){if(t==n)return!0;let s=Wn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,o=o&&s==So(t)}}function th(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const yy=function(t){return t.focusNode&&Pl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Xa(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Wne(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Une(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(So(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(So(r.startContainer),r.startOffset)}}}const As=typeof navigator<"u"?navigator:null,bR=typeof document<"u"?document:null,La=As&&As.userAgent||"",Gw=/Edge\/(\d+)/.exec(La),yL=/MSIE \d/.exec(La),Kw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(La),Lr=!!(yL||Kw||Gw),ma=yL?document.documentMode:Kw?+Kw[1]:Gw?+Gw[1]:0,ts=!Lr&&/gecko\/(\d+)/i.test(La);ts&&+(/Firefox\/(\d+)/.exec(La)||[0,0])[1];const qw=!Lr&&/Chrome\/(\d+)/.exec(La),sr=!!qw,vL=qw?+qw[1]:0,vr=!Lr&&!!As&&/Apple Computer/.test(As.vendor),au=vr&&(/Mobile\/\w+/.test(La)||!!As&&As.maxTouchPoints>2),wo=au||(As?/Mac/.test(As.platform):!1),Hne=As?/Win/.test(As.platform):!1,si=/Android \d/.test(La),nh=!!bR&&"webkitFontSmoothing"in bR.documentElement.style,Vne=nh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Gne(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ys(t,e){return typeof t=="number"?t:t[e]}function Kne(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function CR(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let i=n||t.dom;i;){if(i.nodeType!=1){i=iu(i);continue}let a=i,l=a==s.body,u=l?Gne(s):Kne(a),f=0,p=0;if(e.top<u.top+Ys(r,"top")?p=-(u.top-e.top+Ys(o,"top")):e.bottom>u.bottom-Ys(r,"bottom")&&(p=e.bottom-e.top>u.bottom-u.top?e.top+Ys(o,"top")-u.top:e.bottom-u.bottom+Ys(o,"bottom")),e.left<u.left+Ys(r,"left")?f=-(u.left-e.left+Ys(o,"left")):e.right>u.right-Ys(r,"right")&&(f=e.right-u.right+Ys(o,"right")),f||p)if(l)s.defaultView.scrollBy(f,p);else{let y=a.scrollLeft,b=a.scrollTop;p&&(a.scrollTop+=p),f&&(a.scrollLeft+=f);let w=a.scrollLeft-y,x=a.scrollTop-b;e={left:e.left-w,top:e.top-x,right:e.right-w,bottom:e.bottom-x}}let g=l?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(g))break;i=g=="absolute"?i.offsetParent:iu(i)}}function qne(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,i=n+1;i<Math.min(innerHeight,e.bottom);i+=5){let a=t.root.elementFromPoint(s,i);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:xL(t.dom)}}function xL(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=iu(r));return e}function Yne({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;wL(n,r==0?0:r-e)}function wL(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:s}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let lc=null;function Jne(t){if(t.setActive)return t.setActive();if(lc)return t.focus(lc);let e=xL(t);t.focus(lc==null?{get preventScroll(){return lc={preventScroll:!0},!0}}:void 0),lc||(lc=!1,wL(e,0))}function bL(t,e){let n,r=2e8,o,s=0,i=e.top,a=e.top,l,u;for(let f=t.firstChild,p=0;f;f=f.nextSibling,p++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=Zs(f).getClientRects();else continue;for(let y=0;y<g.length;y++){let b=g[y];if(b.top<=i&&b.bottom>=a){i=Math.max(b.bottom,i),a=Math.min(b.top,a);let w=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(w<r){n=f,r=w,o=w&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&w&&(s=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!l&&b.left<=e.left&&b.right>=e.left&&(l=f,u={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=p+1)}}return!n&&l&&(n=l,o=u,r=0),n&&n.nodeType==3?Xne(n,o):!n||r&&n.nodeType==1?{node:t,offset:s}:bL(n,o)}function Xne(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let s=ji(r,1);if(s.top!=s.bottom&&CC(e,s))return{node:t,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function CC(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Qne(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Zne(t,e,n){let{node:r,offset:o}=bL(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let i=r.getBoundingClientRect();s=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return t.docView.posFromDOM(r,o,s)}function ere(t,e,n,r){let o=-1;for(let s=e,i=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!i&&l.left>r.left||l.top>r.top?o=a.posBefore:(!i&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),i=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function CL(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let i=t.childNodes[s];if(i.nodeType==1){let a=i.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(CC(e,u))return CL(i,e,u)}}if((s=(s+1)%r)==o)break}return t}function tre(t,e){let n=t.dom.ownerDocument,r,o=0,s=Une(n,e.left,e.top);s&&({node:r,offset:o}=s);let i=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!i||!t.dom.contains(i.nodeType!=1?i.parentNode:i)){let u=t.dom.getBoundingClientRect();if(!CC(e,u)||(i=CL(t.dom,e,u),!i))return null}if(vr)for(let u=i;r&&u;u=iu(u))u.draggable&&(r=void 0);if(i=Qne(i,e),r){if(ts&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let f=r.childNodes[o],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&o++}let u;nh&&o&&r.nodeType==1&&(u=r.childNodes[o-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=ere(t,r,o,e))}a==null&&(a=Zne(t,i,e));let l=t.docView.nearestDesc(i,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function SR(t){return t.top<t.bottom||t.left<t.right}function ji(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(SR(r))return r}return Array.prototype.find.call(n,SR)||t.getBoundingClientRect()}const nre=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SL(t,e,n){let{node:r,offset:o,atom:s}=t.docView.domFromPos(e,n<0?-1:1),i=nh||ts;if(r.nodeType==3)if(i&&(nre.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=ji(Zs(r,o,o),n);if(ts&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let u=ji(Zs(r,o-1,o-1),-1);if(u.top==l.top){let f=ji(Zs(r,o,o+1),-1);if(f.top!=l.top)return ld(f,f.left<u.left)}}return l}else{let l=o,u=o,f=n<0?1:-1;return n<0&&!o?(u++,f=-1):n>=0&&o==r.nodeValue.length?(l--,f=1):n<0?l--:u++,ld(ji(Zs(r,l,u),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(n<0||o==So(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return G0(l.getBoundingClientRect(),!1)}if(s==null&&o<So(r)){let l=r.childNodes[o];if(l.nodeType==1)return G0(l.getBoundingClientRect(),!0)}return G0(r.getBoundingClientRect(),n>=0)}if(s==null&&o&&(n<0||o==So(r))){let l=r.childNodes[o-1],u=l.nodeType==3?Zs(l,So(l)-(i?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return ld(ji(u,1),!1)}if(s==null&&o<So(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Zs(l,0,i?0:1):l.nodeType==1?l:null:null;if(u)return ld(ji(u,-1),!0)}return ld(ji(r.nodeType==3?Zs(r):r,-n),n>=0)}function ld(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function G0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function kL(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function rre(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return kL(t,e,()=>{let{node:s}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let i=SL(t,o.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Zs(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let f=l[u];if(f.bottom>f.top+1&&(n=="up"?i.top-f.top>(f.bottom-i.top)*2:f.bottom-i.bottom>(i.bottom-f.top)*2))return!1}}return!0})}const ore=/[\u0590-\u08ac]/;function sre(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,i=o==r.parent.content.size,a=t.domSelection();return a?!ore.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:i:kL(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:f,anchorOffset:p}=t.domSelectionRange(),g=a.caretBidiLevel;a.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:w}=t.domSelectionRange(),x=b&&!y.contains(b.nodeType==1?b:b.parentNode)||l==b&&u==w;try{a.collapse(f,p),l&&(l!=f||u!=p)&&a.extend&&a.extend(l,u)}catch{}return g!=null&&(a.caretBidiLevel=g),x}):r.pos==r.start()||r.pos==r.end()}let kR=null,ER=null,NR=!1;function ire(t,e,n){return kR==e&&ER==n?NR:(kR=e,ER=n,NR=n=="up"||n=="down"?rre(t,e,n):sre(t,e,n))}const Ro=0,TR=1,rl=2,_s=3;class rh{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Ro,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,i;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Wn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),i;if(s&&(!n||s.node))if(r&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)for(let i=0;i<o.children.length;i++){let a=o.children[i];if(a.size){o=a;break}}return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let i=this.children[r],a=s+i.size;if(a>e||i instanceof NL){o=e-s;break}s=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof EL&&s.side>=0;r--);if(n<=0){let s,i=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,i=!1);return s&&n&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Wn(s.dom)+1:0}}else{let s,i=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Wn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let i=r,a=0;;a++){let l=this.children[a],u=i+l.size;if(o==-1&&e<=u){let f=i+l.border;if(e>=f&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,f);e=i;for(let p=a;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){o=Wn(g.dom)+1;break}e-=g.size}o==-1&&(o=0)}if(o>-1&&(u>n||a==this.children.length-1)){n=u;for(let f=a+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Wn(p.dom);break}n+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=u}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let s=Math.min(e,n),i=Math.max(e,n);for(let y=0,b=0;y<this.children.length;y++){let w=this.children[y],x=b+w.size;if(s>b&&i<x)return w.setSelection(e-b-w.border,n-b-w.border,r,o);b=x}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),f=r.domSelectionRange(),p=!1;if((ts||vr)&&e==n){let{node:y,offset:b}=a;if(y.nodeType==3){if(p=!!(b&&y.nodeValue[b-1]==`
`),p&&b==y.nodeValue.length)for(let w=y,x;w;w=w.parentNode){if(x=w.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:Wn(x)+1});break}let C=w.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let w=y.childNodes[b-1];p=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(ts&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(o=!0)}if(!(o||p&&vr)&&Pl(a.node,a.offset,f.anchorNode,f.anchorOffset)&&Pl(l.node,l.offset,f.focusNode,f.focusOffset))return;let g=!1;if((u.extend||e==n)&&!p){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),g=!0}catch{}}if(!g){if(e>n){let b=a;a=l,l=b}let y=document.createRange();y.setEnd(l.node,l.offset),y.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],i=r+s.size;if(r==i?e<=i&&n>=r:e<i&&n>r){let a=r+s.border,l=i-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==i?rl:TR,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=_s:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?rl:_s}r=i}this.dirty=rl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?rl:TR;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class EL extends rh{constructor(e,n,r,o){let s,i=n.type.toDOM;if(typeof i=="function"&&(i=i(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ro&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class are extends rh{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Il extends rh{constructor(e,n,r,o,s){super(e,[],r,o),this.mark=n,this.spec=s}static create(e,n,r,o){let s=o.nodeViews[n.type.name],i=s&&s(n,o,r);return(!i||!i.dom)&&(i=zl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Il(e,n,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&_s||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=_s&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ro){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ro}}slice(e,n,r){let o=Il.create(this.parent,this.mark,!0,r),s=this.children,i=this.size;n<i&&(s=Jw(s,n,i,r)),e>0&&(s=Jw(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ga extends rh{constructor(e,n,r,o,s,i,a,l,u){super(e,[],s,i),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,s,i){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},r,o),f=u&&u.dom,p=u&&u.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=zl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let g=f;return f=ML(f,r,n),u?l=new lre(e,n,r,o,f,p||null,g,u,s,i+1):n.isText?new vy(e,n,r,o,f,g,s):new ga(e,n,r,o,f,p||null,g,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ve.empty)}return e}matchesNode(e,n,r){return this.dirty==Ro&&e.eq(this.node)&&Jm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,s=e.composing?this.localCompositionInfo(e,n):null,i=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new ure(this,i&&i.node,e);hre(this.node,this.innerDeco,(u,f,p)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!p&&l.syncToMarks(f==this.node.childCount?Lt.none:this.node.child(f).marks,r,e),l.placeWidget(u,e,o)},(u,f,p,g)=>{l.syncToMarks(u.marks,r,e);let y;l.findNodeMatch(u,f,p,g)||a&&e.state.selection.from>o&&e.state.selection.to<o+u.nodeSize&&(y=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,f,p,y,e)||l.updateNextNode(u,f,p,e,g,o)||l.addNode(u,f,p,e,o),o+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==rl)&&(i&&this.protectLocalComposition(e,i),TL(this.contentDOM,this.children,e),au&&pre(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof tt)||r<n||o>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let i=s.nodeValue,a=mre(this.node.content,i,r-n,o-n);return a<0?null:{node:s,pos:a,text:i}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new are(this,s,n,o);e.input.compositionNodes.push(i),this.children=Jw(this.children,r,r+o.length,e,i)}update(e,n,r,o){return this.dirty==_s||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Ro}updateOuterDeco(e){if(Jm(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=RL(this.dom,this.nodeDOM,Yw(this.outerDeco,this.node,n),Yw(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function RR(t,e,n,r,o){ML(r,e,t);let s=new ga(void 0,t,e,n,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class vy extends ga{constructor(e,n,r,o,s,i,a){super(e,n,r,o,s,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==_s||this.dirty!=Ro&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ro||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Ro,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),s=document.createTextNode(o.text);return new vy(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=_s)}get domAtom(){return!1}isText(e){return this.node.text==e}}class NL extends rh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ro&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class lre extends ga{constructor(e,n,r,o,s,i,a,l,u,f){super(e,n,r,o,s,i,a,u,f),this.spec=l}update(e,n,r,o){if(this.dirty==_s)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function TL(t,e,n){let r=t.firstChild,o=!1;for(let s=0;s<e.length;s++){let i=e[s],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=MR(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(i instanceof Il){let l=r?r.previousSibling:t.lastChild;TL(i.contentDOM,i.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=MR(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const jd=function(t){t&&(this.nodeName=t)};jd.prototype=Object.create(null);const ol=[new jd];function Yw(t,e,n){if(t.length==0)return ol;let r=n?ol[0]:new jd,o=[r];for(let s=0;s<t.length;s++){let i=t[s].type.attrs;if(i){i.nodeName&&o.push(r=new jd(i.nodeName));for(let a in i){let l=i[a];l!=null&&(n&&o.length==1&&o.push(r=new jd(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function RL(t,e,n,r){if(n==ol&&r==ol)return e;let o=e;for(let s=0;s<r.length;s++){let i=r[s],a=n[s];if(s){let l;a&&a.nodeName==i.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=ol[0]),o=l}cre(o,a||ol[0],i)}return o}function cre(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&t.classList.add(o[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function ML(t,e,n){return RL(t,t,ol,Yw(e,n,t.nodeType!=1))}function Jm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function MR(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ure{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=dre(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,s=this.stack.length>>1,i=Math.min(s,e.length);for(;o<i&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Ro,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Il.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,o){let s=-1,i;if(o>=this.preMatch.index&&(i=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&i.matchesNode(e,n,r))s=this.top.children.indexOf(i,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,o,s){let i=this.top.children[o];return i.dirty==_s&&i.dom==i.contentDOM&&(i.dirty=rl),i.update(e,n,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,s,i){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ga){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let f=l.dom,p,g=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=_s&&Jm(n,l.outerDeco));if(!g&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(l,e,n,r,o,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=rl,p.updateChildren(o,i+1),p.dirty=Ro),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,s,i){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Jm(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=ga.create(this.top,n,r,o,s,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,s){let i=ga.create(this.top,e,n,r,o,s);i.contentDOM&&i.updateChildren(o,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new EL(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Il;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof vy)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((vr||sr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new NL(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function dre(t,e){let n=e,r=n.children.length,o=t.childCount,s=new Map,i=[];e:for(;o>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof Il)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,s.set(a,o),i.push(a)}}return{index:o,matched:s,matches:i.reverse()}}function fre(t,e){return t.type.side-e.type.side}function hre(t,e,n,r){let o=e.locals(t),s=0;if(o.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);r(f,o,e.forChild(s,f),u),s+=f.nodeSize}return}let i=0,a=[],l=null;for(let u=0;;){let f,p;for(;i<o.length&&o[i].to==s;){let x=o[i++];x.widget&&(f?(p||(p=[f])).push(x):f=x)}if(f)if(p){p.sort(fre);for(let x=0;x<p.length;x++)n(p[x],u,!!l)}else n(f,u,!!l);let g,y;if(l)y=-1,g=l,l=null;else if(u<t.childCount)y=u,g=t.child(u++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;i<o.length&&o[i].from<=s&&o[i].to>s;)a.push(o[i++]);let b=s+g.nodeSize;if(g.isText){let x=b;i<o.length&&o[i].from<x&&(x=o[i].from);for(let C=0;C<a.length;C++)a[C].to<x&&(x=a[C].to);x<b&&(l=g.cut(x-s),g=g.cut(0,x-s),b=x,y=-1)}else for(;i<o.length&&o[i].to<b;)i++;let w=g.isInline&&!g.isLeaf?a.filter(x=>!x.inline):a.slice();r(g,w,e.forChild(s,g),y),s=b}}function pre(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function mre(t,e,n,r){for(let o=0,s=0;o<t.childCount&&s<=r;){let i=t.child(o++),a=s;if(s+=i.nodeSize,!i.isText)continue;let l=i.text;for(;o<t.childCount;){let u=t.child(o++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Jw(t,e,n,r,o){let s=[];for(let i=0,a=0;i<t.length;i++){let l=t[i],u=a,f=a+=l.size;u>=n||f<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),o&&(s.push(o),o=void 0),f>n&&s.push(l.slice(n-u,l.size,r)))}return s}function SC(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&o.size==0,i=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=r.resolve(i),l,u;if(yy(n)){for(l=i;o&&!o.node;)o=o.parent;let p=o.node;if(o&&p.isAtom&&Ge.isSelectable(p)&&o.parent&&!(p.isInline&&Bne(n.focusNode,n.focusOffset,o.dom))){let g=o.posBefore;u=new Ge(i==g?a:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=i,g=i;for(let y=0;y<n.rangeCount;y++){let b=n.getRangeAt(y);p=Math.min(p,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[l,i]=g==t.state.selection.anchor?[g,p]:[p,g],a=r.resolve(i)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let f=r.resolve(l);if(!u){let p=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=kC(t,f,a,p)}return u}function AL(t){return t.editable?t.hasFocus():OL(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function li(t,e=!1){let n=t.state.selection;if(_L(t,n),!!AL(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&sr){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Pl(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)yre(t);else{let{anchor:r,head:o}=n,s,i;AR&&!(n instanceof tt)&&(n.$from.parent.inlineContent||(s=_R(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=_R(t,n.to))),t.docView.setSelection(r,o,t,e),AR&&(s&&OR(s),i&&OR(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&gre(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const AR=vr||sr&&vL<63;function _R(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(vr&&o&&o.contentEditable=="false")return K0(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return K0(o);if(s)return K0(s)}}function K0(t){return t.contentEditable="true",vr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function OR(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function gre(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!AL(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function yre(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,Wn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&Lr&&ma<=11&&(r.disabled=!0,r.disabled=!1)}function _L(t,e){if(e instanceof Ge){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(PR(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else PR(t)}function PR(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function kC(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||tt.between(e,n,r)}function IR(t){return t.editable&&!t.hasFocus()?!1:OL(t)}function OL(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function vre(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Pl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Xw(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&pt.findFrom(s,e)}function Bi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function DR(t,e,n){let r=t.state.selection;if(r instanceof tt)if(n.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=t.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return Bi(t,new tt(r.$anchor,i))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=Xw(t.state,e);return o&&o instanceof Ge?Bi(t,o):!1}else if(!(wo&&n.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,i;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(i=t.docView.descAt(a))&&!i.contentDOM?Ge.isSelectable(s)?Bi(t,new Ge(e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):nh?Bi(t,new tt(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ge&&r.node.isInline)return Bi(t,new tt(e>0?r.$to:r.$from));{let o=Xw(t.state,e);return o?Bi(t,o):!1}}}function Xm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ld(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function cc(t,e){return e<0?xre(t):wre(t)}function xre(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,s,i=!1;for(ts&&n.nodeType==1&&r<Xm(n)&&Ld(n.childNodes[r],-1)&&(i=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Ld(a,-1))o=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(PL(n))break;{let a=n.previousSibling;for(;a&&Ld(a,-1);)o=n.parentNode,s=Wn(a),a=a.previousSibling;if(a)n=a,r=Xm(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}i?Qw(t,n,r):o&&Qw(t,o,s)}function wre(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=Xm(n),s,i;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Ld(a,1))s=n,i=++r;else break}else{if(PL(n))break;{let a=n.nextSibling;for(;a&&Ld(a,1);)s=a.parentNode,i=Wn(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=Xm(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}s&&Qw(t,s,i)}function PL(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function bre(t,e){for(;t&&e==t.childNodes.length&&!th(t);)e=Wn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Cre(t,e){for(;t&&!e&&!th(t);)e=Wn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Qw(t,e,n){if(e.nodeType!=3){let s,i;(i=bre(e,n))?(e=i,n=0):(s=Cre(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(yy(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&li(t)},50)}function jR(t,e){let n=t.state.doc.resolve(e);if(!(sr||Hne)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function LR(t,e,n){let r=t.state.selection;if(r instanceof tt&&!r.empty||n.indexOf("s")>-1||wo&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let i=Xw(t.state,e);if(i&&i instanceof Ge)return Bi(t,i)}if(!o.parent.inlineContent){let i=e<0?o:s,a=r instanceof to?pt.near(i,e):pt.findFrom(i,e);return a?Bi(t,a):!1}return!1}function FR(t,e){if(!(t.state.selection instanceof tt))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let i=t.state.tr;return e<0?i.delete(n.pos-s.nodeSize,n.pos):i.delete(n.pos,n.pos+s.nodeSize),t.dispatch(i),!0}return!1}function $R(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Sre(t){if(!vr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;$R(t,r,"true"),setTimeout(()=>$R(t,r,"false"),20)}return!1}function kre(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Ere(t,e){let n=e.keyCode,r=kre(e);if(n==8||wo&&n==72&&r=="c")return FR(t,-1)||cc(t,-1);if(n==46&&!e.shiftKey||wo&&n==68&&r=="c")return FR(t,1)||cc(t,1);if(n==13||n==27)return!0;if(n==37||wo&&n==66&&r=="c"){let o=n==37?jR(t,t.state.selection.from)=="ltr"?-1:1:-1;return DR(t,o,r)||cc(t,o)}else if(n==39||wo&&n==70&&r=="c"){let o=n==39?jR(t,t.state.selection.from)=="ltr"?1:-1:1;return DR(t,o,r)||cc(t,o)}else{if(n==38||wo&&n==80&&r=="c")return LR(t,-1,r)||cc(t,-1);if(n==40||wo&&n==78&&r=="c")return Sre(t)||LR(t,1,r)||cc(t,1);if(r==(wo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function EC(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let i=t.someProp("clipboardSerializer")||zl.fromSchema(t.state.schema),a=$L(),l=a.createElement("div");l.appendChild(i.serializeFragment(r,{document:a}));let u=l.firstChild,f,p=0;for(;u&&u.nodeType==1&&(f=FL[u.nodeName.toLowerCase()]);){for(let y=f.length-1;y>=0;y--){let b=a.createElement(f[y]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),p++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${s}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:g,slice:e}}function IL(t,e,n,r,o){let s=o.parent.type.spec.code,i,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",g=>{e=g(e,s||r,t)}),s)return e?new Oe(ve.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Oe.empty;let p=t.someProp("clipboardTextParser",g=>g(e,o,r,t));if(p)a=p;else{let g=o.marks(),{schema:y}=t.state,b=zl.fromSchema(y);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let x=i.appendChild(document.createElement("p"));w&&x.appendChild(b.serializeNode(y.text(w,g)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),i=Mre(n),nh&&Are(i);let u=i&&i.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let g=i.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;i=g}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||pa.fromSchema(t.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||f),context:o,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!Nre.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)a=_re(zR(a,+f[1],+f[2]),f[4]);else if(a=Oe.maxOpen(Tre(a.content,o),!0),a.openStart||a.openEnd){let p=0,g=0;for(let y=a.content.firstChild;p<a.openStart&&!y.type.spec.isolating;p++,y=y.firstChild);for(let y=a.content.lastChild;g<a.openEnd&&!y.type.spec.isolating;g++,y=y.lastChild);a=zR(a,p,g)}return t.someProp("transformPasted",p=>{a=p(a,t)}),a}const Nre=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Tre(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),s,i=[];if(t.forEach(a=>{if(!i)return;let l=o.findWrapping(a.type),u;if(!l)return i=null;if(u=i.length&&s.length&&jL(l,s,a,i[i.length-1],0))i[i.length-1]=u;else{i.length&&(i[i.length-1]=LL(i[i.length-1],s.length));let f=DL(a,l);i.push(f),o=o.matchType(f.type),s=l}}),i)return ve.from(i)}return t}function DL(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ve.from(t));return t}function jL(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=jL(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(ve.from(DL(n,t,o+1))))}}function LL(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,LL(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ve.empty,!0);return t.copy(n.append(r))}function Zw(t,e,n,r,o,s){let i=e<0?t.firstChild:t.lastChild,a=i.content;return t.childCount>1&&(s=0),o<r-1&&(a=Zw(a,e,n,r,o+1,s)),o>=n&&(a=e<0?i.contentMatchAt(0).fillBefore(a,s<=o).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(ve.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,i.copy(a))}function zR(t,e,n){return e<t.openStart&&(t=new Oe(Zw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Oe(Zw(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const FL={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let BR=null;function $L(){return BR||(BR=document.implementation.createHTMLDocument("title"))}let q0=null;function Rre(t){let e=window.trustedTypes;return e?(q0||(q0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),q0.createHTML(t)):t}function Mre(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=$L().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&FL[r[1].toLowerCase()])&&(t=o.map(s=>"<"+s+">").join("")+t+o.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=Rre(t),o)for(let s=0;s<o.length;s++)n=n.querySelector(o[s])||n;return n}function Are(t){let e=t.querySelectorAll(sr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function _re(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:s,openEnd:i}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=ve.from(l.create(r[a+1],o)),s++,i++}return new Oe(o,s,i)}const xr={},wr={},Ore={touchstart:!0,touchmove:!0};class Pre{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ire(t){for(let e in xr){let n=xr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{jre(t,r)&&!NC(t,r)&&(t.editable||!(r.type in wr))&&n(t,r)},Ore[e]?{passive:!0}:void 0)}vr&&t.dom.addEventListener("input",()=>null),eb(t)}function ra(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Dre(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function eb(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>NC(t,r))})}function NC(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function jre(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Lre(t,e){!NC(t,e)&&xr[e.type]&&(t.editable||!(e.type in wr))&&xr[e.type](t,e)}wr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!BL(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(si&&sr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),au&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,Xa(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Ere(t,n)?n.preventDefault():ra(t,"key")};wr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};wr.keypress=(t,e)=>{let n=e;if(BL(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||wo&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof tt)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,o,s))&&t.dispatch(s()),n.preventDefault()}};function xy(t){return{left:t.clientX,top:t.clientY}}function Fre(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function TC(t,e,n,r,o){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let i=s.depth+1;i>0;i--)if(t.someProp(e,a=>i>s.depth?a(t,n,s.nodeAfter,s.before(i),o,!0):a(t,n,s.node(i),s.before(i),o,!1)))return!0;return!1}function $c(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function $re(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ge.isSelectable(r)?($c(t,new Ge(n)),!0):!1}function zre(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof Ge&&(r=n.node);let s=t.state.doc.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i);if(Ge.isSelectable(a)){r&&n.$from.depth>0&&i>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?o=s.before(n.$from.depth):o=s.before(i);break}}return o!=null?($c(t,Ge.create(t.state.doc,o)),!0):!1}function Bre(t,e,n,r,o){return TC(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(o?zre(t,n):$re(t,n))}function Wre(t,e,n,r){return TC(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function Ure(t,e,n,r){return TC(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||Hre(t,n,r)}function Hre(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?($c(t,tt.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let i=s>o.depth?o.nodeAfter:o.node(s),a=o.before(s);if(i.inlineContent)$c(t,tt.create(r,a+1,a+1+i.content.size));else if(Ge.isSelectable(i))$c(t,Ge.create(r,a));else continue;return!0}}function RC(t){return Qm(t)}const zL=wo?"metaKey":"ctrlKey";xr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=RC(t),o=Date.now(),s="singleClick";o-t.input.lastClick.time<500&&Fre(n,t.input.lastClick)&&!n[zL]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s,button:n.button};let i=t.posAtCoords(xy(n));i&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Vre(t,i,n,!!r)):(s=="doubleClick"?Wre:Ure)(t,i.pos,i.inside,n)?n.preventDefault():ra(t,"pointer"))};class Vre{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[zL],this.allowDefault=r.shiftKey;let s,i;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),i=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,i=f.depth?f.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Ge&&u.from<=i&&u.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ts&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ra(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>li(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(xy(e))),this.updateAllowDefault(e),this.allowDefault||!n?ra(this.view,"pointer"):Bre(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||vr&&this.mightDrag&&!this.mightDrag.node.isAtom||sr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?($c(this.view,pt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ra(this.view,"pointer")}move(e){this.updateAllowDefault(e),ra(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}xr.touchstart=t=>{t.input.lastTouch=Date.now(),RC(t),ra(t,"pointer")};xr.touchmove=t=>{t.input.lastTouch=Date.now(),ra(t,"pointer")};xr.contextmenu=t=>RC(t);function BL(t,e){return t.composing?!0:vr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Gre=si?5e3:-1;wr.compositionstart=wr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof tt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Qm(t,!0),t.markCursor=null;else if(Qm(t,!e.selection.empty),ts&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let i=s<0?o.lastChild:o.childNodes[s-1];if(!i)break;if(i.nodeType==3){let a=t.domSelection();a&&a.collapse(i,i.nodeValue.length);break}else o=i,s=-1}}t.input.composing=!0}WL(t,Gre)};wr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,WL(t,20))};function WL(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Qm(t),e))}function UL(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=qre());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Kre(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=$ne(e.focusNode,e.focusOffset),r=zne(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let i=n.pmViewDesc;if(!(!i||!i.isText(n.nodeValue)))return r}}return n||r}function qre(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Qm(t,e=!1){if(!(si&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),UL(t),e||t.docView&&t.docView.dirty){let n=SC(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Yre(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const wf=Lr&&ma<15||au&&Vne<604;xr.copy=wr.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let s=wf?null:n.clipboardData,i=r.content(),{dom:a,text:l}=EC(t,i);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Yre(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Jre(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Xre(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?bf(t,r.value,null,o,e):bf(t,r.textContent,r.innerHTML,o,e)},50)}function bf(t,e,n,r,o){let s=IL(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,s||Oe.empty)))return!0;if(!s)return!1;let i=Jre(s),a=i?t.state.tr.replaceSelectionWith(i,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function HL(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}wr.paste=(t,e)=>{let n=e;if(t.composing&&!si)return;let r=wf?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&bf(t,HL(r),r.getData("text/html"),o,n)?n.preventDefault():Xre(t,n)};class VL{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Qre=wo?"altKey":"ctrlKey";function GL(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Qre]}xr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,s=o.empty?null:t.posAtCoords(xy(n)),i;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof Ge?o.to-1:o.to))){if(r&&r.mightDrag)i=Ge.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(i=Ge.create(t.state.doc,p.posBefore))}}let a=(i||t.state.selection).content(),{dom:l,text:u,slice:f}=EC(t,a);(!n.dataTransfer.files.length||!sr||vL>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(wf?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",wf||n.dataTransfer.setData("text/plain",u),t.dragging=new VL(f,GL(t,n),i)};xr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};wr.dragover=wr.dragenter=(t,e)=>e.preventDefault();wr.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords(xy(n));if(!o)return;let s=t.state.doc.resolve(o.pos),i=r&&r.slice;i?t.someProp("transformPasted",b=>{i=b(i,t)}):i=IL(t,HL(n.dataTransfer),wf?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&GL(t,n));if(t.someProp("handleDrop",b=>b(t,n,i||Oe.empty,a))){n.preventDefault();return}if(!i)return;n.preventDefault();let l=i?uL(t.state.doc,s.pos,i):s.pos;l==null&&(l=s.pos);let u=t.state.tr;if(a){let{node:b}=r;b?b.replace(u):u.deleteSelection()}let f=u.mapping.map(l),p=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,g=u.doc;if(p?u.replaceRangeWith(f,f,i.content.firstChild):u.replaceRange(f,f,i),u.doc.eq(g))return;let y=u.doc.resolve(f);if(p&&Ge.isSelectable(i.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new Ge(y));else{let b=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((w,x,C,S)=>b=S),u.setSelection(kC(t,y,u.doc.resolve(b)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};xr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&li(t)},20))};xr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};xr.beforeinput=(t,e)=>{if(sr&&si&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Xa(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in wr)xr[t]=wr[t];function Cf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Zm{constructor(e,n){this.toDOM=e,this.spec=n||gl,this.side=this.spec.side||0}map(e,n,r,o){let{pos:s,deleted:i}=e.mapResult(n.from+o,this.side<0?-1:1);return i?null:new Qr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Zm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Cf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ya{constructor(e,n){this.attrs=e,this.spec=n||gl}map(e,n,r,o){let s=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,i=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=i?null:new Qr(s,i,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ya&&Cf(this.attrs,e.attrs)&&Cf(this.spec,e.spec)}static is(e){return e.type instanceof ya}destroy(){}}class MC{constructor(e,n){this.attrs=e,this.spec=n||gl}map(e,n,r,o){let s=e.mapResult(n.from+o,1);if(s.deleted)return null;let i=e.mapResult(n.to+o,-1);return i.deleted||i.pos<=s.pos?null:new Qr(s.pos-r,i.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),s;return o==n.from&&!(s=e.child(r)).isText&&o+s.nodeSize==n.to}eq(e){return this==e||e instanceof MC&&Cf(this.attrs,e.attrs)&&Cf(this.spec,e.spec)}destroy(){}}class Qr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Qr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Qr(e,e,new Zm(n,r))}static inline(e,n,r,o){return new Qr(e,n,new ya(r,o))}static node(e,n,r,o){return new Qr(e,n,new MC(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof ya}get widget(){return this.type instanceof Zm}}const hc=[],gl={};class xn{constructor(e,n){this.local=e.length?e:hc,this.children=n.length?n:hc}static create(e,n){return n.length?eg(n,e,0,gl):nr}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,s){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,n-a,r,o+a,s)}}map(e,n,r){return this==nr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||gl)}mapInner(e,n,r,o,s){let i;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(i||(i=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Zre(this.children,i||[],e,n,r,o,s):i?new xn(i.sort(yl),hc):nr}add(e,n){return n.length?this==nr?xn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,s=0;e.forEach((a,l)=>{let u=l+r,f;if(f=qL(n,a,u)){for(o||(o=this.children.slice());s<o.length&&o[s]<l;)s+=3;o[s]==l?o[s+2]=o[s+2].addInner(a,f,u+1):o.splice(s,0,l,l+a.nodeSize,eg(f,a,u+1,gl)),s+=3}});let i=KL(s?YL(n):n,-r);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||i.splice(a--,1);return new xn(i.length?this.local.concat(i).sort(yl):this.local,o||this.children)}remove(e){return e.length==0||this==nr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let i,a=r[s]+n,l=r[s+1]+n;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>a&&p.to<l&&(e[f]=null,(i||(i=[])).push(p));if(!i)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(i,a+1);u!=nr?r[s+2]=u:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,i;s<e.length;s++)if(i=e[s])for(let a=0;a<o.length;a++)o[a].eq(i,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new xn(o,r):nr}forChild(e,n){if(this==nr)return this;if(n.isLeaf)return xn.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,i=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<i&&l.to>s&&l.type instanceof ya){let u=Math.max(s,l.from)-s,f=Math.min(i,l.to)-s;u<f&&(o||(o=[])).push(l.copy(u,f))}}if(o){let a=new xn(o.sort(yl),hc);return r?new Vi([a,r]):a}return r||nr}eq(e){if(this==e)return!0;if(!(e instanceof xn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return AC(this.localsInner(e))}localsInner(e){if(this==nr)return hc;if(e.inlineContent||!this.local.some(ya.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ya||n.push(this.local[r]);return n}forEachSet(e){e(this)}}xn.empty=new xn([],[]);xn.removeOverlap=AC;const nr=xn.empty;class Vi{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,gl));return Vi.from(r)}forChild(e,n){if(n.isLeaf)return xn.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,n);s!=nr&&(s instanceof Vi?r=r.concat(s.members):r.push(s))}return Vi.from(r)}eq(e){if(!(e instanceof Vi)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let i=0;i<s.length;i++)n.push(s[i])}}return n?AC(r?n:n.sort(yl)):hc}static from(e){switch(e.length){case 0:return nr;case 1:return e[0];default:return new Vi(e.every(n=>n instanceof xn)?e:e.reduce((n,r)=>n.concat(r instanceof xn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Zre(t,e,n,r,o,s,i){let a=t.slice();for(let u=0,f=s;u<n.maps.length;u++){let p=0;n.maps[u].forEach((g,y,b,w)=>{let x=w-b-(y-g);for(let C=0;C<a.length;C+=3){let S=a[C+1];if(S<0||g>S+f-p)continue;let k=a[C]+f-p;y>=k?a[C+1]=g<=k?-2:-1:g>=f&&x&&(a[C]+=x,a[C+1]+=x)}p+=x}),f=n.maps[u].map(f,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let f=n.map(t[u]+s),p=f-o;if(p<0||p>=r.content.size){l=!0;continue}let g=n.map(t[u+1]+s,-1),y=g-o,{index:b,offset:w}=r.content.findIndex(p),x=r.maybeChild(b);if(x&&w==p&&w+x.nodeSize==y){let C=a[u+2].mapInner(n,x,f+1,t[u]+s+1,i);C!=nr?(a[u]=p,a[u+1]=y,a[u+2]=C):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=eoe(a,t,e,n,o,s,i),f=eg(u,r,0,i);e=f.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,g=0;p<f.children.length;p+=3){let y=f.children[p];for(;g<a.length&&a[g]<y;)g+=3;a.splice(g,0,f.children[p],f.children[p+1],f.children[p+2])}}return new xn(e.sort(yl),a)}function KL(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new Qr(o.from+e,o.to+e,o.type))}return n}function eoe(t,e,n,r,o,s,i){function a(l,u){for(let f=0;f<l.local.length;f++){let p=l.local[f].map(r,o,u);p?n.push(p):i.onRemove&&i.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function qL(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let s=0,i;s<t.length;s++)(i=t[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),t[s]=null);return o}function YL(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function eg(t,e,n,r){let o=[],s=!1;e.forEach((a,l)=>{let u=qL(t,a,l+n);if(u){s=!0;let f=eg(u,a,n+l+1,r);f!=nr&&o.push(l,l+a.nodeSize,f)}});let i=KL(s?YL(t):t,-n).sort(yl);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||(r.onRemove&&r.onRemove(i[a].spec),i.splice(a--,1));return i.length||o.length?new xn(i,o):nr}function yl(t,e){return t.from-e.from||t.to-e.to}function AC(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[o]=s.copy(s.from,r.to),WR(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),WR(e,o,r.copy(s.from,r.to)));break}}}return e}function WR(t,e,n){for(;e<t.length&&yl(n,t[e])>0;)e++;t.splice(e,0,n)}function Y0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=nr&&e.push(r)}),t.cursorWrapper&&e.push(xn.create(t.state.doc,[t.cursorWrapper.deco])),Vi.from(e)}const toe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},noe=Lr&&ma<=11;class roe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ooe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new roe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Lr&&ma<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),noe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,toe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(IR(this.view)){if(this.suppressingSelectionUpdates)return li(this.view);if(Lr&&ma<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Pl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=iu(s))n.add(s);for(let s=e.anchorNode;s;s=iu(s))if(n.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&IR(e)&&!this.ignoreSelectionChange(r),s=-1,i=-1,a=!1,l=[];if(e.editable)for(let f=0;f<n.length;f++){let p=this.registerMutation(n[f],l);p&&(s=s<0?p.from:Math.min(p.from,s),i=i<0?p.to:Math.max(p.to,i),p.typeOver&&(a=!0))}if(ts&&l.length){let f=l.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,g]=f;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of f){let y=g.parentNode;y&&y.nodeName=="LI"&&(!p||aoe(e,p)!=y)&&g.remove()}}}let u=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&yy(r)&&(u=SC(e))&&u.eq(pt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,li(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,i),soe(e)),this.handleDOMChange(s,i,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||li(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(Lr&&ma<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:g}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(o=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let i=o&&o.parentNode==e.target?Wn(o)+1:0,a=r.localPosFromDOM(e.target,i,-1),l=s&&s.parentNode==e.target?Wn(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let UR=new WeakMap,HR=!1;function soe(t){if(!UR.has(t)&&(UR.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ts,HR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),HR=!0}}function VR(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,i=t.domAtPos(t.state.selection.anchor);return Pl(i.node,i.offset,o,s)&&([n,r,o,s]=[o,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:s}}function ioe(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return VR(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?VR(t,n):null}function aoe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function loe(t,e,n){let{node:r,fromOffset:o,toOffset:s,from:i,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:l.anchorOffset}],yy(l)||u.push({node:l.focusNode,offset:l.focusOffset})),sr&&t.input.lastKeyCode===8)for(let x=s;x>o;x--){let C=r.childNodes[x-1],S=C.pmViewDesc;if(C.nodeName=="BR"&&!S){s=x;break}if(!S||S.size)break}let p=t.state.doc,g=t.someProp("domParser")||pa.fromSchema(t.state.schema),y=p.resolve(i),b=null,w=g.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:s,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:coe,context:y});if(u&&u[0].pos!=null){let x=u[0].pos,C=u[1]&&u[1].pos;C==null&&(C=x),b={anchor:x+i,head:C+i}}return{doc:w,sel:b,from:i,to:a}}function coe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(vr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||vr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const uoe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function doe(t,e,n,r,o){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=SC(t,M);if(L&&!t.state.selection.eq(L)){if(sr&&si&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",z=>z(t,Xa(13,"Enter"))))return;let F=t.state.tr.setSelection(L);M=="pointer"?F.setMeta("pointer",!0):M=="key"&&F.scrollIntoView(),s&&F.setMeta("composition",s),t.dispatch(F)}return}let i=t.state.doc.resolve(e),a=i.sharedDepth(n);e=i.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,u=loe(t,e,n),f=t.state.doc,p=f.slice(u.from,u.to),g,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,y="end"):(g=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let b=poe(p.content,u.doc.content,u.from,g,y);if(b&&t.input.domChangeCount++,(au&&t.input.lastIOSEnter>Date.now()-225||si)&&o.some(M=>M.nodeType==1&&!uoe.test(M.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",M=>M(t,Xa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&l instanceof tt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let M=GR(t,t.state.doc,u.sel);if(M&&!M.eq(t.state.selection)){let L=t.state.tr.setSelection(M);s&&L.setMeta("composition",s),t.dispatch(L)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof tt&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Lr&&ma<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)=="  "&&(b.start--,b.endA--,b.endB--);let w=u.doc.resolveNoCache(b.start-u.from),x=u.doc.resolveNoCache(b.endB-u.from),C=f.resolve(b.start),S=w.sameParent(x)&&w.parent.inlineContent&&C.end()>=b.endA,k;if((au&&t.input.lastIOSEnter>Date.now()-225&&(!S||o.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!S&&w.pos<u.doc.content.size&&(!w.sameParent(x)||!w.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(w.pos,x.pos,"",""))&&(k=pt.findFrom(u.doc.resolve(w.pos+1),1,!0))&&k.head>w.pos)&&t.someProp("handleKeyDown",M=>M(t,Xa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&hoe(f,b.start,b.endA,w,x)&&t.someProp("handleKeyDown",M=>M(t,Xa(8,"Backspace")))){si&&sr&&t.domObserver.suppressSelectionUpdates();return}sr&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),si&&!S&&w.start()!=x.start()&&x.parentOffset==0&&w.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,x=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,Xa(13,"Enter"))})},20));let T=b.start,N=b.endA,A=M=>{let L=M||t.state.tr.replace(T,N,u.doc.slice(b.start-u.from,b.endB-u.from));if(u.sel){let F=GR(t,L.doc,u.sel);F&&!(sr&&t.composing&&F.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(F.head==T||F.head==L.mapping.map(N)-1)||Lr&&F.empty&&F.head==T)&&L.setSelection(F)}return s&&L.setMeta("composition",s),L.scrollIntoView()},_;if(S){if(w.pos==x.pos){Lr&&ma<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>li(t),20));let M=A(t.state.tr.delete(T,N)),L=f.resolve(b.start).marksAcross(f.resolve(b.endA));L&&M.ensureMarks(L),t.dispatch(M)}else if(b.endA==b.endB&&(_=foe(w.parent.content.cut(w.parentOffset,x.parentOffset),C.parent.content.cut(C.parentOffset,b.endA-C.start())))){let M=A(t.state.tr);_.type=="add"?M.addMark(T,N,_.mark):M.removeMark(T,N,_.mark),t.dispatch(M)}else if(w.parent.child(w.index()).isText&&w.index()==x.index()-(x.textOffset?0:1)){let M=w.parent.textBetween(w.parentOffset,x.parentOffset),L=()=>A(t.state.tr.insertText(M,T,N));t.someProp("handleTextInput",F=>F(t,T,N,M,L))||t.dispatch(L())}}else t.dispatch(A())}function GR(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:kC(t,e.resolve(n.anchor),e.resolve(n.head))}function foe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,s=r,i,a,l;for(let f=0;f<r.length;f++)o=r[f].removeFromSet(o);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(o.length==1&&s.length==0)a=o[0],i="add",l=f=>f.mark(a.addToSet(f.marks));else if(o.length==0&&s.length==1)a=s[0],i="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(l(e.child(f)));if(ve.from(u).eq(t))return{mark:a,type:i}}function hoe(t,e,n,r,o){if(n-e<=o.pos-r.pos||J0(r,!0,!1)<o.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=t.resolve(J0(s,!0,!0));return!i.parent.isTextblock||i.pos>n||J0(i,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function J0(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function poe(t,e,n,r,o){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:i,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,s-Math.min(i,a));r-=i+l-s}if(i<s&&t.size<e.size){let l=r<=s&&r>=i?s-r:0;s-=l,s&&s<e.size&&KR(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-i),i=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&KR(t.textBetween(s-1,s+1))&&(s+=l?1:-1),i=s+(i-a),a=s}return{start:s,endA:i,endB:a}}function KR(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class JL{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Pre,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(QR),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=JR(this),YR(this),this.nodeViews=XR(this),this.docView=RR(this.state.doc,qR(this),Y0(this),this.dom,this),this.domObserver=new ooe(this,(r,o,s,i)=>doe(this,r,o,s,i)),this.domObserver.start(),Ire(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&eb(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(QR),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&(UL(this),i=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=XR(this);goe(y,this.nodeViews)&&(this.nodeViews=y,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&eb(this),this.editable=JR(this),YR(this);let l=Y0(this),u=qR(this),f=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,u,l);(p||!e.selection.eq(o.selection))&&(i=!0);let g=f=="preserve"&&i&&this.dom.style.overflowAnchor==null&&qne(this);if(i){this.domObserver.stop();let y=p&&(Lr||sr)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&moe(o.selection,e.selection);if(p){let b=sr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Kre(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=RR(e.doc,u,l,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&vre(this))?li(this,y):(_L(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&Yne(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ge){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&CR(this,n.getBoundingClientRect(),e)}else CR(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new VL(e.slice,e.move,o<0?void 0:Ge.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[e];if(a!=null&&(o=n?n(a):a))return o}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let a=s[i].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(Lr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Jne(this.dom),li(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return tre(this,e)}coordsAtPos(e,n=1){return SL(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return ire(this,n||this.state,e)}pasteHTML(e,n){return bf(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return bf(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return EC(this,e)}destroy(){this.docView&&(Dre(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Y0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Lne())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Lre(this,e)}domSelectionRange(){let e=this.domSelection();return e?vr&&this.root.nodeType===11&&Wne(this.dom.ownerDocument)==this.dom&&ioe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}JL.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function qR(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Qr.node(0,t.state.doc.content.size,e)]}function YR(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Qr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function JR(t){return!t.someProp("editable",e=>e(t.state)===!1)}function moe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function XR(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function goe(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function QR(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ka={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yoe=typeof navigator<"u"&&/Mac/.test(navigator.platform),voe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Un=0;Un<10;Un++)ka[48+Un]=ka[96+Un]=String(Un);for(var Un=1;Un<=24;Un++)ka[Un+111]="F"+Un;for(var Un=65;Un<=90;Un++)ka[Un]=String.fromCharCode(Un+32),tg[Un]=String.fromCharCode(Un);for(var X0 in ka)tg.hasOwnProperty(X0)||(tg[X0]=ka[X0]);function xoe(t){var e=yoe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||voe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?tg:ka)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const woe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),boe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Coe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,s,i;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))woe?i=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),i&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Soe(t){let e=Object.create(null);for(let n in t)e[Coe(n)]=t[n];return e}function Q0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function koe(t){return new kr({props:{handleKeyDown:XL(t)}})}function XL(t){let e=Soe(t);return function(n,r){let o=xoe(r),s,i=e[Q0(o,r)];if(i&&i(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[Q0(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(boe&&r.ctrlKey&&r.altKey)&&(s=ka[r.keyCode])&&s!=o){let a=e[Q0(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const _C=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function QL(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const ZL=(t,e,n)=>{let r=QL(t,n);if(!r)return!1;let o=OC(r);if(!o){let i=r.blockRange(),a=i&&_u(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)}let s=o.nodeBefore;if(lF(t,o,e,-1))return!0;if(r.parent.content.size==0&&(lu(s,"end")||Ge.isSelectable(s)))for(let i=r.depth;;i--){let a=my(t.doc,r.before(i),r.after(i),Oe.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(lu(s,"end")?pt.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Ge.create(l.doc,o.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(i==1||r.node(i-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},Eoe=(t,e,n)=>{let r=QL(t,n);if(!r)return!1;let o=OC(r);return o?eF(t,o,e):!1},Noe=(t,e,n)=>{let r=nF(t,n);if(!r)return!1;let o=PC(r);return o?eF(t,o,e):!1};function eF(t,e,n){let r=e.nodeBefore,o=r,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let f=o.lastChild;if(!f)return!1;o=f}let i=e.nodeAfter,a=i,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let u=my(t.doc,s,l,Oe.empty);if(!u||u.from!=s||u instanceof _n&&u.slice.size>=l-s)return!1;if(n){let f=t.tr.step(u);f.setSelection(tt.create(f.doc,s)),n(f.scrollIntoView())}return!0}function lu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const tF=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=OC(r)}let i=s&&s.nodeBefore;return!i||!Ge.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Ge.create(t.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function OC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function nF(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const rF=(t,e,n)=>{let r=nF(t,n);if(!r)return!1;let o=PC(r);if(!o)return!1;let s=o.nodeAfter;if(lF(t,o,e,1))return!0;if(r.parent.content.size==0&&(lu(s,"start")||Ge.isSelectable(s))){let i=my(t.doc,r.before(),r.after(),Oe.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(lu(s,"start")?pt.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Ge.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},oF=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=PC(r)}let i=s&&s.nodeAfter;return!i||!Ge.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Ge.create(t.doc,s.pos)).scrollIntoView()),!0)};function PC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Toe=(t,e)=>{let n=t.selection,r=n instanceof Ge,o;if(r){if(n.node.isTextblock||!ja(t.doc,n.from))return!1;o=n.from}else if(o=py(t.doc,n.from,-1),o==null)return!1;if(e){let s=t.tr.join(o);r&&s.setSelection(Ge.create(s.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Roe=(t,e)=>{let n=t.selection,r;if(n instanceof Ge){if(n.node.isTextblock||!ja(t.doc,n.to))return!1;r=n.to}else if(r=py(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Moe=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),s=o&&_u(o);return s==null?!1:(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)},sF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function IC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Aoe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),i=IC(o.contentMatchAt(s));if(!i||!o.canReplaceWith(s,s,i))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,i.createAndFill());l.setSelection(pt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},iF=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof to||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=IC(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let i=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(i,s.createAndFill());a.setSelection(tt.create(a.doc,i+1)),e(a.scrollIntoView())}return!0},aF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ai(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),o=r&&_u(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function _oe(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof Ge&&e.selection.node.isBlock)return!r.parentOffset||!ai(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],i,a,l=!1,u=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){l=r.end(y)==r.pos+(r.depth-y),u=r.start(y)==r.pos-(r.depth-y),a=IC(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),s.unshift(l&&a?{type:a}:null),i=y;break}else{if(y==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof tt||e.selection instanceof to)&&f.deleteSelection();let p=f.mapping.map(r.pos),g=ai(f.doc,p,s.length,s);if(g||(s[0]=a?{type:a}:null,g=ai(f.doc,p,s.length,s)),!g)return!1;if(f.split(p,s.length,s),!l&&u&&r.node(i).type!=a){let y=f.mapping.map(r.before(i)),b=f.doc.resolve(y);a&&r.node(i-1).canReplaceWith(b.index(),b.index()+1,a)&&f.setNodeMarkup(f.mapping.map(r.before(i)),a)}return n&&n(f.scrollIntoView()),!0}}const Ooe=_oe(),Poe=(t,e)=>{let{$from:n,to:r}=t.selection,o,s=n.sharedDepth(r);return s==0?!1:(o=n.before(s),e&&e(t.tr.setSelection(Ge.create(t.doc,o))),!0)};function Ioe(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||ja(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function lF(t,e,n,r){let o=e.nodeBefore,s=e.nodeAfter,i,a,l=o.type.spec.isolating||s.type.spec.isolating;if(!l&&Ioe(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(a=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&a.matchType(i[0]||s.type).validEnd){if(n){let y=e.pos+s.nodeSize,b=ve.empty;for(let C=i.length-1;C>=0;C--)b=ve.from(i[C].create(null,b));b=ve.from(o.copy(b));let w=t.tr.step(new Pn(e.pos-1,y,e.pos,y,new Oe(b,1,0),i.length,!0)),x=w.doc.resolve(y+2*i.length);x.nodeAfter&&x.nodeAfter.type==o.type&&ja(w.doc,x.pos)&&w.join(x.pos),n(w.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&l?null:pt.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),g=p&&_u(p);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(p,g).scrollIntoView()),!0;if(u&&lu(s,"start",!0)&&lu(o,"end")){let y=o,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let w=s,x=1;for(;!w.isTextblock;w=w.firstChild)x++;if(y.canReplace(y.childCount,y.childCount,w.content)){if(n){let C=ve.empty;for(let k=b.length-1;k>=0;k--)C=ve.from(b[k].copy(C));let S=t.tr.step(new Pn(e.pos-b.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Oe(C,b.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function cF(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(n&&n(e.tr.setSelection(tt.create(e.doc,t<0?o.start(s):o.end(s)))),!0):!1}}const Doe=cF(-1),joe=cF(1);function Loe(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s),a=i&&wC(i,t,e);return a?(r&&r(n.tr.wrap(i,a).scrollIntoView()),!0):!1}}function ZR(t,e=null){return function(n,r){let o=!1;for(let s=0;s<n.selection.ranges.length&&!o;s++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(i,a,(l,u)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let f=n.doc.resolve(u),p=f.index();o=f.parent.canReplaceWith(p,p+1,t)}})}if(!o)return!1;if(r){let s=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function DC(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}DC(_C,ZL,tF);DC(_C,rF,oF);DC(sF,iF,aF,Ooe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Foe(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s);if(!i)return!1;let a=r?n.tr:null;return $oe(a,i,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function $oe(t,e,n,r=null){let o=!1,s=e,i=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=i.resolve(e.start-2);s=new qm(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new qm(e.$from,i.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=wC(s,n,r,e);return a?(t&&zoe(t,e,a,o,n),!0):!1}function zoe(t,e,n,r,o){let s=ve.empty;for(let f=n.length-1;f>=0;f--)s=ve.from(n[f].type.create(n[f].attrs,s));t.step(new Pn(e.start-(r?2:0),e.end,e.start,e.end,new Oe(s,0,0),n.length,!0));let i=0;for(let f=0;f<n.length;f++)n[f].type==o&&(i=f+1);let a=n.length-i,l=e.start+n.length-(r?2:0),u=e.parent;for(let f=e.startIndex,p=e.endIndex,g=!0;f<p;f++,g=!1)!g&&ai(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(f).nodeSize;return t}function Boe(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,i=>i.childCount>0&&i.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?Woe(e,n,t,s):Uoe(e,n,s):!0:!1}}function Woe(t,e,n,r){let o=t.tr,s=r.end,i=r.$to.end(r.depth);s<i&&(o.step(new Pn(s-1,i,s,i,new Oe(ve.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new qm(o.doc.resolve(r.$from.pos),o.doc.resolve(i),r.depth));const a=_u(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(s,-1)-1);return ja(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),e(o.scrollIntoView()),!0}function Uoe(t,e,n){let r=t.tr,o=n.parent;for(let y=n.end,b=n.endIndex-1,w=n.startIndex;b>w;b--)y-=o.child(b).nodeSize,r.delete(y-1,y+1);let s=r.doc.resolve(n.start),i=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,u=s.node(-1),f=s.index(-1);if(!u.canReplace(f+(a?0:1),f+1,i.content.append(l?ve.empty:ve.from(o))))return!1;let p=s.pos,g=p+i.nodeSize;return r.step(new Pn(p-(a?1:0),g+(l?1:0),p+1,g-1,new Oe((a?ve.empty:ve.from(o.copy(ve.empty))).append(l?ve.empty:ve.from(o.copy(ve.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Hoe(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let i=s.startIndex;if(i==0)return!1;let a=s.parent,l=a.child(i-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,f=ve.from(u?t.create():null),p=new Oe(ve.from(t.create(null,ve.from(a.type.create(null,f)))),u?3:1,0),g=s.start,y=s.end;n(e.tr.step(new Pn(g-(u?3:1),y,g,y,p,1,!0)).scrollIntoView())}return!0}}function wy(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}class by{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...f)=>{const p=l(...f)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:i}=o,a=[],l=!!e,u=e||s.tr,f=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(u),a.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(r).map(([g,y])=>[g,(...w)=>{const x=this.buildProps(u,n),C=y(...w)(x);return a.push(C),p}])),run:f};return p}createCan(e){const{rawCommands:n,state:r}=this,o=!1,s=e||r.tr,i=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...f)=>u(...f)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(e,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:i}=o,a={tr:e,editor:o,view:i,state:wy({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...f)=>u(...f)(a)]))}};return a}}class Voe{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e]),this}once(e,n){const r=(...o)=>{this.off(e,r),n.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ze(t,e,n){return t.config[e]===void 0&&t.parent?ze(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ze(t.parent,e,n):null}):t.config[e]}function Cy(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function uF(t){const e=[],{nodeExtensions:n,markExtensions:r}=Cy(t),o=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage,extensions:o},l=ze(i,"addGlobalAttributes",a);if(!l)return;l().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([g,y])=>{e.push({type:p,name:g,attribute:{...s,...y}})})})})}),o.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},l=ze(i,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([f,p])=>{const g={...s,...p};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:i.name,name:f,attribute:g})})}),e}function jn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function qn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const a=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],u=a.filter(f=>!l.includes(f));r[o]=[...l,...u].join(" ")}else if(o==="style"){const a=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;l.forEach(f=>{const[p,g]=f.split(":").map(y=>y.trim());u.set(p,g)}),a.forEach(f=>{const[p,g]=f.split(":").map(y=>y.trim());u.set(p,g)}),r[o]=Array.from(u.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else r[o]=s}),r},{})}function tb(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>qn(n,r),{})}function dF(t){return typeof t=="function"}function yt(t,e=void 0,...n){return dF(t)?e?t.bind(e)(...n):t(...n):t}function Goe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Koe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function eM(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((s,i)=>{const a=i.attribute.parseHTML?i.attribute.parseHTML(n):Koe(n.getAttribute(i.name));return a==null?s:{...s,[i.name]:a}},{});return{...r,...o}}}}function tM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Goe(n)?!1:n!=null))}function qoe(t,e){var n;const r=uF(t),{nodeExtensions:o,markExtensions:s}=Cy(t),i=(n=o.find(u=>ze(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(o.map(u=>{const f=r.filter(C=>C.type===u.name),p={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((C,S)=>{const k=ze(S,"extendNodeSchema",p);return{...C,...k?k(u):{}}},{}),y=tM({...g,content:yt(ze(u,"content",p)),marks:yt(ze(u,"marks",p)),group:yt(ze(u,"group",p)),inline:yt(ze(u,"inline",p)),atom:yt(ze(u,"atom",p)),selectable:yt(ze(u,"selectable",p)),draggable:yt(ze(u,"draggable",p)),code:yt(ze(u,"code",p)),whitespace:yt(ze(u,"whitespace",p)),linebreakReplacement:yt(ze(u,"linebreakReplacement",p)),defining:yt(ze(u,"defining",p)),isolating:yt(ze(u,"isolating",p)),attrs:Object.fromEntries(f.map(C=>{var S;return[C.name,{default:(S=C==null?void 0:C.attribute)===null||S===void 0?void 0:S.default}]}))}),b=yt(ze(u,"parseHTML",p));b&&(y.parseDOM=b.map(C=>eM(C,f)));const w=ze(u,"renderHTML",p);w&&(y.toDOM=C=>w({node:C,HTMLAttributes:tb(C,f)}));const x=ze(u,"renderText",p);return x&&(y.toText=x),[u.name,y]})),l=Object.fromEntries(s.map(u=>{const f=r.filter(x=>x.type===u.name),p={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((x,C)=>{const S=ze(C,"extendMarkSchema",p);return{...x,...S?S(u):{}}},{}),y=tM({...g,inclusive:yt(ze(u,"inclusive",p)),excludes:yt(ze(u,"excludes",p)),group:yt(ze(u,"group",p)),spanning:yt(ze(u,"spanning",p)),code:yt(ze(u,"code",p)),attrs:Object.fromEntries(f.map(x=>{var C;return[x.name,{default:(C=x==null?void 0:x.attribute)===null||C===void 0?void 0:C.default}]}))}),b=yt(ze(u,"parseHTML",p));b&&(y.parseDOM=b.map(x=>eM(x,f)));const w=ze(u,"renderHTML",p);return w&&(y.toDOM=x=>w({mark:x,HTMLAttributes:tb(x,f)})),[u.name,y]}));return new Zj({topNode:i,nodes:a,marks:l})}function Z0(t,e){return e.nodes[t]||e.marks[t]||null}function nM(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function jC(t,e){const n=zl.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}const Yoe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,s,i,a)=>{var l,u;const f=((u=(l=o.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:o,pos:s,parent:i,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?f:f.slice(0,Math.max(0,r-s))}),n};function LC(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Sy{constructor(e){this.find=e.find,this.handler=e.handler}}const Joe=(t,e)=>{if(LC(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Sp(t){var e;const{editor:n,from:r,to:o,text:s,rules:i,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(g=>g.type.spec.code))return!1;let f=!1;const p=Yoe(u)+s;return i.forEach(g=>{if(f)return;const y=Joe(p,g.find);if(!y)return;const b=l.state.tr,w=wy({state:l.state,transaction:b}),x={from:r-(y[0].length-s.length),to:o},{commands:C,chain:S,can:k}=new by({editor:n,state:w});g.handler({state:w,range:x,match:y,commands:C,chain:S,can:k})===null||!b.steps.length||(b.setMeta(a,{transform:b,from:r,to:o,text:s}),l.dispatch(b),f=!0)}),f}function Xoe(t){const{editor:e,rules:n}=t,r=new kr({state:{init(){return null},apply(o,s,i){const a=o.getMeta(r);if(a)return a;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=jC(ve.from(f),i.schema);const{from:p}=l,g=p+f.length;Sp({editor:e,from:p,to:g,text:f,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,i,a){return Sp({editor:e,from:s,to:i,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&Sp({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:i}=o.state.selection;return i?Sp({editor:e,from:i.pos,to:i.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Qoe(t){return Object.prototype.toString.call(t).slice(8,-1)}function kp(t){return Qoe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ky(t,e){const n={...t};return kp(t)&&kp(e)&&Object.keys(e).forEach(r=>{kp(e[r])&&kp(t[r])?n[r]=ky(t[r],e[r]):n[r]=e[r]}),n}class Os{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yt(ze(this,"addOptions",{name:this.name}))),this.storage=yt(ze(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Os(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>ky(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Os(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=yt(ze(n,"addOptions",{name:n.name})),n.storage=yt(ze(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const i=o.marks();if(!!!i.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=i.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function Zoe(t){return typeof t=="number"}class ese{constructor(e){this.find=e.find,this.handler=e.handler}}const tse=(t,e,n)=>{if(LC(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=t,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function nse(t){const{editor:e,state:n,from:r,to:o,rule:s,pasteEvent:i,dropEvent:a}=t,{commands:l,chain:u,can:f}=new by({editor:e,state:n}),p=[];return n.doc.nodesBetween(r,o,(y,b)=>{if(!y.isTextblock||y.type.spec.code)return;const w=Math.max(r,b),x=Math.min(o,b+y.content.size),C=y.textBetween(w-b,x-b,void 0,"￼");tse(C,s.find,i).forEach(k=>{if(k.index===void 0)return;const T=w+k.index+1,N=T+k[0].length,A={from:n.tr.mapping.map(T),to:n.tr.mapping.map(N)},_=s.handler({state:n,range:A,match:k,commands:l,chain:u,can:f,pasteEvent:i,dropEvent:a});p.push(_)})}),p.every(y=>y!==null)}let Ep=null;const rse=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function ose(t){const{editor:e,rules:n}=t;let r=null,o=!1,s=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:f,from:p,to:g,rule:y,pasteEvt:b})=>{const w=f.tr,x=wy({state:f,transaction:w});if(!(!nse({editor:e,state:x,from:Math.max(p-1,0),to:g.b-1,rule:y,pasteEvent:b,dropEvent:a})||!w.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(f=>new kr({view(p){const g=b=>{var w;r=!((w=p.dom.parentElement)===null||w===void 0)&&w.contains(b.target)?p.dom.parentElement:null,r&&(Ep=e)},y=()=>{Ep&&(Ep=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=r===p.dom.parentElement,a=g,!s){const y=Ep;y!=null&&y.isEditable&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,g)=>{var y;const b=(y=g.clipboardData)===null||y===void 0?void 0:y.getData("text/html");return i=g,o=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(p,g,y)=>{const b=p[0],w=b.getMeta("uiEvent")==="paste"&&!o,x=b.getMeta("uiEvent")==="drop"&&!s,C=b.getMeta("applyPasteRules"),S=!!C;if(!w&&!x&&!S)return;if(S){let{text:N}=C;typeof N=="string"?N=N:N=jC(ve.from(N),y.schema);const{from:A}=C,_=A+N.length,M=rse(N);return l({rule:f,state:y,from:A,to:{b:_},pasteEvt:M})}const k=g.doc.content.findDiffStart(y.doc.content),T=g.doc.content.findDiffEnd(y.doc.content);if(!(!Zoe(k)||!T||k===T.b))return l({rule:f,state:y,from:k,to:T,pasteEvt:i})}}))}function sse(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Tc{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Tc.resolve(e),this.schema=qoe(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Tc.sort(Tc.flatten(e)),r=sse(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=ze(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((r,o)=>{const s=ze(r,"priority")||100,i=ze(o,"priority")||100;return s>i?-1:s<i?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Z0(n.name,this.schema)},o=ze(n,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,n=Tc.sort([...this.extensions].reverse()),r=[],o=[],s=n.map(i=>{const a={name:i.name,options:i.options,storage:i.storage,editor:e,type:Z0(i.name,this.schema)},l=[],u=ze(i,"addKeyboardShortcuts",a);let f={};if(i.type==="mark"&&ze(i,"exitable",a)&&(f.ArrowRight=()=>Os.handleExit({editor:e,mark:i})),u){const w=Object.fromEntries(Object.entries(u()).map(([x,C])=>[x,()=>C({editor:e})]));f={...f,...w}}const p=koe(f);l.push(p);const g=ze(i,"addInputRules",a);nM(i,e.options.enableInputRules)&&g&&r.push(...g());const y=ze(i,"addPasteRules",a);nM(i,e.options.enablePasteRules)&&y&&o.push(...y());const b=ze(i,"addProseMirrorPlugins",a);if(b){const w=b();l.push(...w)}return l}).flat();return[Xoe({editor:e,rules:r}),...ose({editor:e,rules:o}),...s]}get attributes(){return uF(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Cy(this.extensions);return Object.fromEntries(n.filter(r=>!!ze(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:jn(r.name,this.schema)},i=ze(r,"addNodeView",s);if(!i)return[];const a=(l,u,f,p,g)=>{const y=tb(l,o);return i()({node:l,view:u,getPos:f,decorations:p,innerDecorations:g,editor:e,extension:r,HTMLAttributes:y})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Z0(e.name,this.schema)};e.type==="mark"&&(!((n=yt(ze(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const o=ze(e,"onBeforeCreate",r),s=ze(e,"onCreate",r),i=ze(e,"onUpdate",r),a=ze(e,"onSelectionUpdate",r),l=ze(e,"onTransaction",r),u=ze(e,"onFocus",r),f=ze(e,"onBlur",r),p=ze(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}}class Ln{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yt(ze(this,"addOptions",{name:this.name}))),this.storage=yt(ze(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ln(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>ky(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ln({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=yt(ze(n,"addOptions",{name:n.name})),n.storage=yt(ze(n,"addStorage",{name:n.name,options:n.options})),n}}function fF(t,e,n){const{from:r,to:o}=e,{blockSeparator:s=`

`,textSerializers:i={}}=n||{};let a="";return t.nodesBetween(r,o,(l,u,f,p)=>{var g;l.isBlock&&u>r&&(a+=s);const y=i==null?void 0:i[l.type.name];if(y)return f&&(a+=y({node:l,pos:u,parent:f,index:p,range:e})),!1;l.isText&&(a+=(g=l==null?void 0:l.text)===null||g===void 0?void 0:g.slice(Math.max(r,u)-u,o-u))}),a}function hF(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const ise=Ln.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new kr({key:new ls("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:s}=o,i=Math.min(...s.map(f=>f.$from.pos)),a=Math.max(...s.map(f=>f.$to.pos)),l=hF(n);return fF(r,{from:i,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),ase=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),lse=(t=!1)=>({commands:e})=>e.setContent("",t),cse=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:i})=>{t.doc.nodesBetween(s.pos,i.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:f}=e,p=u.resolve(f.map(l)),g=u.resolve(f.map(l+a.nodeSize)),y=p.blockRange(g);if(!y)return;const b=_u(y);if(a.type.isTextblock){const{defaultType:w}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(y.start,w)}(b||b===0)&&e.lift(y,b)})}),!0},use=t=>e=>t(e),dse=()=>({state:t,dispatch:e})=>iF(t,e),fse=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const i=r.mapping.map(e);return r.insert(i,s.content),r.setSelection(new tt(r.doc.resolve(i-1))),!0},hse=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(e){const a=o.before(s),l=o.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},pse=t=>({tr:e,state:n,dispatch:r})=>{const o=jn(t,n.schema),s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===o){if(r){const l=s.before(i),u=s.after(i);e.delete(l,u).scrollIntoView()}return!0}return!1},mse=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},gse=()=>({state:t,dispatch:e})=>_C(t,e),yse=()=>({commands:t})=>t.keyboardShortcut("Enter"),vse=()=>({state:t,dispatch:e})=>Aoe(t,e);function ng(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:LC(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function pF(t,e,n={}){return t.find(r=>r.type===e&&ng(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function rM(t,e,n={}){return!!pF(t,e,n)}function FC(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(f=>f.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(f=>f.type===e)||(n=n||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!pF([...o.node.marks],e,n)))return;let i=o.index,a=t.start()+o.offset,l=i+1,u=a+o.node.nodeSize;for(;i>0&&rM([...t.parent.child(i-1).marks],e,n);)i-=1,a-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&rM([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function Fa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const xse=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const s=Fa(t,r.schema),{doc:i,selection:a}=n,{$from:l,from:u,to:f}=a;if(o){const p=FC(l,s,e);if(p&&p.from<=u&&p.to>=f){const g=tt.create(i,p.from,p.to);n.setSelection(g)}}return!0},wse=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function mF(t){return t instanceof tt}function sl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function gF(t,e=null){if(!e)return null;const n=pt.atStart(t),r=pt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,s=r.to;return e==="all"?tt.create(t,sl(0,o,s),sl(t.content.size,o,s)):tt.create(t,sl(e,o,s),sl(e,o,s))}function bse(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function $C(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Cse=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const i=()=>{($C()||bse())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!mF(n.state.selection))return i(),!0;const a=gF(o.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),i()),!0},Sse=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),kse=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),yF=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&yF(r)}return t};function Np(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return yF(n)}function Sf(t,e,n){if(t instanceof ha||t instanceof ve)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ve.fromArray(t.map(a=>e.nodeFromJSON(a)));const i=e.nodeFromJSON(t);return n.errorOnInvalidContent&&i.check(),i}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Sf("",e,n)}if(o){if(n.errorOnInvalidContent){let i=!1,a="";const l=new Zj({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(i=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?pa.fromSchema(l).parseSlice(Np(t),n.parseOptions):pa.fromSchema(l).parse(Np(t),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=pa.fromSchema(e);return n.slice?s.parseSlice(Np(t),n.parseOptions).content:s.parse(Np(t),n.parseOptions)}return Sf("",e,n)}function Ese(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof _n||o instanceof Pn))return;const s=t.mapping.maps[r];let i=0;s.forEach((a,l,u,f)=>{i===0&&(i=f)}),t.setSelection(pt.near(t.doc.resolve(i),n))}const Nse=t=>!("type"in t),Tse=(t,e,n)=>({tr:r,dispatch:o,editor:s})=>{var i;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Sf(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(x){l(x)}try{a=Sf(e,s.schema,{parseOptions:u,errorOnInvalidContent:(i=n.errorOnInvalidContent)!==null&&i!==void 0?i:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:f,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,y=!0;if((Nse(a)?a:[a]).forEach(x=>{x.check(),g=g?x.isText&&x.marks.length===0:!1,y=y?x.isBlock:!1}),f===p&&y){const{parent:x}=r.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,p+=1)}let w;if(g){if(Array.isArray(e))w=e.map(x=>x.text||"").join("");else if(e instanceof ve){let x="";e.forEach(C=>{C.text&&(x+=C.text)}),w=x}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,f,p)}else w=a,r.replaceWith(f,p,w);n.updateSelection&&Ese(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:w}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:w})}return!0},Rse=()=>({state:t,dispatch:e})=>Toe(t,e),Mse=()=>({state:t,dispatch:e})=>Roe(t,e),Ase=()=>({state:t,dispatch:e})=>ZL(t,e),_se=()=>({state:t,dispatch:e})=>rF(t,e),Ose=()=>({state:t,dispatch:e,tr:n})=>{try{const r=py(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Pse=()=>({state:t,dispatch:e,tr:n})=>{try{const r=py(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Ise=()=>({state:t,dispatch:e})=>Eoe(t,e),Dse=()=>({state:t,dispatch:e})=>Noe(t,e);function vF(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function jse(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,s,i;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))$C()||vF()?i=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),i&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const Lse=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const s=jse(t).split(/-(?!$)/),i=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const f=u.map(r.mapping);f&&o&&r.maybeStep(f)}),!0};function kf(t,e,n={}){const{from:r,to:o,empty:s}=t.selection,i=e?jn(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(p,g)=>{if(p.isText)return;const y=Math.max(r,g),b=Math.min(o,g+p.nodeSize);a.push({node:p,from:y,to:b})});const l=o-r,u=a.filter(p=>i?i.name===p.node.type.name:!0).filter(p=>ng(p.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((p,g)=>p+g.to-g.from,0)>=l}const Fse=(t,e={})=>({state:n,dispatch:r})=>{const o=jn(t,n.schema);return kf(n,o,e)?Moe(n,r):!1},$se=()=>({state:t,dispatch:e})=>aF(t,e),zse=t=>({state:e,dispatch:n})=>{const r=jn(t,e.schema);return Boe(r)(e,n)},Bse=()=>({state:t,dispatch:e})=>sF(t,e);function Ey(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function oM(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}const Wse=(t,e)=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=Ey(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=jn(t,r.schema)),a==="mark"&&(i=Fa(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,f)=>{s&&s===u.type&&n.setNodeMarkup(f,void 0,oM(u.attrs,e)),i&&u.marks.length&&u.marks.forEach(p=>{i===p.type&&n.addMark(f,f+u.nodeSize,i.create(oM(p.attrs,e)))})})}),!0):!1},Use=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Hse=()=>({tr:t,dispatch:e})=>{if(e){const n=new to(t.doc);t.setSelection(n)}return!0},Vse=()=>({state:t,dispatch:e})=>tF(t,e),Gse=()=>({state:t,dispatch:e})=>oF(t,e),Kse=()=>({state:t,dispatch:e})=>Poe(t,e),qse=()=>({state:t,dispatch:e})=>joe(t,e),Yse=()=>({state:t,dispatch:e})=>Doe(t,e);function nb(t,e,n={},r={}){return Sf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Jse=(t,e=!1,n={},r={})=>({editor:o,tr:s,dispatch:i,commands:a})=>{var l,u;const{doc:f}=s;if(n.preserveWhitespace!=="full"){const p=nb(t,o.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck});return i&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!e),!0}return i&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:f.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})};function xF(t,e){const n=Fa(e,t.schema),{from:r,to:o,empty:s}=t.selection,i=[];s?(t.storedMarks&&i.push(...t.storedMarks),i.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{i.push(...l.marks)});const a=i.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Xse(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Qse(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function zC(t){return e=>Qse(e.$from,t)}function Zse(t,e){const n={from:0,to:t.content.size};return fF(t,n,e)}function eie(t,e){const n=jn(e,t.schema),{from:r,to:o}=t.selection,s=[];t.doc.nodesBetween(r,o,a=>{s.push(a)});const i=s.reverse().find(a=>a.type.name===n.name);return i?{...i.attrs}:{}}function tie(t,e){const n=Ey(typeof e=="string"?e:e.name,t.schema);return n==="node"?eie(t,e):n==="mark"?xF(t,e):{}}function wF(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const s=n.resolve(t),i=FC(s,o.type);i&&r.push({mark:o,...i})}):n.nodesBetween(t,e,(o,s)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(i=>({from:s,to:s+o.nodeSize,mark:i})))}),r}function em(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(s=>s.type===e&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function rb(t,e,n={}){const{empty:r,ranges:o}=t.selection,s=e?Fa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>ng(p.attrs,n,{strict:!1}));let i=0;const a=[];if(o.forEach(({$from:p,$to:g})=>{const y=p.pos,b=g.pos;t.doc.nodesBetween(y,b,(w,x)=>{if(!w.isText&&!w.marks.length)return;const C=Math.max(y,x),S=Math.min(b,x+w.nodeSize),k=S-C;i+=k,a.push(...w.marks.map(T=>({mark:T,from:C,to:S})))})}),i===0)return!1;const l=a.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>ng(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),u=a.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(l>0?l+u:l)>=i}function nie(t,e,n={}){if(!e)return kf(t,null,n)||rb(t,null,n);const r=Ey(e,t.schema);return r==="node"?kf(t,e,n):r==="mark"?rb(t,e,n):!1}function sM(t,e){const{nodeExtensions:n}=Cy(e),r=n.find(i=>i.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=yt(ze(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function Ny(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(s=>{o!==!1&&(Ny(s,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function rie(t){return t instanceof Ge}function oie(t,e,n){var r;const{selection:o}=e;let s=null;if(mF(o)&&(s=o.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:i}=o;return i.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(f,p,g)=>{if(u)return!1;if(f.isInline){const y=!g||g.type.allowsMarkType(n),b=!!n.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(n));u=y&&b}return!u}),u})}const sie=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:i,ranges:a}=s,l=Fa(t,r.schema);if(o)if(i){const u=xF(r,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const f=u.$from.pos,p=u.$to.pos;r.doc.nodesBetween(f,p,(g,y)=>{const b=Math.max(y,f),w=Math.min(y+g.nodeSize,p);g.marks.find(C=>C.type===l)?g.marks.forEach(C=>{l===C.type&&n.addMark(b,w,l.create({...C.attrs,...e}))}):n.addMark(b,w,l.create(e))})});return oie(r,n,l)},iie=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),aie=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const s=jn(t,n.schema);let i;return n.selection.$anchor.sameParent(n.selection.$head)&&(i=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:a})=>ZR(s,{...i,...e})(n)?!0:a.clearNodes()).command(({state:a})=>ZR(s,{...i,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lie=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=sl(t,0,r.content.size),s=Ge.create(r,o);e.setSelection(s)}return!0},cie=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:s}=typeof t=="number"?{from:t,to:t}:t,i=tt.atStart(r).from,a=tt.atEnd(r).to,l=sl(o,i,a),u=sl(s,i,a),f=tt.create(r,l,u);e.setSelection(f)}return!0},uie=t=>({state:e,dispatch:n})=>{const r=jn(t,e.schema);return Hoe(r)(e,n)};function iM(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}const die=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:i}=e,{$from:a,$to:l}=s,u=o.extensionManager.attributes,f=em(u,a.node().type.name,a.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!a.parentOffset||!ai(i,a.pos)?!1:(r&&(t&&iM(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=l.parentOffset===l.parent.content.size,g=a.depth===0?void 0:Xse(a.node(-1).contentMatchAt(a.indexAfter(-1)));let y=p&&g?[{type:g,attrs:f}]:void 0,b=ai(e.doc,e.mapping.map(a.pos),1,y);if(!y&&!b&&ai(e.doc,e.mapping.map(a.pos),1,g?[{type:g}]:void 0)&&(b=!0,y=g?[{type:g,attrs:f}]:void 0),r){if(b&&(s instanceof tt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,y),g&&!p&&!a.parentOffset&&a.parent.type!==g)){const w=e.mapping.map(a.before()),x=e.doc.resolve(w);a.node(-1).canReplaceWith(x.index(),x.index()+1,g)&&e.setNodeMarkup(e.mapping.map(a.before()),g)}t&&iM(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return b},fie=(t,e={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var i;const a=jn(t,r.schema),{$from:l,$to:u}=r.selection,f=r.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const p=l.node(-1);if(p.type!==a)return!1;const g=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let C=ve.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let M=l.depth-S;M>=l.depth-3;M-=1)C=ve.from(l.node(M).copy(C));const k=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...em(g,l.node().type.name,l.node().attrs),...e},N=((i=a.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(T))||void 0;C=C.append(ve.from(a.createAndFill(null,N)||void 0));const A=l.before(l.depth-(S-1));n.replace(A,l.after(-k),new Oe(C,4-S,0));let _=-1;n.doc.nodesBetween(A,n.doc.content.size,(M,L)=>{if(_>-1)return!1;M.isTextblock&&M.content.size===0&&(_=L+1)}),_>-1&&n.setSelection(tt.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const y=u.pos===l.end()?p.contentMatchAt(0).defaultType:null,b={...em(g,p.type.name,p.attrs),...e},w={...em(g,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const x=y?[{type:a,attrs:b},{type:y,attrs:w}]:[{type:a,attrs:b}];if(!ai(n.doc,l.pos,2))return!1;if(o){const{selection:C,storedMarks:S}=r,{splittableMarks:k}=s.extensionManager,T=S||C.$to.parentOffset&&C.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!T||!o)return!0;const N=T.filter(A=>k.includes(A.type.name));n.ensureMarks(N)}return!0},ex=(t,e)=>{const n=zC(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&ja(t.doc,n.pos)&&t.join(n.pos),!0},tx=(t,e)=>{const n=zC(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&ja(t.doc,r)&&t.join(r),!0},hie=(t,e,n,r={})=>({editor:o,tr:s,state:i,dispatch:a,chain:l,commands:u,can:f})=>{const{extensions:p,splittableMarks:g}=o.extensionManager,y=jn(t,i.schema),b=jn(e,i.schema),{selection:w,storedMarks:x}=i,{$from:C,$to:S}=w,k=C.blockRange(S),T=x||w.$to.parentOffset&&w.$from.marks();if(!k)return!1;const N=zC(A=>sM(A.type.name,p))(w);if(k.depth>=1&&N&&k.depth-N.depth<=1){if(N.node.type===y)return u.liftListItem(b);if(sM(N.node.type.name,p)&&y.validContent(N.node.content)&&a)return l().command(()=>(s.setNodeMarkup(N.pos,y),!0)).command(()=>ex(s,y)).command(()=>tx(s,y)).run()}return!n||!T||!a?l().command(()=>f().wrapInList(y,r)?!0:u.clearNodes()).wrapInList(y,r).command(()=>ex(s,y)).command(()=>tx(s,y)).run():l().command(()=>{const A=f().wrapInList(y,r),_=T.filter(M=>g.includes(M.type.name));return s.ensureMarks(_),A?!0:u.clearNodes()}).wrapInList(y,r).command(()=>ex(s,y)).command(()=>tx(s,y)).run()},pie=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,i=Fa(t,r.schema);return rb(r,i,e)?o.unsetMark(i,{extendEmptyMarkRange:s}):o.setMark(i,e)},mie=(t,e,n={})=>({state:r,commands:o})=>{const s=jn(t,r.schema),i=jn(e,r.schema),a=kf(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(i,l):o.setNode(s,{...l,...n})},gie=(t,e={})=>({state:n,commands:r})=>{const o=jn(t,n.schema);return kf(n,o,e)?r.lift(o):r.wrapIn(o,e)},yie=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(t))){if(e){const i=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)i.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else i.delete(s.from,s.to)}return!0}}return!1},vie=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},xie=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:i=!1}=e,{selection:a}=n,l=Fa(t,r.schema),{$from:u,empty:f,ranges:p}=a;if(!o)return!0;if(f&&i){let{from:g,to:y}=a;const b=(s=u.marks().find(x=>x.type===l))===null||s===void 0?void 0:s.attrs,w=FC(u,l,b);w&&(g=w.from,y=w.to),n.removeMark(g,y,l)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,l)});return n.removeStoredMark(l),!0},wie=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=Ey(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=jn(t,r.schema)),a==="mark"&&(i=Fa(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,f=l.$to.pos;let p,g,y,b;n.selection.empty?r.doc.nodesBetween(u,f,(w,x)=>{s&&s===w.type&&(y=Math.max(x,u),b=Math.min(x+w.nodeSize,f),p=x,g=w)}):r.doc.nodesBetween(u,f,(w,x)=>{x<u&&s&&s===w.type&&(y=Math.max(x,u),b=Math.min(x+w.nodeSize,f),p=x,g=w),x>=u&&x<=f&&(s&&s===w.type&&n.setNodeMarkup(x,void 0,{...w.attrs,...e}),i&&w.marks.length&&w.marks.forEach(C=>{if(i===C.type){const S=Math.max(x,u),k=Math.min(x+w.nodeSize,f);n.addMark(S,k,i.create({...C.attrs,...e}))}}))}),g&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),i&&g.marks.length&&g.marks.forEach(w=>{i===w.type&&n.addMark(y,b,i.create({...w.attrs,...e}))}))}),!0):!1},bie=(t,e={})=>({state:n,dispatch:r})=>{const o=jn(t,n.schema);return Loe(o,e)(n,r)},Cie=(t,e={})=>({state:n,dispatch:r})=>{const o=jn(t,n.schema);return Foe(o,e)(n,r)};var Sie=Object.freeze({__proto__:null,blur:ase,clearContent:lse,clearNodes:cse,command:use,createParagraphNear:dse,cut:fse,deleteCurrentNode:hse,deleteNode:pse,deleteRange:mse,deleteSelection:gse,enter:yse,exitCode:vse,extendMarkRange:xse,first:wse,focus:Cse,forEach:Sse,insertContent:kse,insertContentAt:Tse,joinBackward:Ase,joinDown:Mse,joinForward:_se,joinItemBackward:Ose,joinItemForward:Pse,joinTextblockBackward:Ise,joinTextblockForward:Dse,joinUp:Rse,keyboardShortcut:Lse,lift:Fse,liftEmptyBlock:$se,liftListItem:zse,newlineInCode:Bse,resetAttributes:Wse,scrollIntoView:Use,selectAll:Hse,selectNodeBackward:Vse,selectNodeForward:Gse,selectParentNode:Kse,selectTextblockEnd:qse,selectTextblockStart:Yse,setContent:Jse,setMark:sie,setMeta:iie,setNode:aie,setNodeSelection:lie,setTextSelection:cie,sinkListItem:uie,splitBlock:die,splitListItem:fie,toggleList:hie,toggleMark:pie,toggleNode:mie,toggleWrap:gie,undoInputRule:yie,unsetAllMarks:vie,unsetMark:xie,updateAttributes:wie,wrapIn:bie,wrapInList:Cie});const kie=Ln.create({name:"commands",addCommands(){return{...Sie}}}),Eie=Ln.create({name:"drop",addProseMirrorPlugins(){return[new kr({key:new ls("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Nie=Ln.create({name:"editable",addProseMirrorPlugins(){return[new kr({key:new ls("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Tie=new ls("focusEvents"),Rie=Ln.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new kr({key:Tie,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Mie=Ln.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:f,$anchor:p}=l,{pos:g,parent:y}=p,b=p.parent.isTextblock&&g>0?a.doc.resolve(g-1):p,w=b.parent.type.spec.isolating,x=p.pos-p.parentOffset,C=w&&b.parent.childCount===1?x===p.pos:pt.atStart(u).from===g;return!f||!y.type.isTextblock||y.textContent.length||!C||C&&p.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return $C()||vF()?s:o},addProseMirrorPlugins(){return[new kr({key:new ls("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),o=t.some(w=>w.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:i,to:a}=e.selection,l=pt.atStart(e.doc).from,u=pt.atEnd(e.doc).to;if(s||!(i===l&&a===u)||!Ny(n.doc))return;const g=n.tr,y=wy({state:n,transaction:g}),{commands:b}=new by({editor:this.editor,state:y});if(b.clearNodes(),!!g.steps.length)return g}})]}}),Aie=Ln.create({name:"paste",addProseMirrorPlugins(){return[new kr({key:new ls("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),_ie=Ln.create({name:"tabindex",addProseMirrorPlugins(){return[new kr({key:new ls("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Qa{get name(){return this.node.type.name}constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Qa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Qa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Qa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,i=this.pos+r+(s?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(i);if(!o&&a.depth<=this.depth)return;const l=new Qa(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),e.push(new Qa(a,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const s=o.node.attrs,i=Object.keys(n);for(let a=0;a<i.length;a+=1){const l=i[a];if(s[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(n);return this.children.forEach(i=>{r&&o.length>0||(i.node.type.name===e&&s.every(l=>n[l]===i.node.attrs[l])&&o.push(i),!(r&&o.length>0)&&(o=o.concat(i.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const Oie=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Pie(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}class Iie extends Voe{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:o})=>this.options.onDrop(n,r,o)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Pie(Oie,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=dF(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(i))}),n.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,n;const o=[...this.options.enableCoreExtensions?[Nie,ise.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),kie,Rie,Mie,_ie,Eie,Aie].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Tc(o,this)}createCommandManager(){this.commandManager=new by({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=nb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=nb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=gF(n,this.options.autofocus);this.view=new JL(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Nc.create({doc:n,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(i=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(i)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),s=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return tie(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return nie(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return jC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return Zse(this.state.doc,{blockSeparator:n,textSerializers:{...hF(this.schema),...r}})}get isEmpty(){return Ny(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Qa(n,this)}get $doc(){return this.$pos(0)}}function cu(t){return new Sy({find:t.find,handler:({state:e,range:n,match:r})=>{const o=yt(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=e,i=r[r.length-1],a=r[0];if(i){const l=a.search(/\S/),u=n.from+a.indexOf(i),f=u+i.length;if(wF(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(w=>w===t.type&&w!==y.mark.type)).filter(y=>y.to>u).length)return null;f<n.to&&s.delete(f,n.to),u>n.from&&s.delete(n.from+l,u);const g=n.from+l+i.length;s.addMark(n.from+l,g,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}function Die(t){return new Sy({find:t.find,handler:({state:e,range:n,match:r})=>{const o=yt(t.getAttributes,void 0,r)||{},{tr:s}=e,i=n.from;let a=n.to;const l=t.type.create(o);if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=i+u;f>a?f=a:a=f+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,i+r[0].length-1),s.replaceWith(f,a,l)}else if(r[0]){const u=t.type.isInline?i:i-1;s.insert(u,t.type.create(o)).delete(s.mapping.map(i),s.mapping.map(a))}s.scrollIntoView()}})}function ob(t){return new Sy({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),s=yt(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Ef(t){return new Sy({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const s=yt(t.getAttributes,void 0,r)||{},i=e.tr.delete(n.from,n.to),l=i.doc.resolve(n.from).blockRange(),u=l&&wC(l,t.type,s);if(!u)return null;if(i.wrap(l,u),t.keepMarks&&t.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:y}=t.editor.extensionManager,b=g||p.$to.parentOffset&&p.$from.marks();if(b){const w=b.filter(x=>y.includes(x.type.name));i.ensureMarks(w)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(p,s).run()}const f=i.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&ja(i.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&i.join(n.from-1)}})}let cs=class sb{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yt(ze(this,"addOptions",{name:this.name}))),this.storage=yt(ze(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new sb(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>ky(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new sb(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=yt(ze(n,"addOptions",{name:n.name})),n.storage=yt(ze(n,"addStorage",{name:n.name,options:n.options})),n}};function uu(t){return new ese({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const s=yt(t.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];let u=n.to;if(a){const f=l.search(/\S/),p=n.from+l.indexOf(a),g=p+a.length;if(wF(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(x=>x===t.type&&x!==b.mark.type)).filter(b=>b.to>p).length)return null;g<n.to&&i.delete(g,n.to),p>n.from&&i.delete(n.from+f,p),u=n.from+f+a.length,i.addMark(n.from+f,u,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function jie(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ge){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let o=r.depth;for(;o>=0;){const s=r.index(o);if(r.node(o).contentMatchAt(s).matchType(e))return!0;o-=1}return!1}function Lie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bF={exports:{}},nx={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aM;function Fie(){if(aM)return nx;aM=1;var t=se;function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,s=t.useLayoutEffect,i=t.useDebugValue;function a(p,g){var y=g(),b=r({inst:{value:y,getSnapshot:g}}),w=b[0].inst,x=b[1];return s(function(){w.value=y,w.getSnapshot=g,l(w)&&x({inst:w})},[p,y,g]),o(function(){return l(w)&&x({inst:w}),p(function(){l(w)&&x({inst:w})})},[p]),i(y),y}function l(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!n(p,y)}catch{return!0}}function u(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return nx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,nx}bF.exports=Fie();var BC=bF.exports;const $ie=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},zie=({contentComponent:t})=>{const e=BC.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return se.createElement(se.Fragment,null,Object.values(e))};function Bie(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:a1.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}class Wie extends se.Component{constructor(e){var n;super(e),this.editorContentRef=se.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Bie(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return se.createElement(se.Fragment,null,se.createElement("div",{ref:$ie(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&se.createElement(zie,{contentComponent:e.contentComponent}))}}const Uie=m.forwardRef((t,e)=>{const n=se.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return se.createElement(Wie,{key:n,innerRef:e,...t})}),Hie=se.memo(Uie);var Vie=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],n.get(o[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(e[o]!==n[o])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!(i==="_owner"&&e.$$typeof)&&!t(e[i],n[i]))return!1}return!0}return e!==e&&n!==n},Gie=Lie(Vie),CF={exports:{}},rx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lM;function Kie(){if(lM)return rx;lM=1;var t=se,e=BC;function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,l=t.useDebugValue;return rx.useSyncExternalStoreWithSelector=function(u,f,p,g,y){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=a(function(){function C(A){if(!S){if(S=!0,k=A,A=g(A),y!==void 0&&w.hasValue){var _=w.value;if(y(_,A))return T=_}return T=A}if(_=T,r(k,A))return _;var M=g(A);return y!==void 0&&y(_,M)?_:(k=A,T=M)}var S=!1,k,T,N=p===void 0?null:p;return[function(){return C(f())},N===null?void 0:function(){return C(N())}]},[f,p,g,y]);var x=o(u,b[0],b[1]);return i(function(){w.hasValue=!0,w.value=x},[x]),l(x),x},rx}CF.exports=Kie();var qie=CF.exports;const Yie=typeof window<"u"?m.useLayoutEffect:m.useEffect;class Jie{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Xie(t){var e;const[n]=m.useState(()=>new Jie(t.editor)),r=qie.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Gie);return Yie(()=>n.watch(t.editor),[t.editor,n]),m.useDebugValue(r),r}const Qie=!1,ib=typeof window>"u",Zie=ib||!!(typeof window<"u"&&window.next);class WC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?ib||Zie?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(o,...r)},onBlur:(...r)=>{var o,s;return(s=(o=this.options.current).onBlur)===null||s===void 0?void 0:s.call(o,...r)},onCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onCreate)===null||s===void 0?void 0:s.call(o,...r)},onDestroy:(...r)=>{var o,s;return(s=(o=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(o,...r)},onFocus:(...r)=>{var o,s;return(s=(o=this.options.current).onFocus)===null||s===void 0?void 0:s.call(o,...r)},onSelectionUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(o,...r)},onTransaction:(...r)=>{var o,s;return(s=(o=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(o,...r)},onUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(o,...r)},onContentError:(...r)=>{var o,s;return(s=(o=this.options.current).onContentError)===null||s===void 0?void 0:s.call(o,...r)},onDrop:(...r)=>{var o,s;return(s=(o=this.options.current).onDrop)===null||s===void 0?void 0:s.call(o,...r)},onPaste:(...r)=>{var o,s;return(s=(o=this.options.current).onPaste)===null||s===void 0?void 0:s.call(o,...r)}};return new Iie(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((o,s)=>{var i;return o===((i=n.extensions)===null||i===void 0?void 0:i[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?WC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function eae(t={},e=[]){const n=m.useRef(t);n.current=t;const[r]=m.useState(()=>new WC(n)),o=BC.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return m.useDebugValue(o),m.useEffect(r.onRender(e)),Xie({editor:o,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),o}const tae=m.createContext({editor:null});tae.Consumer;const nae=m.createContext({onDragStart:void 0}),rae=()=>m.useContext(nae);se.forwardRef((t,e)=>{const{onDragStart:n}=rae(),r=t.as||"div";return se.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const oae=/^\s*>\s$/,sae=cs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ef({find:oae,type:this.type})]}}),iae=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,aae=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,lae=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,cae=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,uae=Os.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[cu({find:iae,type:this.type}),cu({find:lae,type:this.type})]},addPasteRules(){return[uu({find:aae,type:this.type}),uu({find:cae,type:this.type})]}}),dae="listItem",cM="textStyle",uM=/^\s*([-+*])\s$/,fae=cs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(dae,this.editor.getAttributes(cM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ef({find:uM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ef({find:uM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(cM),editor:this.editor})),[t]}}),hae=/(^|[^`])`([^`]+)`(?!`)/,pae=/(^|[^`])`([^`]+)`(?!`)/g,mae=Os.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[cu({find:hae,type:this.type})]},addPasteRules(){return[uu({find:pae,type:this.type})]}}),gae=/^```([a-z]+)?[\s\n]$/,yae=/^~~~([a-z]+)?[\s\n]$/,vae=cs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(i=>i.startsWith(n)).map(i=>i.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",qn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,i=r.parent.textContent.endsWith(`

`);return!s||!i?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection(pt.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[ob({find:gae,type:this.type,getAttributes:t=>({language:t[1]})}),ob({find:yae,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new kr({key:new ls("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=o==null?void 0:o.mode;if(!n||!s)return!1;const{tr:i,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:s},l)),i.selection.$from.parent.type!==this.type&&i.setSelection(tt.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),t.dispatch(i),!0}}})]}}),xae=cs.create({name:"doc",topNode:!0,content:"block+"});function wae(t={}){return new kr({view(e){return new bae(e,t)}})}class bae{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=i=>{this[o](i)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,o=this.editorView.dom,s=o.getBoundingClientRect(),i=s.width/o.offsetWidth,a=s.height/o.offsetHeight;if(n){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let y=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(y){let b=y.getBoundingClientRect(),w=p?b.bottom:b.top;p&&g&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;r={left:b.left,right:b.right,top:w-x,bottom:w+x}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*i;r={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,f;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,f=-pageYOffset;else{let p=l.getBoundingClientRect(),g=p.width/l.offsetWidth,y=p.height/l.offsetHeight;u=p.left-l.scrollLeft*g,f=p.top-l.scrollTop*y}this.element.style.left=(r.left-u)/i+"px",this.element.style.top=(r.top-f)/a+"px",this.element.style.width=(r.right-r.left)/i+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!s){let i=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=uL(this.editorView.state.doc,i,this.editorView.dragging.slice);a!=null&&(i=a)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Cae=Ln.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[wae(this.options)]}});class fn extends pt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return fn.valid(r)?new fn(r):pt.near(r)}content(){return Oe.empty}eq(e){return e instanceof fn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new fn(e.resolve(n.pos))}getBookmark(){return new UC(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Sae(e)||!kae(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&fn.valid(e))return e;let o=e.pos,s=null;for(let i=e.depth;;i--){let a=e.node(i);if(n>0?e.indexAfter(i)<a.childCount:e.index(i)>0){s=a.child(n>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;o+=n;let l=e.doc.resolve(o);if(fn.valid(l))return l}for(;;){let i=n>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!Ge.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*n),r=!1;continue e}break}s=i,o+=n;let a=e.doc.resolve(o);if(fn.valid(a))return a}return null}}}fn.prototype.visible=!1;fn.findFrom=fn.findGapCursorFrom;pt.jsonID("gapcursor",fn);class UC{constructor(e){this.pos=e}map(e){return new UC(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return fn.valid(n)?new fn(n):pt.near(n)}}function Sae(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function kae(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function Eae(){return new kr({props:{decorations:Mae,createSelectionBetween(t,e,n){return e.pos==n.pos&&fn.valid(n)?new fn(n):null},handleClick:Tae,handleKeyDown:Nae,handleDOMEvents:{beforeinput:Rae}}})}const Nae=XL({ArrowLeft:Tp("horiz",-1),ArrowRight:Tp("horiz",1),ArrowUp:Tp("vert",-1),ArrowDown:Tp("vert",1)});function Tp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,s){let i=r.selection,a=e>0?i.$to:i.$from,l=i.empty;if(i instanceof tt){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=fn.findGapCursorFrom(a,e,l);return u?(o&&o(r.tr.setSelection(new fn(u))),!0):!1}}function Tae(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!fn.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Ge.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new fn(r))),!0)}function Rae(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof fn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=ve.empty;for(let i=r.length-1;i>=0;i--)o=ve.from(r[i].createAndFill(null,o));let s=t.state.tr.replace(n.pos,n.pos,new Oe(o,0,0));return s.setSelection(tt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Mae(t){if(!(t.selection instanceof fn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",xn.create(t.doc,[Qr.widget(t.selection.head,e,{key:"gapcursor"})])}const Aae=Ln.create({name:"gapCursor",addProseMirrorPlugins(){return[Eae()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=yt(ze(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),_ae=cs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",qn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:s}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,l=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&l&&i){const p=l.filter(g=>a.includes(g.type.name));u.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Oae=cs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,qn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ob({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var rg=200,In=function(){};In.prototype.append=function(e){return e.length?(e=In.from(e),!this.length&&e||e.length<rg&&this.leafAppend(e)||this.length<rg&&e.leafPrepend(this)||this.appendInner(e)):this};In.prototype.prepend=function(e){return e.length?In.from(e).append(this):this};In.prototype.appendInner=function(e){return new Pae(this,e)};In.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?In.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};In.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};In.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};In.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,i){return o.push(e(s,i))},n,r),o};In.from=function(e){return e instanceof In?e:e&&e.length?new SF(e):In.empty};var SF=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,i,a){for(var l=s;l<i;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,i,a){for(var l=s-1;l>=i;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=rg)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=rg)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(In);In.empty=new SF([]);var Pae=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,i){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(s,a),i)===!1||s>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,s)-a,i+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,i){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(s,a)-a,i+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(o,a),s,i)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(In);const Iae=500;class qo{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;n&&(o=this.remapping(r,this.items.length),s=o.maps.length);let i=e.tr,a,l,u=[],f=[];return this.items.forEach((p,g)=>{if(!p.step){o||(o=this.remapping(r,g+1),s=o.maps.length),s--,f.push(p);return}if(o){f.push(new gs(p.map));let y=p.step.map(o.slice(s)),b;y&&i.maybeStep(y).doc&&(b=i.mapping.maps[i.mapping.maps.length-1],u.push(new gs(b,void 0,void 0,u.length+f.length))),s--,b&&o.appendMap(b,s)}else i.maybeStep(p.step);if(p.selection)return a=o?p.selection.map(o.slice(s)):p.selection,l=new qo(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:a}}addTransform(e,n,r,o){let s=[],i=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),g=new gs(e.mapping.maps[f],p,n),y;(y=l&&l.merge(g))&&(g=y,f?s.pop():a=a.slice(0,a.length-1)),s.push(g),n&&(i++,n=void 0),o||(l=g)}let u=i-r.depth;return u>jae&&(a=Dae(a,u),i-=u),new qo(a.append(s),i)}remapping(e,n){let r=new vf;return this.items.forEach((o,s)=>{let i=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,i)},e,n),r}addMaps(e){return this.eventCount==0?this:new qo(this.items.append(e.map(n=>new gs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),s=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},o);let l=n;this.items.forEach(g=>{let y=s.getMirror(--l);if(y==null)return;i=Math.min(i,y);let b=s.maps[y];if(g.step){let w=e.steps[y].invert(e.docs[y]),x=g.selection&&g.selection.map(s.slice(l+1,y));x&&a++,r.push(new gs(b,w,x))}else r.push(new gs(b))},o);let u=[];for(let g=n;g<i;g++)u.push(new gs(s.maps[g]));let f=this.items.slice(0,o).append(u).append(r),p=new qo(f,a);return p.emptyItemCount()>Iae&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],s=0;return this.items.forEach((i,a)=>{if(a>=e)o.push(i),i.selection&&s++;else if(i.step){let l=i.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let f=i.selection&&i.selection.map(n.slice(r));f&&s++;let p=new gs(u.invert(),l,f),g,y=o.length-1;(g=o.length&&o[y].merge(p))?o[y]=g:o.push(p)}}else i.map&&r--},this.items.length,0),new qo(In.from(o.reverse()),s)}}qo.empty=new qo(In.empty,0);function Dae(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class gs{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new gs(n.getMap().invert(),n,this.selection)}}}class Wi{constructor(e,n,r,o,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const jae=20;function Lae(t,e,n,r){let o=n.getMeta(vl),s;if(o)return o.historyState;n.getMeta(zae)&&(t=new Wi(t.done,t.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(i&&i.getMeta(vl))return i.getMeta(vl).redo?new Wi(t.done.addTransform(n,void 0,r,tm(e)),t.undone,dM(n.mapping.maps),t.prevTime,t.prevComposition):new Wi(t.done,t.undone.addTransform(n,void 0,r,tm(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!i&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Fae(n,t.prevRanges)),u=i?ox(t.prevRanges,n.mapping):dM(n.mapping.maps);return new Wi(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,tm(e)),qo.empty,u,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Wi(t.done.rebased(n,s),t.undone.rebased(n,s),ox(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Wi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ox(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Fae(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(n=!0)}),n}function dM(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,s,i)=>e.push(s,i));return e}function ox(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),s=e.map(t[r+1],-1);o<=s&&n.push(o,s)}return n}function $ae(t,e,n){let r=tm(e),o=vl.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let i=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,r),l=new Wi(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(i).setMeta(vl,{redo:n,historyState:l})}let sx=!1,fM=null;function tm(t){let e=t.plugins;if(fM!=e){sx=!1,fM=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){sx=!0;break}}return sx}const vl=new ls("history"),zae=new ls("closeHistory");function Bae(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new kr({key:vl,state:{init(){return new Wi(qo.empty,qo.empty,null,0,-1)},apply(e,n,r){return Lae(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?EF:r=="historyRedo"?NF:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function kF(t,e){return(n,r)=>{let o=vl.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let s=$ae(o,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const EF=kF(!1,!0),NF=kF(!0,!0),Wae=Ln.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>EF(t,e),redo:()=>({state:t,dispatch:e})=>NF(t,e)}},addProseMirrorPlugins(){return[Bae(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Uae=cs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",qn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!jie(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:o}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):rie(n)?s.insertContentAt(o.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:i,dispatch:a})=>{var l;if(a){const{$to:u}=i.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?i.setSelection(tt.create(i.doc,u.pos+1)):u.nodeAfter.isBlock?i.setSelection(Ge.create(i.doc,u.pos)):i.setSelection(tt.create(i.doc,u.pos));else{const p=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();p&&(i.insert(f,p),i.setSelection(tt.create(i.doc,f+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Die({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Hae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Vae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Gae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Kae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,qae=Os.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[cu({find:Hae,type:this.type}),cu({find:Gae,type:this.type})]},addPasteRules(){return[uu({find:Vae,type:this.type}),uu({find:Kae,type:this.type})]}}),Yae=cs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",qn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Jae="listItem",hM="textStyle",pM=/^(\d+)\.\s$/,Xae=cs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",qn(this.options.HTMLAttributes,n),0]:["ol",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Jae,this.editor.getAttributes(hM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ef({find:pM,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ef({find:pM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(hM)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Qae=cs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Zae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ele=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tle=Os.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[cu({find:Zae,type:this.type})]},addPasteRules(){return[uu({find:ele,type:this.type})]}}),nle=cs.create({name:"text",group:"inline"}),rle=Ln.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(uae.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(sae.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(fae.configure(this.options.bulletList)),this.options.code!==!1&&t.push(mae.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(vae.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(xae.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Cae.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Aae.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(_ae.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(Oae.configure(this.options.heading)),this.options.history!==!1&&t.push(Wae.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Uae.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(qae.configure(this.options.italic)),this.options.listItem!==!1&&t.push(Yae.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(Xae.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Qae.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(tle.configure(this.options.strike)),this.options.text!==!1&&t.push(nle.configure(this.options.text)),t}}),ole=Os.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),sle=Ln.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),ile=Ln.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new kr({key:new ls("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((i,a)=>{const l=r>=a&&r<=a+i.nodeSize,u=!i.isLeaf&&Ny(i);if((l||!this.options.showOnlyCurrent)&&u){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const p=Qr.node(a,a+i.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:a,hasAnchor:l}):this.options.placeholder});o.push(p)}return this.options.includeChildren}),xn.create(t,o)}}})]}}),ale=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,o;const s=n.getAttribute("style"),i=(o=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||o===void 0?void 0:o.getAttribute("style");n.setAttribute("style",`${i};${s}`)})},lle=Os.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&ale(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}});var TF="Toggle",HC=m.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...s}=t,[i,a]=ro({prop:n,onChange:o,defaultProp:r??!1,caller:TF});return h.jsx(Fe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:Ce(t.onClick,()=>{t.disabled||a(!i)})})});HC.displayName=TF;var RF=HC,$a="ToggleGroup",[MF,Due]=$r($a,[Vg]),AF=Vg(),VC=se.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const o=r;return h.jsx(cle,{...o,ref:e})}if(n==="multiple"){const o=r;return h.jsx(ule,{...o,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${$a}\``)});VC.displayName=$a;var[_F,OF]=MF($a),cle=se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=t,[i,a]=ro({prop:n,defaultProp:r??"",onChange:o,caller:$a});return h.jsx(_F,{scope:t.__scopeToggleGroup,type:"single",value:se.useMemo(()=>i?[i]:[],[i]),onItemActivate:a,onItemDeactivate:se.useCallback(()=>a(""),[a]),children:h.jsx(PF,{...s,ref:e})})}),ule=se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=t,[i,a]=ro({prop:n,defaultProp:r??[],onChange:o,caller:$a}),l=se.useCallback(f=>a((p=[])=>[...p,f]),[a]),u=se.useCallback(f=>a((p=[])=>p.filter(g=>g!==f)),[a]);return h.jsx(_F,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:u,children:h.jsx(PF,{...s,ref:e})})});VC.displayName=$a;var[dle,fle]=MF($a),PF=se.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=t,u=AF(n),f=Wf(i),p={role:"group",dir:f,...l};return h.jsx(dle,{scope:n,rovingFocus:o,disabled:r,children:o?h.jsx(kP,{asChild:!0,...u,orientation:s,dir:f,loop:a,children:h.jsx(Fe.div,{...p,ref:e})}):h.jsx(Fe.div,{...p,ref:e})})}),og="ToggleGroupItem",IF=se.forwardRef((t,e)=>{const n=OF(og,t.__scopeToggleGroup),r=fle(og,t.__scopeToggleGroup),o=AF(t.__scopeToggleGroup),s=n.value.includes(t.value),i=r.disabled||t.disabled,a={...t,pressed:s,disabled:i},l=se.useRef(null);return r.rovingFocus?h.jsx(EP,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:h.jsx(mM,{...a,ref:e})}):h.jsx(mM,{...a,ref:e})});IF.displayName=og;var mM=se.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...o}=t,s=OF(og,n),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return h.jsx(HC,{...a,...o,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),DF=VC,jF=IF;const LF=Lf("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),hle=m.forwardRef(({className:t,variant:e,size:n,...r},o)=>h.jsx(RF,{ref:o,className:Be(LF({variant:e,size:n,className:t})),...r}));hle.displayName=RF.displayName;const FF=m.createContext({size:"default",variant:"default"}),ab=m.forwardRef(({className:t,variant:e,size:n,children:r,...o},s)=>h.jsx(DF,{ref:s,className:Be("flex items-center justify-center gap-1",t),...o,children:h.jsx(FF.Provider,{value:{variant:e,size:n},children:r})}));ab.displayName=DF.displayName;const Li=m.forwardRef(({className:t,children:e,variant:n,size:r,...o},s)=>{const i=m.useContext(FF);return h.jsx(jF,{ref:s,className:Be(LF({variant:i.variant||n,size:i.size||r}),t),...o,children:e})});Li.displayName=jF.displayName;const ple=({editor:t,className:e})=>{if(!t)return null;const{theme:n}=ss(),r=n==="light",o=()=>t.isActive("heading",{level:1})?"1":t.isActive("heading",{level:2})?"2":t.isActive("heading",{level:3})?"3":"paragraph",s=()=>t.isActive({textAlign:"left"})?"left":t.isActive({textAlign:"center"})?"center":t.isActive({textAlign:"right"})?"right":"left";return h.jsxs("div",{className:Be("flex items-center flex-wrap gap-2 p-2 border-b","md:gap-3",e),style:{backgroundColor:r?"#f9fafb":"#334155",borderBottomColor:r?"#e5e7eb":"#475569"},children:[h.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:h.jsxs(Ia,{value:o(),onValueChange:i=>{const{from:a,to:l}=t.state.selection;if(a!==l){const f=t.state.doc.textBetween(a,l," ");if(i==="paragraph")t.chain().focus().deleteSelection().insertContent(`<p>${f}</p>`).run();else{const p=parseInt(i);t.chain().focus().deleteSelection().insertContent(`<h${p}>${f}</h${p}>`).run()}}else if(i==="paragraph")t.chain().focus().splitBlock().setParagraph().run();else{const f=parseInt(i);t.chain().focus().splitBlock().setHeading({level:f}).run()}},children:[h.jsxs(xi,{className:"w-20 md:w-24 h-8 text-xs",style:{backgroundColor:r?"white":"#475569",borderColor:r?"#d1d5db":"#64748b",color:r?"#374151":"#e5e7eb"},children:[h.jsx(rO,{className:"h-3 w-3 md:hidden"}),h.jsx(Da,{className:"hidden md:inline"})]}),h.jsxs(wi,{children:[h.jsx(yn,{value:"paragraph",children:"Normal"}),h.jsx(yn,{value:"1",children:"H1"}),h.jsx(yn,{value:"2",children:"H2"}),h.jsx(yn,{value:"3",children:"H3"})]})]})}),h.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:h.jsxs(ab,{type:"multiple",value:[t.isActive("bold")?"bold":"",t.isActive("italic")?"italic":"",t.isActive("underline")?"underline":"",t.isActive("strike")?"strike":""].filter(Boolean),className:"flex gap-0 md:gap-1",children:[h.jsx(Li,{value:"bold",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t.chain().focus().toggleBold().run(),style:{backgroundColor:t.isActive("bold")?"#2563eb":"transparent",color:t.isActive("bold")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:i=>{t.isActive("bold")||(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{t.isActive("bold")||(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(Y_,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(Li,{value:"italic",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t.chain().focus().toggleItalic().run(),style:{backgroundColor:t.isActive("italic")?"#2563eb":"transparent",color:t.isActive("italic")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:i=>{t.isActive("italic")||(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{t.isActive("italic")||(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(Z_,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(Li,{value:"underline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t.chain().focus().toggleUnderline().run(),style:{backgroundColor:t.isActive("underline")?"#2563eb":"transparent",color:t.isActive("underline")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:i=>{t.isActive("underline")||(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{t.isActive("underline")||(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(oO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(Li,{value:"strike",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t.chain().focus().toggleStrike().run(),style:{backgroundColor:t.isActive("strike")?"#2563eb":"transparent",color:t.isActive("strike")?"white":r?"#374151":"#e5e7eb"},onMouseEnter:i=>{t.isActive("strike")||(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{t.isActive("strike")||(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(L7,{className:"h-3 w-3 md:h-4 md:w-4"})})]})}),h.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:h.jsxs(ab,{type:"single",value:s(),onValueChange:i=>{i&&t.chain().focus().setTextAlign(i).run()},className:"flex gap-0 md:gap-1",children:[h.jsx(Li,{value:"left",size:"sm",className:"h-8 w-8 p-0",style:{backgroundColor:s()==="left"?"#2563eb":"transparent",color:s()==="left"?"white":r?"#374151":"#e5e7eb"},onMouseEnter:i=>{s()!=="left"&&(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{s()!=="left"&&(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(q_,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(Li,{value:"center",size:"sm",className:"h-8 w-8 p-0",style:{backgroundColor:s()==="center"?"#2563eb":"transparent",color:s()==="center"?"white":r?"#374151":"#e5e7eb"},onMouseEnter:i=>{s()!=="center"&&(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{s()!=="center"&&(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(K_,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(Li,{value:"right",size:"sm",className:"h-8 w-8 p-0",style:{backgroundColor:s()==="right"?"#2563eb":"transparent",color:s()==="right"?"white":r?"#374151":"#e5e7eb"},onMouseEnter:i=>{s()!=="right"&&(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{s()!=="right"&&(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(m7,{className:"h-3 w-3 md:h-4 md:w-4"})})]})}),h.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:h.jsxs("div",{className:"flex gap-0 md:gap-1",children:[h.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleBulletList().run(),className:Be("h-8 w-8 p-0",t.isActive("bulletList")?"bg-blue-600 hover:bg-blue-700 text-white":""),style:t.isActive("bulletList")?{}:{backgroundColor:"transparent",color:r?"#374151":"#e5e7eb"},onMouseEnter:i=>{t.isActive("bulletList")||(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{t.isActive("bulletList")||(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(tO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:Be("h-8 w-8 p-0",t.isActive("orderedList")?"bg-blue-600 hover:bg-blue-700 text-white":""),style:t.isActive("orderedList")?{}:{backgroundColor:"transparent",color:r?"#374151":"#e5e7eb"},onMouseEnter:i=>{t.isActive("orderedList")||(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{t.isActive("orderedList")||(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(eO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleBlockquote().run(),className:Be("h-8 w-8 p-0",t.isActive("blockquote")?"bg-blue-600 hover:bg-blue-700 text-white":""),style:t.isActive("blockquote")?{}:{backgroundColor:"transparent",color:r?"#374151":"#e5e7eb"},onMouseEnter:i=>{t.isActive("blockquote")||(i.currentTarget.style.backgroundColor=r?"#f3f4f6":"#475569")},onMouseLeave:i=>{t.isActive("blockquote")||(i.currentTarget.style.backgroundColor="transparent")},children:h.jsx(nO,{className:"h-3 w-3 md:h-4 md:w-4"})})]})})]})},mle=1e3,ix=3,gle=60*60*1e3,yle=2e3,vle=({enabled:t,noteContent:e,noteCategory:n})=>{const[r,o]=m.useState([]),[s,i]=m.useState([]),[a,l]=m.useState(null),[u,f]=m.useState(!1),[p,g]=m.useState(null),[y,b]=m.useState(""),w=m.useRef(null),x=m.useRef(0),{token:C}=is(),S=m.useCallback(K=>{if(!K.trim())return"";const te=K.split(/[.!?]+/).filter(J=>J.trim().length>0).slice(-3).join(". ");return te.length>200?te.substring(te.length-200):te},[]),k=m.useCallback(K=>{if(!t||!K.trim())return console.log("❌ Note AI: Disabled or empty content",{enabled:t,contentLength:K.length}),!1;const W=K.trim().split(/\s+/);if(console.log("🔍 Note AI: Checking trigger conditions",{wordCount:W.length,minRequired:ix,content:K.substring(0,50)+"..."}),W.length<ix)return console.log(`❌ Note AI: Not enough words (${W.length}/${ix})`),!1;if(S(K)===y)return!1;if(/[.!?]\s*$/.test(K.trim()))return console.log("✅ Note AI trigger: Sentence completion"),!0;if(/\n\s*\n\s*\w+/.test(K.slice(-50)))return console.log("✅ Note AI trigger: Paragraph break"),!0;const J=Math.abs(K.length-y.length);return J>20?(console.log("✅ Note AI trigger: New content length",J),!0):(console.log("✅ Note AI trigger: Always responsive"),!0)},[t,S,y]),T=m.useCallback(K=>{try{const W=K.replace(/\s+/g," ").trim().split(" ").slice(-20).join(" "),te=`note-suggestions-${btoa(W).slice(-50)}-${n||"general"}`,J=localStorage.getItem(te);if(J){const{suggestions:X,continuations:I,timestamp:P}=JSON.parse(J);if(Date.now()-P<gle)return console.log("📦 Found cached suggestions for context:",W.substring(0,50)),{suggestions:X||[],continuations:I||[]}}}catch(W){console.warn("Failed to read note suggestion cache:",W)}return null},[n]),N=m.useCallback((K,W,te)=>{try{const J=K.replace(/\s+/g," ").trim().split(" ").slice(-20).join(" "),X=`note-suggestions-${btoa(J).slice(-50)}-${n||"general"}`,I={suggestions:W,continuations:te,timestamp:Date.now()};localStorage.setItem(X,JSON.stringify(I)),console.log("💾 Cached suggestions for context:",J.substring(0,50))}catch(J){console.warn("Failed to cache note suggestions:",J)}},[n]),A=m.useCallback(K=>{var J;const W=[],te=((J=K.split(/[.!?]/).pop())==null?void 0:J.trim())||"";return te.toLowerCase().includes("i need to")?W.push("remember to","focus on","make sure"):te.toLowerCase().includes("the main")?W.push("point is","goal is","issue is"):te.toLowerCase().includes("next step")&&W.push("is to","would be","should be"),n!=null&&n.toLowerCase().includes("meeting")?W.push("Action items:","Follow up on:","Next meeting:"):n!=null&&n.toLowerCase().includes("project")&&W.push("Timeline:","Resources needed:","Deliverables:"),W},[n]),_=m.useCallback(async(K=!1)=>{var X;if(!C||!t)return;const W=S(e);if(!W||!k(e)){const I=A(e);o(I),l(I[0]||null);return}const te=T(W);if(te&&!K){console.log("📦 Using cached note suggestions for context:",W.substring(0,50)),o(te.suggestions),i(te.continuations),l(te.suggestions[0]||te.continuations[0]||null);return}const J=Date.now();if(!K&&x.current&&J-x.current<yle){console.log("⏰ Throttling AI call - too soon since last request");return}K&&console.log("🚀 Force refreshing AI suggestions (bypassing throttle and cache)");try{f(!0),g(null),x.current=Date.now(),b(W);const I=nf(),P=await Pt.post(`${I}/api/note-suggestions`,{context:W,category:n,requestTypes:["completion","continuation"]},{withCredentials:!0,headers:{Authorization:`Bearer ${C}`},timeout:1e4});if(P.data){const{suggestions:B=[],continuations:G=[]}=P.data;console.log("🚀 Note AI suggestions received:",{suggestions:B.length,continuations:G.length,firstSuggestion:B[0]||G[0]||"none",apiResponse:P.data}),o(B),i(G),l(B[0]||G[0]||null),N(W,B,G)}}catch(I){console.error("Failed to fetch note AI suggestions:",I);const P=A(e);o(P),l(P[0]||null),((X=I==null?void 0:I.response)==null?void 0:X.status)===401?g("Session expired. Please log in again."):g("AI suggestions temporarily unavailable")}finally{f(!1)}},[C,t,e,n,S,k,T,N,A]),M=m.useCallback(()=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{_()},mle)},[_]),L=m.useCallback(()=>{w.current&&clearTimeout(w.current),_()},[_]),F=m.useCallback(()=>{w.current&&clearTimeout(w.current),_(!0)},[_]),z=m.useCallback(()=>{console.log("🧹 Clearing suggestions from React state"),o([]),i([]),l(null)},[]),U=m.useCallback((K,W)=>{if(console.log("🎯 Note getSuggestionForInput:",{enabled:t,contentLength:K.length,cursorPosition:W,suggestionsCount:r.length,continuationsCount:s.length}),!t||!K||W<K.length)return null;const te=[...r,...s];if(te.length>0){const J=te[0];return console.log("💡 Note autocomplete suggestion:",J),J}return null},[t,r,s]);return m.useEffect(()=>(t&&e&&M(),()=>{w.current&&clearTimeout(w.current)}),[t,e,M]),{suggestions:r,continuations:s,currentSuggestion:a,isLoading:u,error:p,triggerSuggestions:L,forceRefreshSuggestions:F,clearSuggestions:z,getSuggestionForInput:U,metrics:{lastTriggerContext:y,shouldTrigger:k(e),wordCount:e.trim().split(/\s+/).length,contextWindow:S(e)}}};function Hn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xle(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Rp=43200,gM=1440;let wle={};function ble(){return wle}function yM(t){const e=Hn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function nm(t,e){const n=Hn(t),r=Hn(e),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function Cle(t){return xle(t,Date.now())}function Sle(t,e){const n=Hn(t),r=Hn(e),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function kle(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Ele(t,e){return+Hn(t)-+Hn(e)}function Nle(t){const e=Hn(t);return e.setHours(23,59,59,999),e}function Tle(t){const e=Hn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Rle(t){const e=Hn(t);return+Nle(e)==+Tle(e)}function Mle(t,e){const n=Hn(t),r=Hn(e),o=nm(n,r),s=Math.abs(Sle(n,r));let i;if(s<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*s);let a=nm(n,r)===-o;Rle(Hn(t))&&s===1&&nm(t,r)===1&&(a=!1),i=o*(s-Number(a))}return i===0?0:i}function Ale(t,e,n){const r=Ele(t,e)/1e3;return kle(n==null?void 0:n.roundingMethod)(r)}const _le={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ole=(t,e,n)=>{let r;const o=_le[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ax(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ple={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ile={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jle={date:ax({formats:Ple,defaultWidth:"full"}),time:ax({formats:Ile,defaultWidth:"full"}),dateTime:ax({formats:Dle,defaultWidth:"full"})},Lle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fle=(t,e,n,r)=>Lle[t];function cd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;o=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[a]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return o[s]}}const $le={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ble={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ule={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vle=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Gle={ordinalNumber:Vle,era:cd({values:$le,defaultWidth:"wide"}),quarter:cd({values:zle,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cd({values:Ble,defaultWidth:"wide"}),day:cd({values:Wle,defaultWidth:"wide"}),dayPeriod:cd({values:Ule,defaultWidth:"wide",formattingValues:Hle,defaultFormattingWidth:"wide"})};function ud(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(o);if(!s)return null;const i=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qle(a,p=>p.test(i)):Kle(a,p=>p.test(i));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(i.length);return{value:u,rest:f}}}function Kle(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qle(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Yle(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const a=e.slice(o.length);return{value:i,rest:a}}}const Jle=/^(\d+)(th|st|nd|rd)?/i,Xle=/\d+/i,Qle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zle={any:[/^b/i,/^(a|c)/i]},ece={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tce={any:[/1/i,/2/i,/3/i,/4/i]},nce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ice={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ace={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lce={ordinalNumber:Yle({matchPattern:Jle,parsePattern:Xle,valueCallback:t=>parseInt(t,10)}),era:ud({matchPatterns:Qle,defaultMatchWidth:"wide",parsePatterns:Zle,defaultParseWidth:"any"}),quarter:ud({matchPatterns:ece,defaultMatchWidth:"wide",parsePatterns:tce,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ud({matchPatterns:nce,defaultMatchWidth:"wide",parsePatterns:rce,defaultParseWidth:"any"}),day:ud({matchPatterns:oce,defaultMatchWidth:"wide",parsePatterns:sce,defaultParseWidth:"any"}),dayPeriod:ud({matchPatterns:ice,defaultMatchWidth:"any",parsePatterns:ace,defaultParseWidth:"any"})},cce={code:"en-US",formatDistance:Ole,formatLong:jle,formatRelative:Fle,localize:Gle,match:lce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uce(t,e,n){const r=ble(),o=(n==null?void 0:n.locale)??r.locale??cce,s=2520,i=nm(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,u;i>0?(l=Hn(e),u=Hn(t)):(l=Hn(t),u=Hn(e));const f=Ale(u,l),p=(yM(u)-yM(l))/1e3,g=Math.round((f-p)/60);let y;if(g<2)return n!=null&&n.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,a):f<10?o.formatDistance("lessThanXSeconds",10,a):f<20?o.formatDistance("lessThanXSeconds",20,a):f<40?o.formatDistance("halfAMinute",0,a):f<60?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",1,a):g===0?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",g,a);if(g<45)return o.formatDistance("xMinutes",g,a);if(g<90)return o.formatDistance("aboutXHours",1,a);if(g<gM){const b=Math.round(g/60);return o.formatDistance("aboutXHours",b,a)}else{if(g<s)return o.formatDistance("xDays",1,a);if(g<Rp){const b=Math.round(g/gM);return o.formatDistance("xDays",b,a)}else if(g<Rp*2)return y=Math.round(g/Rp),o.formatDistance("aboutXMonths",y,a)}if(y=Mle(u,l),y<12){const b=Math.round(g/Rp);return o.formatDistance("xMonths",b,a)}else{const b=y%12,w=Math.trunc(y/12);return b<3?o.formatDistance("aboutXYears",w,a):b<9?o.formatDistance("overXYears",w,a):o.formatDistance("almostXYears",w+1,a)}}function dce(t,e){return uce(t,Cle(t),e)}function $F(t){if(!t)return"Unknown";try{const e=t instanceof Date?t:new Date(t);return new Date().getTime()-e.getTime()<6e4?"Just now":dce(e,{addSuffix:!0})}catch(e){return console.error("Error formatting relative time:",e),"Unknown"}}let nn={suggestion:null,triggerSuggestions:null,setSuggestionDebounce:null,handleSave:null};const fce=Ln.create({name:"autocomplete",addKeyboardShortcuts(){return{Tab:()=>{console.log("🔥 TipTap Extension: Tab key pressed!"),console.log("🔥 TipTap Extension: Editor focus state:",this.editor.isFocused),console.log("🔥 TipTap Extension: Local storage object:",JSON.stringify(this.storage,null,2)),console.log("🔥 TipTap Extension: Global storage object:",JSON.stringify(nn,null,2));const t=nn.suggestion;if(console.log("🔥 TipTap Extension: Current suggestion from global storage:",t==null?void 0:t.substring(0,30)),t){console.log("✅ TipTap Extension: Accepting suggestion with Tab:",t.substring(0,30)),nn.suggestion=null,this.editor.commands.insertContent(t);const n=this.editor.getText().trim().split(/\s+/).filter(r=>r.length>0).length;return nn.setSuggestionDebounce&&nn.setSuggestionDebounce(n),!0}else console.log("❌ TipTap Extension: No suggestion available in global storage"),console.log("❌ TipTap Extension: Global storage state:",nn);return!1},ArrowRight:()=>{const t=nn.suggestion;if(t){console.log("🔥 TipTap Extension: ArrowRight pressed with suggestion:",t.substring(0,30)),nn.suggestion=null,this.editor.commands.insertContent(t);const n=this.editor.getText().trim().split(/\s+/).filter(r=>r.length>0).length;return nn.setSuggestionDebounce&&nn.setSuggestionDebounce(n),!0}return!1}}},addStorage(){return{autocomplete:null}},onBeforeCreate(){var e,n,r;const t=(e=this.storage.autocomplete)==null?void 0:e.suggestion;!this.storage.autocomplete||typeof this.storage.autocomplete!="object"?this.storage.autocomplete={suggestion:null,triggerSuggestions:()=>{},setSuggestionDebounce:()=>{},handleSave:()=>{}}:t&&(this.storage.autocomplete.suggestion=t),console.log("🏗️ TipTap Extension: onBeforeCreate called, preserving suggestion:",((r=(n=this.storage.autocomplete)==null?void 0:n.suggestion)==null?void 0:r.substring(0,30))||"null")},onCreate(){var t,e;console.log("🏗️ TipTap Extension: onCreate called, final storage:",((e=(t=this.storage.autocomplete)==null?void 0:t.suggestion)==null?void 0:e.substring(0,30))||"null")}}),hce=({content:t,isEditingContent:e,editContent:n,setEditContent:r,setIsEditingContent:o,handleEditContent:s,noteCategory:i,noteColor:a="#FFFFE0",noteId:l,onAutoSave:u,updatedAt:f})=>{const p=m.useRef(null),g=m.useRef(null),[y,b]=m.useState(0),[w,x]=m.useState(!1),[C,S]=m.useState(!1),[k,T]=m.useState(!1),{aiEnabled:N}=L1(),{theme:A}=ss(),_=A==="light",M=eae({extensions:[rle.configure({paragraph:{HTMLAttributes:{class:"text-sm leading-relaxed"}},heading:{levels:[1,2,3],HTMLAttributes:{class:"font-semibold"}},bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},bulletList:{HTMLAttributes:{class:"list-disc list-inside"}},orderedList:{HTMLAttributes:{class:"list-decimal list-inside"}},listItem:{HTMLAttributes:{class:"ml-4"}},blockquote:{HTMLAttributes:{class:"border-l-4 border-gray-300 pl-4 italic text-gray-600"}}}),ole.configure({HTMLAttributes:{class:"underline"}}),sle.configure({types:["heading","paragraph"],alignments:["left","center","right"],defaultAlignment:"left"}),lle,ile.configure({placeholder:"Start typing your note...",emptyEditorClass:"is-empty"}),fce],content:"",editable:!0,immediatelyRender:!1,onUpdate:({editor:ne})=>{const H=ne.getHTML();r(H),e||(console.log("🔄 Auto-enabling editing mode because content changed"),o(!0)),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{console.log("💾 Auto-saving rich note content..."),u({content:H,updated_at:new Date().toISOString()})},3e3)}});m.useEffect(()=>{const ne=H=>{var ue,he;if(H.key==="Tab"){console.log("🌍 Global Tab Event:",{target:H.target,tagName:(ue=H.target)==null?void 0:ue.tagName,className:(he=H.target)==null?void 0:he.className,editorFocused:M==null?void 0:M.isFocused,defaultPrevented:H.defaultPrevented,timeStamp:H.timeStamp});const le=nn.suggestion;if(le&&!H.defaultPrevented&&M){console.log("🔄 Global fallback: Handling Tab with suggestion:",le.substring(0,30)),H.preventDefault(),nn.suggestion=null,M.commands.insertContent(le);const Ae=M.getText().trim().split(/\s+/).filter(Je=>Je.length>0).length;nn.setSuggestionDebounce&&nn.setSuggestionDebounce(Ae)}}};return document.addEventListener("keydown",ne,!0),()=>document.removeEventListener("keydown",ne,!0)},[M]),m.useEffect(()=>{if(!M)return;const ne=H=>{if(!M.isFocused)return;if(navigator.platform.toUpperCase().indexOf("MAC")>=0?H.metaKey:H.ctrlKey)switch(H.key.toLowerCase()){case"b":H.preventDefault(),M.chain().focus().toggleBold().run();break;case"i":H.preventDefault(),M.chain().focus().toggleItalic().run();break;case"u":H.preventDefault(),M.chain().focus().toggleUnderline().run();break}};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[M]);const L=(M==null?void 0:M.getText())||"",F=(M==null?void 0:M.state.selection.anchor)||0,{suggestions:z,continuations:U,getSuggestionForInput:K,triggerSuggestions:W,forceRefreshSuggestions:te,clearSuggestions:J,currentSuggestion:X}=vle({enabled:N,noteContent:L,noteCategory:i});m.useEffect(()=>{if(M&&t!==void 0){const ne=M.getHTML();if(t&&t!=="<p></p>"&&t!==ne)if(!t.includes("<")&&!t.includes(">")){const H=`<p>${t.replace(/\n/g,"</p><p>")}</p>`;M.commands.setContent(H,!1),r(H)}else M.commands.setContent(t,!1),r(t)}},[M,t,r]);const I=L.trim().split(/\s+/).filter(ne=>ne.length>0).length,P=I-y,G=!w||P>=3;m.useEffect(()=>{w&&G&&(console.log("🕰️ Debounce period ended, re-enabling suggestions"),x(!1))},[w,G]);const j=m.useCallback((ne,H)=>{if(!ne)return ne;const ue=H.trim(),he=/[.!?]\s*$/.test(ue),le=!ue||he;let Ne=ne;return le&&Ne.length>0?Ne=Ne.charAt(0).toUpperCase()+Ne.slice(1):!le&&Ne.length>0&&(Ne=Ne.charAt(0).toLowerCase()+Ne.slice(1)),console.log("🔤 Grammar fix:",{context:`"${ue.slice(-15)}"`,suggestion:`"${ne.substring(0,20)}"`,fixed:`"${Ne.substring(0,20)}"`,isStartOfSentence:le,endsWithSentencePunctuation:he}),Ne},[]),Z=G?K(L,L.length):null,Q=Z?j(Z,L):null;console.log("🔧 Tab Debug:",{shouldShowSuggestions:G,suggestionJustAccepted:C,rawSuggestion:Z==null?void 0:Z.substring(0,20),currentAutocomplete:Q==null?void 0:Q.substring(0,20),suggestionsAvailable:z.length,plainTextLength:L.length,willShowInline:e&&Q&&N&&G&&!C&&L.trim().split(/\s+/).length>=3}),m.useEffect(()=>{M&&M.storage&&typeof M.storage.autocomplete=="object"&&(console.log("🔄 Updating editor autocomplete storage:",{suggestion:Q==null?void 0:Q.substring(0,30),isEditingContent:e,willPassSuggestion:Q!==null,finalSuggestion:(Q==null?void 0:Q.substring(0,30))||"null",storageExists:!!M.storage.autocomplete,editorReady:M.isEditable}),(()=>{var H,ue,he,le,Ne,Ae;nn.suggestion=Q,nn.triggerSuggestions=W,nn.setSuggestionDebounce=Je=>{console.log("🕰️ Setting suggestion debounce after accepting suggestion, word count:",Je),b(Je),x(!0),S(!0);try{const De=[];for(let Ze=0;Ze<localStorage.length;Ze++){const _e=localStorage.key(Ze);_e&&_e.startsWith("note-suggestions-")&&De.push(_e)}De.forEach(Ze=>localStorage.removeItem(Ze)),console.log("🗑️ Cleared note suggestion cache after accepting suggestion")}catch(De){console.warn("Failed to clear note suggestion cache:",De)}console.log("🧹 Clearing in-memory suggestions before refresh",{currentSuggestionsCount:z.length,currentContinuationsCount:U.length,currentSuggestion:X==null?void 0:X.substring(0,30)}),J&&J(),nn.suggestion=null,te&&(console.log("🔄 Force refreshing suggestions after cache clear"),setTimeout(()=>{te()},200)),setTimeout(()=>{S(!1)},100)},nn.handleSave=()=>{p.current&&clearTimeout(p.current),s()},M&&M.storage&&M.storage.autocomplete&&(M.storage.autocomplete={suggestion:Q,triggerSuggestions:W,setSuggestionDebounce:nn.setSuggestionDebounce,handleSave:nn.handleSave}),console.log("✅ Storage after update:",{globalSuggestion:((H=nn.suggestion)==null?void 0:H.substring(0,30))||"null",localSuggestion:((le=(he=(ue=M==null?void 0:M.storage)==null?void 0:ue.autocomplete)==null?void 0:he.suggestion)==null?void 0:le.substring(0,30))||"null",hasGlobalStorage:!!nn.suggestion,hasLocalStorage:!!((Ae=(Ne=M==null?void 0:M.storage)==null?void 0:Ne.autocomplete)!=null&&Ae.suggestion),isEditing:e,timestamp:Date.now()})})())},[M,Q,W,s]),m.useEffect(()=>{var ne,H;console.log("📝 Rich Note Autocomplete State:",{isEditingContent:e,aiEnabled:N,plainTextContent:L.substring(0,50)+(L.length>50?"...":""),cursorPosition:F,currentAutocomplete:(Q==null?void 0:Q.substring(0,30))+(Q&&Q.length>30?"...":""),suggestionsCount:z.length,continuationsCount:U.length,wordCount:I,shouldShow:e&&Q&&L.trim().split(/\s+/).length>=3,suggestionDebounceActive:w,lastAcceptedSuggestionLength:y,wordsAddedSinceLastSuggestion:P,shouldShowSuggestions:G,firstSuggestion:(ne=z[0])==null?void 0:ne.substring(0,30),firstContinuation:(H=U[0])==null?void 0:H.substring(0,30)})},[e,N,L,F,Q,z.length,U.length,z,U,w,y,G]),m.useEffect(()=>{T(N&&e&&(z.length>0||U.length>0||X!==null))},[N,e,z.length,U.length,X]),m.useEffect(()=>{N&&!e&&(z.length>0||Q)&&(console.log("🎯 Auto-enabling editing mode because suggestions are available"),o(!0),M&&M.commands.focus())},[N,e,z.length,Q,M,o]);const ee=m.useCallback(ne=>{M&&(e||(console.log("🎯 Enabling editing mode and focusing editor on click"),o(!0)),M.commands.focus())},[M,e,o]);return m.useEffect(()=>{if(!e)return;const ne=H=>{const ue=M==null?void 0:M.view.dom,he=document.querySelector("[data-rich-text-toolbar]");ue&&!ue.contains(H.target)&&(!he||!he.contains(H.target))&&(p.current&&clearTimeout(p.current),s())};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[e,s,M]),M?h.jsxs("div",{className:"flex flex-col h-full relative","data-rich-text-editor":!0,tabIndex:-1,children:[h.jsx("div",{"data-rich-text-toolbar":!0,className:"flex-shrink-0",children:h.jsx(ple,{editor:M})}),h.jsx("div",{className:"flex-1 relative cursor-text overflow-hidden",onClick:ee,style:{paddingBottom:f?"36px":"8px"},children:h.jsxs("div",{className:"relative h-full",children:[h.jsx(Hie,{editor:M,className:`prose prose-sm max-w-none h-full p-3 focus-within:outline-none cursor-text overflow-y-auto ${_?"prose-gray":"prose-invert"}`,style:{borderColor:a,minHeight:"120px",color:_?"#374151":"#e5e7eb"}}),e&&Q&&N&&G&&!C&&L.trim().split(/\s+/).length>=3&&h.jsx("style",{children:`
                .ProseMirror p:last-child::after {
                  content: "${Q.replace(/"/g,'\\"')}";
                  color: #9CA3AF;
                  font-style: italic;
                  opacity: 0.7;
                  pointer-events: none;
                }
              `}),h.jsx("div",{ref:g,className:"absolute opacity-0 pointer-events-none prose prose-sm max-w-none",style:{fontFamily:"inherit",fontSize:"14px",lineHeight:"20px",padding:"12px",whiteSpace:"pre-wrap",top:0,left:0},children:L})]})}),f&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex-shrink-0 px-2 md:px-3 py-1 md:py-2",style:{borderTop:`1px solid ${a}33`,backgroundColor:_?"#ffffff":"#1e293b",fontSize:"10px"},children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:`${_?"text-gray-500":"text-gray-400"} truncate text-xs md:text-xs`,style:{fontFamily:'"Raleway", sans-serif',fontSize:"inherit"},children:[h.jsx("span",{className:"hidden sm:inline",children:"Last edited: "}),h.jsx("span",{className:"sm:hidden",children:"Edited: "}),$F(f)]}),N&&h.jsx("div",{title:"AI-powered suggestions enabled",className:"flex-shrink-0 ml-1 md:ml-2",children:h.jsx(Zi,{className:"h-2.5 w-2.5 md:h-3 md:w-3",style:{color:a}})})]})})]}):h.jsx("div",{className:"p-4",children:"Loading editor..."})},pce=({currentCategory:t,categoryColor:e,itemColor:n,existingCategories:r,isEditingCategory:o,showNewCategoryInput:s,newCategory:i,setNewCategory:a,setIsEditingCategory:l,setShowNewCategoryInput:u,handleEditCategory:f,handleAddCustomCategory:p,handleUpdateCategoryColor:g})=>{const y=t&&t!==""?t:"General",b=e||n||"#808080",w=()=>"#ffffff";return h.jsx("div",{className:"mb-2 px-6 flex items-center gap-2",children:o?h.jsx("div",{className:"mb-2 w-full",children:s?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(sn,{value:i,onChange:x=>a(x.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&p()}}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:p,className:"h-8 w-8 p-0",children:h.jsx(_o,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>{u(!1),a("")},className:"h-8 w-8 p-0",children:h.jsx(rs,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsxs(Ia,{onValueChange:f,defaultValue:y,children:[h.jsx(xi,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx(Da,{placeholder:"Select a category"})}),h.jsxs(wi,{children:[r.map(x=>h.jsx(yn,{value:x.name,style:{fontFamily:'"Raleway", sans-serif'},children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:x.color_value}}),x.name]})},x.name)),h.jsx(yn,{value:"__custom__",style:{fontFamily:'"Raleway", sans-serif',color:"#2563eb"},children:"+ Add new category"})]})]}),y!=="__custom__"&&h.jsx("div",{className:"flex items-center gap-2 ml-2",children:h.jsx(vi,{color:b,onChange:x=>g(y,x),onSave:x=>g(y,x),children:h.jsxs(Se,{variant:"outline",size:"sm",className:"h-8 px-3 flex items-center gap-2",style:{backgroundColor:"white",borderColor:"#d1d5db",color:"#374151"},children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:b,borderColor:"#d1d5db"}}),"Category Color"]})})}),h.jsx(Se,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>l(!1),children:"Cancel"})]})}):h.jsx(aC,{variant:"outline",className:"cursor-pointer hover:opacity-80 transition-opacity border-none",style:{fontFamily:'"Raleway", sans-serif',backgroundColor:b,color:w()},onClick:()=>l(!0),children:y})})},zF=({note:t,onUpdate:e,onDelete:n,existingCategories:r,onCollapsibleChange:o,isCollapsed:s,onToggleCollapsed:i,updateCategory:a})=>{var ne;const{noteTitle:l,isCollapsibleOpen:u,setIsCollapsibleOpen:f,isEditing:p,setIsEditing:g,editTitle:y,setEditTitle:b,handleEditTitle:w,handleDeleteNote:x,handleSaveNoteColor:C,isSavingColor:S,isEditingCategory:k,setIsEditingCategory:T,showNewCategoryInput:N,setShowNewCategoryInput:A,newCategory:_,setNewCategory:M,handleEditCategory:L,handleAddCustomCategory:F,isEditingContent:z,setIsEditingContent:U,editContent:K,setEditContent:W,handleEditContent:te,titleEditRef:J,contentEditRef:X}=zte({note:t,onUpdate:e,onDelete:n,isCollapsed:s,onToggleCollapsed:i,updateCategory:a}),{theme:I}=ss(),P=I==="light";m.useEffect(()=>{if(!p)return;const H=ue=>{J.current&&!J.current.contains(ue.target)&&w()};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[p,w]);const{toast:B}=Oo(),[G,j]=se.useState(t.color_value||"#FFFFE0");se.useEffect(()=>{j(t.color_value||"#FFFFE0")},[t.color_value]);const Z=(ne=r.find(H=>H.name===t.category))==null?void 0:ne.color_value,Q=t.color_value||Z||"#FFFFE0",ee=async(H,ue)=>{await a(H,{color_value:ue})};return se.useEffect(()=>{console.log("🎨 Note Color Debug:",{noteId:t.id,noteColorValue:t.color_value,currentColorPreview:G,noteDisplayColor:Q,isEditingContent:z})},[t.id,t.color_value,G,Q,z]),h.jsx(rC,{open:u,onOpenChange:H=>{i&&s!==void 0?!s!==H&&i():f(H),o==null||o(H)},className:"w-full",style:{"--note-color":Q},children:h.jsxs(ny,{className:"w-full shadow-sm h-full flex flex-col",style:{border:"none"},children:[h.jsx(ry,{className:"pb-2",children:h.jsx("div",{className:"flex justify-between items-center",children:p?h.jsxs("div",{className:"flex gap-1 w-full",children:[h.jsx(sn,{ref:J,value:y,onChange:H=>b(H.target.value),className:"h-8",autoFocus:!0,onKeyDown:H=>{H.key==="Enter"&&w()}}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:w,className:"h-8 w-8 p-0",children:h.jsx(_o,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>g(!1),className:"h-8 w-8 p-0",children:h.jsx(rs,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vi,{color:Q,onChange:H=>{j(H)},onSave:async H=>{if(H!==(t.color_value||"#FFFFE0"))try{await C(H)}catch{B({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),j(t.color_value||"#FFFFE0")}},children:h.jsxs(Se,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change note color",disabled:S,children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border transition-colors duration-150",style:{backgroundColor:Q,borderColor:"#d1d5db"}}),S&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full",style:{backgroundColor:"rgba(255, 255, 255, 0.8)"},children:h.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),h.jsx($f,{className:"h-4 w-4 text-slate-500"}),h.jsx(oy,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>g(!0),children:l})]}),h.jsxs("div",{className:"flex",children:[h.jsx(oC,{asChild:!0,children:h.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(oi,{className:Be("h-4 w-4 transition-transform",u?"":"transform rotate-180")})})}),h.jsxs(Xg,{children:[h.jsx(Qg,{asChild:!0,children:h.jsx(Se,{variant:"ghost",className:"h-8 w-8 p-0",children:h.jsx(m1,{className:"h-4 w-4"})})}),h.jsxs(qf,{align:"end",children:[h.jsxs(gi,{onClick:()=>g(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Ff,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),h.jsxs(gi,{onClick:x,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Og,{className:"mr-2 h-4 w-4"}),"Delete Note"]})]})]})]})]})})}),h.jsx(pce,{currentCategory:t.category||"",categoryColor:Z,itemColor:t.color_value,existingCategories:r,isEditingCategory:k,showNewCategoryInput:N,newCategory:_,setNewCategory:M,setIsEditingCategory:T,setShowNewCategoryInput:A,handleEditCategory:L,handleAddCustomCategory:F,handleUpdateCategoryColor:ee}),h.jsx(sC,{className:"flex-1",children:h.jsx("div",{className:"rounded-lg mx-2 md:mx-6 mb-6 flex-1 flex flex-col",style:{backgroundColor:P?"#ffffff":"#1e293b",border:`2px solid ${Q} !important`,borderColor:`${Q} !important`,height:`${Math.max(180,(t.height||300)-120)}px`},children:h.jsx(hce,{content:t.content,isEditingContent:z,editContent:K,setEditContent:W,setIsEditingContent:U,handleEditContent:te,contentEditRef:X,noteCategory:t.category,noteColor:Q,noteId:t.id,onAutoSave:async H=>{await e(t.id,{content:H.content,updated_at:H.updated_at})},updatedAt:t.updated_at})})})]})})},mce=({note:t,onPositionUpdate:e,onUpdate:n,onDelete:r,existingCategories:o,canvasTransform:s,updateCategory:i})=>{const[a,l]=m.useState(!1),[u,f]=m.useState(!1),[p,g]=m.useState(!1),[y,b]=m.useState({x:0,y:0}),[w,x]=m.useState({startX:0,startY:0,startWidth:0,startHeight:0}),C=m.useRef(null);m.useEffect(()=>{C.current&&(C.current.style.left=`${t.position_x}px`,C.current.style.top=`${t.position_y}px`)},[t.position_x,t.position_y]);const S=M=>{var F;if(!M.target.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle, .ProseMirror, [data-rich-text-editor], [data-rich-text-toolbar]')&&(M.preventDefault(),C.current)){const z=(F=C.current.parentElement)==null?void 0:F.getBoundingClientRect();if(z){const U=(M.clientX-z.left-s.x)/s.scale,K=(M.clientY-z.top-s.y)/s.scale,W=parseFloat(C.current.style.left)||0,te=parseFloat(C.current.style.top)||0;b({x:(U-W)*s.scale,y:(K-te)*s.scale}),l(!0)}}},k=M=>{var L;if(a&&C.current){const F=(L=C.current.parentElement)==null?void 0:L.getBoundingClientRect();if(!F)return;const z=(M.clientX-F.left-s.x)/s.scale,U=(M.clientY-F.top-s.y)/s.scale,K=z-y.x/s.scale,W=U-y.y/s.scale;C.current.style.left=`${K}px`,C.current.style.top=`${W}px`}if(u&&C.current){const F=M.clientX-w.startX,z=M.clientY-w.startY,U=F/s.scale,K=z/s.scale,W=Math.max(570,w.startWidth+U),te=Math.max(350,w.startHeight+K);C.current.style.width=`${W}px`,C.current.style.height=`${te}px`}},T=()=>{if(a&&C.current){l(!1);const M=parseFloat(C.current.style.left)||0,L=parseFloat(C.current.style.top)||0,F={x:Math.round(M),y:Math.round(L)};e(t.id,F)}if(u&&C.current){f(!1);const M=parseFloat(C.current.style.left)||0,L=parseFloat(C.current.style.top)||0,F=parseFloat(C.current.style.width)||t.width||200,z=parseFloat(C.current.style.height)||t.height||200,U={x:Math.round(M),y:Math.round(L)},K={width:Math.round(F),height:Math.round(z)};e(t.id,U,K)}};m.useEffect(()=>((a||u)&&(window.addEventListener("mousemove",k),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",T)}),[a,u,y,w]);const N=M=>{if(M.preventDefault(),M.stopPropagation(),C.current){const L=parseFloat(C.current.style.width)||t.width||200,F=parseFloat(C.current.style.height)||t.height||200;x({startX:M.clientX,startY:M.clientY,startWidth:L,startHeight:F}),f(!0)}},A=async(M,L)=>{try{await n(M,L)}catch(F){console.error("Failed to update note:",F)}},_=async M=>{try{await r(M)}catch(L){console.error("Failed to delete note:",L)}};return h.jsxs("div",{ref:C,onMouseDown:S,className:"draggable-note-card shadow-lg rounded-lg flex flex-col overflow-hidden border relative",style:{position:"absolute",width:`${t.width||520}px`,height:p?"auto":`${t.height||300}px`,zIndex:a||u?1e3:t.z_index||1,cursor:a?"grabbing":u?"nw-resize":"grab",transition:a||u?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:a||u?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:a||u?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[h.jsx(zF,{note:t,onUpdate:A,onDelete:_,existingCategories:o,onCollapsibleChange:M=>g(!M),updateCategory:i}),!p&&h.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize",onMouseDown:N,style:{background:"linear-gradient(-45deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6}})]})},gce=({whiteboard:t,onUpdate:e,onDelete:n,isCollapsed:r,onToggleCollapsed:o,updateCategory:s,addCategory:i})=>{const{toast:a}=Oo(),[l,u]=m.useState(!0),f=r!==void 0?!r:l,p=o||u,[g,y]=m.useState(!1),[b,w]=m.useState(t.title||"Untitled Whiteboard"),[x,C]=m.useState(!1),[S,k]=m.useState(!1),[T,N]=m.useState(!1),[A,_]=m.useState(""),M=m.useRef(null);se.useEffect(()=>{w(t.title||"Untitled Whiteboard")},[t.title]);const L=m.useCallback(async()=>{b.trim()!==t.title&&await e(t.id,{title:b.trim()}),y(!1)},[b,t.title,t.id,e]),F=m.useCallback(async()=>{await n(t.id)},[t.id,n]),z=m.useCallback(async J=>{C(!0);try{await e(t.id,{color_value:J})}catch(X){throw console.error("Failed to save whiteboard color:",X),a({title:"Error updating color",description:"Could not update whiteboard color. Please try again.",variant:"destructive"}),X}finally{C(!1)}},[t.id,e,a]),U=m.useCallback(async J=>{if(J==="__custom__"){N(!0);return}try{await e(t.id,{category:J}),k(!1),N(!1)}catch(X){console.error("Failed to update whiteboard category:",X),a({title:"Error updating category",description:"Could not update whiteboard category. Please try again.",variant:"destructive"})}},[t.id,e,a]),K=m.useCallback(async()=>{if(A.trim()!=="")try{await e(t.id,{category:A.trim()}),k(!1),N(!1),_("")}catch(J){console.error("Failed to add custom category:",J),a({title:"Error adding category",description:"Could not add custom category. Please try again.",variant:"destructive"})}else a({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},[A,t.id,e,a]),W=m.useCallback(J=>{console.log("Canvas changed:",J)},[]),te=m.useCallback(async J=>{var X;try{console.log("🎨 WhiteboardCardLogic: Saving canvas data:",{whiteboardId:t.id,pathCount:((X=J.canvas_data)==null?void 0:X.length)||0,dataType:typeof J.canvas_data,isArray:Array.isArray(J.canvas_data),dataPreview:JSON.stringify(J.canvas_data).substring(0,200)}),await e(t.id,{canvas_data:JSON.stringify(J.canvas_data),updated_at:J.updated_at}),console.log("🎨 WhiteboardCardLogic: Canvas save completed successfully")}catch(I){console.error("Failed to save canvas data:",I),a({title:"Error saving whiteboard",description:"Could not save your drawing. Please try again.",variant:"destructive"})}},[t.id,e,a]);return{whiteboardTitle:t.title||"Untitled Whiteboard",isCollapsibleOpen:f,setIsCollapsibleOpen:p,isEditing:g,setIsEditing:y,editTitle:b,setEditTitle:w,handleEditTitle:L,handleDeleteWhiteboard:F,handleSaveWhiteboardColor:z,isSavingColor:x,isEditingCategory:S,setIsEditingCategory:k,showNewCategoryInput:T,setShowNewCategoryInput:N,newCategory:A,setNewCategory:_,handleEditCategory:U,handleAddCustomCategory:K,handleCanvasChange:W,handleCanvasSave:te,titleEditRef:M}};function vM(t,e,n,r,o,s,i){try{var a=t[s](i),l=a.value}catch(u){n(u);return}a.done?e(l):Promise.resolve(l).then(r,o)}function yce(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var s=t.apply(e,n);function i(l){vM(s,r,o,i,a,"next",l)}function a(l){vM(s,r,o,i,a,"throw",l)}i(void 0)})}}function xl(){return xl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}var BF={exports:{}};(function(t){var e=function(n){var r=Object.prototype,o=r.hasOwnProperty,s,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function f(I,P,B){return Object.defineProperty(I,P,{value:B,enumerable:!0,configurable:!0,writable:!0}),I[P]}try{f({},"")}catch{f=function(P,B,G){return P[B]=G}}function p(I,P,B,G){var j=P&&P.prototype instanceof S?P:S,Z=Object.create(j.prototype),Q=new te(G||[]);return Z._invoke=z(I,B,Q),Z}n.wrap=p;function g(I,P,B){try{return{type:"normal",arg:I.call(P,B)}}catch(G){return{type:"throw",arg:G}}}var y="suspendedStart",b="suspendedYield",w="executing",x="completed",C={};function S(){}function k(){}function T(){}var N={};f(N,a,function(){return this});var A=Object.getPrototypeOf,_=A&&A(A(J([])));_&&_!==r&&o.call(_,a)&&(N=_);var M=T.prototype=S.prototype=Object.create(N);k.prototype=T,f(M,"constructor",T),f(T,"constructor",k),k.displayName=f(T,u,"GeneratorFunction");function L(I){["next","throw","return"].forEach(function(P){f(I,P,function(B){return this._invoke(P,B)})})}n.isGeneratorFunction=function(I){var P=typeof I=="function"&&I.constructor;return P?P===k||(P.displayName||P.name)==="GeneratorFunction":!1},n.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,T):(I.__proto__=T,f(I,u,"GeneratorFunction")),I.prototype=Object.create(M),I},n.awrap=function(I){return{__await:I}};function F(I,P){function B(Z,Q,ee,ne){var H=g(I[Z],I,Q);if(H.type==="throw")ne(H.arg);else{var ue=H.arg,he=ue.value;return he&&typeof he=="object"&&o.call(he,"__await")?P.resolve(he.__await).then(function(le){B("next",le,ee,ne)},function(le){B("throw",le,ee,ne)}):P.resolve(he).then(function(le){ue.value=le,ee(ue)},function(le){return B("throw",le,ee,ne)})}}var G;function j(Z,Q){function ee(){return new P(function(ne,H){B(Z,Q,ne,H)})}return G=G?G.then(ee,ee):ee()}this._invoke=j}L(F.prototype),f(F.prototype,l,function(){return this}),n.AsyncIterator=F,n.async=function(I,P,B,G,j){j===void 0&&(j=Promise);var Z=new F(p(I,P,B,G),j);return n.isGeneratorFunction(P)?Z:Z.next().then(function(Q){return Q.done?Q.value:Z.next()})};function z(I,P,B){var G=y;return function(Z,Q){if(G===w)throw new Error("Generator is already running");if(G===x){if(Z==="throw")throw Q;return X()}for(B.method=Z,B.arg=Q;;){var ee=B.delegate;if(ee){var ne=U(ee,B);if(ne){if(ne===C)continue;return ne}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(G===y)throw G=x,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);G=w;var H=g(I,P,B);if(H.type==="normal"){if(G=B.done?x:b,H.arg===C)continue;return{value:H.arg,done:B.done}}else H.type==="throw"&&(G=x,B.method="throw",B.arg=H.arg)}}}function U(I,P){var B=I.iterator[P.method];if(B===s){if(P.delegate=null,P.method==="throw"){if(I.iterator.return&&(P.method="return",P.arg=s,U(I,P),P.method==="throw"))return C;P.method="throw",P.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var G=g(B,I.iterator,P.arg);if(G.type==="throw")return P.method="throw",P.arg=G.arg,P.delegate=null,C;var j=G.arg;if(!j)return P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,C;if(j.done)P[I.resultName]=j.value,P.next=I.nextLoc,P.method!=="return"&&(P.method="next",P.arg=s);else return j;return P.delegate=null,C}L(M),f(M,u,"Generator"),f(M,a,function(){return this}),f(M,"toString",function(){return"[object Generator]"});function K(I){var P={tryLoc:I[0]};1 in I&&(P.catchLoc=I[1]),2 in I&&(P.finallyLoc=I[2],P.afterLoc=I[3]),this.tryEntries.push(P)}function W(I){var P=I.completion||{};P.type="normal",delete P.arg,I.completion=P}function te(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(K,this),this.reset(!0)}n.keys=function(I){var P=[];for(var B in I)P.push(B);return P.reverse(),function G(){for(;P.length;){var j=P.pop();if(j in I)return G.value=j,G.done=!1,G}return G.done=!0,G}};function J(I){if(I){var P=I[a];if(P)return P.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var B=-1,G=function j(){for(;++B<I.length;)if(o.call(I,B))return j.value=I[B],j.done=!1,j;return j.value=s,j.done=!0,j};return G.next=G}}return{next:X}}n.values=J;function X(){return{value:s,done:!0}}return te.prototype={constructor:te,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(W),!I)for(var P in this)P.charAt(0)==="t"&&o.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=s)},stop:function(){this.done=!0;var I=this.tryEntries[0],P=I.completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var P=this;function B(ne,H){return Z.type="throw",Z.arg=I,P.next=ne,H&&(P.method="next",P.arg=s),!!H}for(var G=this.tryEntries.length-1;G>=0;--G){var j=this.tryEntries[G],Z=j.completion;if(j.tryLoc==="root")return B("end");if(j.tryLoc<=this.prev){var Q=o.call(j,"catchLoc"),ee=o.call(j,"finallyLoc");if(Q&&ee){if(this.prev<j.catchLoc)return B(j.catchLoc,!0);if(this.prev<j.finallyLoc)return B(j.finallyLoc)}else if(Q){if(this.prev<j.catchLoc)return B(j.catchLoc,!0)}else if(ee){if(this.prev<j.finallyLoc)return B(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(I,P){for(var B=this.tryEntries.length-1;B>=0;--B){var G=this.tryEntries[B];if(G.tryLoc<=this.prev&&o.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var j=G;break}}j&&(I==="break"||I==="continue")&&j.tryLoc<=P&&P<=j.finallyLoc&&(j=null);var Z=j?j.completion:{};return Z.type=I,Z.arg=P,j?(this.method="next",this.next=j.finallyLoc,C):this.complete(Z)},complete:function(I,P){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&P&&(this.next=P),C},finish:function(I){for(var P=this.tryEntries.length-1;P>=0;--P){var B=this.tryEntries[P];if(B.finallyLoc===I)return this.complete(B.completion,B.afterLoc),W(B),C}},catch:function(I){for(var P=this.tryEntries.length-1;P>=0;--P){var B=this.tryEntries[P];if(B.tryLoc===I){var G=B.completion;if(G.type==="throw"){var j=G.arg;W(B)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(I,P,B){return this.delegate={iterator:J(I),resultName:P,nextLoc:B},this.method==="next"&&(this.arg=s),C}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(BF);var xM=BF.exports,WF=function(e){var n=e.paths,r=e.id,o=e.strokeWidth,s=e.strokeColor,i=e.command,a=i===void 0?UF:i;if(n.length===1){var l=n[0],u=l.x,f=l.y,p=o/2;return m.createElement("circle",{key:r,id:r,cx:u,cy:f,r:p,stroke:s,fill:s})}var g=n.reduce(function(y,b,w,x){return w===0?"M "+b.x+","+b.y:y+" "+a(b,w,x)},"");return m.createElement("path",{key:r,id:r,d:g,fill:"none",strokeLinecap:"round",stroke:s,strokeWidth:o})},vce=function(e,n){var r=n.x-e.x,o=n.y-e.y;return{length:Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),angle:Math.atan2(o,r)}},Mp=function(e){var n=e.current,r=e.next,o=e.previous,s=e.reverse,i=o||n,a=r||n,l=.2,u=vce(i,a),f=u.angle+(s?Math.PI:0),p=u.length*l,g=n.x+Math.cos(f)*p,y=n.y+Math.sin(f)*p;return[g,y]},UF=function(e,n,r){var o=null,s=null;switch(n){case 0:var i=Mp({current:e});o=i[0],s=i[1];break;case 1:var a=Mp({current:r[n-1],next:e});o=a[0],s=a[1];break;default:var l=Mp({current:r[n-1],previous:r[n-2],next:e});o=l[0],s=l[1];break}var u=Mp({current:e,previous:r[n-1],next:r[n+1],reverse:!0}),f=u[0],p=u[1];return"C "+o+","+s+" "+f+","+p+" "+e.x+", "+e.y},xce=function(e){var n=e.id,r=e.paths;return m.createElement(m.Fragment,null,r.map(function(o,s){return m.createElement(WF,{key:n+"__"+s,paths:o.paths,id:n+"__"+s,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:UF})}))},wM=function(e){return new Promise(function(n,r){var o=new Image;o.addEventListener("load",function(){o.width>0&&n(o),r("Image not found")}),o.addEventListener("error",function(s){return r(s)}),o.src=e,o.setAttribute("crossorigin","anonymous")})};function bM(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),r=t.offsetWidth,o=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+r+" "+o),n.setAttribute("width",r.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:r,height:o}}var wce=m.forwardRef(function(t,e){var n=t.paths,r=t.isDrawing,o=t.onPointerDown,s=t.onPointerMove,i=t.onPointerUp,a=t.id,l=a===void 0?"react-sketch-canvas":a,u=t.width,f=u===void 0?"100%":u,p=t.height,g=p===void 0?"100%":p,y=t.className,b=y===void 0?"react-sketch-canvas":y,w=t.canvasColor,x=w===void 0?"red":w,C=t.backgroundImage,S=C===void 0?"":C,k=t.exportWithBackgroundImage,T=k===void 0?!1:k,N=t.preserveBackgroundImageAspectRatio,A=N===void 0?"none":N,_=t.allowOnlyPointerType,M=_===void 0?"all":_,L=t.style,F=L===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:L,z=t.svgStyle,U=z===void 0?{}:z,K=m.useRef(null),W=function(j){var Z,Q,ee,ne=(Z=K.current)==null?void 0:Z.getBoundingClientRect(),H=(Q=window.scrollX)!=null?Q:0,ue=(ee=window.scrollY)!=null?ee:0;if(!ne)return{x:0,y:0};var he={x:j.pageX-ne.left-H,y:j.pageY-ne.top-ue};return he},te=function(j){if(!(M!=="all"&&j.pointerType!==M)&&!(j.pointerType==="mouse"&&j.button!==0)){var Z=W(j);o(Z)}},J=function(j){if(r&&!(M!=="all"&&j.pointerType!==M)){var Z=W(j);s(Z)}},X=function(j){j.pointerType==="mouse"&&j.button!==0||M!=="all"&&j.pointerType!==M||i()};m.useImperativeHandle(e,function(){return{exportImage:function(j){return new Promise(function(){var Z=yce(xM.mark(function Q(ee,ne){var H,ue,he,le,Ne,Ae,Je,De;return xM.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(_e.prev=0,H=K.current,H){_e.next=4;break}throw Error("Canvas not rendered yet");case 4:return ue=bM(H),he=ue.svgCanvas,le=ue.width,Ne=ue.height,Ae="data:image/svg+xml;base64,"+btoa(he.outerHTML),_e.next=8,wM(Ae);case 8:if(_e.t0=_e.sent,Je=[_e.t0],!T){_e.next=21;break}return _e.prev=11,_e.next=14,wM(S);case 14:De=_e.sent,Je.push(De),_e.next=21;break;case 18:_e.prev=18,_e.t1=_e.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(Je).then(function(it){var wt=document.createElement("canvas");wt.setAttribute("width",le.toString()),wt.setAttribute("height",Ne.toString());var It=wt.getContext("2d");if(!It)throw Error("Canvas not rendered yet");it.reverse().forEach(function(Re){It.drawImage(Re,0,0)}),ee(wt.toDataURL("image/"+j))}).catch(function(it){throw it}),_e.next=27;break;case 24:_e.prev=24,_e.t2=_e.catch(0),ne(_e.t2);case 27:case"end":return _e.stop()}},Q,null,[[0,24],[11,18]])}));return function(Q,ee){return Z.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(j,Z){try{var Q,ee=(Q=K.current)!=null?Q:null;if(ee!==null){var ne,H,ue=bM(ee),he=ue.svgCanvas;if(T){j(he.outerHTML);return}(ne=he.querySelector("#"+l+"__background"))==null||ne.remove(),(H=he.querySelector("#"+l+"__canvas-background"))==null||H.setAttribute("fill",x),j(he.outerHTML)}Z(new Error("Canvas not loaded"))}catch(le){Z(le)}})}}}),m.useEffect(function(){return document.addEventListener("pointerup",X),function(){document.removeEventListener("pointerup",X)}},[X]);var I=n.filter(function(G){return!G.drawMode}),P=0,B=n.reduce(function(G,j){return j.drawMode?(G[P]===void 0&&(G[P]=[]),G[P].push(j),G):(P+=1,G)},[[]]);return m.createElement("div",{role:"presentation",ref:K,className:b,style:xl({touchAction:"none",width:f,height:g},F),"touch-action":"none",onPointerDown:te,onPointerMove:J,onPointerUp:X},m.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:xl({width:"100%",height:"100%"},U),id:l},m.createElement("g",{id:l+"__eraser-stroke-group",display:"none"},m.createElement("rect",{id:l+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),I.map(function(G,j){return m.createElement(WF,{key:l+"__eraser-"+j,id:l+"__eraser-"+j,paths:G.paths,strokeColor:"#000000",strokeWidth:G.strokeWidth})})),m.createElement("defs",null,S&&m.createElement("pattern",{id:l+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},m.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:S,preserveAspectRatio:A})),I.map(function(G,j){return m.createElement("mask",{id:l+"__eraser-mask-"+j,key:l+"__eraser-mask-"+j,maskUnits:"userSpaceOnUse"},m.createElement("use",{href:"#"+l+"__mask-background"}),Array.from({length:I.length-j},function(Z,Q){return Q+j}).map(function(Z){return m.createElement("use",{key:Z.toString(),href:"#"+l+"__eraser-"+Z.toString()})}))})),m.createElement("g",{id:l+"__canvas-background-group"},m.createElement("rect",{id:l+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:S?"url(#"+l+"__background)":x})),B.map(function(G,j){return m.createElement("g",{id:l+"__stroke-group-"+j,key:l+"__stroke-group-"+j,mask:"url(#"+l+"__eraser-mask-"+j+")"},m.createElement(xce,{id:l,paths:G}))})))}),bce=m.forwardRef(function(t,e){var n=t.id,r=n===void 0?"react-sketch-canvas":n,o=t.width,s=o===void 0?"100%":o,i=t.height,a=i===void 0?"100%":i,l=t.className,u=l===void 0?"":l,f=t.canvasColor,p=f===void 0?"white":f,g=t.strokeColor,y=g===void 0?"red":g,b=t.backgroundImage,w=b===void 0?"":b,x=t.exportWithBackgroundImage,C=x===void 0?!1:x,S=t.preserveBackgroundImageAspectRatio,k=S===void 0?"none":S,T=t.strokeWidth,N=T===void 0?4:T,A=t.eraserWidth,_=A===void 0?8:A,M=t.allowOnlyPointerType,L=M===void 0?"all":M,F=t.style,z=F===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:F,U=t.svgStyle,K=U===void 0?{}:U,W=t.onChange,te=W===void 0?function(Re){}:W,J=t.onStroke,X=J===void 0?function(Re,Ee){}:J,I=t.withTimestamp,P=I===void 0?!1:I,B=m.createRef(),G=m.useState(!0),j=G[0],Z=G[1],Q=m.useState(!1),ee=Q[0],ne=Q[1],H=m.useState([]),ue=H[0],he=H[1],le=m.useState([]),Ne=le[0],Ae=le[1],Je=m.useState([]),De=Je[0],Ze=Je[1],_e=m.useCallback(function(){var Re,Ee,Ue=(Re=(Ee=De.slice(-1))==null?void 0:Ee[0])!=null?Re:null;if(Ue===null){console.warn("No stroke found!");return}X(Ue,!Ue.drawMode)},[ee]);m.useEffect(function(){_e()},[ee]),m.useEffect(function(){te(De)},[De]),m.useImperativeHandle(e,function(){return{eraseMode:function(Ee){Z(!Ee)},clearCanvas:function(){he([].concat(De)),Ze([])},undo:function(){if(ue.length!==0){Ze([].concat(ue)),he([]);return}Ae(function(Ee){return[].concat(Ee,De.slice(-1))}),Ze(function(Ee){return Ee.slice(0,-1)})},redo:function(){Ne.length!==0&&(Ze(function(Ee){return[].concat(Ee,Ne.slice(-1))}),Ae(function(Ee){return Ee.slice(0,-1)}))},exportImage:function(Ee){var Ue,at=(Ue=B.current)==null?void 0:Ue.exportImage;if(at)return at(Ee);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(Ee,Ue){var at,pe=(at=B.current)==null?void 0:at.exportSvg;pe?pe().then(function(xe){Ee(xe)}).catch(function(xe){Ue(xe)}):Ue(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(Ee,Ue){try{Ee(De)}catch(at){Ue(at)}})},loadPaths:function(Ee){Ze(function(Ue){return[].concat(Ue,Ee)})},getSketchingTime:function(){return new Promise(function(Ee,Ue){P||Ue(new Error("Set 'withTimestamp' prop to get sketching time"));try{var at=De.reduce(function(pe,xe){var ke,Ke,lt=(ke=xe.startTimestamp)!=null?ke:0,rt=(Ke=xe.endTimestamp)!=null?Ke:0;return pe+(rt-lt)},0);Ee(at)}catch(pe){Ue(pe)}})},resetCanvas:function(){he([]),Ae([]),Ze([])}}});var it=function(Ee){ne(!0),Ae([]);var Ue={drawMode:j,strokeColor:j?y:"#000000",strokeWidth:j?N:_,paths:[Ee]};P&&(Ue=xl({},Ue,{startTimestamp:Date.now(),endTimestamp:0})),Ze(function(at){return[].concat(at,[Ue])})},wt=function(Ee){if(ee){var Ue=De.slice(-1)[0],at=xl({},Ue,{paths:[].concat(Ue.paths,[Ee])});Ze(function(pe){return[].concat(pe.slice(0,-1),[at])})}},It=function(){var Ee,Ue;if(ee&&(ne(!1),!!P)){var at=(Ee=(Ue=De.slice(-1))==null?void 0:Ue[0])!=null?Ee:null;if(at!==null){var pe=xl({},at,{endTimestamp:Date.now()});Ze(function(xe){return[].concat(xe.slice(0,-1),[pe])})}}};return m.createElement(wce,{ref:B,id:r,width:s,height:a,className:u,canvasColor:p,backgroundImage:w,exportWithBackgroundImage:C,preserveBackgroundImageAspectRatio:k,allowOnlyPointerType:L,style:z,svgStyle:K,paths:De,isDrawing:ee,onPointerDown:it,onPointerMove:wt,onPointerUp:It})}),HF=["PageUp","PageDown"],VF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],GF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ou="Slider",[lb,Cce,Sce]=Df(Ou),[KF,jue]=$r(Ou,[Sce]),[kce,Ty]=KF(Ou),qF=m.forwardRef((t,e)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:f,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:b,...w}=t,x=m.useRef(new Set),C=m.useRef(0),k=i==="horizontal"?Ece:Nce,[T=[],N]=ro({prop:f,defaultProp:u,onChange:z=>{var K;(K=[...x.current][C.current])==null||K.focus(),p(z)}}),A=m.useRef(T);function _(z){const U=_ce(T,z);F(z,U)}function M(z){F(z,C.current)}function L(){const z=A.current[C.current];T[C.current]!==z&&g(T)}function F(z,U,{commit:K}={commit:!1}){const W=Dce(s),te=jce(Math.round((z-r)/s)*s+r,W),J=$m(te,[r,o]);N((X=[])=>{const I=Mce(X,J,U);if(Ice(I,l*s)){C.current=I.indexOf(J);const P=String(I)!==String(X);return P&&K&&g(I),P?I:X}else return X})}return h.jsx(kce,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:C,thumbs:x.current,values:T,orientation:i,form:b,children:h.jsx(lb.Provider,{scope:t.__scopeSlider,children:h.jsx(lb.Slot,{scope:t.__scopeSlider,children:h.jsx(k,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:e,onPointerDown:Ce(w.onPointerDown,()=>{a||(A.current=T)}),min:r,max:o,inverted:y,onSlideStart:a?void 0:_,onSlideMove:a?void 0:M,onSlideEnd:a?void 0:L,onHomeKeyDown:()=>!a&&F(r,0,{commit:!0}),onEndKeyDown:()=>!a&&F(o,T.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:U})=>{if(!a){const te=HF.includes(z.key)||z.shiftKey&&VF.includes(z.key)?10:1,J=C.current,X=T[J],I=s*te*U;F(X+I,J,{commit:!0})}}})})})})});qF.displayName=Ou;var[YF,JF]=KF(Ou,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ece=m.forwardRef((t,e)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...f}=t,[p,g]=m.useState(null),y=dt(e,k=>g(k)),b=m.useRef(void 0),w=Wf(o),x=w==="ltr",C=x&&!s||!x&&s;function S(k){const T=b.current||p.getBoundingClientRect(),N=[0,T.width],_=GC(N,C?[n,r]:[r,n]);return b.current=T,_(k-T.left)}return h.jsx(YF,{scope:t.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:h.jsx(XF,{dir:w,"data-orientation":"horizontal",...f,ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const T=S(k.clientX);i==null||i(T)},onSlideMove:k=>{const T=S(k.clientX);a==null||a(T)},onSlideEnd:()=>{b.current=void 0,l==null||l()},onStepKeyDown:k=>{const N=GF[C?"from-left":"from-right"].includes(k.key);u==null||u({event:k,direction:N?-1:1})}})})}),Nce=m.forwardRef((t,e)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...u}=t,f=m.useRef(null),p=dt(e,f),g=m.useRef(void 0),y=!o;function b(w){const x=g.current||f.current.getBoundingClientRect(),C=[0,x.height],k=GC(C,y?[r,n]:[n,r]);return g.current=x,k(w-x.top)}return h.jsx(YF,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:h.jsx(XF,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const x=b(w.clientY);s==null||s(x)},onSlideMove:w=>{const x=b(w.clientY);i==null||i(x)},onSlideEnd:()=>{g.current=void 0,a==null||a()},onStepKeyDown:w=>{const C=GF[y?"from-bottom":"from-top"].includes(w.key);l==null||l({event:w,direction:C?-1:1})}})})}),XF=m.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...u}=t,f=Ty(Ou,n);return h.jsx(Fe.span,{...u,ref:e,onKeyDown:Ce(t.onKeyDown,p=>{p.key==="Home"?(i(p),p.preventDefault()):p.key==="End"?(a(p),p.preventDefault()):HF.concat(VF).includes(p.key)&&(l(p),p.preventDefault())}),onPointerDown:Ce(t.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),f.thumbs.has(g)?g.focus():r(p)}),onPointerMove:Ce(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&o(p)}),onPointerUp:Ce(t.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),s(p))})})}),QF="SliderTrack",ZF=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,o=Ty(QF,n);return h.jsx(Fe.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:e})});ZF.displayName=QF;var cb="SliderRange",e4=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,o=Ty(cb,n),s=JF(cb,n),i=m.useRef(null),a=dt(e,i),l=o.values.length,u=o.values.map(g=>r4(g,o.min,o.max)),f=l>1?Math.min(...u):0,p=100-Math.max(...u);return h.jsx(Fe.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:p+"%"}})});e4.displayName=cb;var ub="SliderThumb",t4=m.forwardRef((t,e)=>{const n=Cce(t.__scopeSlider),[r,o]=m.useState(null),s=dt(e,a=>o(a)),i=m.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return h.jsx(Tce,{...t,ref:s,index:i})}),Tce=m.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:o,...s}=t,i=Ty(ub,n),a=JF(ub,n),[l,u]=m.useState(null),f=dt(e,S=>u(S)),p=l?i.form||!!l.closest("form"):!0,g=N1(l),y=i.values[r],b=y===void 0?0:r4(y,i.min,i.max),w=Ace(r,i.values.length),x=g==null?void 0:g[a.size],C=x?Oce(x,b,a.direction):0;return m.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${b}% + ${C}px)`},children:[h.jsx(lb.ItemSlot,{scope:t.__scopeSlider,children:h.jsx(Fe.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:f,style:y===void 0?{display:"none"}:t.style,onFocus:Ce(t.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),p&&h.jsx(n4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});t4.displayName=ub;var Rce="RadioBubbleInput",n4=m.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const o=m.useRef(null),s=dt(o,r),i=F1(e);return m.useEffect(()=>{const a=o.current;if(!a)return;const l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&f){const p=new Event("input",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[i,e]),h.jsx(Fe.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});n4.displayName=Rce;function Mce(t=[],e,n){const r=[...t];return r[n]=e,r.sort((o,s)=>o-s)}function r4(t,e,n){const s=100/(n-e)*(t-e);return $m(s,[0,100])}function Ace(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function _ce(t,e){if(t.length===1)return 0;const n=t.map(o=>Math.abs(o-e)),r=Math.min(...n);return n.indexOf(r)}function Oce(t,e,n){const r=t/2,s=GC([0,50],[0,r]);return(r-s(e)*n)*n}function Pce(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Ice(t,e){if(e>0){const n=Pce(t);return Math.min(...n)>=e}return!0}function GC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Dce(t){return(String(t).split(".")[1]||"").length}function jce(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var o4=qF,Lce=ZF,Fce=e4,$ce=t4;const s4=m.forwardRef(({className:t,...e},n)=>h.jsxs(o4,{ref:n,className:Be("relative flex w-full touch-none select-none items-center",t),...e,children:[h.jsx(Lce,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:h.jsx(Fce,{className:"absolute h-full bg-primary"})}),h.jsx($ce,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));s4.displayName=o4.displayName;var sg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */sg.exports;(function(t,e){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",p=1,g=2,y=4,b=1,w=2,x=1,C=2,S=4,k=8,T=16,N=32,A=64,_=128,M=256,L=512,F=30,z="...",U=800,K=16,W=1,te=2,J=3,X=1/0,I=9007199254740991,P=17976931348623157e292,B=NaN,G=4294967295,j=G-1,Z=G>>>1,Q=[["ary",_],["bind",x],["bindKey",C],["curry",k],["curryRight",T],["flip",L],["partial",N],["partialRight",A],["rearg",M]],ee="[object Arguments]",ne="[object Array]",H="[object AsyncFunction]",ue="[object Boolean]",he="[object Date]",le="[object DOMException]",Ne="[object Error]",Ae="[object Function]",Je="[object GeneratorFunction]",De="[object Map]",Ze="[object Number]",_e="[object Null]",it="[object Object]",wt="[object Promise]",It="[object Proxy]",Re="[object RegExp]",Ee="[object Set]",Ue="[object String]",at="[object Symbol]",pe="[object Undefined]",xe="[object WeakMap]",ke="[object WeakSet]",Ke="[object ArrayBuffer]",lt="[object DataView]",rt="[object Float32Array]",Ht="[object Float64Array]",ae="[object Int8Array]",Pe="[object Int16Array]",Te="[object Int32Array]",je="[object Uint8Array]",bt="[object Uint8ClampedArray]",Dt="[object Uint16Array]",Po="[object Uint32Array]",ao=/\b__p \+= '';/g,Ds=/\b(__p \+=) '' \+/g,bi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,js=/&(?:amp|lt|gt|quot|#39);/g,Vt=/[&<>"']/g,Ft=RegExp(js.source),Cn=RegExp(Vt.source),He=/<%-([\s\S]+?)%>/g,et=/<%([\s\S]+?)%>/g,ot=/<%=([\s\S]+?)%>/g,$t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ln=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,en=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(en.source),Jt=/^\s+/,Ls=/\s/,me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ge=/\{\n\/\* \[wrapped with (.+)\] \*/,we=/,? & /,$e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,At=/\\(\\)?/g,hn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lr=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Fs=/^0b[01]+$/i,Bl=/^\[object .+?Constructor\]$/,cr=/^0o[0-7]+$/i,Pu=/^(?:0|[1-9]\d*)$/,Wl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ul=/($^)/,Ry=/['\n\r\u2028\u2029\\]/g,oh="\\ud800-\\udfff",a4="\\u0300-\\u036f",l4="\\ufe20-\\ufe2f",c4="\\u20d0-\\u20ff",KC=a4+l4+c4,qC="\\u2700-\\u27bf",YC="a-z\\xdf-\\xf6\\xf8-\\xff",u4="\\xac\\xb1\\xd7\\xf7",d4="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f4="\\u2000-\\u206f",h4=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",JC="A-Z\\xc0-\\xd6\\xd8-\\xde",XC="\\ufe0e\\ufe0f",QC=u4+d4+f4+h4,My="['’]",p4="["+oh+"]",ZC="["+QC+"]",sh="["+KC+"]",eS="\\d+",m4="["+qC+"]",tS="["+YC+"]",nS="[^"+oh+QC+eS+qC+YC+JC+"]",Ay="\\ud83c[\\udffb-\\udfff]",g4="(?:"+sh+"|"+Ay+")",rS="[^"+oh+"]",_y="(?:\\ud83c[\\udde6-\\uddff]){2}",Oy="[\\ud800-\\udbff][\\udc00-\\udfff]",Hl="["+JC+"]",oS="\\u200d",sS="(?:"+tS+"|"+nS+")",y4="(?:"+Hl+"|"+nS+")",iS="(?:"+My+"(?:d|ll|m|re|s|t|ve))?",aS="(?:"+My+"(?:D|LL|M|RE|S|T|VE))?",lS=g4+"?",cS="["+XC+"]?",v4="(?:"+oS+"(?:"+[rS,_y,Oy].join("|")+")"+cS+lS+")*",x4="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",w4="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",uS=cS+lS+v4,b4="(?:"+[m4,_y,Oy].join("|")+")"+uS,C4="(?:"+[rS+sh+"?",sh,_y,Oy,p4].join("|")+")",S4=RegExp(My,"g"),k4=RegExp(sh,"g"),Py=RegExp(Ay+"(?="+Ay+")|"+C4+uS,"g"),E4=RegExp([Hl+"?"+tS+"+"+iS+"(?="+[ZC,Hl,"$"].join("|")+")",y4+"+"+aS+"(?="+[ZC,Hl+sS,"$"].join("|")+")",Hl+"?"+sS+"+"+iS,Hl+"+"+aS,w4,x4,eS,b4].join("|"),"g"),N4=RegExp("["+oS+oh+KC+XC+"]"),T4=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,R4=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],M4=-1,Gt={};Gt[rt]=Gt[Ht]=Gt[ae]=Gt[Pe]=Gt[Te]=Gt[je]=Gt[bt]=Gt[Dt]=Gt[Po]=!0,Gt[ee]=Gt[ne]=Gt[Ke]=Gt[ue]=Gt[lt]=Gt[he]=Gt[Ne]=Gt[Ae]=Gt[De]=Gt[Ze]=Gt[it]=Gt[Re]=Gt[Ee]=Gt[Ue]=Gt[xe]=!1;var Wt={};Wt[ee]=Wt[ne]=Wt[Ke]=Wt[lt]=Wt[ue]=Wt[he]=Wt[rt]=Wt[Ht]=Wt[ae]=Wt[Pe]=Wt[Te]=Wt[De]=Wt[Ze]=Wt[it]=Wt[Re]=Wt[Ee]=Wt[Ue]=Wt[at]=Wt[je]=Wt[bt]=Wt[Dt]=Wt[Po]=!0,Wt[Ne]=Wt[Ae]=Wt[xe]=!1;var A4={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},_4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O4={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},P4={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},I4=parseFloat,D4=parseInt,dS=typeof Yu=="object"&&Yu&&Yu.Object===Object&&Yu,j4=typeof self=="object"&&self&&self.Object===Object&&self,Fn=dS||j4||Function("return this")(),Iy=e&&!e.nodeType&&e,za=Iy&&!0&&t&&!t.nodeType&&t,fS=za&&za.exports===Iy,Dy=fS&&dS.process,lo=function(){try{var q=za&&za.require&&za.require("util").types;return q||Dy&&Dy.binding&&Dy.binding("util")}catch{}}(),hS=lo&&lo.isArrayBuffer,pS=lo&&lo.isDate,mS=lo&&lo.isMap,gS=lo&&lo.isRegExp,yS=lo&&lo.isSet,vS=lo&&lo.isTypedArray;function Wr(q,ie,re){switch(re.length){case 0:return q.call(ie);case 1:return q.call(ie,re[0]);case 2:return q.call(ie,re[0],re[1]);case 3:return q.call(ie,re[0],re[1],re[2])}return q.apply(ie,re)}function L4(q,ie,re,Ie){for(var nt=-1,Tt=q==null?0:q.length;++nt<Tt;){var Sn=q[nt];ie(Ie,Sn,re(Sn),q)}return Ie}function co(q,ie){for(var re=-1,Ie=q==null?0:q.length;++re<Ie&&ie(q[re],re,q)!==!1;);return q}function F4(q,ie){for(var re=q==null?0:q.length;re--&&ie(q[re],re,q)!==!1;);return q}function xS(q,ie){for(var re=-1,Ie=q==null?0:q.length;++re<Ie;)if(!ie(q[re],re,q))return!1;return!0}function Ci(q,ie){for(var re=-1,Ie=q==null?0:q.length,nt=0,Tt=[];++re<Ie;){var Sn=q[re];ie(Sn,re,q)&&(Tt[nt++]=Sn)}return Tt}function ih(q,ie){var re=q==null?0:q.length;return!!re&&Vl(q,ie,0)>-1}function jy(q,ie,re){for(var Ie=-1,nt=q==null?0:q.length;++Ie<nt;)if(re(ie,q[Ie]))return!0;return!1}function Xt(q,ie){for(var re=-1,Ie=q==null?0:q.length,nt=Array(Ie);++re<Ie;)nt[re]=ie(q[re],re,q);return nt}function Si(q,ie){for(var re=-1,Ie=ie.length,nt=q.length;++re<Ie;)q[nt+re]=ie[re];return q}function Ly(q,ie,re,Ie){var nt=-1,Tt=q==null?0:q.length;for(Ie&&Tt&&(re=q[++nt]);++nt<Tt;)re=ie(re,q[nt],nt,q);return re}function $4(q,ie,re,Ie){var nt=q==null?0:q.length;for(Ie&&nt&&(re=q[--nt]);nt--;)re=ie(re,q[nt],nt,q);return re}function Fy(q,ie){for(var re=-1,Ie=q==null?0:q.length;++re<Ie;)if(ie(q[re],re,q))return!0;return!1}var z4=$y("length");function B4(q){return q.split("")}function W4(q){return q.match($e)||[]}function wS(q,ie,re){var Ie;return re(q,function(nt,Tt,Sn){if(ie(nt,Tt,Sn))return Ie=Tt,!1}),Ie}function ah(q,ie,re,Ie){for(var nt=q.length,Tt=re+(Ie?1:-1);Ie?Tt--:++Tt<nt;)if(ie(q[Tt],Tt,q))return Tt;return-1}function Vl(q,ie,re){return ie===ie?e3(q,ie,re):ah(q,bS,re)}function U4(q,ie,re,Ie){for(var nt=re-1,Tt=q.length;++nt<Tt;)if(Ie(q[nt],ie))return nt;return-1}function bS(q){return q!==q}function CS(q,ie){var re=q==null?0:q.length;return re?By(q,ie)/re:B}function $y(q){return function(ie){return ie==null?n:ie[q]}}function zy(q){return function(ie){return q==null?n:q[ie]}}function SS(q,ie,re,Ie,nt){return nt(q,function(Tt,Sn,jt){re=Ie?(Ie=!1,Tt):ie(re,Tt,Sn,jt)}),re}function H4(q,ie){var re=q.length;for(q.sort(ie);re--;)q[re]=q[re].value;return q}function By(q,ie){for(var re,Ie=-1,nt=q.length;++Ie<nt;){var Tt=ie(q[Ie]);Tt!==n&&(re=re===n?Tt:re+Tt)}return re}function Wy(q,ie){for(var re=-1,Ie=Array(q);++re<q;)Ie[re]=ie(re);return Ie}function V4(q,ie){return Xt(ie,function(re){return[re,q[re]]})}function kS(q){return q&&q.slice(0,RS(q)+1).replace(Jt,"")}function Ur(q){return function(ie){return q(ie)}}function Uy(q,ie){return Xt(ie,function(re){return q[re]})}function Iu(q,ie){return q.has(ie)}function ES(q,ie){for(var re=-1,Ie=q.length;++re<Ie&&Vl(ie,q[re],0)>-1;);return re}function NS(q,ie){for(var re=q.length;re--&&Vl(ie,q[re],0)>-1;);return re}function G4(q,ie){for(var re=q.length,Ie=0;re--;)q[re]===ie&&++Ie;return Ie}var K4=zy(A4),q4=zy(_4);function Y4(q){return"\\"+P4[q]}function J4(q,ie){return q==null?n:q[ie]}function Gl(q){return N4.test(q)}function X4(q){return T4.test(q)}function Q4(q){for(var ie,re=[];!(ie=q.next()).done;)re.push(ie.value);return re}function Hy(q){var ie=-1,re=Array(q.size);return q.forEach(function(Ie,nt){re[++ie]=[nt,Ie]}),re}function TS(q,ie){return function(re){return q(ie(re))}}function ki(q,ie){for(var re=-1,Ie=q.length,nt=0,Tt=[];++re<Ie;){var Sn=q[re];(Sn===ie||Sn===f)&&(q[re]=f,Tt[nt++]=re)}return Tt}function lh(q){var ie=-1,re=Array(q.size);return q.forEach(function(Ie){re[++ie]=Ie}),re}function Z4(q){var ie=-1,re=Array(q.size);return q.forEach(function(Ie){re[++ie]=[Ie,Ie]}),re}function e3(q,ie,re){for(var Ie=re-1,nt=q.length;++Ie<nt;)if(q[Ie]===ie)return Ie;return-1}function t3(q,ie,re){for(var Ie=re+1;Ie--;)if(q[Ie]===ie)return Ie;return Ie}function Kl(q){return Gl(q)?r3(q):z4(q)}function Io(q){return Gl(q)?o3(q):B4(q)}function RS(q){for(var ie=q.length;ie--&&Ls.test(q.charAt(ie)););return ie}var n3=zy(O4);function r3(q){for(var ie=Py.lastIndex=0;Py.test(q);)++ie;return ie}function o3(q){return q.match(Py)||[]}function s3(q){return q.match(E4)||[]}var i3=function q(ie){ie=ie==null?Fn:ql.defaults(Fn.Object(),ie,ql.pick(Fn,R4));var re=ie.Array,Ie=ie.Date,nt=ie.Error,Tt=ie.Function,Sn=ie.Math,jt=ie.Object,Vy=ie.RegExp,a3=ie.String,uo=ie.TypeError,ch=re.prototype,l3=Tt.prototype,Yl=jt.prototype,uh=ie["__core-js_shared__"],dh=l3.toString,_t=Yl.hasOwnProperty,c3=0,MS=function(){var c=/[^.]+$/.exec(uh&&uh.keys&&uh.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),fh=Yl.toString,u3=dh.call(jt),d3=Fn._,f3=Vy("^"+dh.call(_t).replace(en,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hh=fS?ie.Buffer:n,Ei=ie.Symbol,ph=ie.Uint8Array,AS=hh?hh.allocUnsafe:n,mh=TS(jt.getPrototypeOf,jt),_S=jt.create,OS=Yl.propertyIsEnumerable,gh=ch.splice,PS=Ei?Ei.isConcatSpreadable:n,Du=Ei?Ei.iterator:n,Ba=Ei?Ei.toStringTag:n,yh=function(){try{var c=Ga(jt,"defineProperty");return c({},"",{}),c}catch{}}(),h3=ie.clearTimeout!==Fn.clearTimeout&&ie.clearTimeout,p3=Ie&&Ie.now!==Fn.Date.now&&Ie.now,m3=ie.setTimeout!==Fn.setTimeout&&ie.setTimeout,vh=Sn.ceil,xh=Sn.floor,Gy=jt.getOwnPropertySymbols,g3=hh?hh.isBuffer:n,IS=ie.isFinite,y3=ch.join,v3=TS(jt.keys,jt),kn=Sn.max,Jn=Sn.min,x3=Ie.now,w3=ie.parseInt,DS=Sn.random,b3=ch.reverse,Ky=Ga(ie,"DataView"),ju=Ga(ie,"Map"),qy=Ga(ie,"Promise"),Jl=Ga(ie,"Set"),Lu=Ga(ie,"WeakMap"),Fu=Ga(jt,"create"),wh=Lu&&new Lu,Xl={},C3=Ka(Ky),S3=Ka(ju),k3=Ka(qy),E3=Ka(Jl),N3=Ka(Lu),bh=Ei?Ei.prototype:n,$u=bh?bh.valueOf:n,jS=bh?bh.toString:n;function O(c){if(cn(c)&&!st(c)&&!(c instanceof Ct)){if(c instanceof fo)return c;if(_t.call(c,"__wrapped__"))return Lk(c)}return new fo(c)}var Ql=function(){function c(){}return function(d){if(!tn(d))return{};if(_S)return _S(d);c.prototype=d;var v=new c;return c.prototype=n,v}}();function Ch(){}function fo(c,d){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}O.templateSettings={escape:He,evaluate:et,interpolate:ot,variable:"",imports:{_:O}},O.prototype=Ch.prototype,O.prototype.constructor=O,fo.prototype=Ql(Ch.prototype),fo.prototype.constructor=fo;function Ct(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function T3(){var c=new Ct(this.__wrapped__);return c.__actions__=Er(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Er(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Er(this.__views__),c}function R3(){if(this.__filtered__){var c=new Ct(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function M3(){var c=this.__wrapped__.value(),d=this.__dir__,v=st(c),E=d<0,R=v?c.length:0,D=B$(0,R,this.__views__),$=D.start,V=D.end,Y=V-$,de=E?V:$-1,fe=this.__iteratees__,ye=fe.length,Me=0,We=Jn(Y,this.__takeCount__);if(!v||!E&&R==Y&&We==Y)return ik(c,this.__actions__);var Xe=[];e:for(;Y--&&Me<We;){de+=d;for(var mt=-1,Qe=c[de];++mt<ye;){var vt=fe[mt],St=vt.iteratee,Gr=vt.type,fr=St(Qe);if(Gr==te)Qe=fr;else if(!fr){if(Gr==W)continue e;break e}}Xe[Me++]=Qe}return Xe}Ct.prototype=Ql(Ch.prototype),Ct.prototype.constructor=Ct;function Wa(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var E=c[d];this.set(E[0],E[1])}}function A3(){this.__data__=Fu?Fu(null):{},this.size=0}function _3(c){var d=this.has(c)&&delete this.__data__[c];return this.size-=d?1:0,d}function O3(c){var d=this.__data__;if(Fu){var v=d[c];return v===l?n:v}return _t.call(d,c)?d[c]:n}function P3(c){var d=this.__data__;return Fu?d[c]!==n:_t.call(d,c)}function I3(c,d){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=Fu&&d===n?l:d,this}Wa.prototype.clear=A3,Wa.prototype.delete=_3,Wa.prototype.get=O3,Wa.prototype.has=P3,Wa.prototype.set=I3;function $s(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var E=c[d];this.set(E[0],E[1])}}function D3(){this.__data__=[],this.size=0}function j3(c){var d=this.__data__,v=Sh(d,c);if(v<0)return!1;var E=d.length-1;return v==E?d.pop():gh.call(d,v,1),--this.size,!0}function L3(c){var d=this.__data__,v=Sh(d,c);return v<0?n:d[v][1]}function F3(c){return Sh(this.__data__,c)>-1}function $3(c,d){var v=this.__data__,E=Sh(v,c);return E<0?(++this.size,v.push([c,d])):v[E][1]=d,this}$s.prototype.clear=D3,$s.prototype.delete=j3,$s.prototype.get=L3,$s.prototype.has=F3,$s.prototype.set=$3;function zs(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var E=c[d];this.set(E[0],E[1])}}function z3(){this.size=0,this.__data__={hash:new Wa,map:new(ju||$s),string:new Wa}}function B3(c){var d=Dh(this,c).delete(c);return this.size-=d?1:0,d}function W3(c){return Dh(this,c).get(c)}function U3(c){return Dh(this,c).has(c)}function H3(c,d){var v=Dh(this,c),E=v.size;return v.set(c,d),this.size+=v.size==E?0:1,this}zs.prototype.clear=z3,zs.prototype.delete=B3,zs.prototype.get=W3,zs.prototype.has=U3,zs.prototype.set=H3;function Ua(c){var d=-1,v=c==null?0:c.length;for(this.__data__=new zs;++d<v;)this.add(c[d])}function V3(c){return this.__data__.set(c,l),this}function G3(c){return this.__data__.has(c)}Ua.prototype.add=Ua.prototype.push=V3,Ua.prototype.has=G3;function Do(c){var d=this.__data__=new $s(c);this.size=d.size}function K3(){this.__data__=new $s,this.size=0}function q3(c){var d=this.__data__,v=d.delete(c);return this.size=d.size,v}function Y3(c){return this.__data__.get(c)}function J3(c){return this.__data__.has(c)}function X3(c,d){var v=this.__data__;if(v instanceof $s){var E=v.__data__;if(!ju||E.length<o-1)return E.push([c,d]),this.size=++v.size,this;v=this.__data__=new zs(E)}return v.set(c,d),this.size=v.size,this}Do.prototype.clear=K3,Do.prototype.delete=q3,Do.prototype.get=Y3,Do.prototype.has=J3,Do.prototype.set=X3;function LS(c,d){var v=st(c),E=!v&&qa(c),R=!v&&!E&&Ai(c),D=!v&&!E&&!R&&nc(c),$=v||E||R||D,V=$?Wy(c.length,a3):[],Y=V.length;for(var de in c)(d||_t.call(c,de))&&!($&&(de=="length"||R&&(de=="offset"||de=="parent")||D&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Hs(de,Y)))&&V.push(de);return V}function FS(c){var d=c.length;return d?c[sv(0,d-1)]:n}function Q3(c,d){return jh(Er(c),Ha(d,0,c.length))}function Z3(c){return jh(Er(c))}function Yy(c,d,v){(v!==n&&!jo(c[d],v)||v===n&&!(d in c))&&Bs(c,d,v)}function zu(c,d,v){var E=c[d];(!(_t.call(c,d)&&jo(E,v))||v===n&&!(d in c))&&Bs(c,d,v)}function Sh(c,d){for(var v=c.length;v--;)if(jo(c[v][0],d))return v;return-1}function e$(c,d,v,E){return Ni(c,function(R,D,$){d(E,R,v(R),$)}),E}function $S(c,d){return c&&ds(d,Rn(d),c)}function t$(c,d){return c&&ds(d,Tr(d),c)}function Bs(c,d,v){d=="__proto__"&&yh?yh(c,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):c[d]=v}function Jy(c,d){for(var v=-1,E=d.length,R=re(E),D=c==null;++v<E;)R[v]=D?n:Av(c,d[v]);return R}function Ha(c,d,v){return c===c&&(v!==n&&(c=c<=v?c:v),d!==n&&(c=c>=d?c:d)),c}function ho(c,d,v,E,R,D){var $,V=d&p,Y=d&g,de=d&y;if(v&&($=R?v(c,E,R,D):v(c)),$!==n)return $;if(!tn(c))return c;var fe=st(c);if(fe){if($=U$(c),!V)return Er(c,$)}else{var ye=Xn(c),Me=ye==Ae||ye==Je;if(Ai(c))return ck(c,V);if(ye==it||ye==ee||Me&&!R){if($=Y||Me?{}:Rk(c),!V)return Y?O$(c,t$($,c)):_$(c,$S($,c))}else{if(!Wt[ye])return R?c:{};$=H$(c,ye,V)}}D||(D=new Do);var We=D.get(c);if(We)return We;D.set(c,$),rE(c)?c.forEach(function(Qe){$.add(ho(Qe,d,v,Qe,c,D))}):tE(c)&&c.forEach(function(Qe,vt){$.set(vt,ho(Qe,d,v,vt,c,D))});var Xe=de?Y?gv:mv:Y?Tr:Rn,mt=fe?n:Xe(c);return co(mt||c,function(Qe,vt){mt&&(vt=Qe,Qe=c[vt]),zu($,vt,ho(Qe,d,v,vt,c,D))}),$}function n$(c){var d=Rn(c);return function(v){return zS(v,c,d)}}function zS(c,d,v){var E=v.length;if(c==null)return!E;for(c=jt(c);E--;){var R=v[E],D=d[R],$=c[R];if($===n&&!(R in c)||!D($))return!1}return!0}function BS(c,d,v){if(typeof c!="function")throw new uo(i);return Ku(function(){c.apply(n,v)},d)}function Bu(c,d,v,E){var R=-1,D=ih,$=!0,V=c.length,Y=[],de=d.length;if(!V)return Y;v&&(d=Xt(d,Ur(v))),E?(D=jy,$=!1):d.length>=o&&(D=Iu,$=!1,d=new Ua(d));e:for(;++R<V;){var fe=c[R],ye=v==null?fe:v(fe);if(fe=E||fe!==0?fe:0,$&&ye===ye){for(var Me=de;Me--;)if(d[Me]===ye)continue e;Y.push(fe)}else D(d,ye,E)||Y.push(fe)}return Y}var Ni=pk(us),WS=pk(Qy,!0);function r$(c,d){var v=!0;return Ni(c,function(E,R,D){return v=!!d(E,R,D),v}),v}function kh(c,d,v){for(var E=-1,R=c.length;++E<R;){var D=c[E],$=d(D);if($!=null&&(V===n?$===$&&!Vr($):v($,V)))var V=$,Y=D}return Y}function o$(c,d,v,E){var R=c.length;for(v=ft(v),v<0&&(v=-v>R?0:R+v),E=E===n||E>R?R:ft(E),E<0&&(E+=R),E=v>E?0:sE(E);v<E;)c[v++]=d;return c}function US(c,d){var v=[];return Ni(c,function(E,R,D){d(E,R,D)&&v.push(E)}),v}function $n(c,d,v,E,R){var D=-1,$=c.length;for(v||(v=G$),R||(R=[]);++D<$;){var V=c[D];d>0&&v(V)?d>1?$n(V,d-1,v,E,R):Si(R,V):E||(R[R.length]=V)}return R}var Xy=mk(),HS=mk(!0);function us(c,d){return c&&Xy(c,d,Rn)}function Qy(c,d){return c&&HS(c,d,Rn)}function Eh(c,d){return Ci(d,function(v){return Vs(c[v])})}function Va(c,d){d=Ri(d,c);for(var v=0,E=d.length;c!=null&&v<E;)c=c[fs(d[v++])];return v&&v==E?c:n}function VS(c,d,v){var E=d(c);return st(c)?E:Si(E,v(c))}function ur(c){return c==null?c===n?pe:_e:Ba&&Ba in jt(c)?z$(c):Z$(c)}function Zy(c,d){return c>d}function s$(c,d){return c!=null&&_t.call(c,d)}function i$(c,d){return c!=null&&d in jt(c)}function a$(c,d,v){return c>=Jn(d,v)&&c<kn(d,v)}function ev(c,d,v){for(var E=v?jy:ih,R=c[0].length,D=c.length,$=D,V=re(D),Y=1/0,de=[];$--;){var fe=c[$];$&&d&&(fe=Xt(fe,Ur(d))),Y=Jn(fe.length,Y),V[$]=!v&&(d||R>=120&&fe.length>=120)?new Ua($&&fe):n}fe=c[0];var ye=-1,Me=V[0];e:for(;++ye<R&&de.length<Y;){var We=fe[ye],Xe=d?d(We):We;if(We=v||We!==0?We:0,!(Me?Iu(Me,Xe):E(de,Xe,v))){for($=D;--$;){var mt=V[$];if(!(mt?Iu(mt,Xe):E(c[$],Xe,v)))continue e}Me&&Me.push(Xe),de.push(We)}}return de}function l$(c,d,v,E){return us(c,function(R,D,$){d(E,v(R),D,$)}),E}function Wu(c,d,v){d=Ri(d,c),c=Ok(c,d);var E=c==null?c:c[fs(mo(d))];return E==null?n:Wr(E,c,v)}function GS(c){return cn(c)&&ur(c)==ee}function c$(c){return cn(c)&&ur(c)==Ke}function u$(c){return cn(c)&&ur(c)==he}function Uu(c,d,v,E,R){return c===d?!0:c==null||d==null||!cn(c)&&!cn(d)?c!==c&&d!==d:d$(c,d,v,E,Uu,R)}function d$(c,d,v,E,R,D){var $=st(c),V=st(d),Y=$?ne:Xn(c),de=V?ne:Xn(d);Y=Y==ee?it:Y,de=de==ee?it:de;var fe=Y==it,ye=de==it,Me=Y==de;if(Me&&Ai(c)){if(!Ai(d))return!1;$=!0,fe=!1}if(Me&&!fe)return D||(D=new Do),$||nc(c)?Ek(c,d,v,E,R,D):F$(c,d,Y,v,E,R,D);if(!(v&b)){var We=fe&&_t.call(c,"__wrapped__"),Xe=ye&&_t.call(d,"__wrapped__");if(We||Xe){var mt=We?c.value():c,Qe=Xe?d.value():d;return D||(D=new Do),R(mt,Qe,v,E,D)}}return Me?(D||(D=new Do),$$(c,d,v,E,R,D)):!1}function f$(c){return cn(c)&&Xn(c)==De}function tv(c,d,v,E){var R=v.length,D=R,$=!E;if(c==null)return!D;for(c=jt(c);R--;){var V=v[R];if($&&V[2]?V[1]!==c[V[0]]:!(V[0]in c))return!1}for(;++R<D;){V=v[R];var Y=V[0],de=c[Y],fe=V[1];if($&&V[2]){if(de===n&&!(Y in c))return!1}else{var ye=new Do;if(E)var Me=E(de,fe,Y,c,d,ye);if(!(Me===n?Uu(fe,de,b|w,E,ye):Me))return!1}}return!0}function KS(c){if(!tn(c)||q$(c))return!1;var d=Vs(c)?f3:Bl;return d.test(Ka(c))}function h$(c){return cn(c)&&ur(c)==Re}function p$(c){return cn(c)&&Xn(c)==Ee}function m$(c){return cn(c)&&Wh(c.length)&&!!Gt[ur(c)]}function qS(c){return typeof c=="function"?c:c==null?Rr:typeof c=="object"?st(c)?XS(c[0],c[1]):JS(c):gE(c)}function nv(c){if(!Gu(c))return v3(c);var d=[];for(var v in jt(c))_t.call(c,v)&&v!="constructor"&&d.push(v);return d}function g$(c){if(!tn(c))return Q$(c);var d=Gu(c),v=[];for(var E in c)E=="constructor"&&(d||!_t.call(c,E))||v.push(E);return v}function rv(c,d){return c<d}function YS(c,d){var v=-1,E=Nr(c)?re(c.length):[];return Ni(c,function(R,D,$){E[++v]=d(R,D,$)}),E}function JS(c){var d=vv(c);return d.length==1&&d[0][2]?Ak(d[0][0],d[0][1]):function(v){return v===c||tv(v,c,d)}}function XS(c,d){return wv(c)&&Mk(d)?Ak(fs(c),d):function(v){var E=Av(v,c);return E===n&&E===d?_v(v,c):Uu(d,E,b|w)}}function Nh(c,d,v,E,R){c!==d&&Xy(d,function(D,$){if(R||(R=new Do),tn(D))y$(c,d,$,v,Nh,E,R);else{var V=E?E(Cv(c,$),D,$+"",c,d,R):n;V===n&&(V=D),Yy(c,$,V)}},Tr)}function y$(c,d,v,E,R,D,$){var V=Cv(c,v),Y=Cv(d,v),de=$.get(Y);if(de){Yy(c,v,de);return}var fe=D?D(V,Y,v+"",c,d,$):n,ye=fe===n;if(ye){var Me=st(Y),We=!Me&&Ai(Y),Xe=!Me&&!We&&nc(Y);fe=Y,Me||We||Xe?st(V)?fe=V:pn(V)?fe=Er(V):We?(ye=!1,fe=ck(Y,!0)):Xe?(ye=!1,fe=uk(Y,!0)):fe=[]:qu(Y)||qa(Y)?(fe=V,qa(V)?fe=iE(V):(!tn(V)||Vs(V))&&(fe=Rk(Y))):ye=!1}ye&&($.set(Y,fe),R(fe,Y,E,D,$),$.delete(Y)),Yy(c,v,fe)}function QS(c,d){var v=c.length;if(v)return d+=d<0?v:0,Hs(d,v)?c[d]:n}function ZS(c,d,v){d.length?d=Xt(d,function(D){return st(D)?function($){return Va($,D.length===1?D[0]:D)}:D}):d=[Rr];var E=-1;d=Xt(d,Ur(Ye()));var R=YS(c,function(D,$,V){var Y=Xt(d,function(de){return de(D)});return{criteria:Y,index:++E,value:D}});return H4(R,function(D,$){return A$(D,$,v)})}function v$(c,d){return ek(c,d,function(v,E){return _v(c,E)})}function ek(c,d,v){for(var E=-1,R=d.length,D={};++E<R;){var $=d[E],V=Va(c,$);v(V,$)&&Hu(D,Ri($,c),V)}return D}function x$(c){return function(d){return Va(d,c)}}function ov(c,d,v,E){var R=E?U4:Vl,D=-1,$=d.length,V=c;for(c===d&&(d=Er(d)),v&&(V=Xt(c,Ur(v)));++D<$;)for(var Y=0,de=d[D],fe=v?v(de):de;(Y=R(V,fe,Y,E))>-1;)V!==c&&gh.call(V,Y,1),gh.call(c,Y,1);return c}function tk(c,d){for(var v=c?d.length:0,E=v-1;v--;){var R=d[v];if(v==E||R!==D){var D=R;Hs(R)?gh.call(c,R,1):lv(c,R)}}return c}function sv(c,d){return c+xh(DS()*(d-c+1))}function w$(c,d,v,E){for(var R=-1,D=kn(vh((d-c)/(v||1)),0),$=re(D);D--;)$[E?D:++R]=c,c+=v;return $}function iv(c,d){var v="";if(!c||d<1||d>I)return v;do d%2&&(v+=c),d=xh(d/2),d&&(c+=c);while(d);return v}function gt(c,d){return Sv(_k(c,d,Rr),c+"")}function b$(c){return FS(rc(c))}function C$(c,d){var v=rc(c);return jh(v,Ha(d,0,v.length))}function Hu(c,d,v,E){if(!tn(c))return c;d=Ri(d,c);for(var R=-1,D=d.length,$=D-1,V=c;V!=null&&++R<D;){var Y=fs(d[R]),de=v;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return c;if(R!=$){var fe=V[Y];de=E?E(fe,Y,V):n,de===n&&(de=tn(fe)?fe:Hs(d[R+1])?[]:{})}zu(V,Y,de),V=V[Y]}return c}var nk=wh?function(c,d){return wh.set(c,d),c}:Rr,S$=yh?function(c,d){return yh(c,"toString",{configurable:!0,enumerable:!1,value:Pv(d),writable:!0})}:Rr;function k$(c){return jh(rc(c))}function po(c,d,v){var E=-1,R=c.length;d<0&&(d=-d>R?0:R+d),v=v>R?R:v,v<0&&(v+=R),R=d>v?0:v-d>>>0,d>>>=0;for(var D=re(R);++E<R;)D[E]=c[E+d];return D}function E$(c,d){var v;return Ni(c,function(E,R,D){return v=d(E,R,D),!v}),!!v}function Th(c,d,v){var E=0,R=c==null?E:c.length;if(typeof d=="number"&&d===d&&R<=Z){for(;E<R;){var D=E+R>>>1,$=c[D];$!==null&&!Vr($)&&(v?$<=d:$<d)?E=D+1:R=D}return R}return av(c,d,Rr,v)}function av(c,d,v,E){var R=0,D=c==null?0:c.length;if(D===0)return 0;d=v(d);for(var $=d!==d,V=d===null,Y=Vr(d),de=d===n;R<D;){var fe=xh((R+D)/2),ye=v(c[fe]),Me=ye!==n,We=ye===null,Xe=ye===ye,mt=Vr(ye);if($)var Qe=E||Xe;else de?Qe=Xe&&(E||Me):V?Qe=Xe&&Me&&(E||!We):Y?Qe=Xe&&Me&&!We&&(E||!mt):We||mt?Qe=!1:Qe=E?ye<=d:ye<d;Qe?R=fe+1:D=fe}return Jn(D,j)}function rk(c,d){for(var v=-1,E=c.length,R=0,D=[];++v<E;){var $=c[v],V=d?d($):$;if(!v||!jo(V,Y)){var Y=V;D[R++]=$===0?0:$}}return D}function ok(c){return typeof c=="number"?c:Vr(c)?B:+c}function Hr(c){if(typeof c=="string")return c;if(st(c))return Xt(c,Hr)+"";if(Vr(c))return jS?jS.call(c):"";var d=c+"";return d=="0"&&1/c==-X?"-0":d}function Ti(c,d,v){var E=-1,R=ih,D=c.length,$=!0,V=[],Y=V;if(v)$=!1,R=jy;else if(D>=o){var de=d?null:j$(c);if(de)return lh(de);$=!1,R=Iu,Y=new Ua}else Y=d?[]:V;e:for(;++E<D;){var fe=c[E],ye=d?d(fe):fe;if(fe=v||fe!==0?fe:0,$&&ye===ye){for(var Me=Y.length;Me--;)if(Y[Me]===ye)continue e;d&&Y.push(ye),V.push(fe)}else R(Y,ye,v)||(Y!==V&&Y.push(ye),V.push(fe))}return V}function lv(c,d){return d=Ri(d,c),c=Ok(c,d),c==null||delete c[fs(mo(d))]}function sk(c,d,v,E){return Hu(c,d,v(Va(c,d)),E)}function Rh(c,d,v,E){for(var R=c.length,D=E?R:-1;(E?D--:++D<R)&&d(c[D],D,c););return v?po(c,E?0:D,E?D+1:R):po(c,E?D+1:0,E?R:D)}function ik(c,d){var v=c;return v instanceof Ct&&(v=v.value()),Ly(d,function(E,R){return R.func.apply(R.thisArg,Si([E],R.args))},v)}function cv(c,d,v){var E=c.length;if(E<2)return E?Ti(c[0]):[];for(var R=-1,D=re(E);++R<E;)for(var $=c[R],V=-1;++V<E;)V!=R&&(D[R]=Bu(D[R]||$,c[V],d,v));return Ti($n(D,1),d,v)}function ak(c,d,v){for(var E=-1,R=c.length,D=d.length,$={};++E<R;){var V=E<D?d[E]:n;v($,c[E],V)}return $}function uv(c){return pn(c)?c:[]}function dv(c){return typeof c=="function"?c:Rr}function Ri(c,d){return st(c)?c:wv(c,d)?[c]:jk(Mt(c))}var N$=gt;function Mi(c,d,v){var E=c.length;return v=v===n?E:v,!d&&v>=E?c:po(c,d,v)}var lk=h3||function(c){return Fn.clearTimeout(c)};function ck(c,d){if(d)return c.slice();var v=c.length,E=AS?AS(v):new c.constructor(v);return c.copy(E),E}function fv(c){var d=new c.constructor(c.byteLength);return new ph(d).set(new ph(c)),d}function T$(c,d){var v=d?fv(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.byteLength)}function R$(c){var d=new c.constructor(c.source,lr.exec(c));return d.lastIndex=c.lastIndex,d}function M$(c){return $u?jt($u.call(c)):{}}function uk(c,d){var v=d?fv(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.length)}function dk(c,d){if(c!==d){var v=c!==n,E=c===null,R=c===c,D=Vr(c),$=d!==n,V=d===null,Y=d===d,de=Vr(d);if(!V&&!de&&!D&&c>d||D&&$&&Y&&!V&&!de||E&&$&&Y||!v&&Y||!R)return 1;if(!E&&!D&&!de&&c<d||de&&v&&R&&!E&&!D||V&&v&&R||!$&&R||!Y)return-1}return 0}function A$(c,d,v){for(var E=-1,R=c.criteria,D=d.criteria,$=R.length,V=v.length;++E<$;){var Y=dk(R[E],D[E]);if(Y){if(E>=V)return Y;var de=v[E];return Y*(de=="desc"?-1:1)}}return c.index-d.index}function fk(c,d,v,E){for(var R=-1,D=c.length,$=v.length,V=-1,Y=d.length,de=kn(D-$,0),fe=re(Y+de),ye=!E;++V<Y;)fe[V]=d[V];for(;++R<$;)(ye||R<D)&&(fe[v[R]]=c[R]);for(;de--;)fe[V++]=c[R++];return fe}function hk(c,d,v,E){for(var R=-1,D=c.length,$=-1,V=v.length,Y=-1,de=d.length,fe=kn(D-V,0),ye=re(fe+de),Me=!E;++R<fe;)ye[R]=c[R];for(var We=R;++Y<de;)ye[We+Y]=d[Y];for(;++$<V;)(Me||R<D)&&(ye[We+v[$]]=c[R++]);return ye}function Er(c,d){var v=-1,E=c.length;for(d||(d=re(E));++v<E;)d[v]=c[v];return d}function ds(c,d,v,E){var R=!v;v||(v={});for(var D=-1,$=d.length;++D<$;){var V=d[D],Y=E?E(v[V],c[V],V,v,c):n;Y===n&&(Y=c[V]),R?Bs(v,V,Y):zu(v,V,Y)}return v}function _$(c,d){return ds(c,xv(c),d)}function O$(c,d){return ds(c,Nk(c),d)}function Mh(c,d){return function(v,E){var R=st(v)?L4:e$,D=d?d():{};return R(v,c,Ye(E,2),D)}}function Zl(c){return gt(function(d,v){var E=-1,R=v.length,D=R>1?v[R-1]:n,$=R>2?v[2]:n;for(D=c.length>3&&typeof D=="function"?(R--,D):n,$&&dr(v[0],v[1],$)&&(D=R<3?n:D,R=1),d=jt(d);++E<R;){var V=v[E];V&&c(d,V,E,D)}return d})}function pk(c,d){return function(v,E){if(v==null)return v;if(!Nr(v))return c(v,E);for(var R=v.length,D=d?R:-1,$=jt(v);(d?D--:++D<R)&&E($[D],D,$)!==!1;);return v}}function mk(c){return function(d,v,E){for(var R=-1,D=jt(d),$=E(d),V=$.length;V--;){var Y=$[c?V:++R];if(v(D[Y],Y,D)===!1)break}return d}}function P$(c,d,v){var E=d&x,R=Vu(c);function D(){var $=this&&this!==Fn&&this instanceof D?R:c;return $.apply(E?v:this,arguments)}return D}function gk(c){return function(d){d=Mt(d);var v=Gl(d)?Io(d):n,E=v?v[0]:d.charAt(0),R=v?Mi(v,1).join(""):d.slice(1);return E[c]()+R}}function ec(c){return function(d){return Ly(pE(hE(d).replace(S4,"")),c,"")}}function Vu(c){return function(){var d=arguments;switch(d.length){case 0:return new c;case 1:return new c(d[0]);case 2:return new c(d[0],d[1]);case 3:return new c(d[0],d[1],d[2]);case 4:return new c(d[0],d[1],d[2],d[3]);case 5:return new c(d[0],d[1],d[2],d[3],d[4]);case 6:return new c(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new c(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=Ql(c.prototype),E=c.apply(v,d);return tn(E)?E:v}}function I$(c,d,v){var E=Vu(c);function R(){for(var D=arguments.length,$=re(D),V=D,Y=tc(R);V--;)$[V]=arguments[V];var de=D<3&&$[0]!==Y&&$[D-1]!==Y?[]:ki($,Y);if(D-=de.length,D<v)return bk(c,d,Ah,R.placeholder,n,$,de,n,n,v-D);var fe=this&&this!==Fn&&this instanceof R?E:c;return Wr(fe,this,$)}return R}function yk(c){return function(d,v,E){var R=jt(d);if(!Nr(d)){var D=Ye(v,3);d=Rn(d),v=function(V){return D(R[V],V,R)}}var $=c(d,v,E);return $>-1?R[D?d[$]:$]:n}}function vk(c){return Us(function(d){var v=d.length,E=v,R=fo.prototype.thru;for(c&&d.reverse();E--;){var D=d[E];if(typeof D!="function")throw new uo(i);if(R&&!$&&Ih(D)=="wrapper")var $=new fo([],!0)}for(E=$?E:v;++E<v;){D=d[E];var V=Ih(D),Y=V=="wrapper"?yv(D):n;Y&&bv(Y[0])&&Y[1]==(_|k|N|M)&&!Y[4].length&&Y[9]==1?$=$[Ih(Y[0])].apply($,Y[3]):$=D.length==1&&bv(D)?$[V]():$.thru(D)}return function(){var de=arguments,fe=de[0];if($&&de.length==1&&st(fe))return $.plant(fe).value();for(var ye=0,Me=v?d[ye].apply(this,de):fe;++ye<v;)Me=d[ye].call(this,Me);return Me}})}function Ah(c,d,v,E,R,D,$,V,Y,de){var fe=d&_,ye=d&x,Me=d&C,We=d&(k|T),Xe=d&L,mt=Me?n:Vu(c);function Qe(){for(var vt=arguments.length,St=re(vt),Gr=vt;Gr--;)St[Gr]=arguments[Gr];if(We)var fr=tc(Qe),Kr=G4(St,fr);if(E&&(St=fk(St,E,R,We)),D&&(St=hk(St,D,$,We)),vt-=Kr,We&&vt<de){var mn=ki(St,fr);return bk(c,d,Ah,Qe.placeholder,v,St,mn,V,Y,de-vt)}var Lo=ye?v:this,Ks=Me?Lo[c]:c;return vt=St.length,V?St=e5(St,V):Xe&&vt>1&&St.reverse(),fe&&Y<vt&&(St.length=Y),this&&this!==Fn&&this instanceof Qe&&(Ks=mt||Vu(Ks)),Ks.apply(Lo,St)}return Qe}function xk(c,d){return function(v,E){return l$(v,c,d(E),{})}}function _h(c,d){return function(v,E){var R;if(v===n&&E===n)return d;if(v!==n&&(R=v),E!==n){if(R===n)return E;typeof v=="string"||typeof E=="string"?(v=Hr(v),E=Hr(E)):(v=ok(v),E=ok(E)),R=c(v,E)}return R}}function hv(c){return Us(function(d){return d=Xt(d,Ur(Ye())),gt(function(v){var E=this;return c(d,function(R){return Wr(R,E,v)})})})}function Oh(c,d){d=d===n?" ":Hr(d);var v=d.length;if(v<2)return v?iv(d,c):d;var E=iv(d,vh(c/Kl(d)));return Gl(d)?Mi(Io(E),0,c).join(""):E.slice(0,c)}function D$(c,d,v,E){var R=d&x,D=Vu(c);function $(){for(var V=-1,Y=arguments.length,de=-1,fe=E.length,ye=re(fe+Y),Me=this&&this!==Fn&&this instanceof $?D:c;++de<fe;)ye[de]=E[de];for(;Y--;)ye[de++]=arguments[++V];return Wr(Me,R?v:this,ye)}return $}function wk(c){return function(d,v,E){return E&&typeof E!="number"&&dr(d,v,E)&&(v=E=n),d=Gs(d),v===n?(v=d,d=0):v=Gs(v),E=E===n?d<v?1:-1:Gs(E),w$(d,v,E,c)}}function Ph(c){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=go(d),v=go(v)),c(d,v)}}function bk(c,d,v,E,R,D,$,V,Y,de){var fe=d&k,ye=fe?$:n,Me=fe?n:$,We=fe?D:n,Xe=fe?n:D;d|=fe?N:A,d&=~(fe?A:N),d&S||(d&=-4);var mt=[c,d,R,We,ye,Xe,Me,V,Y,de],Qe=v.apply(n,mt);return bv(c)&&Pk(Qe,mt),Qe.placeholder=E,Ik(Qe,c,d)}function pv(c){var d=Sn[c];return function(v,E){if(v=go(v),E=E==null?0:Jn(ft(E),292),E&&IS(v)){var R=(Mt(v)+"e").split("e"),D=d(R[0]+"e"+(+R[1]+E));return R=(Mt(D)+"e").split("e"),+(R[0]+"e"+(+R[1]-E))}return d(v)}}var j$=Jl&&1/lh(new Jl([,-0]))[1]==X?function(c){return new Jl(c)}:jv;function Ck(c){return function(d){var v=Xn(d);return v==De?Hy(d):v==Ee?Z4(d):V4(d,c(d))}}function Ws(c,d,v,E,R,D,$,V){var Y=d&C;if(!Y&&typeof c!="function")throw new uo(i);var de=E?E.length:0;if(de||(d&=-97,E=R=n),$=$===n?$:kn(ft($),0),V=V===n?V:ft(V),de-=R?R.length:0,d&A){var fe=E,ye=R;E=R=n}var Me=Y?n:yv(c),We=[c,d,v,E,R,fe,ye,D,$,V];if(Me&&X$(We,Me),c=We[0],d=We[1],v=We[2],E=We[3],R=We[4],V=We[9]=We[9]===n?Y?0:c.length:kn(We[9]-de,0),!V&&d&(k|T)&&(d&=-25),!d||d==x)var Xe=P$(c,d,v);else d==k||d==T?Xe=I$(c,d,V):(d==N||d==(x|N))&&!R.length?Xe=D$(c,d,v,E):Xe=Ah.apply(n,We);var mt=Me?nk:Pk;return Ik(mt(Xe,We),c,d)}function Sk(c,d,v,E){return c===n||jo(c,Yl[v])&&!_t.call(E,v)?d:c}function kk(c,d,v,E,R,D){return tn(c)&&tn(d)&&(D.set(d,c),Nh(c,d,n,kk,D),D.delete(d)),c}function L$(c){return qu(c)?n:c}function Ek(c,d,v,E,R,D){var $=v&b,V=c.length,Y=d.length;if(V!=Y&&!($&&Y>V))return!1;var de=D.get(c),fe=D.get(d);if(de&&fe)return de==d&&fe==c;var ye=-1,Me=!0,We=v&w?new Ua:n;for(D.set(c,d),D.set(d,c);++ye<V;){var Xe=c[ye],mt=d[ye];if(E)var Qe=$?E(mt,Xe,ye,d,c,D):E(Xe,mt,ye,c,d,D);if(Qe!==n){if(Qe)continue;Me=!1;break}if(We){if(!Fy(d,function(vt,St){if(!Iu(We,St)&&(Xe===vt||R(Xe,vt,v,E,D)))return We.push(St)})){Me=!1;break}}else if(!(Xe===mt||R(Xe,mt,v,E,D))){Me=!1;break}}return D.delete(c),D.delete(d),Me}function F$(c,d,v,E,R,D,$){switch(v){case lt:if(c.byteLength!=d.byteLength||c.byteOffset!=d.byteOffset)return!1;c=c.buffer,d=d.buffer;case Ke:return!(c.byteLength!=d.byteLength||!D(new ph(c),new ph(d)));case ue:case he:case Ze:return jo(+c,+d);case Ne:return c.name==d.name&&c.message==d.message;case Re:case Ue:return c==d+"";case De:var V=Hy;case Ee:var Y=E&b;if(V||(V=lh),c.size!=d.size&&!Y)return!1;var de=$.get(c);if(de)return de==d;E|=w,$.set(c,d);var fe=Ek(V(c),V(d),E,R,D,$);return $.delete(c),fe;case at:if($u)return $u.call(c)==$u.call(d)}return!1}function $$(c,d,v,E,R,D){var $=v&b,V=mv(c),Y=V.length,de=mv(d),fe=de.length;if(Y!=fe&&!$)return!1;for(var ye=Y;ye--;){var Me=V[ye];if(!($?Me in d:_t.call(d,Me)))return!1}var We=D.get(c),Xe=D.get(d);if(We&&Xe)return We==d&&Xe==c;var mt=!0;D.set(c,d),D.set(d,c);for(var Qe=$;++ye<Y;){Me=V[ye];var vt=c[Me],St=d[Me];if(E)var Gr=$?E(St,vt,Me,d,c,D):E(vt,St,Me,c,d,D);if(!(Gr===n?vt===St||R(vt,St,v,E,D):Gr)){mt=!1;break}Qe||(Qe=Me=="constructor")}if(mt&&!Qe){var fr=c.constructor,Kr=d.constructor;fr!=Kr&&"constructor"in c&&"constructor"in d&&!(typeof fr=="function"&&fr instanceof fr&&typeof Kr=="function"&&Kr instanceof Kr)&&(mt=!1)}return D.delete(c),D.delete(d),mt}function Us(c){return Sv(_k(c,n,zk),c+"")}function mv(c){return VS(c,Rn,xv)}function gv(c){return VS(c,Tr,Nk)}var yv=wh?function(c){return wh.get(c)}:jv;function Ih(c){for(var d=c.name+"",v=Xl[d],E=_t.call(Xl,d)?v.length:0;E--;){var R=v[E],D=R.func;if(D==null||D==c)return R.name}return d}function tc(c){var d=_t.call(O,"placeholder")?O:c;return d.placeholder}function Ye(){var c=O.iteratee||Iv;return c=c===Iv?qS:c,arguments.length?c(arguments[0],arguments[1]):c}function Dh(c,d){var v=c.__data__;return K$(d)?v[typeof d=="string"?"string":"hash"]:v.map}function vv(c){for(var d=Rn(c),v=d.length;v--;){var E=d[v],R=c[E];d[v]=[E,R,Mk(R)]}return d}function Ga(c,d){var v=J4(c,d);return KS(v)?v:n}function z$(c){var d=_t.call(c,Ba),v=c[Ba];try{c[Ba]=n;var E=!0}catch{}var R=fh.call(c);return E&&(d?c[Ba]=v:delete c[Ba]),R}var xv=Gy?function(c){return c==null?[]:(c=jt(c),Ci(Gy(c),function(d){return OS.call(c,d)}))}:Lv,Nk=Gy?function(c){for(var d=[];c;)Si(d,xv(c)),c=mh(c);return d}:Lv,Xn=ur;(Ky&&Xn(new Ky(new ArrayBuffer(1)))!=lt||ju&&Xn(new ju)!=De||qy&&Xn(qy.resolve())!=wt||Jl&&Xn(new Jl)!=Ee||Lu&&Xn(new Lu)!=xe)&&(Xn=function(c){var d=ur(c),v=d==it?c.constructor:n,E=v?Ka(v):"";if(E)switch(E){case C3:return lt;case S3:return De;case k3:return wt;case E3:return Ee;case N3:return xe}return d});function B$(c,d,v){for(var E=-1,R=v.length;++E<R;){var D=v[E],$=D.size;switch(D.type){case"drop":c+=$;break;case"dropRight":d-=$;break;case"take":d=Jn(d,c+$);break;case"takeRight":c=kn(c,d-$);break}}return{start:c,end:d}}function W$(c){var d=c.match(ge);return d?d[1].split(we):[]}function Tk(c,d,v){d=Ri(d,c);for(var E=-1,R=d.length,D=!1;++E<R;){var $=fs(d[E]);if(!(D=c!=null&&v(c,$)))break;c=c[$]}return D||++E!=R?D:(R=c==null?0:c.length,!!R&&Wh(R)&&Hs($,R)&&(st(c)||qa(c)))}function U$(c){var d=c.length,v=new c.constructor(d);return d&&typeof c[0]=="string"&&_t.call(c,"index")&&(v.index=c.index,v.input=c.input),v}function Rk(c){return typeof c.constructor=="function"&&!Gu(c)?Ql(mh(c)):{}}function H$(c,d,v){var E=c.constructor;switch(d){case Ke:return fv(c);case ue:case he:return new E(+c);case lt:return T$(c,v);case rt:case Ht:case ae:case Pe:case Te:case je:case bt:case Dt:case Po:return uk(c,v);case De:return new E;case Ze:case Ue:return new E(c);case Re:return R$(c);case Ee:return new E;case at:return M$(c)}}function V$(c,d){var v=d.length;if(!v)return c;var E=v-1;return d[E]=(v>1?"& ":"")+d[E],d=d.join(v>2?", ":" "),c.replace(me,`{
/* [wrapped with `+d+`] */
`)}function G$(c){return st(c)||qa(c)||!!(PS&&c&&c[PS])}function Hs(c,d){var v=typeof c;return d=d??I,!!d&&(v=="number"||v!="symbol"&&Pu.test(c))&&c>-1&&c%1==0&&c<d}function dr(c,d,v){if(!tn(v))return!1;var E=typeof d;return(E=="number"?Nr(v)&&Hs(d,v.length):E=="string"&&d in v)?jo(v[d],c):!1}function wv(c,d){if(st(c))return!1;var v=typeof c;return v=="number"||v=="symbol"||v=="boolean"||c==null||Vr(c)?!0:ln.test(c)||!$t.test(c)||d!=null&&c in jt(d)}function K$(c){var d=typeof c;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?c!=="__proto__":c===null}function bv(c){var d=Ih(c),v=O[d];if(typeof v!="function"||!(d in Ct.prototype))return!1;if(c===v)return!0;var E=yv(v);return!!E&&c===E[0]}function q$(c){return!!MS&&MS in c}var Y$=uh?Vs:Fv;function Gu(c){var d=c&&c.constructor,v=typeof d=="function"&&d.prototype||Yl;return c===v}function Mk(c){return c===c&&!tn(c)}function Ak(c,d){return function(v){return v==null?!1:v[c]===d&&(d!==n||c in jt(v))}}function J$(c){var d=zh(c,function(E){return v.size===u&&v.clear(),E}),v=d.cache;return d}function X$(c,d){var v=c[1],E=d[1],R=v|E,D=R<(x|C|_),$=E==_&&v==k||E==_&&v==M&&c[7].length<=d[8]||E==(_|M)&&d[7].length<=d[8]&&v==k;if(!(D||$))return c;E&x&&(c[2]=d[2],R|=v&x?0:S);var V=d[3];if(V){var Y=c[3];c[3]=Y?fk(Y,V,d[4]):V,c[4]=Y?ki(c[3],f):d[4]}return V=d[5],V&&(Y=c[5],c[5]=Y?hk(Y,V,d[6]):V,c[6]=Y?ki(c[5],f):d[6]),V=d[7],V&&(c[7]=V),E&_&&(c[8]=c[8]==null?d[8]:Jn(c[8],d[8])),c[9]==null&&(c[9]=d[9]),c[0]=d[0],c[1]=R,c}function Q$(c){var d=[];if(c!=null)for(var v in jt(c))d.push(v);return d}function Z$(c){return fh.call(c)}function _k(c,d,v){return d=kn(d===n?c.length-1:d,0),function(){for(var E=arguments,R=-1,D=kn(E.length-d,0),$=re(D);++R<D;)$[R]=E[d+R];R=-1;for(var V=re(d+1);++R<d;)V[R]=E[R];return V[d]=v($),Wr(c,this,V)}}function Ok(c,d){return d.length<2?c:Va(c,po(d,0,-1))}function e5(c,d){for(var v=c.length,E=Jn(d.length,v),R=Er(c);E--;){var D=d[E];c[E]=Hs(D,v)?R[D]:n}return c}function Cv(c,d){if(!(d==="constructor"&&typeof c[d]=="function")&&d!="__proto__")return c[d]}var Pk=Dk(nk),Ku=m3||function(c,d){return Fn.setTimeout(c,d)},Sv=Dk(S$);function Ik(c,d,v){var E=d+"";return Sv(c,V$(E,t5(W$(E),v)))}function Dk(c){var d=0,v=0;return function(){var E=x3(),R=K-(E-v);if(v=E,R>0){if(++d>=U)return arguments[0]}else d=0;return c.apply(n,arguments)}}function jh(c,d){var v=-1,E=c.length,R=E-1;for(d=d===n?E:d;++v<d;){var D=sv(v,R),$=c[D];c[D]=c[v],c[v]=$}return c.length=d,c}var jk=J$(function(c){var d=[];return c.charCodeAt(0)===46&&d.push(""),c.replace(Rt,function(v,E,R,D){d.push(R?D.replace(At,"$1"):E||v)}),d});function fs(c){if(typeof c=="string"||Vr(c))return c;var d=c+"";return d=="0"&&1/c==-X?"-0":d}function Ka(c){if(c!=null){try{return dh.call(c)}catch{}try{return c+""}catch{}}return""}function t5(c,d){return co(Q,function(v){var E="_."+v[0];d&v[1]&&!ih(c,E)&&c.push(E)}),c.sort()}function Lk(c){if(c instanceof Ct)return c.clone();var d=new fo(c.__wrapped__,c.__chain__);return d.__actions__=Er(c.__actions__),d.__index__=c.__index__,d.__values__=c.__values__,d}function n5(c,d,v){(v?dr(c,d,v):d===n)?d=1:d=kn(ft(d),0);var E=c==null?0:c.length;if(!E||d<1)return[];for(var R=0,D=0,$=re(vh(E/d));R<E;)$[D++]=po(c,R,R+=d);return $}function r5(c){for(var d=-1,v=c==null?0:c.length,E=0,R=[];++d<v;){var D=c[d];D&&(R[E++]=D)}return R}function o5(){var c=arguments.length;if(!c)return[];for(var d=re(c-1),v=arguments[0],E=c;E--;)d[E-1]=arguments[E];return Si(st(v)?Er(v):[v],$n(d,1))}var s5=gt(function(c,d){return pn(c)?Bu(c,$n(d,1,pn,!0)):[]}),i5=gt(function(c,d){var v=mo(d);return pn(v)&&(v=n),pn(c)?Bu(c,$n(d,1,pn,!0),Ye(v,2)):[]}),a5=gt(function(c,d){var v=mo(d);return pn(v)&&(v=n),pn(c)?Bu(c,$n(d,1,pn,!0),n,v):[]});function l5(c,d,v){var E=c==null?0:c.length;return E?(d=v||d===n?1:ft(d),po(c,d<0?0:d,E)):[]}function c5(c,d,v){var E=c==null?0:c.length;return E?(d=v||d===n?1:ft(d),d=E-d,po(c,0,d<0?0:d)):[]}function u5(c,d){return c&&c.length?Rh(c,Ye(d,3),!0,!0):[]}function d5(c,d){return c&&c.length?Rh(c,Ye(d,3),!0):[]}function f5(c,d,v,E){var R=c==null?0:c.length;return R?(v&&typeof v!="number"&&dr(c,d,v)&&(v=0,E=R),o$(c,d,v,E)):[]}function Fk(c,d,v){var E=c==null?0:c.length;if(!E)return-1;var R=v==null?0:ft(v);return R<0&&(R=kn(E+R,0)),ah(c,Ye(d,3),R)}function $k(c,d,v){var E=c==null?0:c.length;if(!E)return-1;var R=E-1;return v!==n&&(R=ft(v),R=v<0?kn(E+R,0):Jn(R,E-1)),ah(c,Ye(d,3),R,!0)}function zk(c){var d=c==null?0:c.length;return d?$n(c,1):[]}function h5(c){var d=c==null?0:c.length;return d?$n(c,X):[]}function p5(c,d){var v=c==null?0:c.length;return v?(d=d===n?1:ft(d),$n(c,d)):[]}function m5(c){for(var d=-1,v=c==null?0:c.length,E={};++d<v;){var R=c[d];E[R[0]]=R[1]}return E}function Bk(c){return c&&c.length?c[0]:n}function g5(c,d,v){var E=c==null?0:c.length;if(!E)return-1;var R=v==null?0:ft(v);return R<0&&(R=kn(E+R,0)),Vl(c,d,R)}function y5(c){var d=c==null?0:c.length;return d?po(c,0,-1):[]}var v5=gt(function(c){var d=Xt(c,uv);return d.length&&d[0]===c[0]?ev(d):[]}),x5=gt(function(c){var d=mo(c),v=Xt(c,uv);return d===mo(v)?d=n:v.pop(),v.length&&v[0]===c[0]?ev(v,Ye(d,2)):[]}),w5=gt(function(c){var d=mo(c),v=Xt(c,uv);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===c[0]?ev(v,n,d):[]});function b5(c,d){return c==null?"":y3.call(c,d)}function mo(c){var d=c==null?0:c.length;return d?c[d-1]:n}function C5(c,d,v){var E=c==null?0:c.length;if(!E)return-1;var R=E;return v!==n&&(R=ft(v),R=R<0?kn(E+R,0):Jn(R,E-1)),d===d?t3(c,d,R):ah(c,bS,R,!0)}function S5(c,d){return c&&c.length?QS(c,ft(d)):n}var k5=gt(Wk);function Wk(c,d){return c&&c.length&&d&&d.length?ov(c,d):c}function E5(c,d,v){return c&&c.length&&d&&d.length?ov(c,d,Ye(v,2)):c}function N5(c,d,v){return c&&c.length&&d&&d.length?ov(c,d,n,v):c}var T5=Us(function(c,d){var v=c==null?0:c.length,E=Jy(c,d);return tk(c,Xt(d,function(R){return Hs(R,v)?+R:R}).sort(dk)),E});function R5(c,d){var v=[];if(!(c&&c.length))return v;var E=-1,R=[],D=c.length;for(d=Ye(d,3);++E<D;){var $=c[E];d($,E,c)&&(v.push($),R.push(E))}return tk(c,R),v}function kv(c){return c==null?c:b3.call(c)}function M5(c,d,v){var E=c==null?0:c.length;return E?(v&&typeof v!="number"&&dr(c,d,v)?(d=0,v=E):(d=d==null?0:ft(d),v=v===n?E:ft(v)),po(c,d,v)):[]}function A5(c,d){return Th(c,d)}function _5(c,d,v){return av(c,d,Ye(v,2))}function O5(c,d){var v=c==null?0:c.length;if(v){var E=Th(c,d);if(E<v&&jo(c[E],d))return E}return-1}function P5(c,d){return Th(c,d,!0)}function I5(c,d,v){return av(c,d,Ye(v,2),!0)}function D5(c,d){var v=c==null?0:c.length;if(v){var E=Th(c,d,!0)-1;if(jo(c[E],d))return E}return-1}function j5(c){return c&&c.length?rk(c):[]}function L5(c,d){return c&&c.length?rk(c,Ye(d,2)):[]}function F5(c){var d=c==null?0:c.length;return d?po(c,1,d):[]}function $5(c,d,v){return c&&c.length?(d=v||d===n?1:ft(d),po(c,0,d<0?0:d)):[]}function z5(c,d,v){var E=c==null?0:c.length;return E?(d=v||d===n?1:ft(d),d=E-d,po(c,d<0?0:d,E)):[]}function B5(c,d){return c&&c.length?Rh(c,Ye(d,3),!1,!0):[]}function W5(c,d){return c&&c.length?Rh(c,Ye(d,3)):[]}var U5=gt(function(c){return Ti($n(c,1,pn,!0))}),H5=gt(function(c){var d=mo(c);return pn(d)&&(d=n),Ti($n(c,1,pn,!0),Ye(d,2))}),V5=gt(function(c){var d=mo(c);return d=typeof d=="function"?d:n,Ti($n(c,1,pn,!0),n,d)});function G5(c){return c&&c.length?Ti(c):[]}function K5(c,d){return c&&c.length?Ti(c,Ye(d,2)):[]}function q5(c,d){return d=typeof d=="function"?d:n,c&&c.length?Ti(c,n,d):[]}function Ev(c){if(!(c&&c.length))return[];var d=0;return c=Ci(c,function(v){if(pn(v))return d=kn(v.length,d),!0}),Wy(d,function(v){return Xt(c,$y(v))})}function Uk(c,d){if(!(c&&c.length))return[];var v=Ev(c);return d==null?v:Xt(v,function(E){return Wr(d,n,E)})}var Y5=gt(function(c,d){return pn(c)?Bu(c,d):[]}),J5=gt(function(c){return cv(Ci(c,pn))}),X5=gt(function(c){var d=mo(c);return pn(d)&&(d=n),cv(Ci(c,pn),Ye(d,2))}),Q5=gt(function(c){var d=mo(c);return d=typeof d=="function"?d:n,cv(Ci(c,pn),n,d)}),Z5=gt(Ev);function ez(c,d){return ak(c||[],d||[],zu)}function tz(c,d){return ak(c||[],d||[],Hu)}var nz=gt(function(c){var d=c.length,v=d>1?c[d-1]:n;return v=typeof v=="function"?(c.pop(),v):n,Uk(c,v)});function Hk(c){var d=O(c);return d.__chain__=!0,d}function rz(c,d){return d(c),c}function Lh(c,d){return d(c)}var oz=Us(function(c){var d=c.length,v=d?c[0]:0,E=this.__wrapped__,R=function(D){return Jy(D,c)};return d>1||this.__actions__.length||!(E instanceof Ct)||!Hs(v)?this.thru(R):(E=E.slice(v,+v+(d?1:0)),E.__actions__.push({func:Lh,args:[R],thisArg:n}),new fo(E,this.__chain__).thru(function(D){return d&&!D.length&&D.push(n),D}))});function sz(){return Hk(this)}function iz(){return new fo(this.value(),this.__chain__)}function az(){this.__values__===n&&(this.__values__=oE(this.value()));var c=this.__index__>=this.__values__.length,d=c?n:this.__values__[this.__index__++];return{done:c,value:d}}function lz(){return this}function cz(c){for(var d,v=this;v instanceof Ch;){var E=Lk(v);E.__index__=0,E.__values__=n,d?R.__wrapped__=E:d=E;var R=E;v=v.__wrapped__}return R.__wrapped__=c,d}function uz(){var c=this.__wrapped__;if(c instanceof Ct){var d=c;return this.__actions__.length&&(d=new Ct(this)),d=d.reverse(),d.__actions__.push({func:Lh,args:[kv],thisArg:n}),new fo(d,this.__chain__)}return this.thru(kv)}function dz(){return ik(this.__wrapped__,this.__actions__)}var fz=Mh(function(c,d,v){_t.call(c,v)?++c[v]:Bs(c,v,1)});function hz(c,d,v){var E=st(c)?xS:r$;return v&&dr(c,d,v)&&(d=n),E(c,Ye(d,3))}function pz(c,d){var v=st(c)?Ci:US;return v(c,Ye(d,3))}var mz=yk(Fk),gz=yk($k);function yz(c,d){return $n(Fh(c,d),1)}function vz(c,d){return $n(Fh(c,d),X)}function xz(c,d,v){return v=v===n?1:ft(v),$n(Fh(c,d),v)}function Vk(c,d){var v=st(c)?co:Ni;return v(c,Ye(d,3))}function Gk(c,d){var v=st(c)?F4:WS;return v(c,Ye(d,3))}var wz=Mh(function(c,d,v){_t.call(c,v)?c[v].push(d):Bs(c,v,[d])});function bz(c,d,v,E){c=Nr(c)?c:rc(c),v=v&&!E?ft(v):0;var R=c.length;return v<0&&(v=kn(R+v,0)),Uh(c)?v<=R&&c.indexOf(d,v)>-1:!!R&&Vl(c,d,v)>-1}var Cz=gt(function(c,d,v){var E=-1,R=typeof d=="function",D=Nr(c)?re(c.length):[];return Ni(c,function($){D[++E]=R?Wr(d,$,v):Wu($,d,v)}),D}),Sz=Mh(function(c,d,v){Bs(c,v,d)});function Fh(c,d){var v=st(c)?Xt:YS;return v(c,Ye(d,3))}function kz(c,d,v,E){return c==null?[]:(st(d)||(d=d==null?[]:[d]),v=E?n:v,st(v)||(v=v==null?[]:[v]),ZS(c,d,v))}var Ez=Mh(function(c,d,v){c[v?0:1].push(d)},function(){return[[],[]]});function Nz(c,d,v){var E=st(c)?Ly:SS,R=arguments.length<3;return E(c,Ye(d,4),v,R,Ni)}function Tz(c,d,v){var E=st(c)?$4:SS,R=arguments.length<3;return E(c,Ye(d,4),v,R,WS)}function Rz(c,d){var v=st(c)?Ci:US;return v(c,Bh(Ye(d,3)))}function Mz(c){var d=st(c)?FS:b$;return d(c)}function Az(c,d,v){(v?dr(c,d,v):d===n)?d=1:d=ft(d);var E=st(c)?Q3:C$;return E(c,d)}function _z(c){var d=st(c)?Z3:k$;return d(c)}function Oz(c){if(c==null)return 0;if(Nr(c))return Uh(c)?Kl(c):c.length;var d=Xn(c);return d==De||d==Ee?c.size:nv(c).length}function Pz(c,d,v){var E=st(c)?Fy:E$;return v&&dr(c,d,v)&&(d=n),E(c,Ye(d,3))}var Iz=gt(function(c,d){if(c==null)return[];var v=d.length;return v>1&&dr(c,d[0],d[1])?d=[]:v>2&&dr(d[0],d[1],d[2])&&(d=[d[0]]),ZS(c,$n(d,1),[])}),$h=p3||function(){return Fn.Date.now()};function Dz(c,d){if(typeof d!="function")throw new uo(i);return c=ft(c),function(){if(--c<1)return d.apply(this,arguments)}}function Kk(c,d,v){return d=v?n:d,d=c&&d==null?c.length:d,Ws(c,_,n,n,n,n,d)}function qk(c,d){var v;if(typeof d!="function")throw new uo(i);return c=ft(c),function(){return--c>0&&(v=d.apply(this,arguments)),c<=1&&(d=n),v}}var Nv=gt(function(c,d,v){var E=x;if(v.length){var R=ki(v,tc(Nv));E|=N}return Ws(c,E,d,v,R)}),Yk=gt(function(c,d,v){var E=x|C;if(v.length){var R=ki(v,tc(Yk));E|=N}return Ws(d,E,c,v,R)});function Jk(c,d,v){d=v?n:d;var E=Ws(c,k,n,n,n,n,n,d);return E.placeholder=Jk.placeholder,E}function Xk(c,d,v){d=v?n:d;var E=Ws(c,T,n,n,n,n,n,d);return E.placeholder=Xk.placeholder,E}function Qk(c,d,v){var E,R,D,$,V,Y,de=0,fe=!1,ye=!1,Me=!0;if(typeof c!="function")throw new uo(i);d=go(d)||0,tn(v)&&(fe=!!v.leading,ye="maxWait"in v,D=ye?kn(go(v.maxWait)||0,d):D,Me="trailing"in v?!!v.trailing:Me);function We(mn){var Lo=E,Ks=R;return E=R=n,de=mn,$=c.apply(Ks,Lo),$}function Xe(mn){return de=mn,V=Ku(vt,d),fe?We(mn):$}function mt(mn){var Lo=mn-Y,Ks=mn-de,yE=d-Lo;return ye?Jn(yE,D-Ks):yE}function Qe(mn){var Lo=mn-Y,Ks=mn-de;return Y===n||Lo>=d||Lo<0||ye&&Ks>=D}function vt(){var mn=$h();if(Qe(mn))return St(mn);V=Ku(vt,mt(mn))}function St(mn){return V=n,Me&&E?We(mn):(E=R=n,$)}function Gr(){V!==n&&lk(V),de=0,E=Y=R=V=n}function fr(){return V===n?$:St($h())}function Kr(){var mn=$h(),Lo=Qe(mn);if(E=arguments,R=this,Y=mn,Lo){if(V===n)return Xe(Y);if(ye)return lk(V),V=Ku(vt,d),We(Y)}return V===n&&(V=Ku(vt,d)),$}return Kr.cancel=Gr,Kr.flush=fr,Kr}var jz=gt(function(c,d){return BS(c,1,d)}),Lz=gt(function(c,d,v){return BS(c,go(d)||0,v)});function Fz(c){return Ws(c,L)}function zh(c,d){if(typeof c!="function"||d!=null&&typeof d!="function")throw new uo(i);var v=function(){var E=arguments,R=d?d.apply(this,E):E[0],D=v.cache;if(D.has(R))return D.get(R);var $=c.apply(this,E);return v.cache=D.set(R,$)||D,$};return v.cache=new(zh.Cache||zs),v}zh.Cache=zs;function Bh(c){if(typeof c!="function")throw new uo(i);return function(){var d=arguments;switch(d.length){case 0:return!c.call(this);case 1:return!c.call(this,d[0]);case 2:return!c.call(this,d[0],d[1]);case 3:return!c.call(this,d[0],d[1],d[2])}return!c.apply(this,d)}}function $z(c){return qk(2,c)}var zz=N$(function(c,d){d=d.length==1&&st(d[0])?Xt(d[0],Ur(Ye())):Xt($n(d,1),Ur(Ye()));var v=d.length;return gt(function(E){for(var R=-1,D=Jn(E.length,v);++R<D;)E[R]=d[R].call(this,E[R]);return Wr(c,this,E)})}),Tv=gt(function(c,d){var v=ki(d,tc(Tv));return Ws(c,N,n,d,v)}),Zk=gt(function(c,d){var v=ki(d,tc(Zk));return Ws(c,A,n,d,v)}),Bz=Us(function(c,d){return Ws(c,M,n,n,n,d)});function Wz(c,d){if(typeof c!="function")throw new uo(i);return d=d===n?d:ft(d),gt(c,d)}function Uz(c,d){if(typeof c!="function")throw new uo(i);return d=d==null?0:kn(ft(d),0),gt(function(v){var E=v[d],R=Mi(v,0,d);return E&&Si(R,E),Wr(c,this,R)})}function Hz(c,d,v){var E=!0,R=!0;if(typeof c!="function")throw new uo(i);return tn(v)&&(E="leading"in v?!!v.leading:E,R="trailing"in v?!!v.trailing:R),Qk(c,d,{leading:E,maxWait:d,trailing:R})}function Vz(c){return Kk(c,1)}function Gz(c,d){return Tv(dv(d),c)}function Kz(){if(!arguments.length)return[];var c=arguments[0];return st(c)?c:[c]}function qz(c){return ho(c,y)}function Yz(c,d){return d=typeof d=="function"?d:n,ho(c,y,d)}function Jz(c){return ho(c,p|y)}function Xz(c,d){return d=typeof d=="function"?d:n,ho(c,p|y,d)}function Qz(c,d){return d==null||zS(c,d,Rn(d))}function jo(c,d){return c===d||c!==c&&d!==d}var Zz=Ph(Zy),eB=Ph(function(c,d){return c>=d}),qa=GS(function(){return arguments}())?GS:function(c){return cn(c)&&_t.call(c,"callee")&&!OS.call(c,"callee")},st=re.isArray,tB=hS?Ur(hS):c$;function Nr(c){return c!=null&&Wh(c.length)&&!Vs(c)}function pn(c){return cn(c)&&Nr(c)}function nB(c){return c===!0||c===!1||cn(c)&&ur(c)==ue}var Ai=g3||Fv,rB=pS?Ur(pS):u$;function oB(c){return cn(c)&&c.nodeType===1&&!qu(c)}function sB(c){if(c==null)return!0;if(Nr(c)&&(st(c)||typeof c=="string"||typeof c.splice=="function"||Ai(c)||nc(c)||qa(c)))return!c.length;var d=Xn(c);if(d==De||d==Ee)return!c.size;if(Gu(c))return!nv(c).length;for(var v in c)if(_t.call(c,v))return!1;return!0}function iB(c,d){return Uu(c,d)}function aB(c,d,v){v=typeof v=="function"?v:n;var E=v?v(c,d):n;return E===n?Uu(c,d,n,v):!!E}function Rv(c){if(!cn(c))return!1;var d=ur(c);return d==Ne||d==le||typeof c.message=="string"&&typeof c.name=="string"&&!qu(c)}function lB(c){return typeof c=="number"&&IS(c)}function Vs(c){if(!tn(c))return!1;var d=ur(c);return d==Ae||d==Je||d==H||d==It}function eE(c){return typeof c=="number"&&c==ft(c)}function Wh(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=I}function tn(c){var d=typeof c;return c!=null&&(d=="object"||d=="function")}function cn(c){return c!=null&&typeof c=="object"}var tE=mS?Ur(mS):f$;function cB(c,d){return c===d||tv(c,d,vv(d))}function uB(c,d,v){return v=typeof v=="function"?v:n,tv(c,d,vv(d),v)}function dB(c){return nE(c)&&c!=+c}function fB(c){if(Y$(c))throw new nt(s);return KS(c)}function hB(c){return c===null}function pB(c){return c==null}function nE(c){return typeof c=="number"||cn(c)&&ur(c)==Ze}function qu(c){if(!cn(c)||ur(c)!=it)return!1;var d=mh(c);if(d===null)return!0;var v=_t.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&dh.call(v)==u3}var Mv=gS?Ur(gS):h$;function mB(c){return eE(c)&&c>=-I&&c<=I}var rE=yS?Ur(yS):p$;function Uh(c){return typeof c=="string"||!st(c)&&cn(c)&&ur(c)==Ue}function Vr(c){return typeof c=="symbol"||cn(c)&&ur(c)==at}var nc=vS?Ur(vS):m$;function gB(c){return c===n}function yB(c){return cn(c)&&Xn(c)==xe}function vB(c){return cn(c)&&ur(c)==ke}var xB=Ph(rv),wB=Ph(function(c,d){return c<=d});function oE(c){if(!c)return[];if(Nr(c))return Uh(c)?Io(c):Er(c);if(Du&&c[Du])return Q4(c[Du]());var d=Xn(c),v=d==De?Hy:d==Ee?lh:rc;return v(c)}function Gs(c){if(!c)return c===0?c:0;if(c=go(c),c===X||c===-X){var d=c<0?-1:1;return d*P}return c===c?c:0}function ft(c){var d=Gs(c),v=d%1;return d===d?v?d-v:d:0}function sE(c){return c?Ha(ft(c),0,G):0}function go(c){if(typeof c=="number")return c;if(Vr(c))return B;if(tn(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=tn(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=kS(c);var v=Fs.test(c);return v||cr.test(c)?D4(c.slice(2),v?2:8):Bt.test(c)?B:+c}function iE(c){return ds(c,Tr(c))}function bB(c){return c?Ha(ft(c),-I,I):c===0?c:0}function Mt(c){return c==null?"":Hr(c)}var CB=Zl(function(c,d){if(Gu(d)||Nr(d)){ds(d,Rn(d),c);return}for(var v in d)_t.call(d,v)&&zu(c,v,d[v])}),aE=Zl(function(c,d){ds(d,Tr(d),c)}),Hh=Zl(function(c,d,v,E){ds(d,Tr(d),c,E)}),SB=Zl(function(c,d,v,E){ds(d,Rn(d),c,E)}),kB=Us(Jy);function EB(c,d){var v=Ql(c);return d==null?v:$S(v,d)}var NB=gt(function(c,d){c=jt(c);var v=-1,E=d.length,R=E>2?d[2]:n;for(R&&dr(d[0],d[1],R)&&(E=1);++v<E;)for(var D=d[v],$=Tr(D),V=-1,Y=$.length;++V<Y;){var de=$[V],fe=c[de];(fe===n||jo(fe,Yl[de])&&!_t.call(c,de))&&(c[de]=D[de])}return c}),TB=gt(function(c){return c.push(n,kk),Wr(lE,n,c)});function RB(c,d){return wS(c,Ye(d,3),us)}function MB(c,d){return wS(c,Ye(d,3),Qy)}function AB(c,d){return c==null?c:Xy(c,Ye(d,3),Tr)}function _B(c,d){return c==null?c:HS(c,Ye(d,3),Tr)}function OB(c,d){return c&&us(c,Ye(d,3))}function PB(c,d){return c&&Qy(c,Ye(d,3))}function IB(c){return c==null?[]:Eh(c,Rn(c))}function DB(c){return c==null?[]:Eh(c,Tr(c))}function Av(c,d,v){var E=c==null?n:Va(c,d);return E===n?v:E}function jB(c,d){return c!=null&&Tk(c,d,s$)}function _v(c,d){return c!=null&&Tk(c,d,i$)}var LB=xk(function(c,d,v){d!=null&&typeof d.toString!="function"&&(d=fh.call(d)),c[d]=v},Pv(Rr)),FB=xk(function(c,d,v){d!=null&&typeof d.toString!="function"&&(d=fh.call(d)),_t.call(c,d)?c[d].push(v):c[d]=[v]},Ye),$B=gt(Wu);function Rn(c){return Nr(c)?LS(c):nv(c)}function Tr(c){return Nr(c)?LS(c,!0):g$(c)}function zB(c,d){var v={};return d=Ye(d,3),us(c,function(E,R,D){Bs(v,d(E,R,D),E)}),v}function BB(c,d){var v={};return d=Ye(d,3),us(c,function(E,R,D){Bs(v,R,d(E,R,D))}),v}var WB=Zl(function(c,d,v){Nh(c,d,v)}),lE=Zl(function(c,d,v,E){Nh(c,d,v,E)}),UB=Us(function(c,d){var v={};if(c==null)return v;var E=!1;d=Xt(d,function(D){return D=Ri(D,c),E||(E=D.length>1),D}),ds(c,gv(c),v),E&&(v=ho(v,p|g|y,L$));for(var R=d.length;R--;)lv(v,d[R]);return v});function HB(c,d){return cE(c,Bh(Ye(d)))}var VB=Us(function(c,d){return c==null?{}:v$(c,d)});function cE(c,d){if(c==null)return{};var v=Xt(gv(c),function(E){return[E]});return d=Ye(d),ek(c,v,function(E,R){return d(E,R[0])})}function GB(c,d,v){d=Ri(d,c);var E=-1,R=d.length;for(R||(R=1,c=n);++E<R;){var D=c==null?n:c[fs(d[E])];D===n&&(E=R,D=v),c=Vs(D)?D.call(c):D}return c}function KB(c,d,v){return c==null?c:Hu(c,d,v)}function qB(c,d,v,E){return E=typeof E=="function"?E:n,c==null?c:Hu(c,d,v,E)}var uE=Ck(Rn),dE=Ck(Tr);function YB(c,d,v){var E=st(c),R=E||Ai(c)||nc(c);if(d=Ye(d,4),v==null){var D=c&&c.constructor;R?v=E?new D:[]:tn(c)?v=Vs(D)?Ql(mh(c)):{}:v={}}return(R?co:us)(c,function($,V,Y){return d(v,$,V,Y)}),v}function JB(c,d){return c==null?!0:lv(c,d)}function XB(c,d,v){return c==null?c:sk(c,d,dv(v))}function QB(c,d,v,E){return E=typeof E=="function"?E:n,c==null?c:sk(c,d,dv(v),E)}function rc(c){return c==null?[]:Uy(c,Rn(c))}function ZB(c){return c==null?[]:Uy(c,Tr(c))}function e6(c,d,v){return v===n&&(v=d,d=n),v!==n&&(v=go(v),v=v===v?v:0),d!==n&&(d=go(d),d=d===d?d:0),Ha(go(c),d,v)}function t6(c,d,v){return d=Gs(d),v===n?(v=d,d=0):v=Gs(v),c=go(c),a$(c,d,v)}function n6(c,d,v){if(v&&typeof v!="boolean"&&dr(c,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof c=="boolean"&&(v=c,c=n)),c===n&&d===n?(c=0,d=1):(c=Gs(c),d===n?(d=c,c=0):d=Gs(d)),c>d){var E=c;c=d,d=E}if(v||c%1||d%1){var R=DS();return Jn(c+R*(d-c+I4("1e-"+((R+"").length-1))),d)}return sv(c,d)}var r6=ec(function(c,d,v){return d=d.toLowerCase(),c+(v?fE(d):d)});function fE(c){return Ov(Mt(c).toLowerCase())}function hE(c){return c=Mt(c),c&&c.replace(Wl,K4).replace(k4,"")}function o6(c,d,v){c=Mt(c),d=Hr(d);var E=c.length;v=v===n?E:Ha(ft(v),0,E);var R=v;return v-=d.length,v>=0&&c.slice(v,R)==d}function s6(c){return c=Mt(c),c&&Cn.test(c)?c.replace(Vt,q4):c}function i6(c){return c=Mt(c),c&&zt.test(c)?c.replace(en,"\\$&"):c}var a6=ec(function(c,d,v){return c+(v?"-":"")+d.toLowerCase()}),l6=ec(function(c,d,v){return c+(v?" ":"")+d.toLowerCase()}),c6=gk("toLowerCase");function u6(c,d,v){c=Mt(c),d=ft(d);var E=d?Kl(c):0;if(!d||E>=d)return c;var R=(d-E)/2;return Oh(xh(R),v)+c+Oh(vh(R),v)}function d6(c,d,v){c=Mt(c),d=ft(d);var E=d?Kl(c):0;return d&&E<d?c+Oh(d-E,v):c}function f6(c,d,v){c=Mt(c),d=ft(d);var E=d?Kl(c):0;return d&&E<d?Oh(d-E,v)+c:c}function h6(c,d,v){return v||d==null?d=0:d&&(d=+d),w3(Mt(c).replace(Jt,""),d||0)}function p6(c,d,v){return(v?dr(c,d,v):d===n)?d=1:d=ft(d),iv(Mt(c),d)}function m6(){var c=arguments,d=Mt(c[0]);return c.length<3?d:d.replace(c[1],c[2])}var g6=ec(function(c,d,v){return c+(v?"_":"")+d.toLowerCase()});function y6(c,d,v){return v&&typeof v!="number"&&dr(c,d,v)&&(d=v=n),v=v===n?G:v>>>0,v?(c=Mt(c),c&&(typeof d=="string"||d!=null&&!Mv(d))&&(d=Hr(d),!d&&Gl(c))?Mi(Io(c),0,v):c.split(d,v)):[]}var v6=ec(function(c,d,v){return c+(v?" ":"")+Ov(d)});function x6(c,d,v){return c=Mt(c),v=v==null?0:Ha(ft(v),0,c.length),d=Hr(d),c.slice(v,v+d.length)==d}function w6(c,d,v){var E=O.templateSettings;v&&dr(c,d,v)&&(d=n),c=Mt(c),d=Hh({},d,E,Sk);var R=Hh({},d.imports,E.imports,Sk),D=Rn(R),$=Uy(R,D),V,Y,de=0,fe=d.interpolate||Ul,ye="__p += '",Me=Vy((d.escape||Ul).source+"|"+fe.source+"|"+(fe===ot?hn:Ul).source+"|"+(d.evaluate||Ul).source+"|$","g"),We="//# sourceURL="+(_t.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++M4+"]")+`
`;c.replace(Me,function(Qe,vt,St,Gr,fr,Kr){return St||(St=Gr),ye+=c.slice(de,Kr).replace(Ry,Y4),vt&&(V=!0,ye+=`' +
__e(`+vt+`) +
'`),fr&&(Y=!0,ye+=`';
`+fr+`;
__p += '`),St&&(ye+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),de=Kr+Qe.length,Qe}),ye+=`';
`;var Xe=_t.call(d,"variable")&&d.variable;if(!Xe)ye=`with (obj) {
`+ye+`
}
`;else if(Ve.test(Xe))throw new nt(a);ye=(Y?ye.replace(ao,""):ye).replace(Ds,"$1").replace(bi,"$1;"),ye="function("+(Xe||"obj")+`) {
`+(Xe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(Y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var mt=mE(function(){return Tt(D,We+"return "+ye).apply(n,$)});if(mt.source=ye,Rv(mt))throw mt;return mt}function b6(c){return Mt(c).toLowerCase()}function C6(c){return Mt(c).toUpperCase()}function S6(c,d,v){if(c=Mt(c),c&&(v||d===n))return kS(c);if(!c||!(d=Hr(d)))return c;var E=Io(c),R=Io(d),D=ES(E,R),$=NS(E,R)+1;return Mi(E,D,$).join("")}function k6(c,d,v){if(c=Mt(c),c&&(v||d===n))return c.slice(0,RS(c)+1);if(!c||!(d=Hr(d)))return c;var E=Io(c),R=NS(E,Io(d))+1;return Mi(E,0,R).join("")}function E6(c,d,v){if(c=Mt(c),c&&(v||d===n))return c.replace(Jt,"");if(!c||!(d=Hr(d)))return c;var E=Io(c),R=ES(E,Io(d));return Mi(E,R).join("")}function N6(c,d){var v=F,E=z;if(tn(d)){var R="separator"in d?d.separator:R;v="length"in d?ft(d.length):v,E="omission"in d?Hr(d.omission):E}c=Mt(c);var D=c.length;if(Gl(c)){var $=Io(c);D=$.length}if(v>=D)return c;var V=v-Kl(E);if(V<1)return E;var Y=$?Mi($,0,V).join(""):c.slice(0,V);if(R===n)return Y+E;if($&&(V+=Y.length-V),Mv(R)){if(c.slice(V).search(R)){var de,fe=Y;for(R.global||(R=Vy(R.source,Mt(lr.exec(R))+"g")),R.lastIndex=0;de=R.exec(fe);)var ye=de.index;Y=Y.slice(0,ye===n?V:ye)}}else if(c.indexOf(Hr(R),V)!=V){var Me=Y.lastIndexOf(R);Me>-1&&(Y=Y.slice(0,Me))}return Y+E}function T6(c){return c=Mt(c),c&&Ft.test(c)?c.replace(js,n3):c}var R6=ec(function(c,d,v){return c+(v?" ":"")+d.toUpperCase()}),Ov=gk("toUpperCase");function pE(c,d,v){return c=Mt(c),d=v?n:d,d===n?X4(c)?s3(c):W4(c):c.match(d)||[]}var mE=gt(function(c,d){try{return Wr(c,n,d)}catch(v){return Rv(v)?v:new nt(v)}}),M6=Us(function(c,d){return co(d,function(v){v=fs(v),Bs(c,v,Nv(c[v],c))}),c});function A6(c){var d=c==null?0:c.length,v=Ye();return c=d?Xt(c,function(E){if(typeof E[1]!="function")throw new uo(i);return[v(E[0]),E[1]]}):[],gt(function(E){for(var R=-1;++R<d;){var D=c[R];if(Wr(D[0],this,E))return Wr(D[1],this,E)}})}function _6(c){return n$(ho(c,p))}function Pv(c){return function(){return c}}function O6(c,d){return c==null||c!==c?d:c}var P6=vk(),I6=vk(!0);function Rr(c){return c}function Iv(c){return qS(typeof c=="function"?c:ho(c,p))}function D6(c){return JS(ho(c,p))}function j6(c,d){return XS(c,ho(d,p))}var L6=gt(function(c,d){return function(v){return Wu(v,c,d)}}),F6=gt(function(c,d){return function(v){return Wu(c,v,d)}});function Dv(c,d,v){var E=Rn(d),R=Eh(d,E);v==null&&!(tn(d)&&(R.length||!E.length))&&(v=d,d=c,c=this,R=Eh(d,Rn(d)));var D=!(tn(v)&&"chain"in v)||!!v.chain,$=Vs(c);return co(R,function(V){var Y=d[V];c[V]=Y,$&&(c.prototype[V]=function(){var de=this.__chain__;if(D||de){var fe=c(this.__wrapped__),ye=fe.__actions__=Er(this.__actions__);return ye.push({func:Y,args:arguments,thisArg:c}),fe.__chain__=de,fe}return Y.apply(c,Si([this.value()],arguments))})}),c}function $6(){return Fn._===this&&(Fn._=d3),this}function jv(){}function z6(c){return c=ft(c),gt(function(d){return QS(d,c)})}var B6=hv(Xt),W6=hv(xS),U6=hv(Fy);function gE(c){return wv(c)?$y(fs(c)):x$(c)}function H6(c){return function(d){return c==null?n:Va(c,d)}}var V6=wk(),G6=wk(!0);function Lv(){return[]}function Fv(){return!1}function K6(){return{}}function q6(){return""}function Y6(){return!0}function J6(c,d){if(c=ft(c),c<1||c>I)return[];var v=G,E=Jn(c,G);d=Ye(d),c-=G;for(var R=Wy(E,d);++v<c;)d(v);return R}function X6(c){return st(c)?Xt(c,fs):Vr(c)?[c]:Er(jk(Mt(c)))}function Q6(c){var d=++c3;return Mt(c)+d}var Z6=_h(function(c,d){return c+d},0),e8=pv("ceil"),t8=_h(function(c,d){return c/d},1),n8=pv("floor");function r8(c){return c&&c.length?kh(c,Rr,Zy):n}function o8(c,d){return c&&c.length?kh(c,Ye(d,2),Zy):n}function s8(c){return CS(c,Rr)}function i8(c,d){return CS(c,Ye(d,2))}function a8(c){return c&&c.length?kh(c,Rr,rv):n}function l8(c,d){return c&&c.length?kh(c,Ye(d,2),rv):n}var c8=_h(function(c,d){return c*d},1),u8=pv("round"),d8=_h(function(c,d){return c-d},0);function f8(c){return c&&c.length?By(c,Rr):0}function h8(c,d){return c&&c.length?By(c,Ye(d,2)):0}return O.after=Dz,O.ary=Kk,O.assign=CB,O.assignIn=aE,O.assignInWith=Hh,O.assignWith=SB,O.at=kB,O.before=qk,O.bind=Nv,O.bindAll=M6,O.bindKey=Yk,O.castArray=Kz,O.chain=Hk,O.chunk=n5,O.compact=r5,O.concat=o5,O.cond=A6,O.conforms=_6,O.constant=Pv,O.countBy=fz,O.create=EB,O.curry=Jk,O.curryRight=Xk,O.debounce=Qk,O.defaults=NB,O.defaultsDeep=TB,O.defer=jz,O.delay=Lz,O.difference=s5,O.differenceBy=i5,O.differenceWith=a5,O.drop=l5,O.dropRight=c5,O.dropRightWhile=u5,O.dropWhile=d5,O.fill=f5,O.filter=pz,O.flatMap=yz,O.flatMapDeep=vz,O.flatMapDepth=xz,O.flatten=zk,O.flattenDeep=h5,O.flattenDepth=p5,O.flip=Fz,O.flow=P6,O.flowRight=I6,O.fromPairs=m5,O.functions=IB,O.functionsIn=DB,O.groupBy=wz,O.initial=y5,O.intersection=v5,O.intersectionBy=x5,O.intersectionWith=w5,O.invert=LB,O.invertBy=FB,O.invokeMap=Cz,O.iteratee=Iv,O.keyBy=Sz,O.keys=Rn,O.keysIn=Tr,O.map=Fh,O.mapKeys=zB,O.mapValues=BB,O.matches=D6,O.matchesProperty=j6,O.memoize=zh,O.merge=WB,O.mergeWith=lE,O.method=L6,O.methodOf=F6,O.mixin=Dv,O.negate=Bh,O.nthArg=z6,O.omit=UB,O.omitBy=HB,O.once=$z,O.orderBy=kz,O.over=B6,O.overArgs=zz,O.overEvery=W6,O.overSome=U6,O.partial=Tv,O.partialRight=Zk,O.partition=Ez,O.pick=VB,O.pickBy=cE,O.property=gE,O.propertyOf=H6,O.pull=k5,O.pullAll=Wk,O.pullAllBy=E5,O.pullAllWith=N5,O.pullAt=T5,O.range=V6,O.rangeRight=G6,O.rearg=Bz,O.reject=Rz,O.remove=R5,O.rest=Wz,O.reverse=kv,O.sampleSize=Az,O.set=KB,O.setWith=qB,O.shuffle=_z,O.slice=M5,O.sortBy=Iz,O.sortedUniq=j5,O.sortedUniqBy=L5,O.split=y6,O.spread=Uz,O.tail=F5,O.take=$5,O.takeRight=z5,O.takeRightWhile=B5,O.takeWhile=W5,O.tap=rz,O.throttle=Hz,O.thru=Lh,O.toArray=oE,O.toPairs=uE,O.toPairsIn=dE,O.toPath=X6,O.toPlainObject=iE,O.transform=YB,O.unary=Vz,O.union=U5,O.unionBy=H5,O.unionWith=V5,O.uniq=G5,O.uniqBy=K5,O.uniqWith=q5,O.unset=JB,O.unzip=Ev,O.unzipWith=Uk,O.update=XB,O.updateWith=QB,O.values=rc,O.valuesIn=ZB,O.without=Y5,O.words=pE,O.wrap=Gz,O.xor=J5,O.xorBy=X5,O.xorWith=Q5,O.zip=Z5,O.zipObject=ez,O.zipObjectDeep=tz,O.zipWith=nz,O.entries=uE,O.entriesIn=dE,O.extend=aE,O.extendWith=Hh,Dv(O,O),O.add=Z6,O.attempt=mE,O.camelCase=r6,O.capitalize=fE,O.ceil=e8,O.clamp=e6,O.clone=qz,O.cloneDeep=Jz,O.cloneDeepWith=Xz,O.cloneWith=Yz,O.conformsTo=Qz,O.deburr=hE,O.defaultTo=O6,O.divide=t8,O.endsWith=o6,O.eq=jo,O.escape=s6,O.escapeRegExp=i6,O.every=hz,O.find=mz,O.findIndex=Fk,O.findKey=RB,O.findLast=gz,O.findLastIndex=$k,O.findLastKey=MB,O.floor=n8,O.forEach=Vk,O.forEachRight=Gk,O.forIn=AB,O.forInRight=_B,O.forOwn=OB,O.forOwnRight=PB,O.get=Av,O.gt=Zz,O.gte=eB,O.has=jB,O.hasIn=_v,O.head=Bk,O.identity=Rr,O.includes=bz,O.indexOf=g5,O.inRange=t6,O.invoke=$B,O.isArguments=qa,O.isArray=st,O.isArrayBuffer=tB,O.isArrayLike=Nr,O.isArrayLikeObject=pn,O.isBoolean=nB,O.isBuffer=Ai,O.isDate=rB,O.isElement=oB,O.isEmpty=sB,O.isEqual=iB,O.isEqualWith=aB,O.isError=Rv,O.isFinite=lB,O.isFunction=Vs,O.isInteger=eE,O.isLength=Wh,O.isMap=tE,O.isMatch=cB,O.isMatchWith=uB,O.isNaN=dB,O.isNative=fB,O.isNil=pB,O.isNull=hB,O.isNumber=nE,O.isObject=tn,O.isObjectLike=cn,O.isPlainObject=qu,O.isRegExp=Mv,O.isSafeInteger=mB,O.isSet=rE,O.isString=Uh,O.isSymbol=Vr,O.isTypedArray=nc,O.isUndefined=gB,O.isWeakMap=yB,O.isWeakSet=vB,O.join=b5,O.kebabCase=a6,O.last=mo,O.lastIndexOf=C5,O.lowerCase=l6,O.lowerFirst=c6,O.lt=xB,O.lte=wB,O.max=r8,O.maxBy=o8,O.mean=s8,O.meanBy=i8,O.min=a8,O.minBy=l8,O.stubArray=Lv,O.stubFalse=Fv,O.stubObject=K6,O.stubString=q6,O.stubTrue=Y6,O.multiply=c8,O.nth=S5,O.noConflict=$6,O.noop=jv,O.now=$h,O.pad=u6,O.padEnd=d6,O.padStart=f6,O.parseInt=h6,O.random=n6,O.reduce=Nz,O.reduceRight=Tz,O.repeat=p6,O.replace=m6,O.result=GB,O.round=u8,O.runInContext=q,O.sample=Mz,O.size=Oz,O.snakeCase=g6,O.some=Pz,O.sortedIndex=A5,O.sortedIndexBy=_5,O.sortedIndexOf=O5,O.sortedLastIndex=P5,O.sortedLastIndexBy=I5,O.sortedLastIndexOf=D5,O.startCase=v6,O.startsWith=x6,O.subtract=d8,O.sum=f8,O.sumBy=h8,O.template=w6,O.times=J6,O.toFinite=Gs,O.toInteger=ft,O.toLength=sE,O.toLower=b6,O.toNumber=go,O.toSafeInteger=bB,O.toString=Mt,O.toUpper=C6,O.trim=S6,O.trimEnd=k6,O.trimStart=E6,O.truncate=N6,O.unescape=T6,O.uniqueId=Q6,O.upperCase=R6,O.upperFirst=Ov,O.each=Vk,O.eachRight=Gk,O.first=Bk,Dv(O,function(){var c={};return us(O,function(d,v){_t.call(O.prototype,v)||(c[v]=d)}),c}(),{chain:!1}),O.VERSION=r,co(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){O[c].placeholder=O}),co(["drop","take"],function(c,d){Ct.prototype[c]=function(v){v=v===n?1:kn(ft(v),0);var E=this.__filtered__&&!d?new Ct(this):this.clone();return E.__filtered__?E.__takeCount__=Jn(v,E.__takeCount__):E.__views__.push({size:Jn(v,G),type:c+(E.__dir__<0?"Right":"")}),E},Ct.prototype[c+"Right"]=function(v){return this.reverse()[c](v).reverse()}}),co(["filter","map","takeWhile"],function(c,d){var v=d+1,E=v==W||v==J;Ct.prototype[c]=function(R){var D=this.clone();return D.__iteratees__.push({iteratee:Ye(R,3),type:v}),D.__filtered__=D.__filtered__||E,D}}),co(["head","last"],function(c,d){var v="take"+(d?"Right":"");Ct.prototype[c]=function(){return this[v](1).value()[0]}}),co(["initial","tail"],function(c,d){var v="drop"+(d?"":"Right");Ct.prototype[c]=function(){return this.__filtered__?new Ct(this):this[v](1)}}),Ct.prototype.compact=function(){return this.filter(Rr)},Ct.prototype.find=function(c){return this.filter(c).head()},Ct.prototype.findLast=function(c){return this.reverse().find(c)},Ct.prototype.invokeMap=gt(function(c,d){return typeof c=="function"?new Ct(this):this.map(function(v){return Wu(v,c,d)})}),Ct.prototype.reject=function(c){return this.filter(Bh(Ye(c)))},Ct.prototype.slice=function(c,d){c=ft(c);var v=this;return v.__filtered__&&(c>0||d<0)?new Ct(v):(c<0?v=v.takeRight(-c):c&&(v=v.drop(c)),d!==n&&(d=ft(d),v=d<0?v.dropRight(-d):v.take(d-c)),v)},Ct.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Ct.prototype.toArray=function(){return this.take(G)},us(Ct.prototype,function(c,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),E=/^(?:head|last)$/.test(d),R=O[E?"take"+(d=="last"?"Right":""):d],D=E||/^find/.test(d);R&&(O.prototype[d]=function(){var $=this.__wrapped__,V=E?[1]:arguments,Y=$ instanceof Ct,de=V[0],fe=Y||st($),ye=function(vt){var St=R.apply(O,Si([vt],V));return E&&Me?St[0]:St};fe&&v&&typeof de=="function"&&de.length!=1&&(Y=fe=!1);var Me=this.__chain__,We=!!this.__actions__.length,Xe=D&&!Me,mt=Y&&!We;if(!D&&fe){$=mt?$:new Ct(this);var Qe=c.apply($,V);return Qe.__actions__.push({func:Lh,args:[ye],thisArg:n}),new fo(Qe,Me)}return Xe&&mt?c.apply(this,V):(Qe=this.thru(ye),Xe?E?Qe.value()[0]:Qe.value():Qe)})}),co(["pop","push","shift","sort","splice","unshift"],function(c){var d=ch[c],v=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",E=/^(?:pop|shift)$/.test(c);O.prototype[c]=function(){var R=arguments;if(E&&!this.__chain__){var D=this.value();return d.apply(st(D)?D:[],R)}return this[v](function($){return d.apply(st($)?$:[],R)})}}),us(Ct.prototype,function(c,d){var v=O[d];if(v){var E=v.name+"";_t.call(Xl,E)||(Xl[E]=[]),Xl[E].push({name:d,func:v})}}),Xl[Ah(n,C).name]=[{name:"wrapper",func:n}],Ct.prototype.clone=T3,Ct.prototype.reverse=R3,Ct.prototype.value=M3,O.prototype.at=oz,O.prototype.chain=sz,O.prototype.commit=iz,O.prototype.next=az,O.prototype.plant=cz,O.prototype.reverse=uz,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=dz,O.prototype.first=O.prototype.head,Du&&(O.prototype[Du]=lz),O},ql=i3();za?((za.exports=ql)._=ql,Iy._=ql):Fn._=ql}).call(Yu)})(sg,sg.exports);var zce=sg.exports;const Bce=["#2563eb","#000000","#FF0000","#00FF00","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#A52A2A"],Wce=({whiteboard:t,onCanvasChange:e,onSave:n,whiteboardColor:r,onAutoSave:o,isMobile:s=!1,onScaledHeightChange:i,updatedAt:a,aiEnabled:l})=>{const u=m.useRef(null);Oo();const{theme:f}=ss(),p=f==="light",[g,y]=m.useState("pen"),[b,w]=m.useState("#2563eb"),[x,C]=m.useState(s?3:2),[S,k]=m.useState(!1),[T,N]=m.useState(1),[A,_]=m.useState(null),[M,L]=m.useState(0),[F,z]=m.useState(!1),[U,K]=m.useState([]),[W,te]=m.useState(0),[J,X]=m.useState(!1),[I,P]=m.useState(!1),[B,G]=m.useState({x:0,y:0}),[j,Z]=m.useState(1),[Q,ee]=m.useState(0),[ne,H]=m.useState({x:0,y:0}),[ue,he]=m.useState({width:t.canvas_width||500,height:t.canvas_height||500}),le=m.useRef(null);m.useEffect(()=>{var pe;if(u.current&&t.canvas_data&&!F)try{console.log("🎨 Loading canvas data:",{dataType:typeof t.canvas_data,isArray:Array.isArray(t.canvas_data),dataLength:Array.isArray(t.canvas_data)?t.canvas_data.length:"N/A",dataPreview:typeof t.canvas_data=="string"?t.canvas_data.substring(0,300):JSON.stringify(t.canvas_data).substring(0,300)});let xe=t.canvas_data;if(typeof xe=="string")try{const ke=JSON.parse(xe);if(Array.isArray(ke))xe=ke;else if(ke&&typeof ke=="object"&&ke.paths)xe=ke.paths;else throw new Error("Invalid parsed format")}catch(ke){console.warn("🎨 Failed to parse string canvas data:",ke),console.warn("🎨 Corrupted data preview:",((pe=xe==null?void 0:xe.substring)==null?void 0:pe.call(xe,0,200))||"N/A"),xe=[]}else xe&&typeof xe=="object"&&xe.paths?(console.log("🎨 Data is in object format with paths, extracting array"),xe=xe.paths):Array.isArray(xe)||(console.warn("🎨 Unknown data format or not an array, using empty array"),xe=[]);Array.isArray(xe)||(console.warn("🎨 Data is not an array after processing, forcing empty array:",typeof xe),xe=[]);try{const ke=JSON.stringify(xe);JSON.parse(ke)}catch(ke){console.error("🎨 Canvas data fails JSON validation, using empty array:",ke),xe=[]}if(xe.length>0){const ke=xe[0];(!ke.drawMode||!ke.strokeColor||!ke.strokeWidth)&&(console.log("🎨 Reconstructing missing metadata for canvas paths"),xe=xe.map((Ke,lt)=>({drawMode:!0,strokeColor:Ke.strokeColor||"#2563eb",strokeWidth:Ke.strokeWidth||2,paths:Ke.paths||Ke||[]})))}if(console.log("🎨 Final data to load:",{isArray:Array.isArray(xe),length:Array.isArray(xe)?xe.length:"N/A",dataPreview:JSON.stringify(xe).substring(0,300)}),Array.isArray(xe)){const ke=console.warn,Ke=console.error;console.warn=(...lt)=>{var rt,Ht;(Ht=(rt=lt[0])==null?void 0:rt.includes)!=null&&Ht.call(rt,"No stroke found")||ke.apply(console,lt)},console.error=(...lt)=>{var rt,Ht;(Ht=(rt=lt[0])==null?void 0:rt.includes)!=null&&Ht.call(rt,"No stroke found")||Ke.apply(console,lt)},u.current.loadPaths(xe),z(!0),K(xe),te(Date.now()),A&&(clearTimeout(A),_(null),console.log("🎨 Cleared pending auto-save timeout after loading data")),console.log("🎨 Canvas data loaded successfully"),console.warn=ke,console.error=Ke}else console.warn("🎨 Invalid canvas data format, using empty canvas:",{dataType:typeof xe,dataValue:xe}),u.current.loadPaths([]),z(!0),K([]),te(Date.now()),A&&(clearTimeout(A),_(null))}catch(xe){console.error("🎨 Failed to load canvas data:",xe);try{u.current.loadPaths([]),z(!0),K([]),te(Date.now()),A&&(clearTimeout(A),_(null)),console.log("🎨 Auto-fixing corrupted canvas data after load error...");try{n([])}catch(ke){console.error("🎨 Failed to auto-fix corrupted data:",ke)}}catch(ke){console.error("🎨 Failed to load empty canvas:",ke)}}},[t.canvas_data,F,A]),m.useEffect(()=>{if(s&&le.current){const pe=new ResizeObserver(xe=>{for(let ke of xe){const Ke=ke.contentRect.width;if(t.canvas_width&&Ke>0){const lt=Ke/t.canvas_width;N(lt),i&&i(t.canvas_height*lt)}}});return pe.observe(le.current),()=>pe.disconnect()}else s||N(1)},[s,t.canvas_width]),m.useEffect(()=>{if(!le.current)return;const pe=new ResizeObserver(ke=>{for(let Ke of ke){const{width:lt,height:rt}=Ke.contentRect;lt>0&&rt>0&&(console.log("🎨 Container dimensions changed:",{width:lt,height:rt}),he({width:Math.floor(lt),height:Math.floor(rt)}))}});pe.observe(le.current);const xe=le.current.getBoundingClientRect();return xe.width>0&&xe.height>0&&(console.log("🎨 Initial container dimensions:",{width:xe.width,height:xe.height}),he({width:Math.floor(xe.width),height:Math.floor(xe.height)})),()=>pe.disconnect()},[a]),m.useEffect(()=>{console.log("🎨 Canvas dimensions updated:",ue)},[ue]);const Ne=m.useCallback(zce.debounce(async(pe,xe)=>{try{if(!Array.isArray(pe)){console.warn("🎨 Invalid canvas data format - not an array:",typeof pe);return}const ke=JSON.stringify(pe);JSON.parse(ke),console.log("🎨 Auto-saving canvas data:",{pathCount:pe.length,dataPreview:ke.substring(0,100),whiteboardId:xe}),await n({canvas_data:pe,updated_at:new Date().toISOString()}),console.log("🎨 Canvas auto-save completed successfully")}catch(ke){console.error("🎨 Canvas auto-save failed:",ke),ke instanceof Error&&(ke.message.includes("JSON")||ke.message.includes("stringify"))&&console.error("🎨 Canvas data is corrupted and cannot be saved. This may be due to a drawing library error.")}},500),[n]),Ae=m.useCallback(async()=>{if(console.log("🎨 handleDrawingEnd called."),k(!1),!u.current)return;const pe=Date.now()-W;if(pe<2e3){console.log("🎨 Skipping auto-save - too soon after canvas load:",{timeSinceLoad:pe});return}try{const xe=await u.current.exportPaths();if(console.log("🎨 WhiteboardCanvas: Raw exported paths:",xe),!Array.isArray(xe)){console.warn("🎨 Invalid canvas data format from exportPaths - not an array:",typeof xe);return}try{const rt=JSON.stringify(xe);JSON.parse(rt)}catch(rt){console.error("🎨 Canvas data is corrupted and cannot be processed:",rt);return}let ke=[];if(t.canvas_data){if(Array.isArray(t.canvas_data))ke=t.canvas_data;else if(typeof t.canvas_data=="object"&&t.canvas_data.paths)ke=t.canvas_data.paths||[];else if(typeof t.canvas_data=="string")try{const rt=JSON.parse(t.canvas_data);ke=Array.isArray(rt)?rt:rt.paths||[]}catch{ke=[]}}const Ke=JSON.stringify(xe),lt=JSON.stringify(ke);if(console.log("🎨 Canvas change detection:",{currentPaths:(xe==null?void 0:xe.length)||0,savedPaths:(ke==null?void 0:ke.length)||0,hasChanges:Ke!==lt,currentDataPreview:Ke.substring(0,100),savedDataPreview:lt.substring(0,100),currentDataFull:Ke,savedDataFull:lt}),Ke!==lt){if(console.log("🎨 Canvas changes detected, scheduling auto-save..."),xe.length===0&&(U.length>0||ke.length>0)&&!J){console.warn("🎨 Preventing accidental canvas clear - expected content but got empty data",{expectedPaths:Math.max(U.length,ke.length),currentPaths:xe.length,timeSinceLoad:Date.now()-W,lastLoadedCount:U.length,savedDataCount:ke.length,isIntentionalClear:J});return}else J&&xe.length===0&&console.log("🎨 Allowing intentional canvas clear");A&&clearTimeout(A);const rt=setTimeout(()=>{Ne(xe,t.id)},3e3);_(rt)}else console.log("🎨 No canvas changes detected, skipping auto-save")}catch(xe){console.error("Failed to check canvas changes:",xe)}},[A,Ne,t.canvas_data,u,U,W,J]);m.useEffect(()=>()=>{A&&clearTimeout(A)},[A]);const Je=pe=>{y(pe),u.current&&(pe==="eraser"?u.current.eraseMode(!0):u.current.eraseMode(!1))},De=pe=>{w(pe),g==="pen"&&(y("pen"),u.current&&u.current.eraseMode(!1))},Ze=pe=>{C(pe[0])},_e=()=>{u.current&&u.current.undo()},it=()=>{u.current&&u.current.redo()},wt=async()=>{if(u.current){X(!0),u.current.clearCanvas();try{await n({canvas_data:[],updated_at:new Date().toISOString()}),K([]),console.log("🎨 Canvas cleared and saved successfully")}catch(pe){console.error("🎨 Failed to save cleared canvas:",pe)}finally{setTimeout(()=>X(!1),1e3)}}},It=(pe,xe)=>{const ke=pe.clientX-xe.clientX,Ke=pe.clientY-xe.clientY;return Math.sqrt(ke*ke+Ke*Ke)},Re=(pe,xe)=>({x:(pe.clientX+xe.clientX)/2,y:(pe.clientY+xe.clientY)/2}),Ee=pe=>{if(s)if(console.log(`Touch start: ${pe.touches.length} fingers`),pe.touches.length===2){pe.preventDefault(),pe.stopPropagation(),P(!0),k(!1);const xe=It(pe.touches[0],pe.touches[1]);ee(xe);const ke=Re(pe.touches[0],pe.touches[1]);H(ke),console.log("Multi-touch enabled for pan/zoom")}else pe.touches.length===1&&(I||console.log("Single finger - drawing mode"))},Ue=pe=>{if(s)if(pe.touches.length===2){if(pe.preventDefault(),pe.stopPropagation(),!I){P(!0),k(!1);const Ht=It(pe.touches[0],pe.touches[1]);ee(Ht);const ae=Re(pe.touches[0],pe.touches[1]);H(ae),console.log("Multi-touch enabled during move");return}const xe=It(pe.touches[0],pe.touches[1]),ke=Re(pe.touches[0],pe.touches[1]);if(Q>0){const Ht=xe/Q,ae=Math.min(3,Math.max(.25,j*Ht));Z(ae),ee(xe)}const Ke=ke.x-ne.x,lt=ke.y-ne.y,rt={x:B.x+Ke*.8,y:B.y+lt*.8};G(rt),H(ke)}else I&&pe.touches.length===1&&(pe.preventDefault(),pe.stopPropagation())},at=pe=>{s&&(console.log(`Touch end: ${pe.touches.length} fingers remaining`),pe.touches.length<2&&I&&(console.log("Exiting multi-touch mode"),P(!1),ee(0),k(!1)))};return m.useEffect(()=>{if(!s)return;const pe=xe=>{S&&!I&&xe.preventDefault()};return document.addEventListener("touchmove",pe,{passive:!1}),()=>document.removeEventListener("touchmove",pe)},[S,I,s]),h.jsxs("div",{className:"flex flex-col h-full relative","data-whiteboard-canvas":!0,tabIndex:-1,children:[h.jsx("style",{children:`
          .react-sketch-canvas {
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            pointer-events: all !important; /* Diagnostic: Ensure canvas receives pointer events */
            z-index: 1000; /* Diagnostic: Bring canvas to front */
          }
          .react-sketch-canvas canvas {
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            pointer-events: all !important; /* Diagnostic: Ensure canvas receives pointer events */
            z-index: 1000; /* Diagnostic: Bring canvas to front */
          }
          .whiteboard-drawing-area {
            pointer-events: all !important; /* Diagnostic: Ensure parent receives pointer events */
            z-index: 999; /* Diagnostic: Bring parent to front */
          }
        `}),h.jsx("div",{className:"flex items-center justify-between p-2 border-b",style:{backgroundColor:p?"#f9fafb":"#334155",borderBottomColor:p?"#e5e7eb":"#475569"},children:h.jsx("div",{className:"flex flex-col gap-2 w-full",children:h.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border",style:{backgroundColor:p?"white":"#475569",borderColor:p?"#d1d5db":"#64748b"},children:[h.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>Je("pen"),className:Be("h-8 w-8 p-0",g==="pen"?"bg-blue-600 hover:bg-blue-700 text-white":""),style:g!=="pen"?{backgroundColor:"transparent",color:p?"#374151":"#e5e7eb"}:{},onMouseEnter:pe=>{g!=="pen"&&(pe.currentTarget.style.backgroundColor=p?"#f3f4f6":"#64748b")},onMouseLeave:pe=>{g!=="pen"&&(pe.currentTarget.style.backgroundColor="transparent")},children:h.jsx(X_,{className:"h-4 w-4"})}),h.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>Je("eraser"),className:Be("h-8 w-8 p-0",g==="eraser"?"bg-blue-600 hover:bg-blue-700 text-white":""),style:g!=="eraser"?{backgroundColor:"transparent",color:p?"#374151":"#e5e7eb"}:{},onMouseEnter:pe=>{g!=="eraser"&&(pe.currentTarget.style.backgroundColor=p?"#f3f4f6":"#64748b")},onMouseLeave:pe=>{g!=="eraser"&&(pe.currentTarget.style.backgroundColor="transparent")},children:h.jsx(Q_,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-md border",style:{backgroundColor:p?"white":"#475569",borderColor:p?"#d1d5db":"#64748b"},children:[h.jsx("span",{className:"text-xs font-medium min-w-[20px]",style:{color:p?"#374151":"#e5e7eb"},children:x}),h.jsx(s4,{value:[x],onValueChange:Ze,max:20,min:1,step:1,style:{"--slider-thumb-bg":p?"#ffffff":"#475569"},className:`w-12 sm:w-24 ${p?"[&>*]:bg-gray-200 [&>*>*]:bg-blue-600 [&>*:last-child]:border-blue-600":"[&>*]:bg-gray-600 [&>*>*]:bg-blue-500 [&>*:last-child]:border-blue-500"} [&>*:last-child]:bg-[var(--slider-thumb-bg)]`})]})]}),g==="pen"&&h.jsx("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border order-last sm:order-none",style:{backgroundColor:p?"white":"#475569",borderColor:p?"#d1d5db":"#64748b"},children:Bce.map(pe=>h.jsx("button",{onClick:()=>De(pe),className:`w-6 h-6 rounded-sm border-2 ${b===pe?p?"border-gray-800":"border-gray-200":p?"border-gray-300":"border-gray-600"}`,style:{backgroundColor:pe},"aria-label":`Select ${pe} color`},pe))}),h.jsx("div",{className:"flex-grow hidden sm:block"}),h.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[h.jsx(Se,{variant:"ghost",size:"sm",onClick:_e,className:"h-8 w-8 p-0",style:{backgroundColor:"transparent",color:p?"#374151":"#e5e7eb"},onMouseEnter:pe=>pe.currentTarget.style.backgroundColor=p?"#f3f4f6":"#64748b",onMouseLeave:pe=>pe.currentTarget.style.backgroundColor="transparent",children:h.jsx(z7,{className:"h-4 w-4"})}),h.jsx(Se,{variant:"ghost",size:"sm",onClick:it,className:"h-8 w-8 p-0",style:{backgroundColor:"transparent",color:p?"#374151":"#e5e7eb"},onMouseEnter:pe=>pe.currentTarget.style.backgroundColor=p?"#f3f4f6":"#64748b",onMouseLeave:pe=>pe.currentTarget.style.backgroundColor="transparent",children:h.jsx(I7,{className:"h-4 w-4"})}),h.jsx(Se,{variant:"ghost",size:"sm",onClick:wt,className:"h-8 w-8 p-0",style:{backgroundColor:"transparent",color:p?"#374151":"#e5e7eb"},onMouseEnter:pe=>pe.currentTarget.style.backgroundColor=p?"#f3f4f6":"#64748b",onMouseLeave:pe=>pe.currentTarget.style.backgroundColor="transparent",children:h.jsx(rs,{className:"h-4 w-4"})})]})]})})}),h.jsxs("div",{className:"flex-1 relative overflow-hidden",style:{paddingBottom:a?"36px":"8px"},children:[h.jsx("div",{ref:le,className:"w-full h-full relative whiteboard-drawing-area",onTouchStart:Ee,onTouchMove:Ue,onTouchEnd:pe=>{at(pe),S&&!I&&Ae()},style:{transform:s?`translate(${B.x}px, ${B.y}px) scale(${j})`:"none",transformOrigin:"center",transition:I?"none":"transform 0.1s ease-out",cursor:"crosshair"},children:h.jsx(bce,{style:{width:"100%",height:"100%",border:"none",outline:"none",boxShadow:"none",backgroundColor:"#ffffff"},width:`${ue.width}px`,height:`${ue.height}px`,strokeWidth:x,strokeColor:b,canvasColor:"#ffffff",ref:u,onStroke:()=>k(!0)})}),a&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-2 md:px-3 py-1 md:py-2 z-10 border-t",style:{borderTopColor:p?"#e5e7eb":"#475569",backgroundColor:p?"#ffffff":"#1e293b",fontSize:"10px"},children:h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:`${p?"text-gray-500":"text-gray-400"} truncate text-xs md:text-xs`,style:{fontFamily:'"Raleway", sans-serif',fontSize:"inherit"},children:[h.jsx("span",{className:"hidden sm:inline",children:"Last edited: "}),h.jsx("span",{className:"sm:hidden",children:"Edited: "}),$F(a)]})})})]})]})},Uce=({currentCategory:t,categoryColor:e,itemColor:n,existingCategories:r,isEditingCategory:o,showNewCategoryInput:s,newCategory:i,setNewCategory:a,setIsEditingCategory:l,setShowNewCategoryInput:u,handleEditCategory:f,handleAddCustomCategory:p,handleUpdateCategoryColor:g})=>{const y=t&&t!==""?t:"General",b=e||n||"#808080",w=()=>"#ffffff";return h.jsx("div",{className:"mb-2 px-6 flex items-center gap-2",children:o?h.jsx("div",{className:"mb-2 w-full",children:s?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(sn,{value:i,onChange:x=>a(x.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&p()}}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:p,className:"h-8 w-8 p-0",children:h.jsx(_o,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>{u(!1),a("")},className:"h-8 w-8 p-0",children:h.jsx(rs,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsxs(Ia,{onValueChange:f,defaultValue:y,children:[h.jsx(xi,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx(Da,{placeholder:"Select a category"})}),h.jsxs(wi,{children:[r.map(x=>h.jsx(yn,{value:x.name,style:{fontFamily:'"Raleway", sans-serif'},children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:x.color_value}}),x.name]})},x.name)),h.jsx(yn,{value:"__custom__",className:"text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:"+ Add new category"})]})]}),y!=="__custom__"&&h.jsx("div",{className:"flex items-center gap-2 ml-2",children:h.jsx(vi,{color:b,onChange:x=>g(y,x),onSave:x=>g(y,x),children:h.jsxs(Se,{variant:"outline",size:"sm",className:"h-8 px-3 flex items-center gap-2",children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border",style:{backgroundColor:b}}),"Category Color"]})})}),h.jsx(Se,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>l(!1),children:"Cancel"})]})}):h.jsx(aC,{variant:"outline",className:"cursor-pointer hover:opacity-80 transition-opacity border-none",style:{fontFamily:'"Raleway", sans-serif',backgroundColor:b,color:w()},onClick:()=>l(!0),children:y})})},Hce=400,i4=({whiteboard:t,onUpdate:e,onDelete:n,existingCategories:r,isCollapsed:o,onToggleCollapsed:s,updateCategory:i})=>{var B;const a=(B=r.find(G=>G.name===t.category))==null?void 0:B.color_value,l=t.color_value||a||"#3B82F6",[u,f]=m.useState(!1),[p,g]=m.useState(void 0),y=m.useRef(null);m.useEffect(()=>{const G=()=>{f(window.innerWidth<768)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const{whiteboardTitle:b,isCollapsibleOpen:w,setIsCollapsibleOpen:x,isEditing:C,setIsEditing:S,editTitle:k,setEditTitle:T,handleEditTitle:N,handleDeleteWhiteboard:A,handleSaveWhiteboardColor:_,isSavingColor:M,isEditingCategory:L,setIsEditingCategory:F,showNewCategoryInput:z,setShowNewCategoryInput:U,newCategory:K,setNewCategory:W,handleEditCategory:te,handleAddCustomCategory:J,handleCanvasChange:X,handleCanvasSave:I,titleEditRef:P}=gce({whiteboard:t,onUpdate:e,onDelete:n,isCollapsed:o,onToggleCollapsed:s,updateCategory:i});return h.jsx(rC,{open:w,onOpenChange:G=>{s&&o!==void 0?!o!==G&&s():x(G)},className:"w-full",style:{"--whiteboard-color":l},children:h.jsxs(ny,{className:"w-full shadow-sm h-full flex flex-col",style:{border:"none"},children:[h.jsx(ry,{className:"pb-2",children:h.jsx("div",{className:"flex justify-between items-center",children:C?h.jsxs("div",{className:"flex gap-1 w-full",children:[h.jsx(sn,{ref:P,value:k,onChange:G=>T(G.target.value),className:"h-8",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&N()}}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:N,className:"h-8 w-8 p-0",children:h.jsx(_o,{className:"h-4 w-4"})}),h.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>S(!1),className:"h-8 w-8 p-0",children:h.jsx(rs,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vi,{color:l,onChange:G=>{setCurrentColorPreview(G)},onSave:async G=>{if(G!==(t.color_value||"#3B82F6"))try{await _(G)}catch{toast({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),setCurrentColorPreview(t.color_value||"#3B82F6")}},children:h.jsxs(Se,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change whiteboard color",disabled:M,children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-border transition-colors duration-150",style:{backgroundColor:l}}),M&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50 rounded-full",children:h.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),h.jsx(yu,{className:"h-4 w-4 text-muted-foreground"}),h.jsx(oy,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>S(!0),children:b})]}),h.jsxs("div",{className:"flex",children:[h.jsx(oC,{asChild:!0,children:h.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(oi,{className:Be("h-4 w-4 transition-transform",w?"":"transform rotate-180")})})}),h.jsxs(Xg,{children:[h.jsx(Qg,{asChild:!0,children:h.jsx(Se,{variant:"ghost",className:"h-8 w-8 p-0",children:h.jsx(m1,{className:"h-4 w-4"})})}),h.jsxs(qf,{align:"end",children:[h.jsxs(gi,{onClick:()=>S(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Ff,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),h.jsxs(gi,{onClick:A,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Og,{className:"mr-2 h-4 w-4"}),"Delete Whiteboard"]})]})]})]})]})})}),h.jsx(Uce,{currentCategory:t.category||"",categoryColor:a,itemColor:t.color_value,existingCategories:r,isEditingCategory:L,showNewCategoryInput:z,newCategory:K,setNewCategory:W,setIsEditingCategory:F,setShowNewCategoryInput:U,handleEditCategory:te,handleAddCustomCategory:J,handleUpdateCategoryColor:i}),h.jsx(sC,{className:"flex-1",children:h.jsx("div",{className:"rounded-lg mx-6 mb-6 flex-1 flex flex-col relative",style:{backgroundColor:"#ffffff",border:`2px solid ${l} !important`,borderColor:`${l} !important`,height:u&&p!==void 0?`${Math.max(Hce,p-120)}px`:`${Math.max(530,(t.canvas_height||620)-120)}px`},ref:y,children:h.jsx(Wce,{whiteboard:t,onCanvasChange:X,onSave:I,whiteboardColor:l,onAutoSave:I,isMobile:u,onScaledHeightChange:g,updatedAt:t.updated_at,aiEnabled:!0})})})]})})},CM=750,SM=650,kM=2400,EM=2400,Vce=({whiteboard:t,onUpdate:e,onDelete:n,existingCategories:r,canvasTransform:o,onPositionChange:s,isCollapsed:i,onToggleCollapsed:a,updateCategory:l})=>{var M,L;const u=m.useRef(null),[f,p]=m.useState(!1),[g,y]=m.useState(!1),[b,w]=m.useState({x:0,y:0}),[x,C]=m.useState({startX:0,startY:0,startWidth:0,startHeight:0});parseFloat(((M=u.current)==null?void 0:M.style.width)||"")||t.canvas_width,parseFloat(((L=u.current)==null?void 0:L.style.height)||"")||t.canvas_height,m.useEffect(()=>{u.current&&(u.current.style.left=`${t.position_x}px`,u.current.style.top=`${t.position_y}px`,console.log(`DraggableWhiteboardCard: Initial position for whiteboard ${t.id}: x=${t.position_x}, y=${t.position_y}`),console.log(`DraggableWhiteboardCard: Initial dimensions for whiteboard ${t.id}: width=${t.canvas_width}, height=${t.canvas_height}`))},[t.position_x,t.position_y,t.canvas_width,t.canvas_height]);const S=F=>{var W;const z=F.target;if(z.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle, .whiteboard-canvas, canvas'))return;const U=z.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle'),K=z.closest("canvas")||z.tagName==="CANVAS"||z.closest(".whiteboard-drawing-area")||z.closest(".react-sketch-canvas")||z.closest('[data-testid="react-sketch-canvas"]');if(!(U||K)&&(F.preventDefault(),u.current)){const te=(W=u.current.parentElement)==null?void 0:W.getBoundingClientRect();if(te){const J=(F.clientX-te.left-o.x)/o.scale,X=(F.clientY-te.top-o.y)/o.scale,I=parseFloat(u.current.style.left)||0,P=parseFloat(u.current.style.top)||0;w({x:(J-I)*o.scale,y:(X-P)*o.scale}),p(!0)}}},k=F=>{var z;if(f&&u.current){const U=(z=u.current.parentElement)==null?void 0:z.getBoundingClientRect();if(!U)return;const K=(F.clientX-U.left-o.x)/o.scale,W=(F.clientY-U.top-o.y)/o.scale,te=K-b.x/o.scale,J=W-b.y/o.scale;u.current.style.left=`${te}px`,u.current.style.top=`${J}px`}if(g&&u.current){const U=F.clientX-x.startX,K=F.clientY-x.startY,W=U/o.scale,te=K/o.scale,J=Math.min(kM,Math.max(CM,x.startWidth+W)),X=Math.min(EM,Math.max(SM,x.startHeight+te));u.current.style.width=`${J}px`,u.current.style.height=`${X}px`}},T=()=>{if(f&&u.current){p(!1);const F=parseFloat(u.current.style.left)||0,z=parseFloat(u.current.style.top)||0,U={x:Math.round(F),y:Math.round(z)};s(t.id,U)}if(g&&u.current){y(!1);const F=parseFloat(u.current.style.left)||0,z=parseFloat(u.current.style.top)||0,U=parseFloat(u.current.style.width)||t.canvas_width||400,K=parseFloat(u.current.style.height)||t.canvas_height||400,W={x:Math.round(F),y:Math.round(z)};e(t.id,{position_x:W.x,position_y:W.y,canvas_width:Math.min(kM,Math.max(CM,Math.round(U))),canvas_height:Math.min(EM,Math.max(SM,Math.round(K)))})}};m.useEffect(()=>((f||g)&&(window.addEventListener("mousemove",k),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",T)}),[f,g,b,x]);const N=F=>{if(F.preventDefault(),F.stopPropagation(),u.current){const z=parseFloat(u.current.style.width)||t.canvas_width||400,U=parseFloat(u.current.style.height)||t.canvas_height||400;C({startX:F.clientX,startY:F.clientY,startWidth:z,startHeight:U}),y(!0)}},A=async(F,z)=>{try{return await e(F,z)}catch(U){return console.error("Failed to update whiteboard:",U),null}},_=async F=>{try{return await n(F)}catch(z){return console.error("Failed to delete whiteboard:",z),!1}};return h.jsxs("div",{ref:u,onMouseDown:S,className:"draggable-whiteboard-card shadow-lg rounded-lg flex flex-col overflow-hidden border relative",style:{position:"absolute",width:`${t.canvas_width||400}px`,height:i?"auto":`${t.canvas_height||400}px`,zIndex:f||g?1e3:t.z_index||1,cursor:f?"grabbing":g?"nw-resize":"grab",transition:f||g?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:f||g?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:f||g?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[h.jsx(i4,{whiteboard:t,onUpdate:A,onDelete:_,existingCategories:r,isCollapsed:i,onToggleCollapsed:a,updateCategory:l}),!i&&h.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize",onMouseDown:N,style:{background:"linear-gradient(-45deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6,zIndex:10}})]})},Gce=({existingCategories:t,searchQuery:e="",onReady:n,onOpenNewNoteModal:r,notes:o,onNoteUpdate:s,onNoteDelete:i,whiteboards:a,onWhiteboardUpdate:l,onWhiteboardDelete:u,onOpenNewWhiteboardModal:f,addCategory:p,updateCategory:g})=>{const{theme:y}=ss(),{token:b}=is(),[w,x]=m.useState([]),[C,S]=m.useState(!0),[k,T]=m.useState(""),[N,A]=m.useState(!1),[_,M]=m.useState({x:0,y:0}),[L,F]=m.useState(void 0),[z,U]=m.useState(!1),[K,W]=m.useState(!1),[te,J]=m.useState({x:0,y:0}),[X,I]=m.useState({x:window.innerWidth/2-2e3,y:window.innerHeight/2-2e3,scale:1}),[P,B]=m.useState(!1),[G,j]=m.useState({x:0,y:0}),[Z,Q]=m.useState("all"),[ee,ne]=m.useState(!1),H=m.useRef(null),ue=m.useRef(null),he=()=>{A(!1),r&&r(_)},le=()=>{A(!1),f&&(console.log("Opening whiteboard modal at position:",_),f(_))};m.useEffect(()=>{n&&n({showAddListMenu:(ae,Pe=!1,Te)=>{if(console.log("showAddListMenu called:",{position:ae,isFromButton:Pe,absolutePosition:Te,currentMenuState:N,currentMenuIsFromButton:z}),N&&z&&Pe){console.log("Closing existing button menu"),A(!1);return}console.log("Setting menu state:",{position:ae,isFromButton:Pe,absolutePosition:Te}),M(ae),U(Pe),F(Te||void 0),A(!0),console.log("Context menu should now be visible")},showAddNoteMenu:(ae,Pe=!1,Te)=>{r&&r(ae)},showAddWhiteboardMenu:(ae,Pe=!1,Te)=>{f&&f(ae)},hideContextMenu:()=>{A(!1)},isMenuOpenFromButton:()=>N&&z,showNewListModal:()=>{W(!0)}})},[n,N,z]),m.useEffect(()=>{const ae=async()=>{try{S(!0),Pj(b).then(Te=>{x(Te),S(!1)}).catch(Te=>{console.error("Failed to fetch lists:",Te),T("Could not load lists."),S(!1)})}finally{S(!1)}},Pe=Te=>{const{position:je,isFromButton:bt=!1,absolutePosition:Dt}=Te.detail;M(je),U(bt),Dt&&F(Dt),A(!0)};return document.addEventListener("showCanvasContextMenu",Pe),ae(),()=>{document.removeEventListener("showCanvasContextMenu",Pe)}},[]);const Ne=ae=>{if(ae.preventDefault(),ae.stopPropagation(),console.log("Right-click context menu triggered"),H.current){const Pe=H.current.getBoundingClientRect(),Te=ae.clientX-Pe.left,je=ae.clientY-Pe.top,bt=(Te-X.x)/X.scale,Dt=(je-X.y)/X.scale;console.log("Context menu position:",{canvasX:bt,canvasY:Dt,screenX:Te,screenY:je}),M({x:bt,y:Dt}),J({x:bt,y:Dt}),U(!1),F(void 0),A(!0)}},Ae=ae=>{const Pe=ae.target;N&&!Pe.closest(".context-menu")&&A(!1);const Te=Pe.closest(".draggable-list-card, .draggable-note-card, .context-menu, button, input, textarea, select");ae.button===0&&!Te&&(ae.target===H.current||ae.target===ue.current)&&(B(!0),j({x:ae.clientX-X.x,y:ae.clientY-X.y}),ae.preventDefault())},Je=ae=>{P&&I(Pe=>({...Pe,x:ae.clientX-G.x,y:ae.clientY-G.y}))},De=()=>{P&&B(!1)},Ze=ae=>{if(ae.preventDefault(),H.current){const Pe=H.current.getBoundingClientRect(),Te=ae.clientX-Pe.left,je=ae.clientY-Pe.top,bt=ae.deltaY<0?1.1:.9,Dt=Math.max(.1,Math.min(3,X.scale*bt)),Po=Te-(Te-X.x)*(Dt/X.scale),ao=je-(je-X.y)*(Dt/X.scale);I({x:Po,y:ao,scale:Dt})}};m.useEffect(()=>{const ae=Te=>{P&&I(je=>({...je,x:Te.clientX-G.x,y:Te.clientY-G.y}))},Pe=()=>{P&&B(!1)};return P&&(document.addEventListener("mousemove",ae),document.addEventListener("mouseup",Pe)),()=>{document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",Pe)}},[P,G]);const _e=()=>{},it=()=>{A(!1),W(!0)},wt=async ae=>{const Pe=[...w];x(Te=>Te.map(je=>je.id===ae.id?ae:je));try{await Dj(ae,b)}catch(Te){console.error("Failed to update list:",Te),x(Pe)}},It=async ae=>{const Pe=[...w];x(Te=>Te.filter(je=>je.id!==ae));try{await jj(ae,b)}catch(Te){console.error("Failed to delete list:",Te),x(Pe)}},Re=(ae,Pe)=>{const Te=[...w];x(je=>je.map(bt=>bt.id===ae?{...bt,position_x:Pe.x,position_y:Pe.y}:bt)),Tte(ae,Pe.x,Pe.y,b).catch(je=>{console.error("Failed to update list position:",je),x(Te)})},Ee=ae=>{const Pe={...ae,position_x:te.x,position_y:te.y};x(Te=>[...Te,Pe]),W(!1)},Ue=()=>{I(ae=>({...ae,scale:Math.min(3,ae.scale*1.2)}))},at=()=>{I(ae=>({...ae,scale:Math.max(.1,ae.scale/1.2)}))},pe=()=>{I({x:window.innerWidth/2-2e3,y:window.innerHeight/2-2e3,scale:1})},xe=()=>{const ae=w.map(je=>je.type||"General").filter(Boolean),Pe=o.map(je=>je.category||"General").filter(Boolean);return["all",...Array.from(new Set([...ae,...Pe]))]},ke=()=>{const ae={all:w.length+o.length+a.length};return w.forEach(Pe=>{const Te=Pe.type||"General";ae[Te]=(ae[Te]||0)+1}),o.forEach(Pe=>{const Te=Pe.category||"General";ae[Te]=(ae[Te]||0)+1}),a.forEach(Pe=>{const Te=Pe.category||"General";ae[Te]=(ae[Te]||0)+1}),ae},Ke=()=>{let ae=w,Pe=o,Te=a;return e&&(ae=w.filter(je=>je.title.toLowerCase().includes(e.toLowerCase())||je.items&&je.items.some(bt=>bt.text&&bt.text.toLowerCase().includes(e.toLowerCase()))),Pe=o.filter(je=>je.title&&je.title.toLowerCase().includes(e.toLowerCase())||je.content&&je.content.toLowerCase().includes(e.toLowerCase())),Te=a.filter(je=>je.title&&je.title.toLowerCase().includes(e.toLowerCase()))),Z!=="all"&&(ae=ae.filter(je=>(je.type||"General")===Z),Pe=Pe.filter(je=>(je.category||"General")===Z),Te=Te.filter(je=>(je.category||"General")===Z)),{filteredLists:ae,filteredNotes:Pe,filteredWhiteboards:Te}},{filteredLists:lt,filteredNotes:rt,filteredWhiteboards:Ht}=Ke();return m.useEffect(()=>{const ae=Pe=>{if(N){const Te=Pe.target,je=document.querySelector(".context-menu"),bt=document.getElementById("new-canvas-button");if(je&&je.contains(Pe.target)||z&&bt&&bt.contains(Pe.target))return;Te.closest(".context-menu")||A(!1)}if(ee){const Te=Pe.target;!Te.closest("[data-filter-panel]")&&!Te.closest("[data-filter-button]")&&ne(!1)}};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[N,ee,z]),h.jsxs("div",{className:"canvas-container-wrapper",children:[h.jsx("div",{ref:H,className:"canvas-area",onContextMenu:Ne,onClick:_e,onMouseDown:Ae,onMouseMove:Je,onMouseUp:De,onWheel:Ze,style:{position:"relative",width:"100%",height:"100vh",backgroundColor:"var(--background-alt)",borderRadius:"0",overflow:"hidden",padding:"0",boxSizing:"border-box",border:"none",cursor:P?"grabbing":"grab"},children:h.jsx("div",{ref:ue,style:{position:"absolute",width:"100%",height:"100%",minWidth:"4000px",minHeight:"4000px",transform:`translate(${X.x}px, ${X.y}px) scale(${X.scale})`,transformOrigin:"0 0",padding:"1rem",backgroundImage:y==="dark"?`
              radial-gradient(circle, rgba(255, 255, 255, 0.08) 1px, transparent 1px),
              radial-gradient(circle, rgba(255, 255, 255, 0.04) 1px, transparent 1px),
              linear-gradient(135deg, rgba(255, 255, 255, 0.01) 0%, rgba(255, 255, 255, 0.04) 50%, rgba(255, 255, 255, 0.01) 100%)
            `:`
              radial-gradient(circle, rgba(0, 0, 0, 0.08) 1px, transparent 1px),
              radial-gradient(circle, rgba(0, 0, 0, 0.04) 1px, transparent 1px),
              linear-gradient(135deg, rgba(0, 0, 0, 0.01) 0%, rgba(0, 0, 0, 0.04) 50%, rgba(0, 0, 0, 0.01) 100%)
            `,backgroundSize:"32px 32px, 8px 8px, 100% 100%",backgroundPosition:"0 0, 0 0, 0 0"},children:C?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx($te,{size:"lg"})}):k?h.jsx("div",{className:"flex items-center justify-center h-full text-red-500",children:k}):h.jsxs(h.Fragment,{children:[w.length===0&&o.length===0&&a.length===0&&h.jsx("div",{className:"flex items-center justify-center h-full",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#64748b",fontFamily:'"Raleway", sans-serif',fontSize:"18px",fontWeight:"300",zIndex:10},children:"No content on your canvas (for now!)"}),lt.map(ae=>h.jsx(Nte,{list:ae,onUpdate:wt,onDelete:It,existingCategories:t,canvasTransform:X,onPositionChange:Re,addCategory:p,updateCategory:g},ae.id)),rt.map(ae=>h.jsx(mce,{note:ae,onPositionUpdate:(Pe,Te,je)=>{const bt={position_x:Te.x,position_y:Te.y};je&&(bt.width=je.width,bt.height=je.height),s(Pe,bt)},onUpdate:s,onDelete:i,existingCategories:t,canvasTransform:X,updateCategory:g},ae.id)),Ht.map(ae=>h.jsx(Vce,{whiteboard:ae,onUpdate:l,onDelete:u,existingCategories:t,canvasTransform:X,onPositionChange:(Pe,Te)=>{l(Pe,{position_x:Te.x,position_y:Te.y})},updateCategory:g},ae.id)),N&&(console.log("Rendering context menu with:",{menuPosition:_,menuAbsolutePosition:L,menuIsFromButton:z,showContextMenu:N}),h.jsx(Oj,{position:_,absolutePosition:L,onAddList:it,onAddNote:he,onAddWhiteboard:le,onClose:()=>A(!1),isFromButton:z}))]})})}),h.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1002,display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",userSelect:"none"},children:[h.jsx("button",{onClick:at,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor="var(--background)"},title:"Zoom Out",children:h.jsx(O7,{size:18})}),h.jsx("button",{onClick:pe,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor="var(--background)"},title:"Reset View",children:h.jsx(D7,{size:18})}),h.jsxs("div",{style:{padding:"0 12px",fontSize:"14px",fontWeight:"500",color:"var(--text-muted)",fontFamily:"monospace",minWidth:"60px",textAlign:"center"},children:[Math.round(X.scale*100),"%"]}),h.jsx("button",{onClick:Ue,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor="var(--background)"},title:"Zoom In",children:h.jsx(Ko,{size:18})}),h.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"var(--border)",margin:"0 4px"}}),h.jsxs("button",{onClick:()=>ne(!ee),"data-filter-button":!0,style:{minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 12px",backgroundColor:ee?"var(--accent)":"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",gap:"6px",whiteSpace:"nowrap"},onMouseEnter:ae=>{ee||(ae.currentTarget.style.backgroundColor="var(--accent)")},onMouseLeave:ae=>{ee||(ae.currentTarget.style.backgroundColor="var(--background)")},title:"Filter Content",children:[h.jsx("span",{children:"Category:"}),h.jsx("span",{children:Z==="all"?"All":Z}),h.jsxs("span",{style:{opacity:.7},children:["(",ke()[Z]||0,")"]})]})]}),ee&&h.jsx("div",{"data-filter-panel":!0,style:{position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",zIndex:1003,display:"flex",alignItems:"center",gap:"6px",padding:"8px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",userSelect:"none",maxWidth:"600px",flexWrap:"wrap"},children:xe().map(ae=>{const Pe=ke()[ae]||0,Te=Z===ae;return h.jsxs("button",{onClick:()=>{Q(ae),ne(!1)},style:{padding:"6px 12px",backgroundColor:Te?"#3b82f6":"var(--background)",color:Te?"white":"var(--text)",border:"1px solid var(--border)",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",textTransform:"capitalize",whiteSpace:"nowrap"},onMouseEnter:je=>{Te||(je.currentTarget.style.backgroundColor="var(--accent)")},onMouseLeave:je=>{Te||(je.currentTarget.style.backgroundColor="var(--background)")},children:[ae," (",Pe,")"]},ae)})}),K&&h.jsx(Lj,{isOpen:K,onClose:()=>W(!1),onListCreated:Ee,existingCategories:t.map(ae=>ae.name)})]})},Kce=({isOpen:t,onClose:e,onCreateNote:n,existingCategories:r})=>{const[o,s]=m.useState(""),[i,a]=m.useState(""),[l,u]=m.useState(""),[f,p]=m.useState(!1),g=b=>{if(b.preventDefault(),!o.trim())return;const w=f?l.trim():i;w&&(n(o.trim(),w,"#FFFFE0"),y())},y=()=>{s(""),a(""),u(""),p(!1),e()};return h.jsx(Xf,{open:t,onOpenChange:y,children:h.jsxs(ku,{className:"sm:max-w-md",children:[h.jsx(Eu,{children:h.jsx(Nu,{children:"Create New Note"})}),h.jsxs("form",{onSubmit:g,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(gr,{htmlFor:"title",children:"Title"}),h.jsx(sn,{id:"title",value:o,onChange:b=>s(b.target.value),placeholder:"Enter note title",className:"mt-1",autoFocus:!0,required:!0})]}),f?h.jsxs("div",{children:[h.jsx(gr,{htmlFor:"newCategory",children:"New Category"}),h.jsxs("div",{className:"flex space-x-2 mt-1",children:[h.jsx(sn,{id:"newCategory",value:l,onChange:b=>u(b.target.value),placeholder:"Enter new category",autoFocus:!0}),h.jsx(Se,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]}):h.jsxs("div",{children:[h.jsx(gr,{htmlFor:"category",children:"Category"}),h.jsxs(Ia,{value:i,onValueChange:a,children:[h.jsx(xi,{className:"mt-1",children:h.jsx(Da,{placeholder:"Select a category"})}),h.jsx(wi,{children:r.map(b=>h.jsx(yn,{value:b,children:b},b))})]}),h.jsx(Se,{type:"button",variant:"outline",size:"sm",onClick:()=>p(!0),className:"mt-2",children:"Add New Category"})]}),h.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[h.jsx(Se,{type:"button",variant:"outline",onClick:y,children:"Cancel"}),h.jsx(Se,{type:"submit",disabled:!o.trim()||!i&&!l.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Create Note"})]})]})]})})},qce=m.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));qce.displayName="Textarea";const Yce=({isOpen:t,onClose:e,onCreateNote:n,initialPosition:r,existingCategories:o})=>{const[s,i]=m.useState(""),[a,l]=m.useState(""),[u,f]=m.useState(""),[p,g]=m.useState(!1),[y,b]=m.useState("#3B82F6");m.useEffect(()=>{t&&(i(""),l(""),f(""),g(!1),b("#3B82F6"))},[t]);const w=x=>{if(x.preventDefault(),!s.trim())return;const S=(p?u.trim():a)||"General";n(s.trim(),S,y,r),e()};return t?h.jsx(Xf,{open:t,onOpenChange:x=>!x&&e(),children:h.jsxs(ku,{className:"sm:max-w-[425px]",children:[h.jsx(Eu,{children:h.jsxs(Nu,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx($f,{className:"h-5 w-5 text-slate-500"}),"Add Note"]})}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{htmlFor:"noteTitle",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),h.jsx(sn,{id:"noteTitle",value:s,onChange:x=>i(x.target.value),placeholder:"Enter note title",autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[p?h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{htmlFor:"newNoteCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(sn,{id:"newNoteCategory",value:u,onChange:x=>f(x.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&u.trim()&&(l(u.trim()),g(!1))}}),h.jsx(Se,{type:"button",variant:"outline",onClick:()=>{u.trim()&&(l(u.trim()),g(!1))},disabled:!u.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),h.jsx(Se,{type:"button",variant:"outline",onClick:()=>{g(!1),f("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{htmlFor:"noteCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),h.jsxs(Ia,{value:a,onValueChange:x=>{x==="__add_new__"?(g(!0),l("")):l(x)},children:[h.jsx(xi,{children:h.jsx(Da,{placeholder:"Select a category"})}),h.jsxs(wi,{children:[!o.includes("General")&&h.jsx(yn,{value:"General",children:"General"}),o.map(x=>h.jsx(yn,{value:x,children:x},x)),h.jsx(yn,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),h.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:o.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),h.jsx(vi,{color:y,onChange:b,onSave:b,children:h.jsx(Se,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change note color",children:h.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:y}})})})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Se,{type:"button",variant:"outline",onClick:e,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),h.jsx(Se,{type:"submit",disabled:!s.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:"Create Note"})]})]})]})}):null},Jce=({isOpen:t,onClose:e,onCreateWhiteboard:n,initialPosition:r,existingCategories:o})=>{const[s,i]=m.useState(""),[a,l]=m.useState(""),[u,f]=m.useState(""),[p,g]=m.useState(!1),[y,b]=m.useState("#3B82F6");m.useEffect(()=>{t&&(i(""),l(""),f(""),g(!1),b("#3B82F6"))},[t]);const w=x=>{if(x.preventDefault(),!s.trim())return;const S=(p?u.trim():a)||"General";n(s.trim(),S,y,r),e()};return t?h.jsx(Xf,{open:t,onOpenChange:x=>!x&&e(),children:h.jsxs(ku,{className:"sm:max-w-[425px]",children:[h.jsx(Eu,{children:h.jsxs(Nu,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(yu,{className:"h-5 w-5 text-slate-500"}),"Add Whiteboard"]})}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{htmlFor:"whiteboardTitle",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),h.jsx(sn,{id:"whiteboardTitle",value:s,onChange:x=>i(x.target.value),placeholder:"Enter whiteboard title",autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[p?h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{htmlFor:"newWhiteboardCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(sn,{id:"newWhiteboardCategory",value:u,onChange:x=>f(x.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&u.trim()&&(l(u.trim()),g(!1))}}),h.jsx(Se,{type:"button",variant:"outline",onClick:()=>{u.trim()&&(l(u.trim()),g(!1))},disabled:!u.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),h.jsx(Se,{type:"button",variant:"outline",onClick:()=>{g(!1),f("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{htmlFor:"whiteboardCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),h.jsxs(Ia,{value:a,onValueChange:x=>{x==="__add_new__"?(g(!0),l("")):l(x)},children:[h.jsx(xi,{children:h.jsx(Da,{placeholder:"Select a category"})}),h.jsxs(wi,{children:[!o.includes("General")&&h.jsx(yn,{value:"General",children:"General"}),o.map(x=>h.jsx(yn,{value:x,children:x},x)),h.jsx(yn,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),h.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:o.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(gr,{style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),h.jsx(vi,{color:y,onChange:b,onSave:b,children:h.jsx(Se,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change whiteboard color",children:h.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:y}})})})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Se,{type:"button",variant:"outline",onClick:e,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),h.jsx(Se,{type:"submit",disabled:!s.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:"Create Whiteboard"})]})]})]})}):null},db="categoriesUpdated",lx=()=>{window.dispatchEvent(new CustomEvent(db))},Xce=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[o,s]=m.useState(null),{token:i}=is(),{toast:a}=Oo(),l=m.useCallback(async()=>{if(i)try{r(!0);const x=await Dte(i);e(x),s(null)}catch(x){console.error("Error fetching categories:",x),s("Failed to load categories")}finally{r(!1)}},[i]);m.useEffect(()=>{l()},[l]),m.useEffect(()=>{let x=null;const C=()=>{x||(console.log("🔄 Global category refresh triggered - refreshing categories list"),x=setTimeout(()=>{l(),x=null},1e3))};return window.addEventListener(db,C),()=>{window.removeEventListener(db,C),x&&clearTimeout(x)}},[l]);const u=m.useCallback(async x=>{if(!i)return null;try{const C=await jte(x,i);return e(S=>[...S,C].sort((k,T)=>k.name.localeCompare(T.name))),console.log("📢 Triggering global category refresh after creating:",C.name),lx(),C}catch(C){console.error("Error creating category:",C);const S=C instanceof Error?C.message:"Failed to create category";return a({title:"Error creating category",description:S,variant:"destructive"}),null}},[i,a]),f=m.useCallback(async(x,C)=>{if(!i)return null;try{const S=await Lte(x,C,i);return e(k=>k.map(T=>T.id===x?S:T).sort((T,N)=>T.name.localeCompare(N.name))),console.log("📢 Triggering global category refresh after updating:",S.name),lx(),S}catch(S){console.error("Error updating category:",S);const k=S instanceof Error?S.message:"Failed to update category";return a({title:"Error updating category",description:k,variant:"destructive"}),null}},[i,a]),p=m.useCallback(async x=>{if(!i)return!1;try{const C=t.find(S=>S.id===x);return await Fte(x,i),e(S=>S.filter(k=>k.id!==x)),console.log("📢 Triggering global category refresh after deleting:",C==null?void 0:C.name),lx(),!0}catch(C){console.error("Error deleting category:",C);const S=C instanceof Error?C.message:"Failed to delete category";return a({title:"Error deleting category",description:S,variant:"destructive"}),!1}},[i,a,t]),g=t.map(x=>x.name),y=m.useCallback(x=>t.find(C=>C.id===x),[t]),b=m.useCallback(x=>t.find(C=>C.name===x),[t]),w=m.useCallback(x=>t.some(C=>C.name===x),[t]);return{categories:t,categoryNames:g,loading:n,error:o,addCategory:u,editCategory:f,removeCategory:p,refreshCategories:l,getCategoryById:y,getCategoryByName:b,isCategoryInUse:w,totalCategories:t.length}},Qce=()=>{const{theme:t}=ss(),[e,n]=m.useState([]),[r,o]=m.useState(null),[s,i]=m.useState(!0),[a,l]=m.useState(!0),[u,f]=m.useState(!0),p=s||a||u,[g,y]=m.useState(""),[b,w]=m.useState(!1),[x,C]=m.useState(!1),[S,k]=m.useState(null),[T,N]=m.useState(!1),[A,_]=m.useState(!1),[M,L]=m.useState(!1),[F,z]=m.useState(null),[U,K]=m.useState(!1),[W,te]=m.useState(!1),[J,X]=m.useState(null),{toast:I}=Oo(),{token:P}=is(),[B,G]=m.useState([]),[j,Z]=m.useState(null),[Q,ee]=m.useState([]),[ne,H]=m.useState(null),{categories:ue,categoryNames:he,addCategory:le,editCategory:Ne,isCategoryInUse:Ae,getCategoryByName:Je}=Xce(),De=async(me,ge)=>{try{const we=Je(me);if(!we)throw new Error(`Category "${me}" not found`);const $e=await Ne(we.id,{name:ge.name||we.name,color_value:ge.color_value||we.color_value});if(!$e)throw new Error("Failed to update category");if(console.log("Category updated successfully:",$e),ge.color_value){const Ve=ge.color_value,At=e.filter(Bt=>(Bt.type||"General")===me);for(const Bt of At)try{await js({...Bt,color_value:Ve})}catch(Fs){console.error(`Failed to update list ${Bt.id} color:`,Fs)}const hn=B.filter(Bt=>(Bt.category||"General")===me);for(const Bt of hn)try{await bt(Bt.id,{color_value:Ve})}catch(Fs){console.error(`Failed to update note ${Bt.id} color:`,Fs)}const lr=Q.filter(Bt=>(Bt.category||"General")===me);for(const Bt of lr)try{await ao(Bt.id,{color_value:Ve})}catch(Fs){console.error(`Failed to update whiteboard ${Bt.id} color:`,Fs)}console.log(`Category "${me}" and ${At.length+hn.length+lr.length} linked items updated successfully.`)}}catch(we){console.error("Error updating category:",we),I({title:"Error",description:`Failed to update category "${me}". Please try again.`,variant:"destructive"})}};ue.map(me=>({name:me.name,listCount:0,noteCount:0,totalCount:0}));const Ze=me=>{if(!me)return{filteredLists:e,filteredNotes:B,filteredWhiteboards:Q};const ge=e.filter(Ve=>Ve.type===me),we=B.filter(Ve=>Ve.category===me),$e=Q.filter(Ve=>Ve.category===me);return{filteredLists:ge,filteredNotes:we,filteredWhiteboards:$e}},_e=m.useRef(null),[it,wt]=m.useState(!1),[It,Re]=m.useState({x:0,y:0}),[Ee,Ue]=m.useState(new Set),[at,pe]=m.useState(new Set),[xe,ke]=m.useState(new Set),Ke=()=>{const hn=[...e.map(cr=>({x:cr.position_x||0,y:cr.position_y||0})),...B.map(cr=>({x:cr.position_x,y:cr.position_y})),...Q.map(cr=>({x:cr.position_x,y:cr.position_y}))],lr=(cr,Pu)=>hn.some(Wl=>{const Ul=Math.abs(cr-Wl.x),Ry=Math.abs(Pu-Wl.y);return Ul<440&&Ry<345});let Bt=0;const Fs=20;let Bl;do{const cr=300+Bt*50,Pu=(Math.random()-.5)*cr*2,Wl=(Math.random()-.5)*cr*2;Bl={x:2e3+Pu,y:2e3+Wl},Bt++}while(lr(Bl.x,Bl.y)&&Bt<Fs);return Bl},lt=me=>Ee.has(me),rt=me=>{Ue(ge=>{const we=new Set(ge);return we.has(me)?we.delete(me):we.add(me),we})},Ht=me=>at.has(me),ae=me=>{pe(ge=>{const we=new Set(ge);return we.has(me)?we.delete(me):we.add(me),we})},Pe=me=>xe.has(me),Te=me=>{ke(ge=>{const we=new Set(ge);return we.has(me)?we.delete(me):we.add(me),we})};m.useEffect(()=>{const me=()=>{N(window.innerWidth<768)};return me(),window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[]),m.useEffect(()=>{(async()=>{try{i(!0),o(null);const ge=await Pj(P);n(ge)}catch(ge){console.error("Error fetching lists:",ge),o("Failed to load lists. Please try again.")}finally{i(!1)}})()},[P,I]),m.useEffect(()=>{P&&(async()=>{try{l(!0),Z(null);const ge=await Rte(P);G(ge)}catch(ge){console.error("Error fetching notes:",ge);const we=ge instanceof Error?ge.message:"Failed to load notes. Please try again.";Z(we),I({title:"Error fetching notes",description:we,variant:"destructive"})}finally{l(!1)}})()},[P,I]),m.useEffect(()=>{P&&(async()=>{try{f(!0),H(null);const ge=await _te(P);ee(ge)}catch(ge){console.error("Error fetching whiteboards:",ge);const we=ge instanceof Error?ge.message:"Failed to load whiteboards. Please try again.";H(we),I({title:"Error fetching whiteboards",description:we,variant:"destructive"})}finally{f(!1)}})()},[P,I]),m.useEffect(()=>{const me=ge=>{if(it){const we=ge.target;!we.closest("#new-canvas-button")&&!we.closest(".context-menu")&&wt(!1)}};return document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[it]);const je=async(me,ge,we,$e)=>{try{!Ae(ge)&&ge!=="General"&&await le({name:ge,color_value:we});const Ve={title:me,content:"",color_value:we,position_x:$e.x,position_y:$e.y,width:570,height:350,z_index:0},At=await eR(Ve,P);G(hn=>[At,...hn]),L(!1)}catch(Ve){console.error("Failed to create note:",Ve);const At=Ve instanceof Error?Ve.message:"Could not create your note. Please try again.";I({title:"Error creating note",description:At,variant:"destructive"})}},bt=async(me,ge)=>{try{const we=await Mte(me,ge,P);return G($e=>$e.map(Ve=>Ve.id===me?we:Ve)),we}catch(we){console.error("Failed to update note:",we);const $e=we instanceof Error?we.message:"Could not update your note. Please try again.";return I({title:"Error updating note",description:$e,variant:"destructive"}),null}},Dt=async me=>{try{return await Ate(me,P),G(ge=>ge.filter(we=>we.id!==me)),I({title:"Note deleted",description:"Your note has been successfully removed."}),!0}catch(ge){console.error("Failed to delete note:",ge);const we=ge instanceof Error?ge.message:"Could not delete your note. Please try again.";return I({title:"Error deleting note",description:we,variant:"destructive"}),!1}},Po=async(me,ge,we,$e)=>{try{!Ae(ge)&&ge!=="General"&&await le({name:ge,color_value:we});const Ve={title:me,category:ge,canvas_data:'{"paths": [], "shapes": []}',canvas_width:750,canvas_height:620,background_color:"#FFFFFF",position_x:$e.x,position_y:$e.y,z_index:0,color_value:we};console.log("handleCreateWhiteboard payload:",Ve);const At=await Ote(Ve,P);ee(hn=>[At,...hn])}catch(Ve){console.error("Failed to create whiteboard:",Ve);const At=Ve instanceof Error?Ve.message:"Could not create your whiteboard. Please try again.";I({title:"Error creating whiteboard",description:At,variant:"destructive"})}},ao=async(me,ge)=>{try{console.log("🎨 CanvasPage: Updating whiteboard:",{whiteboardId:me,updatedFields:Object.keys(ge),hasCanvasData:!!ge.canvas_data,canvasDataType:typeof ge.canvas_data,canvasDataPreview:ge.canvas_data?JSON.stringify(ge.canvas_data).substring(0,200):"N/A"});const we=await Pte(me,ge,P);return console.log("🎨 CanvasPage: Whiteboard update response:",{whiteboardId:we.id,hasCanvasData:!!we.canvas_data,canvasDataType:typeof we.canvas_data,updatedAt:we.updated_at}),ee($e=>$e.map(Ve=>Ve.id===me?we:Ve)),we}catch(we){console.error("Failed to update whiteboard:",we);const $e=we instanceof Error?we.message:"Could not update your whiteboard. Please try again.";return I({title:"Error updating whiteboard",description:$e,variant:"destructive"}),null}},Ds=async me=>{try{return await Ite(me,P),ee(ge=>ge.filter(we=>we.id!==me)),I({title:"Whiteboard deleted",description:"Your whiteboard has been successfully removed."}),!0}catch(ge){console.error("Failed to delete whiteboard:",ge);const we=ge instanceof Error?ge.message:"Could not delete your whiteboard. Please try again.";return I({title:"Error deleting whiteboard",description:we,variant:"destructive"}),!1}},bi=async(me,ge,we)=>{try{const $e=Ke();!Ae(ge)&&ge!=="General"&&await le({name:ge,color_value:we});const Ve=await Ij({title:me,type:ge,items:[],position_x:$e.x,position_y:$e.y},P),At={id:Ve.id,title:Ve.title,type:Ve.type||"General",items:Ve.items||[],createdAt:new Date(Ve.createdAt),position_x:Ve.position_x||$e.x,position_y:Ve.position_y||$e.y};n(hn=>[At,...hn]),w(!1)}catch($e){console.error("Failed to create list:",$e),I({title:"Error creating list",description:"Could not create your list. Please try again.",variant:"destructive"})}},js=async me=>{try{await Dj(me,P),n(ge=>ge.map(we=>we.id===me.id?me:we))}catch(ge){console.error("Failed to update list:",ge),I({title:"Error updating list",description:"Could not update your list. Please try again.",variant:"destructive"})}},Vt=async me=>{try{await jj(me,P),n(ge=>ge.filter(we=>we.id!==me)),I({title:"List deleted",description:"Your list has been successfully removed."})}catch(ge){console.error("Failed to delete list:",ge),I({title:"Error deleting list",description:"Could not delete your list. Please try again.",variant:"destructive"})}},Ft=me=>{n(ge=>[me,...ge]),K(!1)},Cn=me=>{z(me),L(!0)},He=me=>{console.log("handleOpenNewWhiteboardModal called with position:",me),X(me),te(!0)},et=()=>{wt(!1),K(!0)},ot=()=>{wt(!1),z({x:100,y:100}),L(!0)},$t=()=>{wt(!1),X(Ke()),te(!0)},ln=async(me,ge,we)=>{try{!Ae(ge)&&ge!=="General"&&await le({name:ge,color_value:we});const $e=Ke(),Ve=await eR({title:me,content:"",color_value:we,position_x:$e.x,position_y:$e.y,width:570,height:350,z_index:0},P);G(At=>[Ve,...At]),C(!1)}catch($e){console.error("Failed to create note:",$e),I({title:"Error creating note",description:"Could not create your note. Please try again.",variant:"destructive"})}};if(p)return h.jsxs("div",{className:"flex flex-col h-screen",children:[h.jsx("div",{className:"bg-background border-b border-border relative z-10",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsx("h1",{className:"text-xl font-semibold italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif',color:t==="dark"?"#ffffff":"#374151"},children:"MY CANVAS"}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-48 h-9"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[h.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-12 h-6"}),h.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-20 h-9"})]})]})}),h.jsx("div",{className:"sm:hidden pb-4",children:h.jsxs("div",{className:"relative",children:[h.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-full h-9"})]})})]})}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),h.jsx("span",{className:"text-lg",style:{color:t==="dark"?"#ffffff":"#374151"},children:"Loading Canvas..."})]})})]});if(r)return h.jsxs("div",{className:"",children:[h.jsx("div",{className:"bg-background border-b border-border",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"py-4",children:h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h1",{className:"text-xl font-semibold italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif',color:t==="dark"?"#ffffff":"#374151"},children:"MY CANVAS"}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx(sn,{placeholder:"Search lists...",value:g,onChange:me=>y(me.target.value),className:"pl-10 w-48 h-9",disabled:!0})]})]})})})})}),h.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[h.jsxs("div",{className:"text-destructive text-lg mb-4",children:["⚠️ ",r]}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Retry"})]})]});const Rt=()=>Array.from(new Set(he.filter(Boolean))),en=()=>{const{filteredLists:me,filteredNotes:ge,filteredWhiteboards:we}=Ze(S);let $e=[...me];g&&($e=$e.filter(hn=>hn.title.toLowerCase().includes(g.toLowerCase())||hn.items&&hn.items.some(lr=>{var Bt;return(Bt=lr.text)==null?void 0:Bt.toLowerCase().includes(g.toLowerCase())})));let Ve=[...ge];g&&(Ve=Ve.filter(hn=>{var lr,Bt;return((lr=hn.title)==null?void 0:lr.toLowerCase().includes(g.toLowerCase()))||((Bt=hn.content)==null?void 0:Bt.toLowerCase().includes(g.toLowerCase()))}));let At=[...we];return g&&(At=At.filter(hn=>{var lr;return(lr=hn.title)==null?void 0:lr.toLowerCase().includes(g.toLowerCase())})),{filteredLists:$e,filteredNotes:Ve,filteredWhiteboards:At}},zt=()=>{const me={};return e.forEach(ge=>{const we=ge.type||"General";me[we]=(me[we]||0)+1}),B.forEach(ge=>{const we=ge.category||"General";me[we]=(me[we]||0)+1}),me};en();const Jt=()=>h.jsx("div",{className:"bg-background border-b border-border relative z-10",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:[h.jsx("div",{className:"py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsx("h1",{className:"text-xl font-semibold italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif',color:t==="dark"?"#ffffff":"#374151"},children:"MY CANVAS"}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),h.jsx(sn,{placeholder:"Search canvas...",value:g,onChange:me=>y(me.target.value),className:"pl-10 w-48 h-9",style:{fontFamily:'"Raleway", sans-serif'}})]})]}),h.jsx("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:h.jsxs(Se,{id:"new-canvas-button",onClick:me=>{if(me.preventDefault(),me.stopPropagation(),it)wt(!1);else{const ge=document.getElementById("new-canvas-button");if(ge){const we=ge.getBoundingClientRect();Re({x:we.left+we.width/2,y:we.bottom+5}),wt(!0)}}},size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap font-light",children:[h.jsx(Ko,{className:"h-4 w-4 mr-2"})," Add"]})})]})}),h.jsx("div",{className:"sm:hidden pb-4",children:h.jsxs("div",{className:"relative",children:[h.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),h.jsx(sn,{placeholder:"Search canvas...",value:g,onChange:me=>y(me.target.value),className:"pl-10 placeholder:font-light",style:{fontFamily:'"Raleway", sans-serif'}})]})})]})}),Ls=()=>{const{filteredLists:me,filteredNotes:ge,filteredWhiteboards:we}=en();return h.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-8",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[h.jsx("h3",{className:"text-lg font-light text-foreground flex-shrink-0",children:"Categories"}),h.jsx("div",{className:"flex gap-2 overflow-x-auto flex-1 pb-2 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Rt().map($e=>{const Ve=zt()[$e]||0,At=S===$e;return h.jsxs(Se,{variant:At?"default":"outline",size:"sm",onClick:()=>{k(At?null:$e)},className:`capitalize font-light whitespace-nowrap flex-shrink-0 ${At?"bg-blue-600 hover:bg-blue-700 text-white":""}`,children:[$e," (",Ve,")"]},$e)})})]}),me.length===0&&ge.length===0&&we.length===0?h.jsx("div",{className:"text-center py-12",children:e.length===0&&B.length===0&&Q.length===0?h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"bg-card rounded-lg shadow-sm border border-border p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Ko,{className:"h-8 w-8 text-blue-600"})}),h.jsxs("h3",{className:"text-lg font-light text-foreground mb-6",children:["No content on your canvas",h.jsx("br",{}),"(for now!)"]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsxs(Se,{onClick:()=>K(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-normal",children:[h.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Add List"]}),h.jsxs(Se,{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-normal",children:[h.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Add Note"]}),h.jsxs(Se,{onClick:()=>{const $e=Ke();X($e),te(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-normal",children:[h.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Add Whiteboard"]})]})]})}):h.jsxs("div",{className:"text-muted-foreground",children:[h.jsx(ws,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"No content matches your search criteria."})]})}):h.jsxs(h.Fragment,{children:[me.length>0&&h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-xl font-light text-foreground mb-6 flex items-center gap-2",children:[h.jsx(_g,{className:"h-5 w-5 text-muted-foreground"}),"My Lists"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:me.map($e=>h.jsx(yC,{list:$e,onUpdate:js,onDelete:Vt,existingCategories:ue,isCollapsed:lt($e.id),onToggleCollapsed:()=>rt($e.id),addCategory:le,updateCategory:De},$e.id))})]}),ge.length>0&&h.jsxs("div",{className:me.length>0?"mt-12":"",children:[h.jsxs("h2",{className:"text-xl font-light text-foreground mb-6 flex items-center gap-2",children:[h.jsx($f,{className:"h-5 w-5 text-muted-foreground"}),"My Notes"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ge.map($e=>h.jsx(zF,{note:$e,onUpdate:async(Ve,At)=>{await bt(Ve,At)},onDelete:async Ve=>{await Dt(Ve)},existingCategories:ue,isCollapsed:Ht($e.id),onToggleCollapsed:()=>ae($e.id),updateCategory:De},$e.id))})]}),we.length>0&&h.jsxs("div",{className:me.length>0||ge.length>0?"mt-12":"",children:[h.jsxs("h2",{className:"text-xl font-light text-foreground mb-6 flex items-center gap-2",children:[h.jsx(yu,{className:"h-5 w-5 text-muted-foreground"}),"My Whiteboards"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:we.map($e=>h.jsx(i4,{whiteboard:$e,onUpdate:async(Ve,At)=>await ao(Ve,At),onDelete:async Ve=>await Ds(Ve),existingCategories:ue,isCollapsed:Pe($e.id),onToggleCollapsed:()=>Te($e.id),updateCategory:De},$e.id))})]})]})]})};return h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        ${T?"":`
          body { overflow: hidden !important; }
          html { overflow: hidden !important; }
        `}
        
        /* Hide scrollbar for horizontal category scrolling */
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `}),h.jsxs("div",{className:`w-full flex flex-col ${T?"min-h-screen":"h-[calc(100vh-4rem)] overflow-hidden"}`,children:[h.jsx(Jt,{}),p?h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),h.jsx("span",{className:"text-lg",style:{color:t==="dark"?"#ffffff":"#374151"},children:"Loading Canvas..."})]})}):r?h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[h.jsxs("div",{className:"text-destructive text-lg mb-4",children:["⚠️ ",r]}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Retry"})]}):T?h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsx(Ls,{})}):h.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] absolute inset-x-0",style:{top:0,bottom:0},children:h.jsx(Gce,{existingCategories:ue,searchQuery:g,onOpenNewNoteModal:Cn,notes:B,onNoteUpdate:bt,onNoteDelete:Dt,whiteboards:Q,onWhiteboardUpdate:ao,onWhiteboardDelete:Ds,onOpenNewWhiteboardModal:He,addCategory:le,updateCategory:De,onReady:me=>{_e.current||(_e.current=me,console.log("Canvas methods ready:",me))}})}),h.jsx(wD,{isOpen:b,onClose:()=>w(!1),onCreateList:bi,existingCategories:he}),h.jsx(Kce,{isOpen:x,onClose:()=>C(!1),onCreateNote:ln,existingCategories:he}),M&&F&&h.jsx(Yce,{isOpen:M,onClose:()=>L(!1),onCreateNote:je,initialPosition:F,existingCategories:he}),W&&J&&h.jsx(Jce,{isOpen:W,onClose:()=>te(!1),onCreateWhiteboard:Po,initialPosition:J,existingCategories:he}),U&&h.jsx(Lj,{isOpen:U,onClose:()=>K(!1),onListCreated:Ft,existingCategories:he,position:Ke()}),it&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,pointerEvents:"auto"},onClick:()=>wt(!1),children:h.jsx(Oj,{position:{x:0,y:0},absolutePosition:It,onAddList:et,onAddNote:ot,onAddWhiteboard:$t,onClose:()=>wt(!1),isFromButton:!0})})]})]})},Zce=new tq,eue="761425672348-63ncpr61i8hv48l94ljju4uloahreohs.apps.googleusercontent.com",tue=()=>{const{currentUser:t,loading:e}=is();return e?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):t?h.jsx(bw,{to:"/canvas",replace:!0}):h.jsx(bw,{to:"/home",replace:!0})},nue=()=>{const t=Aa(),[e,n]=m.useState(window.innerWidth>=768);m.useEffect(()=>{const s=()=>{n(window.innerWidth>=768)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const o=!(t.pathname==="/canvas")||!e;return h.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[h.jsx(BX,{}),h.jsx("main",{className:"flex-grow",children:h.jsxs(Qq,{children:[h.jsx(Xs,{path:"/",element:h.jsx(tue,{})}),h.jsx(Xs,{path:"/home",element:h.jsx(UX,{})}),h.jsx(Xs,{path:"/auth/callback",element:h.jsx(Ste,{})}),h.jsx(Xs,{path:"/help/*",element:h.jsx(kte,{})}),h.jsxs(Xs,{element:h.jsx(Ete,{}),children:[h.jsx(Xs,{path:"/lists",element:h.jsx(bte,{})}),h.jsx(Xs,{path:"/canvas",element:h.jsx(Qce,{})})]}),h.jsx(Xs,{path:"*",element:h.jsx(Cte,{})})]})}),o&&h.jsx(WX,{})]})},rue=()=>h.jsx(rq,{client:Zce,children:h.jsx(_K,{children:h.jsx(N9,{attribute:"class",defaultTheme:"light",enableSystem:!1,themes:["light","dark"],children:h.jsx(dY,{clientId:eue,children:h.jsx(mY,{children:h.jsxs(gY,{children:[h.jsx(S9,{}),h.jsx(oG,{}),h.jsx(sY,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsx(nue,{})})]})})})})})});K2(document.getElementById("root")).render(h.jsx(rue,{}));
