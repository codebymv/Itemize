var fk=t=>{throw TypeError(t)};var Dv=(t,e,n)=>e.has(t)||fk("Cannot "+n);var fe=(t,e,n)=>(Dv(t,e,"read from private field"),n?n.call(t):e.get(t)),Nt=(t,e,n)=>e.has(t)?fk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),st=(t,e,n,r)=>(Dv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),qn=(t,e,n)=>(Dv(t,e,"access private method"),n);var Lh=(t,e,n,r)=>({set _(o){st(t,e,o,n)},get _(){return fe(t,e,r)}});function p8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OM={exports:{}},Xm={},_M={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),m8=Symbol.for("react.portal"),g8=Symbol.for("react.fragment"),y8=Symbol.for("react.strict_mode"),v8=Symbol.for("react.profiler"),x8=Symbol.for("react.provider"),w8=Symbol.for("react.context"),b8=Symbol.for("react.forward_ref"),S8=Symbol.for("react.suspense"),C8=Symbol.for("react.memo"),E8=Symbol.for("react.lazy"),hk=Symbol.iterator;function k8(t){return t===null||typeof t!="object"?null:(t=hk&&t[hk]||t["@@iterator"],typeof t=="function"?t:null)}var IM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DM=Object.assign,jM={};function nu(t,e,n){this.props=t,this.context=e,this.refs=jM,this.updater=n||IM}nu.prototype.isReactComponent={};nu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LM(){}LM.prototype=nu.prototype;function hb(t,e,n){this.props=t,this.context=e,this.refs=jM,this.updater=n||IM}var pb=hb.prototype=new LM;pb.constructor=hb;DM(pb,nu.prototype);pb.isPureReactComponent=!0;var pk=Array.isArray,FM=Object.prototype.hasOwnProperty,mb={current:null},$M={key:!0,ref:!0,__self:!0,__source:!0};function zM(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)FM.call(e,r)&&!$M.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:gf,type:t,key:s,ref:i,props:o,_owner:mb.current}}function N8(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gb(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function T8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mk=/\/+/g;function jv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T8(""+t.key):e.toString(36)}function Sp(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case gf:case m8:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+jv(i,0):r,pk(o)?(n="",t!=null&&(n=t.replace(mk,"$&/")+"/"),Sp(o,e,n,"",function(u){return u})):o!=null&&(gb(o)&&(o=N8(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(mk,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",pk(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jv(s,a);i+=Sp(s,e,n,l,o)}else if(l=k8(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jv(s,a++),i+=Sp(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Fh(t,e,n){if(t==null)return t;var r=[],o=0;return Sp(t,r,"","",function(s){return e.call(n,s,o++)}),r}function R8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gr={current:null},Cp={transition:null},M8={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:Cp,ReactCurrentOwner:mb};function BM(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Fh,forEach:function(t,e,n){Fh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fh(t,function(){e++}),e},toArray:function(t){return Fh(t,function(e){return e})||[]},only:function(t){if(!gb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=nu;xt.Fragment=g8;xt.Profiler=v8;xt.PureComponent=hb;xt.StrictMode=y8;xt.Suspense=S8;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M8;xt.act=BM;xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DM({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=mb.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)FM.call(e,l)&&!$M.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gf,type:t.type,key:o,ref:s,props:r,_owner:i}};xt.createContext=function(t){return t={$$typeof:w8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x8,_context:t},t.Consumer=t};xt.createElement=zM;xt.createFactory=function(t){var e=zM.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:b8,render:t}};xt.isValidElement=gb;xt.lazy=function(t){return{$$typeof:E8,_payload:{_status:-1,_result:t},_init:R8}};xt.memo=function(t,e){return{$$typeof:C8,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=Cp.transition;Cp.transition={};try{t()}finally{Cp.transition=e}};xt.unstable_act=BM;xt.useCallback=function(t,e){return gr.current.useCallback(t,e)};xt.useContext=function(t){return gr.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return gr.current.useDeferredValue(t)};xt.useEffect=function(t,e){return gr.current.useEffect(t,e)};xt.useId=function(){return gr.current.useId()};xt.useImperativeHandle=function(t,e,n){return gr.current.useImperativeHandle(t,e,n)};xt.useInsertionEffect=function(t,e){return gr.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return gr.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return gr.current.useMemo(t,e)};xt.useReducer=function(t,e,n){return gr.current.useReducer(t,e,n)};xt.useRef=function(t){return gr.current.useRef(t)};xt.useState=function(t){return gr.current.useState(t)};xt.useSyncExternalStore=function(t,e,n){return gr.current.useSyncExternalStore(t,e,n)};xt.useTransition=function(){return gr.current.useTransition()};xt.version="18.3.1";_M.exports=xt;var m=_M.exports;const ne=PM(m),yb=p8({__proto__:null,default:ne},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=m,P8=Symbol.for("react.element"),O8=Symbol.for("react.fragment"),_8=Object.prototype.hasOwnProperty,I8=A8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D8={key:!0,ref:!0,__self:!0,__source:!0};function WM(t,e,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)_8.call(e,r)&&!D8.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:P8,type:t,key:s,ref:i,props:o,_owner:I8.current}}Xm.Fragment=O8;Xm.jsx=WM;Xm.jsxs=WM;OM.exports=Xm;var h=OM.exports,UM={exports:{}},eo={},HM={exports:{}},VM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,_){var B=j.length;j.push(_);e:for(;0<B;){var U=B-1>>>1,D=j[U];if(0<o(D,_))j[U]=_,j[B]=D,B=U;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var _=j[0],B=j.pop();if(B!==_){j[0]=B;e:for(var U=0,D=j.length,Z=D>>>1;U<Z;){var Q=2*(U+1)-1,Y=j[Q],ae=Q+1,J=j[ae];if(0>o(Y,B))ae<D&&0>o(J,Y)?(j[U]=J,j[ae]=B,U=ae):(j[U]=Y,j[Q]=B,U=Q);else if(ae<D&&0>o(J,B))j[U]=J,j[ae]=B,U=ae;else break e}}return _}function o(j,_){var B=j.sortIndex-_.sortIndex;return B!==0?B:j.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],f=1,p=null,g=3,y=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=j)r(u),_.sortIndex=_.expirationTime,e(l,_);else break;_=n(u)}}function N(j){if(w=!1,E(j),!b)if(n(l)!==null)b=!0,ee(T);else{var _=n(u);_!==null&&oe(N,_.startTime-j)}}function T(j,_){b=!1,w&&(w=!1,S(O),O=-1),y=!0;var B=g;try{for(E(_),p=n(l);p!==null&&(!(p.expirationTime>_)||j&&!V());){var U=p.callback;if(typeof U=="function"){p.callback=null,g=p.priorityLevel;var D=U(p.expirationTime<=_);_=t.unstable_now(),typeof D=="function"?p.callback=D:p===n(l)&&r(l),E(_)}else r(l);p=n(l)}if(p!==null)var Z=!0;else{var Q=n(u);Q!==null&&oe(N,Q.startTime-_),Z=!1}return Z}finally{p=null,g=B,y=!1}}var M=!1,A=null,O=-1,L=5,F=-1;function V(){return!(t.unstable_now()-F<L)}function H(){if(A!==null){var j=t.unstable_now();F=j;var _=!0;try{_=A(!0,j)}finally{_?G():(M=!1,A=null)}}else M=!1}var G;if(typeof C=="function")G=function(){C(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,X=z.port2;z.port1.onmessage=H,G=function(){X.postMessage(null)}}else G=function(){x(H,0)};function ee(j){A=j,M||(M=!0,G())}function oe(j,_){O=x(function(){j(t.unstable_now())},_)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ee(T))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var _=3;break;default:_=g}var B=g;g=_;try{return j()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,_){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=g;g=j;try{return _()}finally{g=B}},t.unstable_scheduleCallback=function(j,_,B){var U=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?U+B:U):B=U,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=B+D,j={id:f++,callback:_,priorityLevel:j,startTime:B,expirationTime:D,sortIndex:-1},B>U?(j.sortIndex=B,e(u,j),n(l)===null&&j===n(u)&&(w?(S(O),O=-1):w=!0,oe(N,B-U))):(j.sortIndex=D,e(l,j),b||y||(b=!0,ee(T))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var _=g;return function(){var B=g;g=_;try{return j.apply(this,arguments)}finally{g=B}}}})(VM);HM.exports=VM;var j8=HM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8=m,Zr=j8;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GM=new Set,Nd={};function Rl(t,e){zc(t,e),zc(t+"Capture",e)}function zc(t,e){for(Nd[t]=e,t=0;t<e.length;t++)GM.add(e[t])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ix=Object.prototype.hasOwnProperty,F8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gk={},yk={};function $8(t){return ix.call(yk,t)?!0:ix.call(gk,t)?!1:F8.test(t)?yk[t]=!0:(gk[t]=!0,!1)}function z8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B8(t,e,n,r){if(e===null||typeof e>"u"||z8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yr(t,e,n,r,o,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var vb=/[\-:]([a-z])/g;function xb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vb,xb);Un[e]=new yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vb,xb);Un[e]=new yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vb,xb);Un[e]=new yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function wb(t,e,n,r){var o=Un.hasOwnProperty(e)?Un[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B8(e,n,o,r)&&(n=null),r||o===null?$8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var si=L8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$h=Symbol.for("react.element"),sc=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),bb=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),KM=Symbol.for("react.provider"),qM=Symbol.for("react.context"),Sb=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),cx=Symbol.for("react.suspense_list"),Cb=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),YM=Symbol.for("react.offscreen"),vk=Symbol.iterator;function $u(t){return t===null||typeof t!="object"?null:(t=vk&&t[vk]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,Lv;function ed(t){if(Lv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lv=e&&e[1]||""}return`
`+Lv+t}var Fv=!1;function $v(t,e){if(!t||Fv)return"";Fv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Fv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ed(t):""}function W8(t){switch(t.tag){case 5:return ed(t.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return t=$v(t.type,!1),t;case 11:return t=$v(t.type.render,!1),t;case 1:return t=$v(t.type,!0),t;default:return""}}function ux(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ic:return"Fragment";case sc:return"Portal";case ax:return"Profiler";case bb:return"StrictMode";case lx:return"Suspense";case cx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qM:return(t.displayName||"Context")+".Consumer";case KM:return(t._context.displayName||"Context")+".Provider";case Sb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cb:return e=t.displayName||null,e!==null?e:ux(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return ux(t(e))}catch{}}return null}function U8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ux(e);case 8:return e===bb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H8(t){var e=JM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zh(t){t._valueTracker||(t._valueTracker=H8(t))}function XM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dx(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=la(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QM(t,e){e=e.checked,e!=null&&wb(t,"checked",e,!1)}function fx(t,e){QM(t,e);var n=la(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hx(t,e.type,n):e.hasOwnProperty("defaultValue")&&hx(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hx(t,e,n){(e!=="number"||Jp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var td=Array.isArray;function xc(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+la(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function px(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if(td(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:la(n)}}function ZM(t,e){var n=la(e.value),r=la(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bh,tA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V8=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(t){V8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cd[e]=cd[t]})});function nA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cd.hasOwnProperty(t)&&cd[t]?(""+e).trim():e+"px"}function rA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=nA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var G8=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gx(t,e){if(e){if(G8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function yx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vx=null;function Eb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xx=null,wc=null,bc=null;function Ck(t){if(t=xf(t)){if(typeof xx!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=ng(e),xx(t.stateNode,t.type,e))}}function oA(t){wc?bc?bc.push(t):bc=[t]:wc=t}function sA(){if(wc){var t=wc,e=bc;if(bc=wc=null,Ck(t),e)for(t=0;t<e.length;t++)Ck(e[t])}}function iA(t,e){return t(e)}function aA(){}var zv=!1;function lA(t,e,n){if(zv)return t(e,n);zv=!0;try{return iA(t,e,n)}finally{zv=!1,(wc!==null||bc!==null)&&(aA(),sA())}}function Rd(t,e){var n=t.stateNode;if(n===null)return null;var r=ng(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var wx=!1;if(Qs)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){wx=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{wx=!1}function K8(t,e,n,r,o,s,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ud=!1,Xp=null,Qp=!1,bx=null,q8={onError:function(t){ud=!0,Xp=t}};function Y8(t,e,n,r,o,s,i,a,l){ud=!1,Xp=null,K8.apply(q8,arguments)}function J8(t,e,n,r,o,s,i,a,l){if(Y8.apply(this,arguments),ud){if(ud){var u=Xp;ud=!1,Xp=null}else throw Error(xe(198));Qp||(Qp=!0,bx=u)}}function Ml(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ek(t){if(Ml(t)!==t)throw Error(xe(188))}function X8(t){var e=t.alternate;if(!e){if(e=Ml(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ek(o),t;if(s===r)return Ek(o),e;s=s.sibling}throw Error(xe(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function uA(t){return t=X8(t),t!==null?dA(t):null}function dA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dA(t);if(e!==null)return e;t=t.sibling}return null}var fA=Zr.unstable_scheduleCallback,kk=Zr.unstable_cancelCallback,Q8=Zr.unstable_shouldYield,Z8=Zr.unstable_requestPaint,fn=Zr.unstable_now,eW=Zr.unstable_getCurrentPriorityLevel,kb=Zr.unstable_ImmediatePriority,hA=Zr.unstable_UserBlockingPriority,Zp=Zr.unstable_NormalPriority,tW=Zr.unstable_LowPriority,pA=Zr.unstable_IdlePriority,Qm=null,vs=null;function nW(t){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Qm,t,void 0,(t.current.flags&128)===128)}catch{}}var Vo=Math.clz32?Math.clz32:sW,rW=Math.log,oW=Math.LN2;function sW(t){return t>>>=0,t===0?32:31-(rW(t)/oW|0)|0}var Wh=64,Uh=4194304;function nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function em(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=nd(a):(s&=i,s!==0&&(r=nd(s)))}else i=n&~o,i!==0?r=nd(i):s!==0&&(r=nd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vo(e),o=1<<n,r|=t[n],e&=~o;return r}function iW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-Vo(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=iW(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Sx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mA(){var t=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),t}function Bv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vo(e),t[e]=n}function lW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Vo(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function Nb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vo(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Pt=0;function gA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yA,Tb,vA,xA,wA,Cx=!1,Hh=[],Yi=null,Ji=null,Xi=null,Md=new Map,Ad=new Map,Ii=[],cW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nk(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(e.pointerId)}}function Bu(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=xf(e),e!==null&&Tb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function uW(t,e,n,r,o){switch(e){case"focusin":return Yi=Bu(Yi,t,e,n,r,o),!0;case"dragenter":return Ji=Bu(Ji,t,e,n,r,o),!0;case"mouseover":return Xi=Bu(Xi,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Md.set(s,Bu(Md.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Ad.set(s,Bu(Ad.get(s)||null,t,e,n,r,o)),!0}return!1}function bA(t){var e=Ha(t.target);if(e!==null){var n=Ml(e);if(n!==null){if(e=n.tag,e===13){if(e=cA(n),e!==null){t.blockedOn=e,wA(t.priority,function(){vA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ep(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ex(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vx=r,n.target.dispatchEvent(r),vx=null}else return e=xf(n),e!==null&&Tb(e),t.blockedOn=n,!1;e.shift()}return!0}function Tk(t,e,n){Ep(t)&&n.delete(e)}function dW(){Cx=!1,Yi!==null&&Ep(Yi)&&(Yi=null),Ji!==null&&Ep(Ji)&&(Ji=null),Xi!==null&&Ep(Xi)&&(Xi=null),Md.forEach(Tk),Ad.forEach(Tk)}function Wu(t,e){t.blockedOn===e&&(t.blockedOn=null,Cx||(Cx=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,dW)))}function Pd(t){function e(o){return Wu(o,t)}if(0<Hh.length){Wu(Hh[0],t);for(var n=1;n<Hh.length;n++){var r=Hh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yi!==null&&Wu(Yi,t),Ji!==null&&Wu(Ji,t),Xi!==null&&Wu(Xi,t),Md.forEach(e),Ad.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)bA(n),n.blockedOn===null&&Ii.shift()}var Sc=si.ReactCurrentBatchConfig,tm=!0;function fW(t,e,n,r){var o=Pt,s=Sc.transition;Sc.transition=null;try{Pt=1,Rb(t,e,n,r)}finally{Pt=o,Sc.transition=s}}function hW(t,e,n,r){var o=Pt,s=Sc.transition;Sc.transition=null;try{Pt=4,Rb(t,e,n,r)}finally{Pt=o,Sc.transition=s}}function Rb(t,e,n,r){if(tm){var o=Ex(t,e,n,r);if(o===null)Xv(t,e,r,nm,n),Nk(t,r);else if(uW(o,t,e,n,r))r.stopPropagation();else if(Nk(t,r),e&4&&-1<cW.indexOf(t)){for(;o!==null;){var s=xf(o);if(s!==null&&yA(s),s=Ex(t,e,n,r),s===null&&Xv(t,e,r,nm,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Xv(t,e,r,null,n)}}var nm=null;function Ex(t,e,n,r){if(nm=null,t=Eb(r),t=Ha(t),t!==null)if(e=Ml(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nm=t,null}function SA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eW()){case kb:return 1;case hA:return 4;case Zp:case tW:return 16;case pA:return 536870912;default:return 16}default:return 16}}var Wi=null,Mb=null,kp=null;function CA(){if(kp)return kp;var t,e=Mb,n=e.length,r,o="value"in Wi?Wi.value:Wi.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return kp=o.slice(t,1<r?1-r:void 0)}function Np(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vh(){return!0}function Rk(){return!1}function to(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vh:Rk,this.isPropagationStopped=Rk,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),e}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ab=to(ru),vf=en({},ru,{view:0,detail:0}),pW=to(vf),Wv,Uv,Uu,Zm=en({},vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uu&&(Uu&&t.type==="mousemove"?(Wv=t.screenX-Uu.screenX,Uv=t.screenY-Uu.screenY):Uv=Wv=0,Uu=t),Wv)},movementY:function(t){return"movementY"in t?t.movementY:Uv}}),Mk=to(Zm),mW=en({},Zm,{dataTransfer:0}),gW=to(mW),yW=en({},vf,{relatedTarget:0}),Hv=to(yW),vW=en({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),xW=to(vW),wW=en({},ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bW=to(wW),SW=en({},ru,{data:0}),Ak=to(SW),CW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kW[t])?!!e[t]:!1}function Pb(){return NW}var TW=en({},vf,{key:function(t){if(t.key){var e=CW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Np(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pb,charCode:function(t){return t.type==="keypress"?Np(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Np(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RW=to(TW),MW=en({},Zm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pk=to(MW),AW=en({},vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pb}),PW=to(AW),OW=en({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),_W=to(OW),IW=en({},Zm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DW=to(IW),jW=[9,13,27,32],Ob=Qs&&"CompositionEvent"in window,dd=null;Qs&&"documentMode"in document&&(dd=document.documentMode);var LW=Qs&&"TextEvent"in window&&!dd,EA=Qs&&(!Ob||dd&&8<dd&&11>=dd),Ok=" ",_k=!1;function kA(t,e){switch(t){case"keyup":return jW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ac=!1;function FW(t,e){switch(t){case"compositionend":return NA(e);case"keypress":return e.which!==32?null:(_k=!0,Ok);case"textInput":return t=e.data,t===Ok&&_k?null:t;default:return null}}function $W(t,e){if(ac)return t==="compositionend"||!Ob&&kA(t,e)?(t=CA(),kp=Mb=Wi=null,ac=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EA&&e.locale!=="ko"?null:e.data;default:return null}}var zW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ik(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zW[t.type]:e==="textarea"}function TA(t,e,n,r){oA(r),e=rm(e,"onChange"),0<e.length&&(n=new Ab("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fd=null,Od=null;function BW(t){FA(t,0)}function eg(t){var e=uc(t);if(XM(e))return t}function WW(t,e){if(t==="change")return e}var RA=!1;if(Qs){var Vv;if(Qs){var Gv="oninput"in document;if(!Gv){var Dk=document.createElement("div");Dk.setAttribute("oninput","return;"),Gv=typeof Dk.oninput=="function"}Vv=Gv}else Vv=!1;RA=Vv&&(!document.documentMode||9<document.documentMode)}function jk(){fd&&(fd.detachEvent("onpropertychange",MA),Od=fd=null)}function MA(t){if(t.propertyName==="value"&&eg(Od)){var e=[];TA(e,Od,t,Eb(t)),lA(BW,e)}}function UW(t,e,n){t==="focusin"?(jk(),fd=e,Od=n,fd.attachEvent("onpropertychange",MA)):t==="focusout"&&jk()}function HW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eg(Od)}function VW(t,e){if(t==="click")return eg(e)}function GW(t,e){if(t==="input"||t==="change")return eg(e)}function KW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ko=typeof Object.is=="function"?Object.is:KW;function _d(t,e){if(Ko(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ix.call(e,o)||!Ko(t[o],e[o]))return!1}return!0}function Lk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fk(t,e){var n=Lk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lk(n)}}function AA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PA(){for(var t=window,e=Jp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jp(t.document)}return e}function _b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qW(t){var e=PA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AA(n.ownerDocument.documentElement,n)){if(r!==null&&_b(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=Fk(n,s);var i=Fk(n,r);o&&i&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YW=Qs&&"documentMode"in document&&11>=document.documentMode,lc=null,kx=null,hd=null,Nx=!1;function $k(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nx||lc==null||lc!==Jp(r)||(r=lc,"selectionStart"in r&&_b(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hd&&_d(hd,r)||(hd=r,r=rm(kx,"onSelect"),0<r.length&&(e=new Ab("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lc)))}function Gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cc={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},Kv={},OA={};Qs&&(OA=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function tg(t){if(Kv[t])return Kv[t];if(!cc[t])return t;var e=cc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OA)return Kv[t]=e[n];return t}var _A=tg("animationend"),IA=tg("animationiteration"),DA=tg("animationstart"),jA=tg("transitionend"),LA=new Map,zk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(t,e){LA.set(t,e),Rl(e,[t])}for(var qv=0;qv<zk.length;qv++){var Yv=zk[qv],JW=Yv.toLowerCase(),XW=Yv[0].toUpperCase()+Yv.slice(1);ga(JW,"on"+XW)}ga(_A,"onAnimationEnd");ga(IA,"onAnimationIteration");ga(DA,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(jA,"onTransitionEnd");zc("onMouseEnter",["mouseout","mouseover"]);zc("onMouseLeave",["mouseout","mouseover"]);zc("onPointerEnter",["pointerout","pointerover"]);zc("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QW=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function Bk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,J8(r,e,void 0,t),t.currentTarget=null}function FA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Bk(o,a,u),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Bk(o,a,u),s=l}}}if(Qp)throw t=bx,Qp=!1,bx=null,t}function Ht(t,e){var n=e[Px];n===void 0&&(n=e[Px]=new Set);var r=t+"__bubble";n.has(r)||($A(e,t,2,!1),n.add(r))}function Jv(t,e,n){var r=0;e&&(r|=4),$A(n,t,r,e)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Kh]){t[Kh]=!0,GM.forEach(function(n){n!=="selectionchange"&&(QW.has(n)||Jv(n,!1,t),Jv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kh]||(e[Kh]=!0,Jv("selectionchange",!1,e))}}function $A(t,e,n,r){switch(SA(e)){case 1:var o=fW;break;case 4:o=hW;break;default:o=Rb}n=o.bind(null,e,n,t),o=void 0,!wx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Xv(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Ha(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}lA(function(){var u=s,f=Eb(n),p=[];e:{var g=LA.get(t);if(g!==void 0){var y=Ab,b=t;switch(t){case"keypress":if(Np(n)===0)break e;case"keydown":case"keyup":y=RW;break;case"focusin":b="focus",y=Hv;break;case"focusout":b="blur",y=Hv;break;case"beforeblur":case"afterblur":y=Hv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Mk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=gW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=PW;break;case _A:case IA:case DA:y=xW;break;case jA:y=_W;break;case"scroll":y=pW;break;case"wheel":y=DW;break;case"copy":case"cut":case"paste":y=bW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pk}var w=(e&4)!==0,x=!w&&t==="scroll",S=w?g!==null?g+"Capture":null:g;w=[];for(var C=u,E;C!==null;){E=C;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,S!==null&&(N=Rd(C,S),N!=null&&w.push(Dd(C,N,E)))),x)break;C=C.return}0<w.length&&(g=new y(g,b,null,n,f),p.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==vx&&(b=n.relatedTarget||n.fromElement)&&(Ha(b)||b[Zs]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?Ha(b):null,b!==null&&(x=Ml(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(w=Mk,N="onMouseLeave",S="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(w=Pk,N="onPointerLeave",S="onPointerEnter",C="pointer"),x=y==null?g:uc(y),E=b==null?g:uc(b),g=new w(N,C+"leave",y,n,f),g.target=x,g.relatedTarget=E,N=null,Ha(f)===u&&(w=new w(S,C+"enter",b,n,f),w.target=E,w.relatedTarget=x,N=w),x=N,y&&b)t:{for(w=y,S=b,C=0,E=w;E;E=Yl(E))C++;for(E=0,N=S;N;N=Yl(N))E++;for(;0<C-E;)w=Yl(w),C--;for(;0<E-C;)S=Yl(S),E--;for(;C--;){if(w===S||S!==null&&w===S.alternate)break t;w=Yl(w),S=Yl(S)}w=null}else w=null;y!==null&&Wk(p,g,y,w,!1),b!==null&&x!==null&&Wk(p,x,b,w,!0)}}e:{if(g=u?uc(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var T=WW;else if(Ik(g))if(RA)T=GW;else{T=HW;var M=UW}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(T=VW);if(T&&(T=T(t,u))){TA(p,T,n,f);break e}M&&M(t,g,u),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&hx(g,"number",g.value)}switch(M=u?uc(u):window,t){case"focusin":(Ik(M)||M.contentEditable==="true")&&(lc=M,kx=u,hd=null);break;case"focusout":hd=kx=lc=null;break;case"mousedown":Nx=!0;break;case"contextmenu":case"mouseup":case"dragend":Nx=!1,$k(p,n,f);break;case"selectionchange":if(YW)break;case"keydown":case"keyup":$k(p,n,f)}var A;if(Ob)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ac?kA(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(EA&&n.locale!=="ko"&&(ac||O!=="onCompositionStart"?O==="onCompositionEnd"&&ac&&(A=CA()):(Wi=f,Mb="value"in Wi?Wi.value:Wi.textContent,ac=!0)),M=rm(u,O),0<M.length&&(O=new Ak(O,t,null,n,f),p.push({event:O,listeners:M}),A?O.data=A:(A=NA(n),A!==null&&(O.data=A)))),(A=LW?FW(t,n):$W(t,n))&&(u=rm(u,"onBeforeInput"),0<u.length&&(f=new Ak("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=A))}FA(p,e)})}function Dd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rm(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Rd(t,n),s!=null&&r.unshift(Dd(t,s,o)),s=Rd(t,e),s!=null&&r.push(Dd(t,s,o))),t=t.return}return r}function Yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wk(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Rd(n,s),l!=null&&i.unshift(Dd(n,l,a))):o||(l=Rd(n,s),l!=null&&i.push(Dd(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var ZW=/\r\n?/g,eU=/\u0000|\uFFFD/g;function Uk(t){return(typeof t=="string"?t:""+t).replace(ZW,`
`).replace(eU,"")}function qh(t,e,n){if(e=Uk(e),Uk(t)!==e&&n)throw Error(xe(425))}function om(){}var Tx=null,Rx=null;function Mx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ax=typeof setTimeout=="function"?setTimeout:void 0,tU=typeof clearTimeout=="function"?clearTimeout:void 0,Hk=typeof Promise=="function"?Promise:void 0,nU=typeof queueMicrotask=="function"?queueMicrotask:typeof Hk<"u"?function(t){return Hk.resolve(null).then(t).catch(rU)}:Ax;function rU(t){setTimeout(function(){throw t})}function Qv(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Pd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Pd(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ou=Math.random().toString(36).slice(2),ps="__reactFiber$"+ou,jd="__reactProps$"+ou,Zs="__reactContainer$"+ou,Px="__reactEvents$"+ou,oU="__reactListeners$"+ou,sU="__reactHandles$"+ou;function Ha(t){var e=t[ps];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zs]||n[ps]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vk(t);t!==null;){if(n=t[ps])return n;t=Vk(t)}return e}t=n,n=t.parentNode}return null}function xf(t){return t=t[ps]||t[Zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function ng(t){return t[jd]||null}var Ox=[],dc=-1;function ya(t){return{current:t}}function Vt(t){0>dc||(t.current=Ox[dc],Ox[dc]=null,dc--)}function zt(t,e){dc++,Ox[dc]=t.current,t.current=e}var ca={},nr=ya(ca),Rr=ya(!1),hl=ca;function Bc(t,e){var n=t.type.contextTypes;if(!n)return ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(t){return t=t.childContextTypes,t!=null}function sm(){Vt(Rr),Vt(nr)}function Gk(t,e,n){if(nr.current!==ca)throw Error(xe(168));zt(nr,e),zt(Rr,n)}function zA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(xe(108,U8(t)||"Unknown",o));return en({},n,r)}function im(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,hl=nr.current,zt(nr,t),zt(Rr,Rr.current),!0}function Kk(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=zA(t,e,hl),r.__reactInternalMemoizedMergedChildContext=t,Vt(Rr),Vt(nr),zt(nr,t)):Vt(Rr),zt(Rr,n)}var Ws=null,rg=!1,Zv=!1;function BA(t){Ws===null?Ws=[t]:Ws.push(t)}function iU(t){rg=!0,BA(t)}function va(){if(!Zv&&Ws!==null){Zv=!0;var t=0,e=Pt;try{var n=Ws;for(Pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ws=null,rg=!1}catch(o){throw Ws!==null&&(Ws=Ws.slice(t+1)),fA(kb,va),o}finally{Pt=e,Zv=!1}}return null}var fc=[],hc=0,am=null,lm=0,go=[],yo=0,pl=null,Vs=1,Gs="";function za(t,e){fc[hc++]=lm,fc[hc++]=am,am=t,lm=e}function WA(t,e,n){go[yo++]=Vs,go[yo++]=Gs,go[yo++]=pl,pl=t;var r=Vs;t=Gs;var o=32-Vo(r)-1;r&=~(1<<o),n+=1;var s=32-Vo(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Vs=1<<32-Vo(e)+o|n<<o|r,Gs=s+t}else Vs=1<<s|n<<o|r,Gs=t}function Ib(t){t.return!==null&&(za(t,1),WA(t,1,0))}function Db(t){for(;t===am;)am=fc[--hc],fc[hc]=null,lm=fc[--hc],fc[hc]=null;for(;t===pl;)pl=go[--yo],go[yo]=null,Gs=go[--yo],go[yo]=null,Vs=go[--yo],go[yo]=null}var Jr=null,qr=null,Kt=!1,Wo=null;function UA(t,e){var n=xo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jr=t,qr=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jr=t,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pl!==null?{id:Vs,overflow:Gs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jr=t,qr=null,!0):!1;default:return!1}}function _x(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ix(t){if(Kt){var e=qr;if(e){var n=e;if(!qk(t,e)){if(_x(t))throw Error(xe(418));e=Qi(n.nextSibling);var r=Jr;e&&qk(t,e)?UA(r,n):(t.flags=t.flags&-4097|2,Kt=!1,Jr=t)}}else{if(_x(t))throw Error(xe(418));t.flags=t.flags&-4097|2,Kt=!1,Jr=t}}}function Yk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jr=t}function Yh(t){if(t!==Jr)return!1;if(!Kt)return Yk(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mx(t.type,t.memoizedProps)),e&&(e=qr)){if(_x(t))throw HA(),Error(xe(418));for(;e;)UA(t,e),e=Qi(e.nextSibling)}if(Yk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qr=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qr=null}}else qr=Jr?Qi(t.stateNode.nextSibling):null;return!0}function HA(){for(var t=qr;t;)t=Qi(t.nextSibling)}function Wc(){qr=Jr=null,Kt=!1}function jb(t){Wo===null?Wo=[t]:Wo.push(t)}var aU=si.ReactCurrentBatchConfig;function Hu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function Jh(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jk(t){var e=t._init;return e(t._payload)}function VA(t){function e(S,C){if(t){var E=S.deletions;E===null?(S.deletions=[C],S.flags|=16):E.push(C)}}function n(S,C){if(!t)return null;for(;C!==null;)e(S,C),C=C.sibling;return null}function r(S,C){for(S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function o(S,C){return S=na(S,C),S.index=0,S.sibling=null,S}function s(S,C,E){return S.index=E,t?(E=S.alternate,E!==null?(E=E.index,E<C?(S.flags|=2,C):E):(S.flags|=2,C)):(S.flags|=1048576,C)}function i(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,C,E,N){return C===null||C.tag!==6?(C=i0(E,S.mode,N),C.return=S,C):(C=o(C,E),C.return=S,C)}function l(S,C,E,N){var T=E.type;return T===ic?f(S,C,E.props.children,N,E.key):C!==null&&(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mi&&Jk(T)===C.type)?(N=o(C,E.props),N.ref=Hu(S,C,E),N.return=S,N):(N=_p(E.type,E.key,E.props,null,S.mode,N),N.ref=Hu(S,C,E),N.return=S,N)}function u(S,C,E,N){return C===null||C.tag!==4||C.stateNode.containerInfo!==E.containerInfo||C.stateNode.implementation!==E.implementation?(C=a0(E,S.mode,N),C.return=S,C):(C=o(C,E.children||[]),C.return=S,C)}function f(S,C,E,N,T){return C===null||C.tag!==7?(C=rl(E,S.mode,N,T),C.return=S,C):(C=o(C,E),C.return=S,C)}function p(S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return C=i0(""+C,S.mode,E),C.return=S,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $h:return E=_p(C.type,C.key,C.props,null,S.mode,E),E.ref=Hu(S,null,C),E.return=S,E;case sc:return C=a0(C,S.mode,E),C.return=S,C;case Mi:var N=C._init;return p(S,N(C._payload),E)}if(td(C)||$u(C))return C=rl(C,S.mode,E,null),C.return=S,C;Jh(S,C)}return null}function g(S,C,E,N){var T=C!==null?C.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(S,C,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $h:return E.key===T?l(S,C,E,N):null;case sc:return E.key===T?u(S,C,E,N):null;case Mi:return T=E._init,g(S,C,T(E._payload),N)}if(td(E)||$u(E))return T!==null?null:f(S,C,E,N,null);Jh(S,E)}return null}function y(S,C,E,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return S=S.get(E)||null,a(C,S,""+N,T);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $h:return S=S.get(N.key===null?E:N.key)||null,l(C,S,N,T);case sc:return S=S.get(N.key===null?E:N.key)||null,u(C,S,N,T);case Mi:var M=N._init;return y(S,C,E,M(N._payload),T)}if(td(N)||$u(N))return S=S.get(E)||null,f(C,S,N,T,null);Jh(C,N)}return null}function b(S,C,E,N){for(var T=null,M=null,A=C,O=C=0,L=null;A!==null&&O<E.length;O++){A.index>O?(L=A,A=null):L=A.sibling;var F=g(S,A,E[O],N);if(F===null){A===null&&(A=L);break}t&&A&&F.alternate===null&&e(S,A),C=s(F,C,O),M===null?T=F:M.sibling=F,M=F,A=L}if(O===E.length)return n(S,A),Kt&&za(S,O),T;if(A===null){for(;O<E.length;O++)A=p(S,E[O],N),A!==null&&(C=s(A,C,O),M===null?T=A:M.sibling=A,M=A);return Kt&&za(S,O),T}for(A=r(S,A);O<E.length;O++)L=y(A,S,O,E[O],N),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?O:L.key),C=s(L,C,O),M===null?T=L:M.sibling=L,M=L);return t&&A.forEach(function(V){return e(S,V)}),Kt&&za(S,O),T}function w(S,C,E,N){var T=$u(E);if(typeof T!="function")throw Error(xe(150));if(E=T.call(E),E==null)throw Error(xe(151));for(var M=T=null,A=C,O=C=0,L=null,F=E.next();A!==null&&!F.done;O++,F=E.next()){A.index>O?(L=A,A=null):L=A.sibling;var V=g(S,A,F.value,N);if(V===null){A===null&&(A=L);break}t&&A&&V.alternate===null&&e(S,A),C=s(V,C,O),M===null?T=V:M.sibling=V,M=V,A=L}if(F.done)return n(S,A),Kt&&za(S,O),T;if(A===null){for(;!F.done;O++,F=E.next())F=p(S,F.value,N),F!==null&&(C=s(F,C,O),M===null?T=F:M.sibling=F,M=F);return Kt&&za(S,O),T}for(A=r(S,A);!F.done;O++,F=E.next())F=y(A,S,O,F.value,N),F!==null&&(t&&F.alternate!==null&&A.delete(F.key===null?O:F.key),C=s(F,C,O),M===null?T=F:M.sibling=F,M=F);return t&&A.forEach(function(H){return e(S,H)}),Kt&&za(S,O),T}function x(S,C,E,N){if(typeof E=="object"&&E!==null&&E.type===ic&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case $h:e:{for(var T=E.key,M=C;M!==null;){if(M.key===T){if(T=E.type,T===ic){if(M.tag===7){n(S,M.sibling),C=o(M,E.props.children),C.return=S,S=C;break e}}else if(M.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mi&&Jk(T)===M.type){n(S,M.sibling),C=o(M,E.props),C.ref=Hu(S,M,E),C.return=S,S=C;break e}n(S,M);break}else e(S,M);M=M.sibling}E.type===ic?(C=rl(E.props.children,S.mode,N,E.key),C.return=S,S=C):(N=_p(E.type,E.key,E.props,null,S.mode,N),N.ref=Hu(S,C,E),N.return=S,S=N)}return i(S);case sc:e:{for(M=E.key;C!==null;){if(C.key===M)if(C.tag===4&&C.stateNode.containerInfo===E.containerInfo&&C.stateNode.implementation===E.implementation){n(S,C.sibling),C=o(C,E.children||[]),C.return=S,S=C;break e}else{n(S,C);break}else e(S,C);C=C.sibling}C=a0(E,S.mode,N),C.return=S,S=C}return i(S);case Mi:return M=E._init,x(S,C,M(E._payload),N)}if(td(E))return b(S,C,E,N);if($u(E))return w(S,C,E,N);Jh(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,C!==null&&C.tag===6?(n(S,C.sibling),C=o(C,E),C.return=S,S=C):(n(S,C),C=i0(E,S.mode,N),C.return=S,S=C),i(S)):n(S,C)}return x}var Uc=VA(!0),GA=VA(!1),cm=ya(null),um=null,pc=null,Lb=null;function Fb(){Lb=pc=um=null}function $b(t){var e=cm.current;Vt(cm),t._currentValue=e}function Dx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cc(t,e){um=t,Lb=pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function Eo(t){var e=t._currentValue;if(Lb!==t)if(t={context:t,memoizedValue:e,next:null},pc===null){if(um===null)throw Error(xe(308));pc=t,um.dependencies={lanes:0,firstContext:t}}else pc=pc.next=t;return e}var Va=null;function zb(t){Va===null?Va=[t]:Va.push(t)}function KA(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,zb(e)):(n.next=o.next,o.next=n),e.interleaved=n,ei(t,r)}function ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function Bb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,ei(t,n)}return o=r.interleaved,o===null?(e.next=e,zb(r)):(e.next=o.next,o.next=e),r.interleaved=e,ei(t,n)}function Tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}function Xk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dm(t,e,n,r){var o=t.updateQueue;Ai=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var p=o.baseState;i=0,f=u=l=null,a=s;do{var g=a.lane,y=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,w=a;switch(g=e,y=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){p=b.call(y,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,g=typeof b=="function"?b.call(y,p,g):b,g==null)break e;p=en({},p,g);break e;case 2:Ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=o.effects,g===null?o.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=y,l=p):f=f.next=y,i|=g;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;g=a,a=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(f===null&&(l=p),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do i|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);gl|=i,t.lanes=i,t.memoizedState=p}}function Qk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(xe(191,o));o.call(r)}}}var wf={},xs=ya(wf),Ld=ya(wf),Fd=ya(wf);function Ga(t){if(t===wf)throw Error(xe(174));return t}function Wb(t,e){switch(zt(Fd,e),zt(Ld,t),zt(xs,wf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mx(e,t)}Vt(xs),zt(xs,e)}function Hc(){Vt(xs),Vt(Ld),Vt(Fd)}function YA(t){Ga(Fd.current);var e=Ga(xs.current),n=mx(e,t.type);e!==n&&(zt(Ld,t),zt(xs,n))}function Ub(t){Ld.current===t&&(Vt(xs),Vt(Ld))}var Xt=ya(0);function fm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var e0=[];function Hb(){for(var t=0;t<e0.length;t++)e0[t]._workInProgressVersionPrimary=null;e0.length=0}var Rp=si.ReactCurrentDispatcher,t0=si.ReactCurrentBatchConfig,ml=0,Qt=null,wn=null,En=null,hm=!1,pd=!1,$d=0,lU=0;function Yn(){throw Error(xe(321))}function Vb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ko(t[n],e[n]))return!1;return!0}function Gb(t,e,n,r,o,s){if(ml=s,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rp.current=t===null||t.memoizedState===null?fU:hU,t=n(r,o),pd){s=0;do{if(pd=!1,$d=0,25<=s)throw Error(xe(301));s+=1,En=wn=null,e.updateQueue=null,Rp.current=pU,t=n(r,o)}while(pd)}if(Rp.current=pm,e=wn!==null&&wn.next!==null,ml=0,En=wn=Qt=null,hm=!1,e)throw Error(xe(300));return t}function Kb(){var t=$d!==0;return $d=0,t}function cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Qt.memoizedState=En=t:En=En.next=t,En}function ko(){if(wn===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=En===null?Qt.memoizedState:En.next;if(e!==null)En=e,wn=t;else{if(t===null)throw Error(xe(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},En===null?Qt.memoizedState=En=t:En=En.next=t}return En}function zd(t,e){return typeof e=="function"?e(t):e}function n0(t){var e=ko(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=wn,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,u=s;do{var f=u.lane;if((ml&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,i=r):l=l.next=p,Qt.lanes|=f,gl|=f}u=u.next}while(u!==null&&u!==s);l===null?i=r:l.next=a,Ko(r,e.memoizedState)||(Tr=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,Qt.lanes|=s,gl|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function r0(t){var e=ko(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);Ko(s,e.memoizedState)||(Tr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JA(){}function XA(t,e){var n=Qt,r=ko(),o=e(),s=!Ko(r.memoizedState,o);if(s&&(r.memoizedState=o,Tr=!0),r=r.queue,qb(eP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,Bd(9,ZA.bind(null,n,r,o,e),void 0,null),Tn===null)throw Error(xe(349));ml&30||QA(n,e,o)}return o}function QA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZA(t,e,n,r){e.value=n,e.getSnapshot=r,tP(e)&&nP(t)}function eP(t,e,n){return n(function(){tP(e)&&nP(t)})}function tP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ko(t,n)}catch{return!0}}function nP(t){var e=ei(t,1);e!==null&&Go(e,t,1,-1)}function Zk(t){var e=cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zd,lastRenderedState:t},e.queue=t,t=t.dispatch=dU.bind(null,Qt,t),[e.memoizedState,t]}function Bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rP(){return ko().memoizedState}function Mp(t,e,n,r){var o=cs();Qt.flags|=t,o.memoizedState=Bd(1|e,n,void 0,r===void 0?null:r)}function og(t,e,n,r){var o=ko();r=r===void 0?null:r;var s=void 0;if(wn!==null){var i=wn.memoizedState;if(s=i.destroy,r!==null&&Vb(r,i.deps)){o.memoizedState=Bd(e,n,s,r);return}}Qt.flags|=t,o.memoizedState=Bd(1|e,n,s,r)}function eN(t,e){return Mp(8390656,8,t,e)}function qb(t,e){return og(2048,8,t,e)}function oP(t,e){return og(4,2,t,e)}function sP(t,e){return og(4,4,t,e)}function iP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aP(t,e,n){return n=n!=null?n.concat([t]):null,og(4,4,iP.bind(null,e,t),n)}function Yb(){}function lP(t,e){var n=ko();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cP(t,e){var n=ko();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uP(t,e,n){return ml&21?(Ko(n,e)||(n=mA(),Qt.lanes|=n,gl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function cU(t,e){var n=Pt;Pt=n!==0&&4>n?n:4,t(!0);var r=t0.transition;t0.transition={};try{t(!1),e()}finally{Pt=n,t0.transition=r}}function dP(){return ko().memoizedState}function uU(t,e,n){var r=ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fP(t))hP(e,n);else if(n=KA(t,e,n,r),n!==null){var o=fr();Go(n,t,r,o),pP(n,e,r)}}function dU(t,e,n){var r=ta(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fP(t))hP(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Ko(a,i)){var l=e.interleaved;l===null?(o.next=o,zb(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=KA(t,e,o,r),n!==null&&(o=fr(),Go(n,t,r,o),pP(n,e,r))}}function fP(t){var e=t.alternate;return t===Qt||e!==null&&e===Qt}function hP(t,e){pd=hm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}var pm={readContext:Eo,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},fU={readContext:Eo,useCallback:function(t,e){return cs().memoizedState=[t,e===void 0?null:e],t},useContext:Eo,useEffect:eN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mp(4194308,4,iP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mp(4,2,t,e)},useMemo:function(t,e){var n=cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uU.bind(null,Qt,t),[r.memoizedState,t]},useRef:function(t){var e=cs();return t={current:t},e.memoizedState=t},useState:Zk,useDebugValue:Yb,useDeferredValue:function(t){return cs().memoizedState=t},useTransition:function(){var t=Zk(!1),e=t[0];return t=cU.bind(null,t[1]),cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qt,o=cs();if(Kt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),Tn===null)throw Error(xe(349));ml&30||QA(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,eN(eP.bind(null,r,s,t),[t]),r.flags|=2048,Bd(9,ZA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cs(),e=Tn.identifierPrefix;if(Kt){var n=Gs,r=Vs;n=(r&~(1<<32-Vo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$d++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hU={readContext:Eo,useCallback:lP,useContext:Eo,useEffect:qb,useImperativeHandle:aP,useInsertionEffect:oP,useLayoutEffect:sP,useMemo:cP,useReducer:n0,useRef:rP,useState:function(){return n0(zd)},useDebugValue:Yb,useDeferredValue:function(t){var e=ko();return uP(e,wn.memoizedState,t)},useTransition:function(){var t=n0(zd)[0],e=ko().memoizedState;return[t,e]},useMutableSource:JA,useSyncExternalStore:XA,useId:dP,unstable_isNewReconciler:!1},pU={readContext:Eo,useCallback:lP,useContext:Eo,useEffect:qb,useImperativeHandle:aP,useInsertionEffect:oP,useLayoutEffect:sP,useMemo:cP,useReducer:r0,useRef:rP,useState:function(){return r0(zd)},useDebugValue:Yb,useDeferredValue:function(t){var e=ko();return wn===null?e.memoizedState=t:uP(e,wn.memoizedState,t)},useTransition:function(){var t=r0(zd)[0],e=ko().memoizedState;return[t,e]},useMutableSource:JA,useSyncExternalStore:XA,useId:dP,unstable_isNewReconciler:!1};function Lo(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sg={isMounted:function(t){return(t=t._reactInternals)?Ml(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fr(),o=ta(t),s=Ys(r,o);s.payload=e,n!=null&&(s.callback=n),e=Zi(t,s,o),e!==null&&(Go(e,t,o,r),Tp(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fr(),o=ta(t),s=Ys(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zi(t,s,o),e!==null&&(Go(e,t,o,r),Tp(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fr(),r=ta(t),o=Ys(n,r);o.tag=2,e!=null&&(o.callback=e),e=Zi(t,o,r),e!==null&&(Go(e,t,r,n),Tp(e,t,r))}};function tN(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!_d(n,r)||!_d(o,s):!0}function mP(t,e,n){var r=!1,o=ca,s=e.contextType;return typeof s=="object"&&s!==null?s=Eo(s):(o=Mr(e)?hl:nr.current,r=e.contextTypes,s=(r=r!=null)?Bc(t,o):ca),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function nN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sg.enqueueReplaceState(e,e.state,null)}function Lx(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Bb(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=Eo(s):(s=Mr(e)?hl:nr.current,o.context=Bc(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jx(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&sg.enqueueReplaceState(o,o.state,null),dm(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var n="",r=e;do n+=W8(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function o0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mU=typeof WeakMap=="function"?WeakMap:Map;function gP(t,e,n){n=Ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gm||(gm=!0,qx=r),Fx(t,e)},n}function yP(t,e,n){n=Ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Fx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fx(t,e),typeof r!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function rN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mU;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=MU.bind(null,t,e,n),e.then(t,t))}function oN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sN(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ys(-1,1),e.tag=2,Zi(n,e,1))),n.lanes|=1),t)}var gU=si.ReactCurrentOwner,Tr=!1;function cr(t,e,n,r){e.child=t===null?GA(e,null,n,r):Uc(e,t.child,n,r)}function iN(t,e,n,r,o){n=n.render;var s=e.ref;return Cc(e,o),r=Gb(t,e,n,r,s,o),n=Kb(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ti(t,e,o)):(Kt&&n&&Ib(e),e.flags|=1,cr(t,e,r,o),e.child)}function aN(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!r1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vP(t,e,s,r,o)):(t=_p(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:_d,n(i,r)&&t.ref===e.ref)return ti(t,e,o)}return e.flags|=1,t=na(s,r),t.ref=e.ref,t.return=e,e.child=t}function vP(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(_d(s,r)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,ti(t,e,o)}return $x(t,e,n,r,o)}function xP(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(gc,Vr),Vr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zt(gc,Vr),Vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,zt(gc,Vr),Vr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,zt(gc,Vr),Vr|=r;return cr(t,e,o,n),e.child}function wP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $x(t,e,n,r,o){var s=Mr(n)?hl:nr.current;return s=Bc(e,s),Cc(e,o),n=Gb(t,e,n,r,s,o),r=Kb(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ti(t,e,o)):(Kt&&r&&Ib(e),e.flags|=1,cr(t,e,n,o),e.child)}function lN(t,e,n,r,o){if(Mr(n)){var s=!0;im(e)}else s=!1;if(Cc(e,o),e.stateNode===null)Ap(t,e),mP(e,n,r),Lx(e,n,r,o),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Eo(u):(u=Mr(n)?hl:nr.current,u=Bc(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&nN(e,i,r,u),Ai=!1;var g=e.memoizedState;i.state=g,dm(e,r,i,o),l=e.memoizedState,a!==r||g!==l||Rr.current||Ai?(typeof f=="function"&&(jx(e,n,f,r),l=e.memoizedState),(a=Ai||tN(e,n,a,r,g,l,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,qA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Lo(e.type,a),i.props=u,p=e.pendingProps,g=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Eo(l):(l=Mr(n)?hl:nr.current,l=Bc(e,l));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||g!==l)&&nN(e,i,r,l),Ai=!1,g=e.memoizedState,i.state=g,dm(e,r,i,o);var b=e.memoizedState;a!==p||g!==b||Rr.current||Ai?(typeof y=="function"&&(jx(e,n,y,r),b=e.memoizedState),(u=Ai||tN(e,n,u,r,g,b,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),i.props=r,i.state=b,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return zx(t,e,n,r,s,o)}function zx(t,e,n,r,o,s){wP(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return o&&Kk(e,n,!1),ti(t,e,s);r=e.stateNode,gU.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Uc(e,t.child,null,s),e.child=Uc(e,null,a,s)):cr(t,e,a,s),e.memoizedState=r.state,o&&Kk(e,n,!0),e.child}function bP(t){var e=t.stateNode;e.pendingContext?Gk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gk(t,e.context,!1),Wb(t,e.containerInfo)}function cN(t,e,n,r,o){return Wc(),jb(o),e.flags|=256,cr(t,e,n,r),e.child}var Bx={dehydrated:null,treeContext:null,retryLane:0};function Wx(t){return{baseLanes:t,cachePool:null,transitions:null}}function SP(t,e,n){var r=e.pendingProps,o=Xt.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),zt(Xt,o&1),t===null)return Ix(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=lg(i,r,0,null),t=rl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wx(n),e.memoizedState=Bx,t):Jb(e,i));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return yU(t,e,i,r,a,o,n);if(s){s=r.fallback,i=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=na(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=na(a,s):(s=rl(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,i=t.child.memoizedState,i=i===null?Wx(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~n,e.memoizedState=Bx,r}return s=t.child,t=s.sibling,r=na(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jb(t,e){return e=lg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xh(t,e,n,r){return r!==null&&jb(r),Uc(e,t.child,null,n),t=Jb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yU(t,e,n,r,o,s,i){if(n)return e.flags&256?(e.flags&=-257,r=o0(Error(xe(422))),Xh(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=lg({mode:"visible",children:r.children},o,0,null),s=rl(s,o,i,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uc(e,t.child,null,i),e.child.memoizedState=Wx(i),e.memoizedState=Bx,s);if(!(e.mode&1))return Xh(t,e,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(xe(419)),r=o0(s,r,void 0),Xh(t,e,i,r)}if(a=(i&t.childLanes)!==0,Tr||a){if(r=Tn,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,ei(t,o),Go(r,t,o,-1))}return n1(),r=o0(Error(xe(421))),Xh(t,e,i,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=AU.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,qr=Qi(o.nextSibling),Jr=e,Kt=!0,Wo=null,t!==null&&(go[yo++]=Vs,go[yo++]=Gs,go[yo++]=pl,Vs=t.id,Gs=t.overflow,pl=e),e=Jb(e,r.children),e.flags|=4096,e)}function uN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dx(t.return,e,n)}function s0(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function CP(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(cr(t,e,r.children,n),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uN(t,n,e);else if(t.tag===19)uN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(zt(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&fm(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),s0(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&fm(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}s0(e,!0,n,null,s);break;case"together":s0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ap(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vU(t,e,n){switch(e.tag){case 3:bP(e),Wc();break;case 5:YA(e);break;case 1:Mr(e.type)&&im(e);break;case 4:Wb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;zt(cm,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(zt(Xt,Xt.current&1),e.flags|=128,null):n&e.child.childLanes?SP(t,e,n):(zt(Xt,Xt.current&1),t=ti(t,e,n),t!==null?t.sibling:null);zt(Xt,Xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CP(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),zt(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,xP(t,e,n)}return ti(t,e,n)}var EP,Ux,kP,NP;EP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ux=function(){};kP=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ga(xs.current);var s=null;switch(n){case"input":o=dx(t,o),r=dx(t,r),s=[];break;case"select":o=en({},o,{value:void 0}),r=en({},r,{value:void 0}),s=[];break;case"textarea":o=px(t,o),r=px(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=om)}gx(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ht("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vu(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xU(t,e,n){var r=e.pendingProps;switch(Db(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(e),null;case 1:return Mr(e.type)&&sm(),Jn(e),null;case 3:return r=e.stateNode,Hc(),Vt(Rr),Vt(nr),Hb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wo!==null&&(Xx(Wo),Wo=null))),Ux(t,e),Jn(e),null;case 5:Ub(e);var o=Ga(Fd.current);if(n=e.type,t!==null&&e.stateNode!=null)kP(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return Jn(e),null}if(t=Ga(xs.current),Yh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ps]=e,r[jd]=s,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(o=0;o<rd.length;o++)Ht(rd[o],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":xk(r,s),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ht("invalid",r);break;case"textarea":bk(r,s),Ht("invalid",r)}gx(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),o=["children",""+a]):Nd.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ht("scroll",r)}switch(n){case"input":zh(r),wk(r,s,!0);break;case"textarea":zh(r),Sk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=om)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[ps]=e,t[jd]=r,EP(t,e,!1,!1),e.stateNode=t;e:{switch(i=yx(n,r),n){case"dialog":Ht("cancel",t),Ht("close",t),o=r;break;case"iframe":case"object":case"embed":Ht("load",t),o=r;break;case"video":case"audio":for(o=0;o<rd.length;o++)Ht(rd[o],t);o=r;break;case"source":Ht("error",t),o=r;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),o=r;break;case"details":Ht("toggle",t),o=r;break;case"input":xk(t,r),o=dx(t,r),Ht("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=en({},r,{value:void 0}),Ht("invalid",t);break;case"textarea":bk(t,r),o=px(t,r),Ht("invalid",t);break;default:o=r}gx(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Td(t,l):typeof l=="number"&&Td(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ht("scroll",t):l!=null&&wb(t,s,l,i))}switch(n){case"input":zh(t),wk(t,r,!1);break;case"textarea":zh(t),Sk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+la(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xc(t,!!r.multiple,s,!1):r.defaultValue!=null&&xc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=om)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jn(e),null;case 6:if(t&&e.stateNode!=null)NP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=Ga(Fd.current),Ga(xs.current),Yh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ps]=e,(s=r.nodeValue!==n)&&(t=Jr,t!==null))switch(t.tag){case 3:qh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ps]=e,e.stateNode=r}return Jn(e),null;case 13:if(Vt(Xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&qr!==null&&e.mode&1&&!(e.flags&128))HA(),Wc(),e.flags|=98560,s=!1;else if(s=Yh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(xe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(xe(317));s[ps]=e}else Wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jn(e),s=!1}else Wo!==null&&(Xx(Wo),Wo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xt.current&1?Sn===0&&(Sn=3):n1())),e.updateQueue!==null&&(e.flags|=4),Jn(e),null);case 4:return Hc(),Ux(t,e),t===null&&Id(e.stateNode.containerInfo),Jn(e),null;case 10:return $b(e.type._context),Jn(e),null;case 17:return Mr(e.type)&&sm(),Jn(e),null;case 19:if(Vt(Xt),s=e.memoizedState,s===null)return Jn(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Vu(s,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=fm(t),i!==null){for(e.flags|=128,Vu(s,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return zt(Xt,Xt.current&1|2),e.child}t=t.sibling}s.tail!==null&&fn()>Gc&&(e.flags|=128,r=!0,Vu(s,!1),e.lanes=4194304)}else{if(!r)if(t=fm(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Kt)return Jn(e),null}else 2*fn()-s.renderingStartTime>Gc&&n!==1073741824&&(e.flags|=128,r=!0,Vu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(n=s.last,n!==null?n.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fn(),e.sibling=null,n=Xt.current,zt(Xt,r?n&1|2:n&1),e):(Jn(e),null);case 22:case 23:return t1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vr&1073741824&&(Jn(e),e.subtreeFlags&6&&(e.flags|=8192)):Jn(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function wU(t,e){switch(Db(e),e.tag){case 1:return Mr(e.type)&&sm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hc(),Vt(Rr),Vt(nr),Hb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ub(e),null;case 13:if(Vt(Xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));Wc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Xt),null;case 4:return Hc(),null;case 10:return $b(e.type._context),null;case 22:case 23:return t1(),null;case 24:return null;default:return null}}var Qh=!1,Zn=!1,bU=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function mc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(t,e,r)}else n.current=null}function Hx(t,e,n){try{n()}catch(r){an(t,e,r)}}var dN=!1;function SU(t,e){if(Tx=tm,t=PA(),_b(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,f=0,p=t,g=null;t:for(;;){for(var y;p!==n||o!==0&&p.nodeType!==3||(a=i+o),p!==s||r!==0&&p.nodeType!==3||(l=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++u===o&&(a=i),g===s&&++f===r&&(l=i),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rx={focusedElem:t,selectionRange:n},tm=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,x=b.memoizedState,S=e.stateNode,C=S.getSnapshotBeforeUpdate(e.elementType===e.type?w:Lo(e.type,w),x);S.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(N){an(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return b=dN,dN=!1,b}function md(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Hx(e,n,s)}o=o.next}while(o!==r)}}function ig(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TP(t){var e=t.alternate;e!==null&&(t.alternate=null,TP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ps],delete e[jd],delete e[Px],delete e[oU],delete e[sU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RP(t){return t.tag===5||t.tag===3||t.tag===4}function fN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=om));else if(r!==4&&(t=t.child,t!==null))for(Gx(t,e,n),t=t.sibling;t!==null;)Gx(t,e,n),t=t.sibling}function Kx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kx(t,e,n),t=t.sibling;t!==null;)Kx(t,e,n),t=t.sibling}var Ln=null,Bo=!1;function Si(t,e,n){for(n=n.child;n!==null;)MP(t,e,n),n=n.sibling}function MP(t,e,n){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Qm,n)}catch{}switch(n.tag){case 5:Zn||mc(n,e);case 6:var r=Ln,o=Bo;Ln=null,Si(t,e,n),Ln=r,Bo=o,Ln!==null&&(Bo?(t=Ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ln.removeChild(n.stateNode));break;case 18:Ln!==null&&(Bo?(t=Ln,n=n.stateNode,t.nodeType===8?Qv(t.parentNode,n):t.nodeType===1&&Qv(t,n),Pd(t)):Qv(Ln,n.stateNode));break;case 4:r=Ln,o=Bo,Ln=n.stateNode.containerInfo,Bo=!0,Si(t,e,n),Ln=r,Bo=o;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Hx(n,e,i),o=o.next}while(o!==r)}Si(t,e,n);break;case 1:if(!Zn&&(mc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){an(n,e,a)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,Si(t,e,n),Zn=r):Si(t,e,n);break;default:Si(t,e,n)}}function hN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bU),e.forEach(function(r){var o=PU.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Io(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ln=a.stateNode,Bo=!1;break e;case 3:Ln=a.stateNode.containerInfo,Bo=!0;break e;case 4:Ln=a.stateNode.containerInfo,Bo=!0;break e}a=a.return}if(Ln===null)throw Error(xe(160));MP(s,i,o),Ln=null,Bo=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){an(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AP(e,t),e=e.sibling}function AP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Io(e,t),as(t),r&4){try{md(3,t,t.return),ig(3,t)}catch(w){an(t,t.return,w)}try{md(5,t,t.return)}catch(w){an(t,t.return,w)}}break;case 1:Io(e,t),as(t),r&512&&n!==null&&mc(n,n.return);break;case 5:if(Io(e,t),as(t),r&512&&n!==null&&mc(n,n.return),t.flags&32){var o=t.stateNode;try{Td(o,"")}catch(w){an(t,t.return,w)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,i=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QM(o,s),yx(a,i);var u=yx(a,s);for(i=0;i<l.length;i+=2){var f=l[i],p=l[i+1];f==="style"?rA(o,p):f==="dangerouslySetInnerHTML"?tA(o,p):f==="children"?Td(o,p):wb(o,f,p,u)}switch(a){case"input":fx(o,s);break;case"textarea":ZM(o,s);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?xc(o,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?xc(o,!!s.multiple,s.defaultValue,!0):xc(o,!!s.multiple,s.multiple?[]:"",!1))}o[jd]=s}catch(w){an(t,t.return,w)}}break;case 6:if(Io(e,t),as(t),r&4){if(t.stateNode===null)throw Error(xe(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(w){an(t,t.return,w)}}break;case 3:if(Io(e,t),as(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pd(e.containerInfo)}catch(w){an(t,t.return,w)}break;case 4:Io(e,t),as(t);break;case 13:Io(e,t),as(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Zb=fn())),r&4&&hN(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(u=Zn)||f,Io(e,t),Zn=u):Io(e,t),as(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Ie=t,f=t.child;f!==null;){for(p=Ie=f;Ie!==null;){switch(g=Ie,y=g.child,g.tag){case 0:case 11:case 14:case 15:md(4,g,g.return);break;case 1:mc(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){an(r,n,w)}}break;case 5:mc(g,g.return);break;case 22:if(g.memoizedState!==null){mN(p);continue}}y!==null?(y.return=g,Ie=y):mN(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{o=p.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nA("display",i))}catch(w){an(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){an(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Io(e,t),as(t),r&4&&hN(t);break;case 21:break;default:Io(e,t),as(t)}}function as(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RP(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Td(o,""),r.flags&=-33);var s=fN(t);Kx(t,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=fN(t);Gx(t,a,i);break;default:throw Error(xe(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CU(t,e,n){Ie=t,PP(t)}function PP(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var o=Ie,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Qh;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Zn;a=Qh;var u=Zn;if(Qh=i,(Zn=l)&&!u)for(Ie=o;Ie!==null;)i=Ie,l=i.child,i.tag===22&&i.memoizedState!==null?gN(o):l!==null?(l.return=i,Ie=l):gN(o);for(;s!==null;)Ie=s,PP(s),s=s.sibling;Ie=o,Qh=a,Zn=u}pN(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Ie=s):pN(t)}}function pN(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||ig(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Lo(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Qk(e,s,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qk(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Pd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Zn||e.flags&512&&Vx(e)}catch(g){an(e,e.return,g)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function mN(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function gN(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ig(4,e)}catch(l){an(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){an(e,o,l)}}var s=e.return;try{Vx(e)}catch(l){an(e,s,l)}break;case 5:var i=e.return;try{Vx(e)}catch(l){an(e,i,l)}}}catch(l){an(e,e.return,l)}if(e===t){Ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ie=a;break}Ie=e.return}}var EU=Math.ceil,mm=si.ReactCurrentDispatcher,Xb=si.ReactCurrentOwner,bo=si.ReactCurrentBatchConfig,Et=0,Tn=null,pn=null,Wn=0,Vr=0,gc=ya(0),Sn=0,Wd=null,gl=0,ag=0,Qb=0,gd=null,Nr=null,Zb=0,Gc=1/0,zs=null,gm=!1,qx=null,ea=null,Zh=!1,Ui=null,ym=0,yd=0,Yx=null,Pp=-1,Op=0;function fr(){return Et&6?fn():Pp!==-1?Pp:Pp=fn()}function ta(t){return t.mode&1?Et&2&&Wn!==0?Wn&-Wn:aU.transition!==null?(Op===0&&(Op=mA()),Op):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:SA(t.type)),t):1}function Go(t,e,n,r){if(50<yd)throw yd=0,Yx=null,Error(xe(185));yf(t,n,r),(!(Et&2)||t!==Tn)&&(t===Tn&&(!(Et&2)&&(ag|=n),Sn===4&&Di(t,Wn)),Ar(t,r),n===1&&Et===0&&!(e.mode&1)&&(Gc=fn()+500,rg&&va()))}function Ar(t,e){var n=t.callbackNode;aW(t,e);var r=em(t,t===Tn?Wn:0);if(r===0)n!==null&&kk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kk(n),e===1)t.tag===0?iU(yN.bind(null,t)):BA(yN.bind(null,t)),nU(function(){!(Et&6)&&va()}),n=null;else{switch(gA(r)){case 1:n=kb;break;case 4:n=hA;break;case 16:n=Zp;break;case 536870912:n=pA;break;default:n=Zp}n=$P(n,OP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OP(t,e){if(Pp=-1,Op=0,Et&6)throw Error(xe(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var r=em(t,t===Tn?Wn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vm(t,r);else{e=r;var o=Et;Et|=2;var s=IP();(Tn!==t||Wn!==e)&&(zs=null,Gc=fn()+500,nl(t,e));do try{TU();break}catch(a){_P(t,a)}while(!0);Fb(),mm.current=s,Et=o,pn!==null?e=0:(Tn=null,Wn=0,e=Sn)}if(e!==0){if(e===2&&(o=Sx(t),o!==0&&(r=o,e=Jx(t,o))),e===1)throw n=Wd,nl(t,0),Di(t,r),Ar(t,fn()),n;if(e===6)Di(t,r);else{if(o=t.current.alternate,!(r&30)&&!kU(o)&&(e=vm(t,r),e===2&&(s=Sx(t),s!==0&&(r=s,e=Jx(t,s))),e===1))throw n=Wd,nl(t,0),Di(t,r),Ar(t,fn()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:Ba(t,Nr,zs);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=Zb+500-fn(),10<e)){if(em(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){fr(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Ax(Ba.bind(null,t,Nr,zs),e);break}Ba(t,Nr,zs);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var i=31-Vo(r);s=1<<i,i=e[i],i>o&&(o=i),r&=~s}if(r=o,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EU(r/1960))-r,10<r){t.timeoutHandle=Ax(Ba.bind(null,t,Nr,zs),r);break}Ba(t,Nr,zs);break;case 5:Ba(t,Nr,zs);break;default:throw Error(xe(329))}}}return Ar(t,fn()),t.callbackNode===n?OP.bind(null,t):null}function Jx(t,e){var n=gd;return t.current.memoizedState.isDehydrated&&(nl(t,e).flags|=256),t=vm(t,e),t!==2&&(e=Nr,Nr=n,e!==null&&Xx(e)),t}function Xx(t){Nr===null?Nr=t:Nr.push.apply(Nr,t)}function kU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Ko(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~Qb,e&=~ag,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vo(e),r=1<<n;t[n]=-1,e&=~r}}function yN(t){if(Et&6)throw Error(xe(327));Ec();var e=em(t,0);if(!(e&1))return Ar(t,fn()),null;var n=vm(t,e);if(t.tag!==0&&n===2){var r=Sx(t);r!==0&&(e=r,n=Jx(t,r))}if(n===1)throw n=Wd,nl(t,0),Di(t,e),Ar(t,fn()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ba(t,Nr,zs),Ar(t,fn()),null}function e1(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(Gc=fn()+500,rg&&va())}}function yl(t){Ui!==null&&Ui.tag===0&&!(Et&6)&&Ec();var e=Et;Et|=1;var n=bo.transition,r=Pt;try{if(bo.transition=null,Pt=1,t)return t()}finally{Pt=r,bo.transition=n,Et=e,!(Et&6)&&va()}}function t1(){Vr=gc.current,Vt(gc)}function nl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tU(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(Db(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sm();break;case 3:Hc(),Vt(Rr),Vt(nr),Hb();break;case 5:Ub(r);break;case 4:Hc();break;case 13:Vt(Xt);break;case 19:Vt(Xt);break;case 10:$b(r.type._context);break;case 22:case 23:t1()}n=n.return}if(Tn=t,pn=t=na(t.current,null),Wn=Vr=e,Sn=0,Wd=null,Qb=ag=gl=0,Nr=gd=null,Va!==null){for(e=0;e<Va.length;e++)if(n=Va[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Va=null}return t}function _P(t,e){do{var n=pn;try{if(Fb(),Rp.current=pm,hm){for(var r=Qt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}hm=!1}if(ml=0,En=wn=Qt=null,pd=!1,$d=0,Xb.current=null,n===null||n.return===null){Sn=1,Wd=e,pn=null;break}e:{var s=t,i=n.return,a=n,l=e;if(e=Wn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=oN(i);if(y!==null){y.flags&=-257,sN(y,i,a,s,e),y.mode&1&&rN(s,u,e),e=y,l=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(l),e.updateQueue=w}else b.add(l);break e}else{if(!(e&1)){rN(s,u,e),n1();break e}l=Error(xe(426))}}else if(Kt&&a.mode&1){var x=oN(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),sN(x,i,a,s,e),jb(Vc(l,a));break e}}s=l=Vc(l,a),Sn!==4&&(Sn=2),gd===null?gd=[s]:gd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=gP(s,l,e);Xk(s,S);break e;case 1:a=l;var C=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ea===null||!ea.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=yP(s,a,e);Xk(s,N);break e}}s=s.return}while(s!==null)}jP(n)}catch(T){e=T,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function IP(){var t=mm.current;return mm.current=pm,t===null?pm:t}function n1(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Tn===null||!(gl&268435455)&&!(ag&268435455)||Di(Tn,Wn)}function vm(t,e){var n=Et;Et|=2;var r=IP();(Tn!==t||Wn!==e)&&(zs=null,nl(t,e));do try{NU();break}catch(o){_P(t,o)}while(!0);if(Fb(),Et=n,mm.current=r,pn!==null)throw Error(xe(261));return Tn=null,Wn=0,Sn}function NU(){for(;pn!==null;)DP(pn)}function TU(){for(;pn!==null&&!Q8();)DP(pn)}function DP(t){var e=FP(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,e===null?jP(t):pn=e,Xb.current=null}function jP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wU(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,pn=null;return}}else if(n=xU(n,e,Vr),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Ba(t,e,n){var r=Pt,o=bo.transition;try{bo.transition=null,Pt=1,RU(t,e,n,r)}finally{bo.transition=o,Pt=r}return null}function RU(t,e,n,r){do Ec();while(Ui!==null);if(Et&6)throw Error(xe(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(lW(t,s),t===Tn&&(pn=Tn=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,$P(Zp,function(){return Ec(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bo.transition,bo.transition=null;var i=Pt;Pt=1;var a=Et;Et|=4,Xb.current=null,SU(t,n),AP(n,t),qW(Rx),tm=!!Tx,Rx=Tx=null,t.current=n,CU(n),Z8(),Et=a,Pt=i,bo.transition=s}else t.current=n;if(Zh&&(Zh=!1,Ui=t,ym=o),s=t.pendingLanes,s===0&&(ea=null),nW(n.stateNode),Ar(t,fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(gm)throw gm=!1,t=qx,qx=null,t;return ym&1&&t.tag!==0&&Ec(),s=t.pendingLanes,s&1?t===Yx?yd++:(yd=0,Yx=t):yd=0,va(),null}function Ec(){if(Ui!==null){var t=gA(ym),e=bo.transition,n=Pt;try{if(bo.transition=null,Pt=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,ym=0,Et&6)throw Error(xe(331));var o=Et;for(Et|=4,Ie=t.current;Ie!==null;){var s=Ie,i=s.child;if(Ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ie=u;Ie!==null;){var f=Ie;switch(f.tag){case 0:case 11:case 15:md(8,f,s)}var p=f.child;if(p!==null)p.return=f,Ie=p;else for(;Ie!==null;){f=Ie;var g=f.sibling,y=f.return;if(TP(f),f===u){Ie=null;break}if(g!==null){g.return=y,Ie=g;break}Ie=y}}}var b=s.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Ie=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Ie=i;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:md(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Ie=S;break e}Ie=s.return}}var C=t.current;for(Ie=C;Ie!==null;){i=Ie;var E=i.child;if(i.subtreeFlags&2064&&E!==null)E.return=i,Ie=E;else e:for(i=C;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ig(9,a)}}catch(T){an(a,a.return,T)}if(a===i){Ie=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Ie=N;break e}Ie=a.return}}if(Et=o,va(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Qm,t)}catch{}r=!0}return r}finally{Pt=n,bo.transition=e}}return!1}function vN(t,e,n){e=Vc(n,e),e=gP(t,e,1),t=Zi(t,e,1),e=fr(),t!==null&&(yf(t,1,e),Ar(t,e))}function an(t,e,n){if(t.tag===3)vN(t,t,n);else for(;e!==null;){if(e.tag===3){vN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ea===null||!ea.has(r))){t=Vc(n,t),t=yP(e,t,1),e=Zi(e,t,1),t=fr(),e!==null&&(yf(e,1,t),Ar(e,t));break}}e=e.return}}function MU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fr(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(Wn&n)===n&&(Sn===4||Sn===3&&(Wn&130023424)===Wn&&500>fn()-Zb?nl(t,0):Qb|=n),Ar(t,e)}function LP(t,e){e===0&&(t.mode&1?(e=Uh,Uh<<=1,!(Uh&130023424)&&(Uh=4194304)):e=1);var n=fr();t=ei(t,e),t!==null&&(yf(t,e,n),Ar(t,n))}function AU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LP(t,n)}function PU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),LP(t,n)}var FP;FP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rr.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,vU(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,Kt&&e.flags&1048576&&WA(e,lm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ap(t,e),t=e.pendingProps;var o=Bc(e,nr.current);Cc(e,n),o=Gb(null,e,r,t,o,n);var s=Kb();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mr(r)?(s=!0,im(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Bb(e),o.updater=sg,e.stateNode=o,o._reactInternals=e,Lx(e,r,t,n),e=zx(null,e,r,!0,s,n)):(e.tag=0,Kt&&s&&Ib(e),cr(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ap(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=_U(r),t=Lo(r,t),o){case 0:e=$x(null,e,r,t,n);break e;case 1:e=lN(null,e,r,t,n);break e;case 11:e=iN(null,e,r,t,n);break e;case 14:e=aN(null,e,r,Lo(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lo(r,o),$x(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lo(r,o),lN(t,e,r,o,n);case 3:e:{if(bP(e),t===null)throw Error(xe(387));r=e.pendingProps,s=e.memoizedState,o=s.element,qA(t,e),dm(e,r,null,n);var i=e.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Vc(Error(xe(423)),e),e=cN(t,e,r,n,o);break e}else if(r!==o){o=Vc(Error(xe(424)),e),e=cN(t,e,r,n,o);break e}else for(qr=Qi(e.stateNode.containerInfo.firstChild),Jr=e,Kt=!0,Wo=null,n=GA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wc(),r===o){e=ti(t,e,n);break e}cr(t,e,r,n)}e=e.child}return e;case 5:return YA(e),t===null&&Ix(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,Mx(r,o)?i=null:s!==null&&Mx(r,s)&&(e.flags|=32),wP(t,e),cr(t,e,i,n),e.child;case 6:return t===null&&Ix(e),null;case 13:return SP(t,e,n);case 4:return Wb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uc(e,null,r,n):cr(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lo(r,o),iN(t,e,r,o,n);case 7:return cr(t,e,e.pendingProps,n),e.child;case 8:return cr(t,e,e.pendingProps.children,n),e.child;case 12:return cr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,i=o.value,zt(cm,r._currentValue),r._currentValue=i,s!==null)if(Ko(s.value,i)){if(s.children===o.children&&!Rr.current){e=ti(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ys(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dx(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(xe(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Dx(i,n,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}cr(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Cc(e,n),o=Eo(o),r=r(o),e.flags|=1,cr(t,e,r,n),e.child;case 14:return r=e.type,o=Lo(r,e.pendingProps),o=Lo(r.type,o),aN(t,e,r,o,n);case 15:return vP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lo(r,o),Ap(t,e),e.tag=1,Mr(r)?(t=!0,im(e)):t=!1,Cc(e,n),mP(e,r,o),Lx(e,r,o,n),zx(null,e,r,!0,t,n);case 19:return CP(t,e,n);case 22:return xP(t,e,n)}throw Error(xe(156,e.tag))};function $P(t,e){return fA(t,e)}function OU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(t,e,n,r){return new OU(t,e,n,r)}function r1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _U(t){if(typeof t=="function")return r1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sb)return 11;if(t===Cb)return 14}return 2}function na(t,e){var n=t.alternate;return n===null?(n=xo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _p(t,e,n,r,o,s){var i=2;if(r=t,typeof t=="function")r1(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ic:return rl(n.children,o,s,e);case bb:i=8,o|=8;break;case ax:return t=xo(12,n,e,o|2),t.elementType=ax,t.lanes=s,t;case lx:return t=xo(13,n,e,o),t.elementType=lx,t.lanes=s,t;case cx:return t=xo(19,n,e,o),t.elementType=cx,t.lanes=s,t;case YM:return lg(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KM:i=10;break e;case qM:i=9;break e;case Sb:i=11;break e;case Cb:i=14;break e;case Mi:i=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=xo(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function rl(t,e,n,r){return t=xo(7,t,r,e),t.lanes=n,t}function lg(t,e,n,r){return t=xo(22,t,r,e),t.elementType=YM,t.lanes=n,t.stateNode={isHidden:!1},t}function i0(t,e,n){return t=xo(6,t,null,e),t.lanes=n,t}function a0(t,e,n){return e=xo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IU(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bv(0),this.expirationTimes=Bv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bv(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function o1(t,e,n,r,o,s,i,a,l){return t=new IU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bb(s),t}function DU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zP(t){if(!t)return ca;t=t._reactInternals;e:{if(Ml(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(Mr(n))return zA(t,n,e)}return e}function BP(t,e,n,r,o,s,i,a,l){return t=o1(n,r,!0,t,o,s,i,a,l),t.context=zP(null),n=t.current,r=fr(),o=ta(n),s=Ys(r,o),s.callback=e??null,Zi(n,s,o),t.current.lanes=o,yf(t,o,r),Ar(t,r),t}function cg(t,e,n,r){var o=e.current,s=fr(),i=ta(o);return n=zP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ys(s,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zi(o,e,i),t!==null&&(Go(t,o,i,s),Tp(t,o,i)),i}function xm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function s1(t,e){xN(t,e),(t=t.alternate)&&xN(t,e)}function jU(){return null}var WP=typeof reportError=="function"?reportError:function(t){console.error(t)};function i1(t){this._internalRoot=t}ug.prototype.render=i1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));cg(t,e,null,null)};ug.prototype.unmount=i1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yl(function(){cg(null,t,null,null)}),e[Zs]=null}};function ug(t){this._internalRoot=t}ug.prototype.unstable_scheduleHydration=function(t){if(t){var e=xA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&bA(t)}};function a1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wN(){}function LU(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=xm(i);s.call(u)}}var i=BP(e,r,t,0,null,!1,!1,"",wN);return t._reactRootContainer=i,t[Zs]=i.current,Id(t.nodeType===8?t.parentNode:t),yl(),i}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=xm(l);a.call(u)}}var l=o1(t,0,!1,null,null,!1,!1,"",wN);return t._reactRootContainer=l,t[Zs]=l.current,Id(t.nodeType===8?t.parentNode:t),yl(function(){cg(e,l,n,r)}),l}function fg(t,e,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=xm(i);a.call(l)}}cg(e,i,t,o)}else i=LU(n,e,t,o,r);return xm(i)}yA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nd(e.pendingLanes);n!==0&&(Nb(e,n|1),Ar(e,fn()),!(Et&6)&&(Gc=fn()+500,va()))}break;case 13:yl(function(){var r=ei(t,1);if(r!==null){var o=fr();Go(r,t,1,o)}}),s1(t,1)}};Tb=function(t){if(t.tag===13){var e=ei(t,134217728);if(e!==null){var n=fr();Go(e,t,134217728,n)}s1(t,134217728)}};vA=function(t){if(t.tag===13){var e=ta(t),n=ei(t,e);if(n!==null){var r=fr();Go(n,t,e,r)}s1(t,e)}};xA=function(){return Pt};wA=function(t,e){var n=Pt;try{return Pt=t,e()}finally{Pt=n}};xx=function(t,e,n){switch(e){case"input":if(fx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=ng(r);if(!o)throw Error(xe(90));XM(r),fx(r,o)}}}break;case"textarea":ZM(t,n);break;case"select":e=n.value,e!=null&&xc(t,!!n.multiple,e,!1)}};iA=e1;aA=yl;var FU={usingClientEntryPoint:!1,Events:[xf,uc,ng,oA,sA,e1]},Gu={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$U={bundleType:Gu.bundleType,version:Gu.version,rendererPackageName:Gu.rendererPackageName,rendererConfig:Gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uA(t),t===null?null:t.stateNode},findFiberByHostInstance:Gu.findFiberByHostInstance||jU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{Qm=ep.inject($U),vs=ep}catch{}}eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FU;eo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a1(e))throw Error(xe(200));return DU(t,e,null,n)};eo.createRoot=function(t,e){if(!a1(t))throw Error(xe(299));var n=!1,r="",o=WP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=o1(t,1,!1,null,null,n,!1,r,o),t[Zs]=e.current,Id(t.nodeType===8?t.parentNode:t),new i1(e)};eo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=uA(e),t=t===null?null:t.stateNode,t};eo.flushSync=function(t){return yl(t)};eo.hydrate=function(t,e,n){if(!dg(e))throw Error(xe(200));return fg(null,t,e,!0,n)};eo.hydrateRoot=function(t,e,n){if(!a1(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=WP;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=BP(e,null,t,1,n??null,o,!1,s,i),t[Zs]=e.current,Id(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new ug(e)};eo.render=function(t,e,n){if(!dg(e))throw Error(xe(200));return fg(null,t,e,!1,n)};eo.unmountComponentAtNode=function(t){if(!dg(t))throw Error(xe(40));return t._reactRootContainer?(yl(function(){fg(null,null,t,!1,function(){t._reactRootContainer=null,t[Zs]=null})}),!0):!1};eo.unstable_batchedUpdates=e1;eo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dg(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return fg(t,e,n,!1,r)};eo.version="18.3.1-next-f1338f8080-20240426";function UP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UP)}catch(t){console.error(t)}}UP(),UM.exports=eo;var wo=UM.exports;const l1=PM(wo);var HP,bN=wo;HP=bN.createRoot,bN.hydrateRoot;function VP(t,e){return function(){return t.apply(e,arguments)}}const{toString:zU}=Object.prototype,{getPrototypeOf:c1}=Object,{iterator:hg,toStringTag:GP}=Symbol,pg=(t=>e=>{const n=zU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qo=t=>(t=t.toLowerCase(),e=>pg(e)===t),mg=t=>e=>typeof e===t,{isArray:su}=Array,Ud=mg("undefined");function BU(t){return t!==null&&!Ud(t)&&t.constructor!==null&&!Ud(t.constructor)&&Pr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KP=Qo("ArrayBuffer");function WU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KP(t.buffer),e}const UU=mg("string"),Pr=mg("function"),qP=mg("number"),gg=t=>t!==null&&typeof t=="object",HU=t=>t===!0||t===!1,Ip=t=>{if(pg(t)!=="object")return!1;const e=c1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(GP in t)&&!(hg in t)},VU=Qo("Date"),GU=Qo("File"),KU=Qo("Blob"),qU=Qo("FileList"),YU=t=>gg(t)&&Pr(t.pipe),JU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pr(t.append)&&((e=pg(t))==="formdata"||e==="object"&&Pr(t.toString)&&t.toString()==="[object FormData]"))},XU=Qo("URLSearchParams"),[QU,ZU,eH,tH]=["ReadableStream","Request","Response","Headers"].map(Qo),nH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),su(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let a;for(r=0;r<i;r++)a=s[r],e.call(null,t[a],a,t)}}function YP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JP=t=>!Ud(t)&&t!==Ka;function Qx(){const{caseless:t}=JP(this)&&this||{},e={},n=(r,o)=>{const s=t&&YP(e,o)||o;Ip(e[s])&&Ip(r)?e[s]=Qx(e[s],r):Ip(r)?e[s]=Qx({},r):su(r)?e[s]=r.slice():e[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&bf(arguments[r],n);return e}const rH=(t,e,n,{allOwnKeys:r}={})=>(bf(e,(o,s)=>{n&&Pr(o)?t[s]=VP(o,n):t[s]=o},{allOwnKeys:r}),t),oH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iH=(t,e,n,r)=>{let o,s,i;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)i=o[s],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&c1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},aH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},lH=t=>{if(!t)return null;if(su(t))return t;let e=t.length;if(!qP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},cH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&c1(Uint8Array)),uH=(t,e)=>{const r=(t&&t[hg]).call(t);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},dH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},fH=Qo("HTMLFormElement"),hH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),SN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),pH=Qo("RegExp"),XP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};bf(n,(o,s)=>{let i;(i=e(o,s,t))!==!1&&(r[s]=i||o)}),Object.defineProperties(t,r)},mH=t=>{XP(t,(e,n)=>{if(Pr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Pr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gH=(t,e)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return su(t)?r(t):r(String(t).split(e)),n},yH=()=>{},vH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function xH(t){return!!(t&&Pr(t.append)&&t[GP]==="FormData"&&t[hg])}const wH=t=>{const e=new Array(10),n=(r,o)=>{if(gg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const s=su(r)?[]:{};return bf(r,(i,a)=>{const l=n(i,o+1);!Ud(l)&&(s[a]=l)}),e[o]=void 0,s}}return r};return n(t,0)},bH=Qo("AsyncFunction"),SH=t=>t&&(gg(t)||Pr(t))&&Pr(t.then)&&Pr(t.catch),QP=((t,e)=>t?setImmediate:e?((n,r)=>(Ka.addEventListener("message",({source:o,data:s})=>{o===Ka&&s===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Ka.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pr(Ka.postMessage)),CH=typeof queueMicrotask<"u"?queueMicrotask.bind(Ka):typeof process<"u"&&process.nextTick||QP,EH=t=>t!=null&&Pr(t[hg]),se={isArray:su,isArrayBuffer:KP,isBuffer:BU,isFormData:JU,isArrayBufferView:WU,isString:UU,isNumber:qP,isBoolean:HU,isObject:gg,isPlainObject:Ip,isReadableStream:QU,isRequest:ZU,isResponse:eH,isHeaders:tH,isUndefined:Ud,isDate:VU,isFile:GU,isBlob:KU,isRegExp:pH,isFunction:Pr,isStream:YU,isURLSearchParams:XU,isTypedArray:cH,isFileList:qU,forEach:bf,merge:Qx,extend:rH,trim:nH,stripBOM:oH,inherits:sH,toFlatObject:iH,kindOf:pg,kindOfTest:Qo,endsWith:aH,toArray:lH,forEachEntry:uH,matchAll:dH,isHTMLForm:fH,hasOwnProperty:SN,hasOwnProp:SN,reduceDescriptors:XP,freezeMethods:mH,toObjectSet:gH,toCamelCase:hH,noop:yH,toFiniteNumber:vH,findKey:YP,global:Ka,isContextDefined:JP,isSpecCompliantForm:xH,toJSONObject:wH,isAsyncFn:bH,isThenable:SH,setImmediate:QP,asap:CH,isIterable:EH};function it(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}se.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const ZP=it.prototype,eO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eO[t]={value:t}});Object.defineProperties(it,eO);Object.defineProperty(ZP,"isAxiosError",{value:!0});it.from=(t,e,n,r,o,s)=>{const i=Object.create(ZP);return se.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),it.call(i,t.message,e,n,r,o),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const kH=null;function Zx(t){return se.isPlainObject(t)||se.isArray(t)}function tO(t){return se.endsWith(t,"[]")?t.slice(0,-2):t}function CN(t,e,n){return t?t.concat(e).map(function(o,s){return o=tO(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function NH(t){return se.isArray(t)&&!t.some(Zx)}const TH=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function yg(t,e,n){if(!se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!se.isUndefined(x[w])});const r=n.metaTokens,o=n.visitor||f,s=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(o))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(se.isDate(b))return b.toISOString();if(!l&&se.isBlob(b))throw new it("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(b)||se.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,w,x){let S=b;if(b&&!x&&typeof b=="object"){if(se.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(se.isArray(b)&&NH(b)||(se.isFileList(b)||se.endsWith(w,"[]"))&&(S=se.toArray(b)))return w=tO(w),S.forEach(function(E,N){!(se.isUndefined(E)||E===null)&&e.append(i===!0?CN([w],N,s):i===null?w:w+"[]",u(E))}),!1}return Zx(b)?!0:(e.append(CN(x,w,s),u(b)),!1)}const p=[],g=Object.assign(TH,{defaultVisitor:f,convertValue:u,isVisitable:Zx});function y(b,w){if(!se.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(b),se.forEach(b,function(S,C){(!(se.isUndefined(S)||S===null)&&o.call(e,S,se.isString(C)?C.trim():C,w,g))===!0&&y(S,w?w.concat(C):[C])}),p.pop()}}if(!se.isObject(t))throw new TypeError("data must be an object");return y(t),e}function EN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function u1(t,e){this._pairs=[],t&&yg(t,this,e)}const nO=u1.prototype;nO.append=function(e,n){this._pairs.push([e,n])};nO.toString=function(e){const n=e?function(r){return e.call(this,r,EN)}:EN;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function RH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rO(t,e,n){if(!e)return t;const r=n&&n.encode||RH;se.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(o?s=o(e,n):s=se.isURLSearchParams(e)?e.toString():new u1(e,n).toString(r),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class kN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const oO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MH=typeof URLSearchParams<"u"?URLSearchParams:u1,AH=typeof FormData<"u"?FormData:null,PH=typeof Blob<"u"?Blob:null,OH={isBrowser:!0,classes:{URLSearchParams:MH,FormData:AH,Blob:PH},protocols:["http","https","file","blob","url","data"]},d1=typeof window<"u"&&typeof document<"u",ew=typeof navigator=="object"&&navigator||void 0,_H=d1&&(!ew||["ReactNative","NativeScript","NS"].indexOf(ew.product)<0),IH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DH=d1&&window.location.href||"http://localhost",jH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d1,hasStandardBrowserEnv:_H,hasStandardBrowserWebWorkerEnv:IH,navigator:ew,origin:DH},Symbol.toStringTag,{value:"Module"})),er={...jH,...OH};function LH(t,e){return yg(t,new er.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return er.isNode&&se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function FH(t){return se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $H(t){const e={},n=Object.keys(t);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],e[s]=t[s];return e}function sO(t){function e(n,r,o,s){let i=n[s++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=s>=n.length;return i=!i&&se.isArray(o)?o.length:i,l?(se.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!a):((!o[i]||!se.isObject(o[i]))&&(o[i]=[]),e(n,r,o[i],s)&&se.isArray(o[i])&&(o[i]=$H(o[i])),!a)}if(se.isFormData(t)&&se.isFunction(t.entries)){const n={};return se.forEachEntry(t,(r,o)=>{e(FH(r),o,n,0)}),n}return null}function zH(t,e,n){if(se.isString(t))try{return(e||JSON.parse)(t),se.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Sf={transitional:oO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=se.isObject(e);if(s&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return o?JSON.stringify(sO(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LH(e,this.formSerializer).toString();if((a=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),zH(e)):e}],transformResponse:[function(e){const n=this.transitional||Sf.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?it.from(a,it.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],t=>{Sf.headers[t]={}});const BH=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WH=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||e[n]&&BH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},NN=Symbol("internals");function Ku(t){return t&&String(t).trim().toLowerCase()}function Dp(t){return t===!1||t==null?t:se.isArray(t)?t.map(Dp):String(t)}function UH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const HH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function l0(t,e,n,r,o){if(se.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function VH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function GH(t,e){const n=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,s,i){return this[r].call(this,e,o,s,i)},configurable:!0})})}let Or=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function s(a,l,u){const f=Ku(l);if(!f)throw new Error("header name must be a non-empty string");const p=se.findKey(o,f);(!p||o[p]===void 0||u===!0||u===void 0&&o[p]!==!1)&&(o[p||l]=Dp(a))}const i=(a,l)=>se.forEach(a,(u,f)=>s(u,f,l));if(se.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(se.isString(e)&&(e=e.trim())&&!HH(e))i(WH(e),n);else if(se.isObject(e)&&se.isIterable(e)){let a={},l,u;for(const f of e){if(!se.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(l=a[u])?se.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}i(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ku(e),e){const r=se.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return UH(o);if(se.isFunction(n))return n.call(this,o,r);if(se.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ku(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||l0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function s(i){if(i=Ku(i),i){const a=se.findKey(r,i);a&&(!n||l0(r,r[a],a,n))&&(delete r[a],o=!0)}}return se.isArray(e)?e.forEach(s):s(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!e||l0(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const n=this,r={};return se.forEach(this,(o,s)=>{const i=se.findKey(r,s);if(i){n[i]=Dp(o),delete n[s];return}const a=e?VH(s):String(s).trim();a!==s&&delete n[s],n[a]=Dp(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return se.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[NN]=this[NN]={accessors:{}}).accessors,o=this.prototype;function s(i){const a=Ku(i);r[a]||(GH(o,i),r[a]=!0)}return se.isArray(e)?e.forEach(s):s(e),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Or.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});se.freezeMethods(Or);function c0(t,e){const n=this||Sf,r=e||n,o=Or.from(r.headers);let s=r.data;return se.forEach(t,function(a){s=a.call(n,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function iO(t){return!!(t&&t.__CANCEL__)}function iu(t,e,n){it.call(this,t??"canceled",it.ERR_CANCELED,e,n),this.name="CanceledError"}se.inherits(iu,it,{__CANCEL__:!0});function aO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new it("Request failed with status code "+n.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function KH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,s=0,i;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];i||(i=u),n[o]=l,r[o]=u;let p=s,g=0;for(;p!==o;)g+=n[p++],p=p%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),u-i<e)return;const y=f&&u-f;return y?Math.round(g*1e3/y):void 0}}function YH(t,e){let n=0,r=1e3/e,o,s;const i=(u,f=Date.now())=>{n=f,o=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const f=Date.now(),p=f-n;p>=r?i(u,f):(o=u,s||(s=setTimeout(()=>{s=null,i(o)},r-p)))},()=>o&&i(o)]}const wm=(t,e,n=3)=>{let r=0;const o=qH(50,250);return YH(s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,l=i-r,u=o(l),f=i<=a;r=i;const p={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-i)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},TN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},RN=t=>(...e)=>se.asap(()=>t(...e)),JH=er.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,er.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,XH=er.hasStandardBrowserEnv?{write(t,e,n,r,o,s){const i=[t+"="+encodeURIComponent(e)];se.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),se.isString(r)&&i.push("path="+r),se.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ZH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lO(t,e,n){let r=!QH(e);return t&&(r||n==!1)?ZH(t,e):e}const MN=t=>t instanceof Or?{...t}:t;function vl(t,e){e=e||{};const n={};function r(u,f,p,g){return se.isPlainObject(u)&&se.isPlainObject(f)?se.merge.call({caseless:g},u,f):se.isPlainObject(f)?se.merge({},f):se.isArray(f)?f.slice():f}function o(u,f,p,g){if(se.isUndefined(f)){if(!se.isUndefined(u))return r(void 0,u,p,g)}else return r(u,f,p,g)}function s(u,f){if(!se.isUndefined(f))return r(void 0,f)}function i(u,f){if(se.isUndefined(f)){if(!se.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,p){if(p in e)return r(u,f);if(p in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,f,p)=>o(MN(u),MN(f),p,!0)};return se.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=l[f]||o,g=p(t[f],e[f],f);se.isUndefined(g)&&p!==a||(n[f]=g)}),n}const cO=t=>{const e=vl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:a}=e;e.headers=i=Or.from(i),e.url=rO(lO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(se.isFormData(n)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[u,...f]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...f].join("; "))}}if(er.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&JH(e.url))){const u=o&&s&&XH.read(s);u&&i.set(o,u)}return e},eV=typeof XMLHttpRequest<"u",tV=eV&&function(t){return new Promise(function(n,r){const o=cO(t);let s=o.data;const i=Or.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=o,f,p,g,y,b;function w(){y&&y(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function S(){if(!x)return;const E=Or.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:E,config:t,request:x};aO(function(A){n(A),w()},function(A){r(A),w()},T),x=null}"onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(r(new it("Request aborted",it.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new it("Network Error",it.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||oO;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),r(new it(N,T.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,t,x)),x=null},s===void 0&&i.setContentType(null),"setRequestHeader"in x&&se.forEach(i.toJSON(),function(N,T){x.setRequestHeader(T,N)}),se.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),a&&a!=="json"&&(x.responseType=o.responseType),u&&([g,b]=wm(u,!0),x.addEventListener("progress",g)),l&&x.upload&&([p,y]=wm(l),x.upload.addEventListener("progress",p),x.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(f=E=>{x&&(r(!E||E.type?new iu(null,t,x):E),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const C=KH(o.url);if(C&&er.protocols.indexOf(C)===-1){r(new it("Unsupported protocol "+C+":",it.ERR_BAD_REQUEST,t));return}x.send(s||null)})},nV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const s=function(u){if(!o){o=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof it?f:new iu(f instanceof Error?f.message:f))}};let i=e&&setTimeout(()=>{i=null,s(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>se.asap(a),l}},rV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},oV=async function*(t,e){for await(const n of sV(t))yield*rV(n,e)},sV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},AN=(t,e,n,r)=>{const o=oV(t,e);let s=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await o.next();if(u){a(),l.close();return}let p=f.byteLength;if(n){let g=s+=p;n(g)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},vg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uO=vg&&typeof ReadableStream=="function",iV=vg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),dO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},aV=uO&&dO(()=>{let t=!1;const e=new Request(er.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),PN=64*1024,tw=uO&&dO(()=>se.isReadableStream(new Response("").body)),bm={stream:tw&&(t=>t.body)};vg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!bm[e]&&(bm[e]=se.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,r)})})})(new Response);const lV=async t=>{if(t==null)return 0;if(se.isBlob(t))return t.size;if(se.isSpecCompliantForm(t))return(await new Request(er.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(se.isArrayBufferView(t)||se.isArrayBuffer(t))return t.byteLength;if(se.isURLSearchParams(t)&&(t=t+""),se.isString(t))return(await iV(t)).byteLength},cV=async(t,e)=>{const n=se.toFiniteNumber(t.getContentLength());return n??lV(e)},uV=vg&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:f,withCredentials:p="same-origin",fetchOptions:g}=cO(t);u=u?(u+"").toLowerCase():"text";let y=nV([o,s&&s.toAbortSignal()],i),b;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let x;try{if(l&&aV&&n!=="get"&&n!=="head"&&(x=await cV(f,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(se.isFormData(r)&&(M=T.headers.get("content-type"))&&f.setContentType(M),T.body){const[A,O]=TN(x,wm(RN(l)));r=AN(T.body,PN,A,O)}}se.isString(p)||(p=p?"include":"omit");const S="credentials"in Request.prototype;b=new Request(e,{...g,signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:S?p:void 0});let C=await fetch(b);const E=tw&&(u==="stream"||u==="response");if(tw&&(a||E&&w)){const T={};["status","statusText","headers"].forEach(L=>{T[L]=C[L]});const M=se.toFiniteNumber(C.headers.get("content-length")),[A,O]=a&&TN(M,wm(RN(a),!0))||[];C=new Response(AN(C.body,PN,A,()=>{O&&O(),w&&w()}),T)}u=u||"text";let N=await bm[se.findKey(bm,u)||"text"](C,t);return!E&&w&&w(),await new Promise((T,M)=>{aO(T,M,{data:N,headers:Or.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:b})})}catch(S){throw w&&w(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,t,b),{cause:S.cause||S}):it.from(S,S&&S.code,t,b)}}),nw={http:kH,xhr:tV,fetch:uV};se.forEach(nw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ON=t=>`- ${t}`,dV=t=>se.isFunction(t)||t===null||t===!1,fO={getAdapter:t=>{t=se.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let s=0;s<e;s++){n=t[s];let i;if(r=n,!dV(n)&&(r=nw[(i=String(n)).toLowerCase()],r===void 0))throw new it(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+s]=r}if(!r){const s=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(ON).join(`
`):" "+ON(s[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:nw};function u0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new iu(null,t)}function _N(t){return u0(t),t.headers=Or.from(t.headers),t.data=c0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fO.getAdapter(t.adapter||Sf.adapter)(t).then(function(r){return u0(t),r.data=c0.call(t,t.transformResponse,r),r.headers=Or.from(r.headers),r},function(r){return iO(r)||(u0(t),r&&r.response&&(r.response.data=c0.call(t,t.transformResponse,r.response),r.response.headers=Or.from(r.response.headers))),Promise.reject(r)})}const hO="1.9.0",xg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const IN={};xg.transitional=function(e,n,r){function o(s,i){return"[Axios v"+hO+"] Transitional option '"+s+"'"+i+(r?". "+r:"")}return(s,i,a)=>{if(e===!1)throw new it(o(i," has been removed"+(n?" in "+n:"")),it.ERR_DEPRECATED);return n&&!IN[i]&&(IN[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,i,a):!0}};xg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fV(t,e,n){if(typeof t!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const s=r[o],i=e[s];if(i){const a=t[s],l=a===void 0||i(a,s,t);if(l!==!0)throw new it("option "+s+" must be "+l,it.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new it("Unknown option "+s,it.ERR_BAD_OPTION)}}const jp={assertOptions:fV,validators:xg},ls=jp.validators;let ol=class{constructor(e){this.defaults=e||{},this.interceptors={request:new kN,response:new kN}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vl(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&jp.assertOptions(r,{silentJSONParsing:ls.transitional(ls.boolean),forcedJSONParsing:ls.transitional(ls.boolean),clarifyTimeoutError:ls.transitional(ls.boolean)},!1),o!=null&&(se.isFunction(o)?n.paramsSerializer={serialize:o}:jp.assertOptions(o,{encode:ls.function,serialize:ls.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),jp.assertOptions(n,{baseUrl:ls.spelling("baseURL"),withXsrfToken:ls.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=s&&se.merge(s.common,s[n.method]);s&&se.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=Or.concat(i,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let f,p=0,g;if(!l){const b=[_N.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,u),g=b.length,f=Promise.resolve(n);p<g;)f=f.then(b[p++],b[p++]);return f}g=a.length;let y=n;for(p=0;p<g;){const b=a[p++],w=a[p++];try{y=b(y)}catch(x){w.call(this,x);break}}try{f=_N.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,g=u.length;p<g;)f=f.then(u[p++],u[p++]);return f}getUri(e){e=vl(this.defaults,e);const n=lO(e.baseURL,e.url,e.allowAbsoluteUrls);return rO(n,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){ol.prototype[e]=function(n,r){return this.request(vl(r||{},{method:e,url:n,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function n(r){return function(s,i,a){return this.request(vl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}ol.prototype[e]=n(),ol.prototype[e+"Form"]=n(!0)});let hV=class pO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(a=>{r.subscribe(a),s=a}).then(o);return i.cancel=function(){r.unsubscribe(s)},i},e(function(s,i,a){r.reason||(r.reason=new iu(s,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new pO(function(o){e=o}),cancel:e}}};function pV(t){return function(n){return t.apply(null,n)}}function mV(t){return se.isObject(t)&&t.isAxiosError===!0}const rw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rw).forEach(([t,e])=>{rw[e]=t});function mO(t){const e=new ol(t),n=VP(ol.prototype.request,e);return se.extend(n,ol.prototype,e,{allOwnKeys:!0}),se.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return mO(vl(t,o))},n}const It=mO(Sf);It.Axios=ol;It.CanceledError=iu;It.CancelToken=hV;It.isCancel=iO;It.VERSION=hO;It.toFormData=yg;It.AxiosError=it;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=pV;It.isAxiosError=mV;It.mergeConfig=vl;It.AxiosHeaders=Or;It.formToJSON=t=>sO(se.isHTMLForm(t)?new FormData(t):t);It.getAdapter=fO.getAdapter;It.HttpStatusCode=rw;It.default=It;const{Axios:jce,AxiosError:Lce,CanceledError:Fce,isCancel:$ce,CancelToken:zce,VERSION:Bce,all:Wce,Cancel:Uce,isAxiosError:Hce,spread:Vce,toFormData:Gce,AxiosHeaders:Kce,HttpStatusCode:qce,formToJSON:Yce,getAdapter:Jce,mergeConfig:Xce}=It,gV=["/api/credits/recent-expirations","/api/subscription/tier-info"],yV="http://localhost:3001",qt=It.create({baseURL:yV,withCredentials:!0});qt.interceptors.request.use(t=>{const e=t.url||"";if(gV.some(r=>e.includes(r))){const o=It.CancelToken.source();t.cancelToken=o.token,o.cancel(`Request to ${e} was blocked by interceptor`)}return t},t=>Promise.reject(t));qt.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry")),Promise.reject(t)});const vV=1,xV=1e6;let d0=0;function wV(){return d0=(d0+1)%Number.MAX_SAFE_INTEGER,d0.toString()}const f0=new Map,DN=t=>{if(f0.has(t))return;const e=setTimeout(()=>{f0.delete(t),vd({type:"REMOVE_TOAST",toastId:t})},xV);f0.set(t,e)},bV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,vV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?DN(n):t.toasts.forEach(r=>{DN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Lp=[];let Fp={toasts:[]};function vd(t){Fp=bV(Fp,t),Lp.forEach(e=>{e(Fp)})}function ow({...t}){const e=wV(),n=o=>vd({type:"UPDATE_TOAST",toast:{...o,id:e}}),r=()=>vd({type:"DISMISS_TOAST",toastId:e});return vd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:n}}function To(){const[t,e]=m.useState(Fp);return m.useEffect(()=>(Lp.push(e),()=>{const n=Lp.indexOf(e);n>-1&&Lp.splice(n,1)}),[t]),{...t,toast:ow,dismiss:n=>vd({type:"DISMISS_TOAST",toastId:n})}}function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function jN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ni(...t){return e=>{let n=!1;const r=t.map(o=>{const s=jN(o,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():jN(t[o],null)}}}}function at(...t){return m.useCallback(ni(...t),t)}function SV(t,e){const n=m.createContext(e),r=s=>{const{children:i,...a}=s,l=m.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:i})};r.displayName=t+"Provider";function o(s){const i=m.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,o]}function jr(t,e=[]){let n=[];function r(s,i){const a=m.createContext(i),l=n.length;n=[...n,i];const u=p=>{var S;const{scope:g,children:y,...b}=p,w=((S=g==null?void 0:g[t])==null?void 0:S[l])||a,x=m.useMemo(()=>b,Object.values(b));return h.jsx(w.Provider,{value:x,children:y})};u.displayName=s+"Provider";function f(p,g){var w;const y=((w=g==null?void 0:g[t])==null?void 0:w[l])||a,b=m.useContext(y);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const o=()=>{const s=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,CV(o,...e)]}function CV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function ua(t){const e=kV(t),n=m.forwardRef((r,o)=>{const{children:s,...i}=r,a=m.Children.toArray(s),l=a.find(TV);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return h.jsx(e,{...i,ref:o,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return h.jsx(e,{...i,ref:o,children:s})});return n.displayName=`${t}.Slot`,n}var EV=ua("Slot");function kV(t){const e=m.forwardRef((n,r)=>{const{children:o,...s}=n;if(m.isValidElement(o)){const i=MV(o),a=RV(s,o.props);return o.type!==m.Fragment&&(a.ref=r?ni(r,i):i),m.cloneElement(o,a)}return m.Children.count(o)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gO=Symbol("radix.slottable");function NV(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=gO,e}function TV(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gO}function RV(t,e){const n={...e};for(const r in e){const o=t[r],s=e[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{const l=s(...a);return o(...a),l}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...t,...n}}function MV(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Cf(t){const e=t+"CollectionProvider",[n,r]=jr(e),[o,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:x,children:S}=w,C=ne.useRef(null),E=ne.useRef(new Map).current;return h.jsx(o,{scope:x,itemMap:E,collectionRef:C,children:S})};i.displayName=e;const a=t+"CollectionSlot",l=ua(a),u=ne.forwardRef((w,x)=>{const{scope:S,children:C}=w,E=s(a,S),N=at(x,E.collectionRef);return h.jsx(l,{ref:N,children:C})});u.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=ua(f),y=ne.forwardRef((w,x)=>{const{scope:S,children:C,...E}=w,N=ne.useRef(null),T=at(x,N),M=s(f,S);return ne.useEffect(()=>(M.itemMap.set(N,{ref:N,...E}),()=>void M.itemMap.delete(N))),h.jsx(g,{[p]:"",ref:T,children:C})});y.displayName=f;function b(w){const x=s(t+"CollectionConsumer",w);return ne.useCallback(()=>{const C=x.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((M,A)=>E.indexOf(M.ref.current)-E.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},b,r]}var AV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=AV.reduce((t,e)=>{const n=ua(`Primitive.${e}`),r=m.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function f1(t,e){t&&wo.flushSync(()=>t.dispatchEvent(e))}function Ir(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function PV(t,e=globalThis==null?void 0:globalThis.document){const n=Ir(t);m.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OV="DismissableLayer",sw="dismissableLayer.update",_V="dismissableLayer.pointerDownOutside",IV="dismissableLayer.focusOutside",LN,yO=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Al=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=t,u=m.useContext(yO),[f,p]=m.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),b=at(e,A=>p(A)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(x),C=f?w.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,N=C>=S,T=jV(A=>{const O=A.target,L=[...u.branches].some(F=>F.contains(O));!N||L||(o==null||o(A),i==null||i(A),A.defaultPrevented||a==null||a())},g),M=LV(A=>{const O=A.target;[...u.branches].some(F=>F.contains(O))||(s==null||s(A),i==null||i(A),A.defaultPrevented||a==null||a())},g);return PV(A=>{C===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},g),m.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(LN=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),FN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=LN)}},[f,g,n,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),FN())},[f,u]),m.useEffect(()=>{const A=()=>y({});return document.addEventListener(sw,A),()=>document.removeEventListener(sw,A)},[]),h.jsx(je.div,{...l,ref:b,style:{pointerEvents:E?N?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,T.onPointerDownCapture)})});Al.displayName=OV;var DV="DismissableLayerBranch",vO=m.forwardRef((t,e)=>{const n=m.useContext(yO),r=m.useRef(null),o=at(e,r);return m.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.jsx(je.div,{...t,ref:o})});vO.displayName=DV;function jV(t,e=globalThis==null?void 0:globalThis.document){const n=Ir(t),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){xO(_V,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",s),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function LV(t,e=globalThis==null?void 0:globalThis.document){const n=Ir(t),r=m.useRef(!1);return m.useEffect(()=>{const o=s=>{s.target&&!r.current&&xO(IV,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FN(){const t=new CustomEvent(sw);document.dispatchEvent(t)}function xO(t,e,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?f1(o,s):o.dispatchEvent(s)}var FV=Al,$V=vO,Pn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},zV="Portal",au=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[o,s]=m.useState(!1);Pn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?l1.createPortal(h.jsx(je.div,{...r,ref:e}),i):null});au.displayName=zV;function BV(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var no=t=>{const{present:e,children:n}=t,r=WV(e),o=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),s=at(r.ref,UV(o));return typeof n=="function"||r.isPresent?m.cloneElement(o,{ref:s}):null};no.displayName="Presence";function WV(t){const[e,n]=m.useState(),r=m.useRef(null),o=m.useRef(t),s=m.useRef("none"),i=t?"mounted":"unmounted",[a,l]=BV(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=tp(r.current);s.current=a==="mounted"?u:"none"},[a]),Pn(()=>{const u=r.current,f=o.current;if(f!==t){const g=s.current,y=tp(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),Pn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,p=y=>{const w=tp(r.current).includes(y.animationName);if(y.target===e&&w&&(l("ANIMATION_END"),!o.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=y=>{y.target===e&&(s.current=tp(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function tp(t){return(t==null?void 0:t.animationName)||"none"}function UV(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var HV=yb[" useInsertionEffect ".trim().toString()]||Pn;function Dr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,s,i]=VV({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:o;{const f=m.useRef(t!==void 0);m.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=m.useCallback(f=>{var p;if(a){const g=GV(f)?f(t):f;g!==t&&((p=i.current)==null||p.call(i,g))}else s(f)},[a,t,s,i]);return[l,u]}function VV({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),o=m.useRef(n),s=m.useRef(e);return HV(()=>{s.current=e},[e]),m.useEffect(()=>{var i;o.current!==n&&((i=s.current)==null||i.call(s,n),o.current=n)},[n,o]),[n,r,s]}function GV(t){return typeof t=="function"}var wO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KV="VisuallyHidden",wg=m.forwardRef((t,e)=>h.jsx(je.span,{...t,ref:e,style:{...wO,...t.style}}));wg.displayName=KV;var qV=wg,h1="ToastProvider",[p1,YV,JV]=Cf("Toast"),[bO,Qce]=jr("Toast",[JV]),[XV,bg]=bO(h1),SO=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=t,[a,l]=m.useState(null),[u,f]=m.useState(0),p=m.useRef(!1),g=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${h1}\`. Expected non-empty \`string\`.`),h.jsx(p1.Provider,{scope:e,children:h.jsx(XV,{scope:e,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>f(y=>y+1),[]),onToastRemove:m.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:i})})};SO.displayName=h1;var CO="ToastViewport",QV=["F8"],iw="toast.viewportPause",aw="toast.viewportResume",EO=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=QV,label:o="Notifications ({hotkey})",...s}=t,i=bg(CO,n),a=YV(n),l=m.useRef(null),u=m.useRef(null),f=m.useRef(null),p=m.useRef(null),g=at(e,p,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;m.useEffect(()=>{const x=S=>{var E;r.length!==0&&r.every(N=>S[N]||S.code===N)&&((E=p.current)==null||E.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,S=p.current;if(b&&x&&S){const C=()=>{if(!i.isClosePausedRef.current){const M=new CustomEvent(iw);S.dispatchEvent(M),i.isClosePausedRef.current=!0}},E=()=>{if(i.isClosePausedRef.current){const M=new CustomEvent(aw);S.dispatchEvent(M),i.isClosePausedRef.current=!1}},N=M=>{!x.contains(M.relatedTarget)&&E()},T=()=>{x.contains(document.activeElement)||E()};return x.addEventListener("focusin",C),x.addEventListener("focusout",N),x.addEventListener("pointermove",C),x.addEventListener("pointerleave",T),window.addEventListener("blur",C),window.addEventListener("focus",E),()=>{x.removeEventListener("focusin",C),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",C),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",C),window.removeEventListener("focus",E)}}},[b,i.isClosePausedRef]);const w=m.useCallback(({tabbingDirection:x})=>{const C=a().map(E=>{const N=E.ref.current,T=[N,...d9(N)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?C.reverse():C).flat()},[a]);return m.useEffect(()=>{const x=p.current;if(x){const S=C=>{var T,M,A;const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const O=document.activeElement,L=C.shiftKey;if(C.target===x&&L){(T=u.current)==null||T.focus();return}const H=w({tabbingDirection:L?"backwards":"forwards"}),G=H.findIndex(z=>z===O);h0(H.slice(G+1))?C.preventDefault():L?(M=u.current)==null||M.focus():(A=f.current)==null||A.focus()}};return x.addEventListener("keydown",S),()=>x.removeEventListener("keydown",S)}},[a,w]),h.jsxs($V,{ref:l,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&h.jsx(lw,{ref:u,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});h0(x)}}),h.jsx(p1.Slot,{scope:n,children:h.jsx(je.ol,{tabIndex:-1,...s,ref:g})}),b&&h.jsx(lw,{ref:f,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});h0(x)}})]})});EO.displayName=CO;var kO="ToastFocusProxy",lw=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=t,s=bg(kO,n);return h.jsx(wg,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});lw.displayName=kO;var Ef="Toast",ZV="toast.swipeStart",e9="toast.swipeMove",t9="toast.swipeCancel",n9="toast.swipeEnd",NO=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=t,[a,l]=Dr({prop:r,defaultProp:o??!0,onChange:s,caller:Ef});return h.jsx(no,{present:n||a,children:h.jsx(s9,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Ir(t.onPause),onResume:Ir(t.onResume),onSwipeStart:Ee(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});NO.displayName=Ef;var[r9,o9]=bO(Ef,{onClose(){}}),s9=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:y,...b}=t,w=bg(Ef,n),[x,S]=m.useState(null),C=at(e,z=>S(z)),E=m.useRef(null),N=m.useRef(null),T=o||w.duration,M=m.useRef(0),A=m.useRef(T),O=m.useRef(0),{onToastAdd:L,onToastRemove:F}=w,V=Ir(()=>{var X;(x==null?void 0:x.contains(document.activeElement))&&((X=w.viewport)==null||X.focus()),i()}),H=m.useCallback(z=>{!z||z===1/0||(window.clearTimeout(O.current),M.current=new Date().getTime(),O.current=window.setTimeout(V,z))},[V]);m.useEffect(()=>{const z=w.viewport;if(z){const X=()=>{H(A.current),u==null||u()},ee=()=>{const oe=new Date().getTime()-M.current;A.current=A.current-oe,window.clearTimeout(O.current),l==null||l()};return z.addEventListener(iw,ee),z.addEventListener(aw,X),()=>{z.removeEventListener(iw,ee),z.removeEventListener(aw,X)}}},[w.viewport,T,l,u,H]),m.useEffect(()=>{s&&!w.isClosePausedRef.current&&H(T)},[s,T,w.isClosePausedRef,H]),m.useEffect(()=>(L(),()=>F()),[L,F]);const G=m.useMemo(()=>x?_O(x):null,[x]);return w.viewport?h.jsxs(h.Fragment,{children:[G&&h.jsx(i9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),h.jsx(r9,{scope:n,onClose:V,children:wo.createPortal(h.jsx(p1.ItemSlot,{scope:n,children:h.jsx(FV,{asChild:!0,onEscapeKeyDown:Ee(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||V(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ee(t.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:Ee(t.onPointerMove,z=>{if(!E.current)return;const X=z.clientX-E.current.x,ee=z.clientY-E.current.y,oe=!!N.current,j=["left","right"].includes(w.swipeDirection),_=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,B=j?_(0,X):0,U=j?0:_(0,ee),D=z.pointerType==="touch"?10:2,Z={x:B,y:U},Q={originalEvent:z,delta:Z};oe?(N.current=Z,np(e9,p,Q,{discrete:!1})):$N(Z,w.swipeDirection,D)?(N.current=Z,np(ZV,f,Q,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(X)>D||Math.abs(ee)>D)&&(E.current=null)}),onPointerUp:Ee(t.onPointerUp,z=>{const X=N.current,ee=z.target;if(ee.hasPointerCapture(z.pointerId)&&ee.releasePointerCapture(z.pointerId),N.current=null,E.current=null,X){const oe=z.currentTarget,j={originalEvent:z,delta:X};$N(X,w.swipeDirection,w.swipeThreshold)?np(n9,y,j,{discrete:!0}):np(t9,g,j,{discrete:!0}),oe.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),i9=t=>{const{__scopeToast:e,children:n,...r}=t,o=bg(Ef,e),[s,i]=m.useState(!1),[a,l]=m.useState(!1);return c9(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:h.jsx(au,{asChild:!0,children:h.jsx(wg,{...r,children:s&&h.jsxs(h.Fragment,{children:[o.label," ",n]})})})},a9="ToastTitle",TO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(je.div,{...r,ref:e})});TO.displayName=a9;var l9="ToastDescription",RO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(je.div,{...r,ref:e})});RO.displayName=l9;var MO="ToastAction",AO=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(OO,{altText:n,asChild:!0,children:h.jsx(m1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${MO}\`. Expected non-empty \`string\`.`),null)});AO.displayName=MO;var PO="ToastClose",m1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,o=o9(PO,n);return h.jsx(OO,{asChild:!0,children:h.jsx(je.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,o.onClose)})})});m1.displayName=PO;var OO=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...o}=t;return h.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function _O(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),u9(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(..._O(r))}}),e}function np(t,e,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?f1(o,s):o.dispatchEvent(s)}var $N=(t,e,n=0)=>{const r=Math.abs(t.x),o=Math.abs(t.y),s=r>o;return e==="left"||e==="right"?s&&r>n:!s&&o>n};function c9(t=()=>{}){const e=Ir(t);Pn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function u9(t){return t.nodeType===t.ELEMENT_NODE}function d9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function h0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var f9=SO,IO=EO,DO=NO,jO=TO,LO=RO,FO=AO,$O=m1;function zO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=zO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BO(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=zO(t))&&(r&&(r+=" "),r+=e);return r}const zN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,BN=BO,kf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return BN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=e,i=Object.keys(o).map(u=>{const f=n==null?void 0:n[u],p=s==null?void 0:s[u];if(f===null)return null;const g=zN(f)||zN(p);return o[u][g]}),a=n&&Object.entries(n).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:p,className:g,...y}=f;return Object.entries(y).every(b=>{let[w,x]=b;return Array.isArray(x)?x.includes({...s,...a}[w]):{...s,...a}[w]===x})?[...u,p,g]:u},[]);return BN(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>m.createElement("svg",{ref:l,...p9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WO("lucide",o),...a},[...i.map(([u,f])=>m.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=m.forwardRef(({className:r,...o},s)=>m.createElement(m9,{ref:s,iconNode:e,className:WO(`lucide-${h9(t)}`,r),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=lt("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=lt("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=lt("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=lt("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=lt("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=lt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=lt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=lt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=lt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=lt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=lt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=lt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=lt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=lt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=lt("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=lt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=lt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=lt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=lt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=lt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=lt("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=lt("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=lt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=lt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=lt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=lt("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=lt("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=lt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=lt("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=lt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),y1="-",P9=t=>{const e=_9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(y1);return a[0]===""&&a.length!==1&&a.shift(),QO(a,e)||O9(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},QO=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?QO(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const s=t.join(y1);return(i=e.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},VN=/^\[(.+)\]$/,O9=t=>{if(VN.test(t)){const e=VN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return D9(Object.entries(t.classGroups),n).forEach(([s,i])=>{dw(i,r,s,e)}),r},dw=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const s=o===""?e:GN(e,o);s.classGroupId=n;return}if(typeof o=="function"){if(I9(o)){dw(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{dw(i,GN(e,s),n,r)})})},GN=(t,e)=>{let n=t;return e.split(y1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},I9=t=>t.isThemeGetter,D9=(t,e)=>e?t.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[e+i,a])):s);return[n,o]}):t,j9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},ZO="!",L9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,o=e[0],s=e.length,i=a=>{const l=[];let u=0,f=0,p;for(let x=0;x<a.length;x++){let S=a[x];if(u===0){if(S===o&&(r||a.slice(x,x+s)===e)){l.push(a.slice(f,x)),f=x+s;continue}if(S==="/"){p=x;continue}}S==="["?u++:S==="]"&&u--}const g=l.length===0?a:a.substring(f),y=g.startsWith(ZO),b=y?g.substring(1):g,w=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:i}):i},F9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$9=t=>({cache:j9(t.cacheSize),parseClassName:L9(t),...P9(t)}),z9=/\s+/,B9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,s=[],i=t.trim().split(z9);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=n(u);let b=!!y,w=r(b?g.substring(0,y):g);if(!w){if(!b){a=u+(a.length>0?" "+a:a);continue}if(w=r(g),!w){a=u+(a.length>0?" "+a:a);continue}b=!1}const x=F9(f).join(":"),S=p?x+ZO:x,C=S+w;if(s.includes(C))continue;s.push(C);const E=o(w,b);for(let N=0;N<E.length;++N){const T=E[N];s.push(S+T)}a=u+(a.length>0?" "+a:a)}return a};function W9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=e_(e))&&(r&&(r+=" "),r+=n);return r}const e_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=e_(t[r]))&&(n&&(n+=" "),n+=e);return n};function U9(t,...e){let n,r,o,s=i;function i(l){const u=e.reduce((f,p)=>p(f),t());return n=$9(u),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const f=B9(l,n);return o(l,f),f}return function(){return s(W9.apply(null,arguments))}}const Ut=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},t_=/^\[(?:([a-z-]+):)?(.+)\]$/i,H9=/^\d+\/\d+$/,V9=new Set(["px","full","screen"]),G9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Y9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ls=t=>kc(t)||V9.has(t)||H9.test(t),Ci=t=>lu(t,"length",o7),kc=t=>!!t&&!Number.isNaN(Number(t)),p0=t=>lu(t,"number",kc),qu=t=>!!t&&Number.isInteger(Number(t)),X9=t=>t.endsWith("%")&&kc(t.slice(0,-1)),ut=t=>t_.test(t),Ei=t=>G9.test(t),Q9=new Set(["length","size","percentage"]),Z9=t=>lu(t,Q9,n_),e7=t=>lu(t,"position",n_),t7=new Set(["image","url"]),n7=t=>lu(t,t7,i7),r7=t=>lu(t,"",s7),Yu=()=>!0,lu=(t,e,n)=>{const r=t_.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},o7=t=>K9.test(t)&&!q9.test(t),n_=()=>!1,s7=t=>Y9.test(t),i7=t=>J9.test(t),a7=()=>{const t=Ut("colors"),e=Ut("spacing"),n=Ut("blur"),r=Ut("brightness"),o=Ut("borderColor"),s=Ut("borderRadius"),i=Ut("borderSpacing"),a=Ut("borderWidth"),l=Ut("contrast"),u=Ut("grayscale"),f=Ut("hueRotate"),p=Ut("invert"),g=Ut("gap"),y=Ut("gradientColorStops"),b=Ut("gradientColorStopPositions"),w=Ut("inset"),x=Ut("margin"),S=Ut("opacity"),C=Ut("padding"),E=Ut("saturate"),N=Ut("scale"),T=Ut("sepia"),M=Ut("skew"),A=Ut("space"),O=Ut("translate"),L=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",ut,e],H=()=>[ut,e],G=()=>["",Ls,Ci],z=()=>["auto",kc,ut],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",ut],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[kc,ut];return{cacheSize:500,separator:":",theme:{colors:[Yu],spacing:[Ls,Ci],blur:["none","",Ei,ut],brightness:U(),borderColor:[t],borderRadius:["none","","full",Ei,ut],borderSpacing:H(),borderWidth:G(),contrast:U(),grayscale:_(),hueRotate:U(),invert:_(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[X9,Ci],inset:V(),margin:V(),opacity:U(),padding:H(),saturate:U(),scale:U(),sepia:_(),skew:U(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),ut]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qu,ut]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",qu,ut]}],"grid-cols":[{"grid-cols":[Yu]}],"col-start-end":[{col:["auto",{span:["full",qu,ut]},ut]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Yu]}],"row-start-end":[{row:["auto",{span:[qu,ut]},ut]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,e]}],"min-w":[{"min-w":[ut,e,"min","max","fit"]}],"max-w":[{"max-w":[ut,e,"none","full","min","max","fit","prose",{screen:[Ei]},Ei]}],h:[{h:[ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ei,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",p0]}],"font-family":[{font:[Yu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",kc,p0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ls,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ls,Ci]}],"underline-offset":[{"underline-offset":["auto",Ls,ut]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),e7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Z9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:ee()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Ls,ut]}],"outline-w":[{outline:[Ls,Ci]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Ls,Ci]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ei,r7]}],"shadow-color":[{shadow:[Yu]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ei,ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[E]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[qu,ut]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ls,Ci,p0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},l7=U9(a7);function Te(...t){return l7(BO(t))}const c7=f9,r_=m.forwardRef(({className:t,...e},n)=>h.jsx(IO,{ref:n,className:Te("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col p-4 right-0 md:max-w-[420px]",t),...e}));r_.displayName=IO.displayName;const u7=kf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-bottom-full data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),o_=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(DO,{ref:r,className:Te(u7({variant:e}),t),...n}));o_.displayName=DO.displayName;const d7=m.forwardRef(({className:t,...e},n)=>h.jsx(FO,{ref:n,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));d7.displayName=FO.displayName;const s_=m.forwardRef(({className:t,...e},n)=>h.jsx($O,{ref:n,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(ii,{className:"h-4 w-4"})}));s_.displayName=$O.displayName;const i_=m.forwardRef(({className:t,...e},n)=>h.jsx(jO,{ref:n,className:Te("text-sm font-semibold",t),...e}));i_.displayName=jO.displayName;const a_=m.forwardRef(({className:t,...e},n)=>h.jsx(LO,{ref:n,className:Te("text-sm opacity-90",t),...e}));a_.displayName=LO.displayName;function f7(){const{toasts:t}=To();return h.jsxs(c7,{children:[t.map(function({id:e,title:n,description:r,action:o,...s}){return h.jsxs(o_,{...s,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(i_,{children:n}),r&&h.jsx(a_,{children:r})]}),o,h.jsx(s_,{})]},e)}),h.jsx(r_,{})]})}var KN=["light","dark"],h7="(prefers-color-scheme: dark)",p7=m.createContext(void 0),m7={setTheme:t=>{},themes:[]},g7=()=>{var t;return(t=m.useContext(p7))!=null?t:m7};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,attrs:a,nonce:l})=>{let u=s==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=o?KN.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,w=!1,x=!0)=>{let S=i?i[b]:b,C=w?b+"|| ''":`'${S}'`,E="";return o&&x&&!w&&KN.includes(b)&&(E+=`d.style.colorScheme = '${b}';`),n==="class"?w||S?E+=`c.add(${C})`:E+="null":S&&(E+=`d[s](n,${C})`),E},y=t?`!function(){${f}${g(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${h7}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}${u?"":"else{"+g(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}else{${g(s,!1,!1)};}${p}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var y7=t=>{switch(t){case"success":return w7;case"info":return S7;case"warning":return b7;case"error":return C7;default:return null}},v7=Array(12).fill(0),x7=({visible:t,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ne.createElement("div",{className:"sonner-spinner"},v7.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),w7=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b7=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S7=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),C7=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),E7=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),k7=()=>{let[t,e]=ne.useState(document.hidden);return ne.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},fw=1,N7=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,o=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:fw++,s=this.toasts.find(a=>a.id===o),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),s?this.toasts=this.toasts.map(a=>a.id===o?(this.publish({...a,...t,id:o,title:n}),{...a,...t,id:o,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:o}),o},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),o=n!==void 0,s,i=r.then(async l=>{if(s=["resolve",l],ne.isValidElement(l))o=!1,this.create({id:n,type:"default",message:l});else if(R7(l)&&!l.ok){o=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:f})}else if(e.success!==void 0){o=!1;let u=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){o=!1;let u=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var l;o&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>i.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||fw++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kr=new N7,T7=(t,e)=>{let n=(e==null?void 0:e.id)||fw++;return kr.addToast({title:t,...e,id:n}),n},R7=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",M7=T7,A7=()=>kr.toasts,P7=()=>kr.getActiveToasts();Object.assign(M7,{success:kr.success,info:kr.info,warning:kr.warning,error:kr.error,custom:kr.custom,message:kr.message,promise:kr.promise,dismiss:kr.dismiss,loading:kr.loading},{getHistory:A7,getToasts:P7});function O7(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}O7(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rp(t){return t.label!==void 0}var _7=3,I7="32px",D7="16px",qN=4e3,j7=356,L7=14,F7=20,$7=200;function Do(...t){return t.filter(Boolean).join(" ")}function z7(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var B7=t=>{var e,n,r,o,s,i,a,l,u,f,p;let{invert:g,toast:y,unstyled:b,interacting:w,setHeights:x,visibleToasts:S,heights:C,index:E,toasts:N,expanded:T,removeToast:M,defaultRichColors:A,closeButton:O,style:L,cancelButtonStyle:F,actionButtonStyle:V,className:H="",descriptionClassName:G="",duration:z,position:X,gap:ee,loadingIcon:oe,expandByDefault:j,classNames:_,icons:B,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:D}=t,[Z,Q]=ne.useState(null),[Y,ae]=ne.useState(null),[J,ge]=ne.useState(!1),[de,ie]=ne.useState(!1),[Re,be]=ne.useState(!1),[Oe,Me]=ne.useState(!1),[Ze,Ge]=ne.useState(!1),[gt,Ue]=ne.useState(0),[nt,Ke]=ne.useState(0),Be=ne.useRef(y.duration||z||qN),Xe=ne.useRef(null),yt=ne.useRef(null),Dt=E===0,ue=E+1<=S,Pe=y.type,$e=y.dismissible!==!1,ft=y.className||"",re=y.descriptionClassName||"",Se=ne.useMemo(()=>C.findIndex(He=>He.toastId===y.id)||0,[C,y.id]),Ce=ne.useMemo(()=>{var He;return(He=y.closeButton)!=null?He:O},[y.closeButton,O]),De=ne.useMemo(()=>y.duration||z||qN,[y.duration,z]),Ct=ne.useRef(0),jt=ne.useRef(0),wr=ne.useRef(0),In=ne.useRef(null),[Ts,ci]=X.split("-"),ui=ne.useMemo(()=>C.reduce((He,Qe,rt)=>rt>=Se?He:He+Qe.height,0),[C,Se]),di=k7(),fi=y.invert||g,Bt=Pe==="loading";jt.current=ne.useMemo(()=>Se*ee+ui,[Se,ui]),ne.useEffect(()=>{Be.current=De},[De]),ne.useEffect(()=>{ge(!0)},[]),ne.useEffect(()=>{let He=yt.current;if(He){let Qe=He.getBoundingClientRect().height;return Ke(Qe),x(rt=>[{toastId:y.id,height:Qe,position:y.position},...rt]),()=>x(rt=>rt.filter(Ft=>Ft.toastId!==y.id))}},[x,y.id]),ne.useLayoutEffect(()=>{if(!J)return;let He=yt.current,Qe=He.style.height;He.style.height="auto";let rt=He.getBoundingClientRect().height;He.style.height=Qe,Ke(rt),x(Ft=>Ft.find(tn=>tn.toastId===y.id)?Ft.map(tn=>tn.toastId===y.id?{...tn,height:rt}:tn):[{toastId:y.id,height:rt,position:y.position},...Ft])},[J,y.title,y.description,x,y.id]);let Lt=ne.useCallback(()=>{ie(!0),Ue(jt.current),x(He=>He.filter(Qe=>Qe.toastId!==y.id)),setTimeout(()=>{M(y)},$7)},[y,M,x,jt]);ne.useEffect(()=>{if(y.promise&&Pe==="loading"||y.duration===1/0||y.type==="loading")return;let He;return T||w||D&&di?(()=>{if(wr.current<Ct.current){let Qe=new Date().getTime()-Ct.current;Be.current=Be.current-Qe}wr.current=new Date().getTime()})():Be.current!==1/0&&(Ct.current=new Date().getTime(),He=setTimeout(()=>{var Qe;(Qe=y.onAutoClose)==null||Qe.call(y,y),Lt()},Be.current)),()=>clearTimeout(He)},[T,w,y,Pe,D,di,Lt]),ne.useEffect(()=>{y.delete&&Lt()},[Lt,y.delete]);function yn(){var He,Qe,rt;return B!=null&&B.loading?ne.createElement("div",{className:Do(_==null?void 0:_.loader,(He=y==null?void 0:y.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":Pe==="loading"},B.loading):oe?ne.createElement("div",{className:Do(_==null?void 0:_.loader,(Qe=y==null?void 0:y.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":Pe==="loading"},oe):ne.createElement(x7,{className:Do(_==null?void 0:_.loader,(rt=y==null?void 0:y.classNames)==null?void 0:rt.loader),visible:Pe==="loading"})}return ne.createElement("li",{tabIndex:0,ref:yt,className:Do(H,ft,_==null?void 0:_.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,_==null?void 0:_.default,_==null?void 0:_[Pe],(n=y==null?void 0:y.classNames)==null?void 0:n[Pe]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:A,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":J,"data-promise":!!y.promise,"data-swiped":Ze,"data-removed":de,"data-visible":ue,"data-y-position":Ts,"data-x-position":ci,"data-index":E,"data-front":Dt,"data-swiping":Re,"data-dismissible":$e,"data-type":Pe,"data-invert":fi,"data-swipe-out":Oe,"data-swipe-direction":Y,"data-expanded":!!(T||j&&J),style:{"--index":E,"--toasts-before":E,"--z-index":N.length-E,"--offset":`${de?gt:jt.current}px`,"--initial-height":j?"auto":`${nt}px`,...L,...y.style},onDragEnd:()=>{be(!1),Q(null),In.current=null},onPointerDown:He=>{Bt||!$e||(Xe.current=new Date,Ue(jt.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(be(!0),In.current={x:He.clientX,y:He.clientY}))},onPointerUp:()=>{var He,Qe,rt,Ft;if(Oe||!$e)return;In.current=null;let tn=Number(((He=yt.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rt=Number(((Qe=yt.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nn=new Date().getTime()-((rt=Xe.current)==null?void 0:rt.getTime()),ce=Z==="x"?tn:Rt,pe=Math.abs(ce)/nn;if(Math.abs(ce)>=F7||pe>.11){Ue(jt.current),(Ft=y.onDismiss)==null||Ft.call(y,y),ae(Z==="x"?tn>0?"right":"left":Rt>0?"down":"up"),Lt(),Me(!0),Ge(!1);return}be(!1),Q(null)},onPointerMove:He=>{var Qe,rt,Ft,tn;if(!In.current||!$e||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let Rt=He.clientY-In.current.y,nn=He.clientX-In.current.x,ce=(rt=t.swipeDirections)!=null?rt:z7(X);!Z&&(Math.abs(nn)>1||Math.abs(Rt)>1)&&Q(Math.abs(nn)>Math.abs(Rt)?"x":"y");let pe={x:0,y:0};Z==="y"?(ce.includes("top")||ce.includes("bottom"))&&(ce.includes("top")&&Rt<0||ce.includes("bottom")&&Rt>0)&&(pe.y=Rt):Z==="x"&&(ce.includes("left")||ce.includes("right"))&&(ce.includes("left")&&nn<0||ce.includes("right")&&nn>0)&&(pe.x=nn),(Math.abs(pe.x)>0||Math.abs(pe.y)>0)&&Ge(!0),(Ft=yt.current)==null||Ft.style.setProperty("--swipe-amount-x",`${pe.x}px`),(tn=yt.current)==null||tn.style.setProperty("--swipe-amount-y",`${pe.y}px`)}},Ce&&!y.jsx?ne.createElement("button",{"aria-label":U,"data-disabled":Bt,"data-close-button":!0,onClick:Bt||!$e?()=>{}:()=>{var He;Lt(),(He=y.onDismiss)==null||He.call(y,y)},className:Do(_==null?void 0:_.closeButton,(o=y==null?void 0:y.classNames)==null?void 0:o.closeButton)},(s=B==null?void 0:B.close)!=null?s:E7):null,y.jsx||m.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:ne.createElement(ne.Fragment,null,Pe||y.icon||y.promise?ne.createElement("div",{"data-icon":"",className:Do(_==null?void 0:_.icon,(i=y==null?void 0:y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||yn():null,y.type!=="loading"?y.icon||(B==null?void 0:B[Pe])||y7(Pe):null):null,ne.createElement("div",{"data-content":"",className:Do(_==null?void 0:_.content,(a=y==null?void 0:y.classNames)==null?void 0:a.content)},ne.createElement("div",{"data-title":"",className:Do(_==null?void 0:_.title,(l=y==null?void 0:y.classNames)==null?void 0:l.title)},typeof y.title=="function"?y.title():y.title),y.description?ne.createElement("div",{"data-description":"",className:Do(G,re,_==null?void 0:_.description,(u=y==null?void 0:y.classNames)==null?void 0:u.description)},typeof y.description=="function"?y.description():y.description):null),m.isValidElement(y.cancel)?y.cancel:y.cancel&&rp(y.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||F,onClick:He=>{var Qe,rt;rp(y.cancel)&&$e&&((rt=(Qe=y.cancel).onClick)==null||rt.call(Qe,He),Lt())},className:Do(_==null?void 0:_.cancelButton,(f=y==null?void 0:y.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,m.isValidElement(y.action)?y.action:y.action&&rp(y.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||V,onClick:He=>{var Qe,rt;rp(y.action)&&((rt=(Qe=y.action).onClick)==null||rt.call(Qe,He),!He.defaultPrevented&&Lt())},className:Do(_==null?void 0:_.actionButton,(p=y==null?void 0:y.classNames)==null?void 0:p.actionButton)},y.action.label):null))};function YN(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function W7(t,e){let n={};return[t,e].forEach((r,o)=>{let s=o===1,i=s?"--mobile-offset":"--offset",a=s?D7:I7;function l(u){["top","right","bottom","left"].forEach(f=>{n[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var U7=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,mobileOffset:u,theme:f="light",richColors:p,duration:g,style:y,visibleToasts:b=_7,toastOptions:w,dir:x=YN(),gap:S=L7,loadingIcon:C,icons:E,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:T}=t,[M,A]=ne.useState([]),O=ne.useMemo(()=>Array.from(new Set([r].concat(M.filter(D=>D.position).map(D=>D.position)))),[M,r]),[L,F]=ne.useState([]),[V,H]=ne.useState(!1),[G,z]=ne.useState(!1),[X,ee]=ne.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=ne.useRef(null),j=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=ne.useRef(null),B=ne.useRef(!1),U=ne.useCallback(D=>{A(Z=>{var Q;return(Q=Z.find(Y=>Y.id===D.id))!=null&&Q.delete||kr.dismiss(D.id),Z.filter(({id:Y})=>Y!==D.id)})},[]);return ne.useEffect(()=>kr.subscribe(D=>{if(D.dismiss){A(Z=>Z.map(Q=>Q.id===D.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{l1.flushSync(()=>{A(Z=>{let Q=Z.findIndex(Y=>Y.id===D.id);return Q!==-1?[...Z.slice(0,Q),{...Z[Q],...D},...Z.slice(Q+1)]:[D,...Z]})})})}),[]),ne.useEffect(()=>{if(f!=="system"){ee(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:Z})=>{ee(Z?"dark":"light")})}catch{D.addListener(({matches:Q})=>{try{ee(Q?"dark":"light")}catch(Y){console.error(Y)}})}},[f]),ne.useEffect(()=>{M.length<=1&&H(!1)},[M]),ne.useEffect(()=>{let D=Z=>{var Q,Y;o.every(ae=>Z[ae]||Z.code===ae)&&(H(!0),(Q=oe.current)==null||Q.focus()),Z.code==="Escape"&&(document.activeElement===oe.current||(Y=oe.current)!=null&&Y.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[o]),ne.useEffect(()=>{if(oe.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,B.current=!1)}},[oe.current]),ne.createElement("section",{ref:e,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((D,Z)=>{var Q;let[Y,ae]=D.split("-");return M.length?ne.createElement("ol",{key:D,dir:x==="auto"?YN():x,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":Y,"data-lifted":V&&M.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((Q=L[0])==null?void 0:Q.height)||0}px`,"--width":`${j7}px`,"--gap":`${S}px`,...y,...W7(l,u)},onBlur:J=>{B.current&&!J.currentTarget.contains(J.relatedTarget)&&(B.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||B.current||(B.current=!0,_.current=J.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{G||H(!1)},onDragEnd:()=>H(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},M.filter(J=>!J.position&&Z===0||J.position===D).map((J,ge)=>{var de,ie;return ne.createElement(B7,{key:J.id,icons:E,index:ge,toast:J,defaultRichColors:p,duration:(de=w==null?void 0:w.duration)!=null?de:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:b,closeButton:(ie=w==null?void 0:w.closeButton)!=null?ie:i,interacting:G,position:D,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:U,toasts:M.filter(Re=>Re.position==J.position),heights:L.filter(Re=>Re.position==J.position),setHeights:F,expandByDefault:s,gap:S,loadingIcon:C,expanded:V,pauseWhenPageIsHidden:T,swipeDirections:t.swipeDirections})})):null}))});const H7=({...t})=>{const{theme:e="system"}=g7();return h.jsx(U7,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var V7=yb[" useId ".trim().toString()]||(()=>{}),G7=0;function Rn(t){const[e,n]=m.useState(V7());return Pn(()=>{n(r=>r??String(G7++))},[t]),e?`radix-${e}`:""}const K7=["top","right","bottom","left"],da=Math.min,Gr=Math.max,Sm=Math.round,op=Math.floor,ws=t=>({x:t,y:t}),q7={left:"right",right:"left",bottom:"top",top:"bottom"},Y7={start:"end",end:"start"};function hw(t,e,n){return Gr(t,da(e,n))}function ri(t,e){return typeof t=="function"?t(e):t}function oi(t){return t.split("-")[0]}function cu(t){return t.split("-")[1]}function v1(t){return t==="x"?"y":"x"}function x1(t){return t==="y"?"height":"width"}function gs(t){return["top","bottom"].includes(oi(t))?"y":"x"}function w1(t){return v1(gs(t))}function J7(t,e,n){n===void 0&&(n=!1);const r=cu(t),o=w1(t),s=x1(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=Cm(i)),[i,Cm(i)]}function X7(t){const e=Cm(t);return[pw(t),e,pw(e)]}function pw(t){return t.replace(/start|end/g,e=>Y7[e])}function Q7(t,e,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?s:i;default:return[]}}function Z7(t,e,n,r){const o=cu(t);let s=Q7(oi(t),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),e&&(s=s.concat(s.map(pw)))),s}function Cm(t){return t.replace(/left|right|bottom|top/g,e=>q7[e])}function eG(t){return{top:0,right:0,bottom:0,left:0,...t}}function l_(t){return typeof t!="number"?eG(t):{top:t,right:t,bottom:t,left:t}}function Em(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function JN(t,e,n){let{reference:r,floating:o}=t;const s=gs(e),i=w1(e),a=x1(i),l=oi(e),u=s==="y",f=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[a]/2-o[a]/2;let y;switch(l){case"top":y={x:f,y:r.y-o.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-o.width,y:p};break;default:y={x:r.x,y:r.y}}switch(cu(e)){case"start":y[i]-=g*(n&&u?-1:1);break;case"end":y[i]+=g*(n&&u?-1:1);break}return y}const tG=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y:p}=JN(u,r,l),g=r,y={},b=0;for(let w=0;w<a.length;w++){const{name:x,fn:S}=a[w],{x:C,y:E,data:N,reset:T}=await S({x:f,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:y,rects:u,platform:i,elements:{reference:t,floating:e}});f=C??f,p=E??p,y={...y,[x]:{...y[x],...N}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(u=T.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:o}):T.rects),{x:f,y:p}=JN(u,g,l)),w=-1)}return{x:f,y:p,placement:g,strategy:o,middlewareData:y}};async function Hd(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=ri(e,t),b=l_(y),x=a[g?p==="floating"?"reference":"floating":p],S=Em(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),C=p==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Em(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:E,strategy:l}):C);return{top:(S.top-T.top+b.top)/N.y,bottom:(T.bottom-S.bottom+b.bottom)/N.y,left:(S.left-T.left+b.left)/N.x,right:(T.right-S.right+b.right)/N.x}}const nG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=e,{element:u,padding:f=0}=ri(t,e)||{};if(u==null)return{};const p=l_(f),g={x:n,y:r},y=w1(o),b=x1(y),w=await i.getDimensions(u),x=y==="y",S=x?"top":"left",C=x?"bottom":"right",E=x?"clientHeight":"clientWidth",N=s.reference[b]+s.reference[y]-g[y]-s.floating[b],T=g[y]-s.reference[y],M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=M?M[E]:0;(!A||!await(i.isElement==null?void 0:i.isElement(M)))&&(A=a.floating[E]||s.floating[b]);const O=N/2-T/2,L=A/2-w[b]/2-1,F=da(p[S],L),V=da(p[C],L),H=F,G=A-w[b]-V,z=A/2-w[b]/2+O,X=hw(H,z,G),ee=!l.arrow&&cu(o)!=null&&z!==X&&s.reference[b]/2-(z<H?F:V)-w[b]/2<0,oe=ee?z<H?z-H:z-G:0;return{[y]:g[y]+oe,data:{[y]:X,centerOffset:z-X-oe,...ee&&{alignmentOffset:oe}},reset:ee}}}),rG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=ri(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const S=oi(o),C=gs(a),E=oi(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=g||(E||!w?[Cm(a)]:X7(a)),M=b!=="none";!g&&M&&T.push(...Z7(a,w,b,N));const A=[a,...T],O=await Hd(e,x),L=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&L.push(O[S]),p){const z=J7(o,i,N);L.push(O[z[0]],O[z[1]])}if(F=[...F,{placement:o,overflows:L}],!L.every(z=>z<=0)){var V,H;const z=(((V=s.flip)==null?void 0:V.index)||0)+1,X=A[z];if(X&&(!(p==="alignment"?C!==gs(X):!1)||F.every(j=>j.overflows[0]>0&&gs(j.placement)===C)))return{data:{index:z,overflows:F},reset:{placement:X}};let ee=(H=F.filter(oe=>oe.overflows[0]<=0).sort((oe,j)=>oe.overflows[1]-j.overflows[1])[0])==null?void 0:H.placement;if(!ee)switch(y){case"bestFit":{var G;const oe=(G=F.filter(j=>{if(M){const _=gs(j.placement);return _===C||_==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(_=>_>0).reduce((_,B)=>_+B,0)]).sort((j,_)=>j[1]-_[1])[0])==null?void 0:G[0];oe&&(ee=oe);break}case"initialPlacement":ee=a;break}if(o!==ee)return{reset:{placement:ee}}}return{}}}};function XN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function QN(t){return K7.some(e=>t[e]>=0)}const oG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=ri(t,e);switch(r){case"referenceHidden":{const s=await Hd(e,{...o,elementContext:"reference"}),i=XN(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:QN(i)}}}case"escaped":{const s=await Hd(e,{...o,altBoundary:!0}),i=XN(s,n.floating);return{data:{escapedOffsets:i,escaped:QN(i)}}}default:return{}}}}};async function sG(t,e){const{placement:n,platform:r,elements:o}=t,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=oi(n),a=cu(n),l=gs(n)==="y",u=["left","top"].includes(i)?-1:1,f=s&&l?-1:1,p=ri(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),l?{x:y*f,y:g*u}:{x:g*u,y:y*f}}const iG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=e,l=await sG(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},aG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:S,y:C}=x;return{x:S,y:C}}},...l}=ri(t,e),u={x:n,y:r},f=await Hd(e,l),p=gs(oi(o)),g=v1(p);let y=u[g],b=u[p];if(s){const x=g==="y"?"top":"left",S=g==="y"?"bottom":"right",C=y+f[x],E=y-f[S];y=hw(C,y,E)}if(i){const x=p==="y"?"top":"left",S=p==="y"?"bottom":"right",C=b+f[x],E=b-f[S];b=hw(C,b,E)}const w=a.fn({...e,[g]:y,[p]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:s,[p]:i}}}}}},lG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ri(t,e),f={x:n,y:r},p=gs(o),g=v1(p);let y=f[g],b=f[p];const w=ri(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const E=g==="y"?"height":"width",N=s.reference[g]-s.floating[E]+x.mainAxis,T=s.reference[g]+s.reference[E]-x.mainAxis;y<N?y=N:y>T&&(y=T)}if(u){var S,C;const E=g==="y"?"width":"height",N=["top","left"].includes(oi(o)),T=s.reference[p]-s.floating[E]+(N&&((S=i.offset)==null?void 0:S[p])||0)+(N?0:x.crossAxis),M=s.reference[p]+s.reference[E]+(N?0:((C=i.offset)==null?void 0:C[p])||0)-(N?x.crossAxis:0);b<T?b=T:b>M&&(b=M)}return{[g]:y,[p]:b}}}},cG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:s,platform:i,elements:a}=e,{apply:l=()=>{},...u}=ri(t,e),f=await Hd(e,u),p=oi(o),g=cu(o),y=gs(o)==="y",{width:b,height:w}=s.floating;let x,S;p==="top"||p==="bottom"?(x=p,S=g===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(S=p,x=g==="end"?"top":"bottom");const C=w-f.top-f.bottom,E=b-f.left-f.right,N=da(w-f[x],C),T=da(b-f[S],E),M=!e.middlewareData.shift;let A=N,O=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=C),M&&!g){const F=Gr(f.left,0),V=Gr(f.right,0),H=Gr(f.top,0),G=Gr(f.bottom,0);y?O=b-2*(F!==0||V!==0?F+V:Gr(f.left,f.right)):A=w-2*(H!==0||G!==0?H+G:Gr(f.top,f.bottom))}await l({...e,availableWidth:O,availableHeight:A});const L=await i.getDimensions(a.floating);return b!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function Eg(){return typeof window<"u"}function uu(t){return c_(t)?(t.nodeName||"").toLowerCase():"#document"}function Xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ns(t){var e;return(e=(c_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function c_(t){return Eg()?t instanceof Node||t instanceof Xr(t).Node:!1}function qo(t){return Eg()?t instanceof Element||t instanceof Xr(t).Element:!1}function bs(t){return Eg()?t instanceof HTMLElement||t instanceof Xr(t).HTMLElement:!1}function ZN(t){return!Eg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xr(t).ShadowRoot}function Rf(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Yo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function uG(t){return["table","td","th"].includes(uu(t))}function kg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function b1(t){const e=S1(),n=qo(t)?Yo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dG(t){let e=fa(t);for(;bs(e)&&!Kc(e);){if(b1(e))return e;if(kg(e))return null;e=fa(e)}return null}function S1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kc(t){return["html","body","#document"].includes(uu(t))}function Yo(t){return Xr(t).getComputedStyle(t)}function Ng(t){return qo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fa(t){if(uu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZN(t)&&t.host||Ns(t);return ZN(e)?e.host:e}function u_(t){const e=fa(t);return Kc(e)?t.ownerDocument?t.ownerDocument.body:t.body:bs(e)&&Rf(e)?e:u_(e)}function Vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=u_(t),s=o===((r=t.ownerDocument)==null?void 0:r.body),i=Xr(o);if(s){const a=mw(i);return e.concat(i,i.visualViewport||[],Rf(o)?o:[],a&&n?Vd(a):[])}return e.concat(o,Vd(o,[],n))}function mw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function d_(t){const e=Yo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=bs(t),s=o?t.offsetWidth:n,i=o?t.offsetHeight:r,a=Sm(n)!==s||Sm(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function C1(t){return qo(t)?t:t.contextElement}function Nc(t){const e=C1(t);if(!bs(e))return ws(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:s}=d_(e);let i=(s?Sm(n.width):n.width)/r,a=(s?Sm(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const fG=ws(0);function f_(t){const e=Xr(t);return!S1()||!e.visualViewport?fG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xr(t)?!1:e}function xl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=C1(t);let i=ws(1);e&&(r?qo(r)&&(i=Nc(r)):i=Nc(t));const a=hG(s,n,r)?f_(s):ws(0);let l=(o.left+a.x)/i.x,u=(o.top+a.y)/i.y,f=o.width/i.x,p=o.height/i.y;if(s){const g=Xr(s),y=r&&qo(r)?Xr(r):r;let b=g,w=mw(b);for(;w&&r&&y!==b;){const x=Nc(w),S=w.getBoundingClientRect(),C=Yo(w),E=S.left+(w.clientLeft+parseFloat(C.paddingLeft))*x.x,N=S.top+(w.clientTop+parseFloat(C.paddingTop))*x.y;l*=x.x,u*=x.y,f*=x.x,p*=x.y,l+=E,u+=N,b=Xr(w),w=mw(b)}}return Em({width:f,height:p,x:l,y:u})}function E1(t,e){const n=Ng(t).scrollLeft;return e?e.left+n:xl(Ns(t)).left+n}function h_(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:E1(t,r)),s=r.top+e.scrollTop;return{x:o,y:s}}function pG(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const s=o==="fixed",i=Ns(r),a=e?kg(e.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ws(1);const f=ws(0),p=bs(r);if((p||!p&&!s)&&((uu(r)!=="body"||Rf(i))&&(l=Ng(r)),bs(r))){const y=xl(r);u=Nc(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const g=i&&!p&&!s?h_(i,l,!0):ws(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-l.scrollTop*u.y+f.y+g.y}}function mG(t){return Array.from(t.getClientRects())}function gG(t){const e=Ns(t),n=Ng(t),r=t.ownerDocument.body,o=Gr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Gr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+E1(t);const a=-n.scrollTop;return Yo(r).direction==="rtl"&&(i+=Gr(e.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function yG(t,e){const n=Xr(t),r=Ns(t),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const u=S1();(!u||u&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function vG(t,e){const n=xl(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,s=bs(t)?Nc(t):ws(1),i=t.clientWidth*s.x,a=t.clientHeight*s.y,l=o*s.x,u=r*s.y;return{width:i,height:a,x:l,y:u}}function eT(t,e,n){let r;if(e==="viewport")r=yG(t,n);else if(e==="document")r=gG(Ns(t));else if(qo(e))r=vG(e,n);else{const o=f_(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Em(r)}function p_(t,e){const n=fa(t);return n===e||!qo(n)||Kc(n)?!1:Yo(n).position==="fixed"||p_(n,e)}function xG(t,e){const n=e.get(t);if(n)return n;let r=Vd(t,[],!1).filter(a=>qo(a)&&uu(a)!=="body"),o=null;const s=Yo(t).position==="fixed";let i=s?fa(t):t;for(;qo(i)&&!Kc(i);){const a=Yo(i),l=b1(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Rf(i)&&!l&&p_(t,i))?r=r.filter(f=>f!==i):o=a,i=fa(i)}return e.set(t,r),r}function wG(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[...n==="clippingAncestors"?kg(e)?[]:xG(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,f)=>{const p=eT(e,f,o);return u.top=Gr(p.top,u.top),u.right=da(p.right,u.right),u.bottom=da(p.bottom,u.bottom),u.left=Gr(p.left,u.left),u},eT(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bG(t){const{width:e,height:n}=d_(t);return{width:e,height:n}}function SG(t,e,n){const r=bs(e),o=Ns(e),s=n==="fixed",i=xl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ws(0);function u(){l.x=E1(o)}if(r||!r&&!s)if((uu(e)!=="body"||Rf(o))&&(a=Ng(e)),r){const y=xl(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else o&&u();s&&!r&&o&&u();const f=o&&!r&&!s?h_(o,a):ws(0),p=i.left+a.scrollLeft-l.x-f.x,g=i.top+a.scrollTop-l.y-f.y;return{x:p,y:g,width:i.width,height:i.height}}function m0(t){return Yo(t).position==="static"}function tT(t,e){if(!bs(t)||Yo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ns(t)===n&&(n=n.ownerDocument.body),n}function m_(t,e){const n=Xr(t);if(kg(t))return n;if(!bs(t)){let o=fa(t);for(;o&&!Kc(o);){if(qo(o)&&!m0(o))return o;o=fa(o)}return n}let r=tT(t,e);for(;r&&uG(r)&&m0(r);)r=tT(r,e);return r&&Kc(r)&&m0(r)&&!b1(r)?n:r||dG(t)||n}const CG=async function(t){const e=this.getOffsetParent||m_,n=this.getDimensions,r=await n(t.floating);return{reference:SG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EG(t){return Yo(t).direction==="rtl"}const kG={convertOffsetParentRelativeRectToViewportRelativeRect:pG,getDocumentElement:Ns,getClippingRect:wG,getOffsetParent:m_,getElementRects:CG,getClientRects:mG,getDimensions:bG,getScale:Nc,isElement:qo,isRTL:EG};function g_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NG(t,e){let n=null,r;const o=Ns(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:f,top:p,width:g,height:y}=u;if(a||e(),!g||!y)return;const b=op(p),w=op(o.clientWidth-(f+g)),x=op(o.clientHeight-(p+y)),S=op(f),E={rootMargin:-b+"px "+-w+"px "+-x+"px "+-S+"px",threshold:Gr(0,da(1,l))||1};let N=!0;function T(M){const A=M[0].intersectionRatio;if(A!==l){if(!N)return i();A?i(!1,A):r=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!g_(u,t.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(T,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(t)}return i(!0),s}function TG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=C1(t),f=o||s?[...u?Vd(u):[],...Vd(e)]:[];f.forEach(S=>{o&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const p=u&&a?NG(u,n):null;let g=-1,y=null;i&&(y=new ResizeObserver(S=>{let[C]=S;C&&C.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let b,w=l?xl(t):null;l&&x();function x(){const S=xl(t);w&&!g_(w,S)&&n(),w=S,b=requestAnimationFrame(x)}return n(),()=>{var S;f.forEach(C=>{o&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),p==null||p(),(S=y)==null||S.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const RG=iG,MG=aG,AG=rG,PG=cG,OG=oG,nT=nG,_G=lG,IG=(t,e,n)=>{const r=new Map,o={platform:kG,...n},s={...o.platform,_c:r};return tG(t,e,{...o,platform:s})};var DG=typeof document<"u",jG=function(){},$p=DG?m.useLayoutEffect:jG;function km(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!km(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&t.$$typeof)&&!km(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function y_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rT(t,e){const n=y_(t);return Math.round(e*n)/n}function g0(t){const e=m.useRef(t);return $p(()=>{e.current=t}),e}function LG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,p]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=m.useState(r);km(g,r)||y(r);const[b,w]=m.useState(null),[x,S]=m.useState(null),C=m.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),E=m.useCallback(j=>{j!==A.current&&(A.current=j,S(j))},[]),N=s||b,T=i||x,M=m.useRef(null),A=m.useRef(null),O=m.useRef(f),L=l!=null,F=g0(l),V=g0(o),H=g0(u),G=m.useCallback(()=>{if(!M.current||!A.current)return;const j={placement:e,strategy:n,middleware:g};V.current&&(j.platform=V.current),IG(M.current,A.current,j).then(_=>{const B={..._,isPositioned:H.current!==!1};z.current&&!km(O.current,B)&&(O.current=B,wo.flushSync(()=>{p(B)}))})},[g,e,n,V,H]);$p(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[u]);const z=m.useRef(!1);$p(()=>(z.current=!0,()=>{z.current=!1}),[]),$p(()=>{if(N&&(M.current=N),T&&(A.current=T),N&&T){if(F.current)return F.current(N,T,G);G()}},[N,T,G,F,L]);const X=m.useMemo(()=>({reference:M,floating:A,setReference:C,setFloating:E}),[C,E]),ee=m.useMemo(()=>({reference:N,floating:T}),[N,T]),oe=m.useMemo(()=>{const j={position:n,left:0,top:0};if(!ee.floating)return j;const _=rT(ee.floating,f.x),B=rT(ee.floating,f.y);return a?{...j,transform:"translate("+_+"px, "+B+"px)",...y_(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:B}},[n,a,ee.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:G,refs:X,elements:ee,floatingStyles:oe}),[f,G,X,ee,oe])}const FG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?nT({element:r.current,padding:o}).fn(n):{}:r?nT({element:r,padding:o}).fn(n):{}}}},$G=(t,e)=>({...RG(t),options:[t,e]}),zG=(t,e)=>({...MG(t),options:[t,e]}),BG=(t,e)=>({..._G(t),options:[t,e]}),WG=(t,e)=>({...AG(t),options:[t,e]}),UG=(t,e)=>({...PG(t),options:[t,e]}),HG=(t,e)=>({...OG(t),options:[t,e]}),VG=(t,e)=>({...FG(t),options:[t,e]});var GG="Arrow",v_=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...s}=t;return h.jsx(je.svg,{...s,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});v_.displayName=GG;var KG=v_;function k1(t){const[e,n]=m.useState(void 0);return Pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var N1="Popper",[x_,xa]=jr(N1),[qG,w_]=x_(N1),b_=t=>{const{__scopePopper:e,children:n}=t,[r,o]=m.useState(null);return h.jsx(qG,{scope:e,anchor:r,onAnchorChange:o,children:n})};b_.displayName=N1;var S_="PopperAnchor",C_=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,s=w_(S_,n),i=m.useRef(null),a=at(e,i);return m.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:h.jsx(je.div,{...o,ref:a})});C_.displayName=S_;var T1="PopperContent",[YG,JG]=x_(T1),E_=m.forwardRef((t,e)=>{var J,ge,de,ie,Re,be;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,...w}=t,x=w_(T1,n),[S,C]=m.useState(null),E=at(e,Oe=>C(Oe)),[N,T]=m.useState(null),M=k1(N),A=(M==null?void 0:M.width)??0,O=(M==null?void 0:M.height)??0,L=r+(s!=="center"?"-"+s:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],H=V.length>0,G={padding:F,boundary:V.filter(QG),altBoundary:H},{refs:z,floatingStyles:X,placement:ee,isPositioned:oe,middlewareData:j}=LG({strategy:"fixed",placement:L,whileElementsMounted:(...Oe)=>TG(...Oe,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[$G({mainAxis:o+O,alignmentAxis:i}),l&&zG({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?BG():void 0,...G}),l&&WG({...G}),UG({...G,apply:({elements:Oe,rects:Me,availableWidth:Ze,availableHeight:Ge})=>{const{width:gt,height:Ue}=Me.reference,nt=Oe.floating.style;nt.setProperty("--radix-popper-available-width",`${Ze}px`),nt.setProperty("--radix-popper-available-height",`${Ge}px`),nt.setProperty("--radix-popper-anchor-width",`${gt}px`),nt.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),N&&VG({element:N,padding:a}),ZG({arrowWidth:A,arrowHeight:O}),g&&HG({strategy:"referenceHidden",...G})]}),[_,B]=T_(ee),U=Ir(b);Pn(()=>{oe&&(U==null||U())},[oe,U]);const D=(J=j.arrow)==null?void 0:J.x,Z=(ge=j.arrow)==null?void 0:ge.y,Q=((de=j.arrow)==null?void 0:de.centerOffset)!==0,[Y,ae]=m.useState();return Pn(()=>{S&&ae(window.getComputedStyle(S).zIndex)},[S]),h.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:oe?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(ie=j.transformOrigin)==null?void 0:ie.x,(Re=j.transformOrigin)==null?void 0:Re.y].join(" "),...((be=j.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(YG,{scope:n,placedSide:_,onArrowChange:T,arrowX:D,arrowY:Z,shouldHideArrow:Q,children:h.jsx(je.div,{"data-side":_,"data-align":B,...w,ref:E,style:{...w.style,animation:oe?void 0:"none"}})})})});E_.displayName=T1;var k_="PopperArrow",XG={top:"bottom",right:"left",bottom:"top",left:"right"},N_=m.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,s=JG(k_,r),i=XG[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(KG,{...o,ref:n,style:{...o.style,display:"block"}})})});N_.displayName=k_;function QG(t){return t!==null}var ZG=t=>({name:"transformOrigin",options:t,fn(e){var x,S,C;const{placement:n,rects:r,middlewareData:o}=e,i=((x=o.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[u,f]=T_(n),p={start:"0%",center:"50%",end:"100%"}[f],g=(((S=o.arrow)==null?void 0:S.x)??0)+a/2,y=(((C=o.arrow)==null?void 0:C.y)??0)+l/2;let b="",w="";return u==="bottom"?(b=i?p:`${g}px`,w=`${-l}px`):u==="top"?(b=i?p:`${g}px`,w=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,w=i?p:`${y}px`):u==="left"&&(b=`${r.floating.width+l}px`,w=i?p:`${y}px`),{data:{x:b,y:w}}}});function T_(t){const[e,n="center"]=t.split("-");return[e,n]}var Tg=b_,Mf=C_,Rg=E_,Mg=N_,[Ag,Zce]=jr("Tooltip",[xa]),Pg=xa(),R_="TooltipProvider",eK=700,gw="tooltip.open",[tK,R1]=Ag(R_),M_=t=>{const{__scopeTooltip:e,delayDuration:n=eK,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=t,i=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),h.jsx(tK,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(u=>{a.current=u},[]),disableHoverableContent:o,children:s})};M_.displayName=R_;var Gd="Tooltip",[nK,Og]=Ag(Gd),A_=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:o,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=t,l=R1(Gd,t.__scopeTooltip),u=Pg(e),[f,p]=m.useState(null),g=Rn(),y=m.useRef(0),b=i??l.disableHoverableContent,w=a??l.delayDuration,x=m.useRef(!1),[S,C]=Dr({prop:r,defaultProp:o??!1,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(gw))):l.onClose(),s==null||s(A)},caller:Gd}),E=m.useMemo(()=>S?x.current?"delayed-open":"instant-open":"closed",[S]),N=m.useCallback(()=>{window.clearTimeout(y.current),y.current=0,x.current=!1,C(!0)},[C]),T=m.useCallback(()=>{window.clearTimeout(y.current),y.current=0,C(!1)},[C]),M=m.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{x.current=!0,C(!0),y.current=0},w)},[w,C]);return m.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),h.jsx(Tg,{...u,children:h.jsx(nK,{scope:e,contentId:g,open:S,stateAttribute:E,trigger:f,onTriggerChange:p,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayedRef.current?M():N()},[l.isOpenDelayedRef,M,N]),onTriggerLeave:m.useCallback(()=>{b?T():(window.clearTimeout(y.current),y.current=0)},[T,b]),onOpen:N,onClose:T,disableHoverableContent:b,children:n})})};A_.displayName=Gd;var yw="TooltipTrigger",P_=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Og(yw,n),s=R1(yw,n),i=Pg(n),a=m.useRef(null),l=at(e,a,o.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),p=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),h.jsx(Mf,{asChild:!0,...i,children:h.jsx(je.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Ee(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ee(t.onFocus,()=>{u.current||o.onOpen()}),onBlur:Ee(t.onBlur,o.onClose),onClick:Ee(t.onClick,o.onClose)})})});P_.displayName=yw;var rK="TooltipPortal",[eue,oK]=Ag(rK,{forceMount:void 0}),qc="TooltipContent",O_=m.forwardRef((t,e)=>{const n=oK(qc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=t,i=Og(qc,t.__scopeTooltip);return h.jsx(no,{present:r||i.open,children:i.disableHoverableContent?h.jsx(__,{side:o,...s,ref:e}):h.jsx(sK,{side:o,...s,ref:e})})}),sK=m.forwardRef((t,e)=>{const n=Og(qc,t.__scopeTooltip),r=R1(qc,t.__scopeTooltip),o=m.useRef(null),s=at(e,o),[i,a]=m.useState(null),{trigger:l,onClose:u}=n,f=o.current,{onPointerInTransitChange:p}=r,g=m.useCallback(()=>{a(null),p(!1)},[p]),y=m.useCallback((b,w)=>{const x=b.currentTarget,S={x:b.clientX,y:b.clientY},C=uK(S,x.getBoundingClientRect()),E=dK(S,C),N=fK(w.getBoundingClientRect()),T=pK([...E,...N]);a(T),p(!0)},[p]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(l&&f){const b=x=>y(x,f),w=x=>y(x,l);return l.addEventListener("pointerleave",b),f.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",w)}}},[l,f,y,g]),m.useEffect(()=>{if(i){const b=w=>{const x=w.target,S={x:w.clientX,y:w.clientY},C=(l==null?void 0:l.contains(x))||(f==null?void 0:f.contains(x)),E=!hK(S,i);C?g():E&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,f,i,u,g]),h.jsx(__,{...t,ref:s})}),[iK,aK]=Ag(Gd,{isInside:!1}),lK=NV("TooltipContent"),__=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=t,l=Og(qc,n),u=Pg(n),{onClose:f}=l;return m.useEffect(()=>(document.addEventListener(gw,f),()=>document.removeEventListener(gw,f)),[f]),m.useEffect(()=>{if(l.trigger){const p=g=>{const y=g.target;y!=null&&y.contains(l.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,f]),h.jsx(Al,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:h.jsxs(Rg,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(lK,{children:r}),h.jsx(iK,{scope:n,isInside:!0,children:h.jsx(qV,{id:l.contentId,role:"tooltip",children:o||r})})]})})});O_.displayName=qc;var I_="TooltipArrow",cK=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Pg(n);return aK(I_,n).isInside?null:h.jsx(Mg,{...o,...r,ref:e})});cK.displayName=I_;function uK(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dK(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function fK(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function hK(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const a=e[s],l=e[i],u=a.x,f=a.y,p=l.x,g=l.y;f>r!=g>r&&n<(p-u)*(r-f)/(g-f)+u&&(o=!o)}return o}function pK(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mK(e)}function mK(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const s=e[e.length-1],i=e[e.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gK=M_,yK=A_,vK=P_,D_=O_;const j_=gK,xK=yK,wK=vK,L_=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(D_,{ref:r,sideOffset:e,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));L_.displayName=D_.displayName;var _g=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ig=typeof window>"u"||"Deno"in globalThis;function Fo(){}function bK(t,e){return typeof t=="function"?t(e):t}function SK(t){return typeof t=="number"&&t>=0&&t!==1/0}function CK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vw(t,e){return typeof t=="function"?t(e):t}function EK(t,e){return typeof t=="function"?t(e):t}function oT(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==M1(i,e.options))return!1}else if(!qd(e.queryKey,i))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||o&&o!==e.state.fetchStatus||s&&!s(e))}function sT(t,e){const{exact:n,status:r,predicate:o,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Kd(e.options.mutationKey)!==Kd(s))return!1}else if(!qd(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function M1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kd)(t)}function Kd(t){return JSON.stringify(t,(e,n)=>xw(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function qd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qd(t[n],e[n])):!1}function F_(t,e){if(t===e)return t;const n=iT(t)&&iT(e);if(n||xw(t)&&xw(e)){const r=n?t:Object.keys(t),o=r.length,s=n?e:Object.keys(e),i=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let f=0;f<i;f++){const p=n?f:s[f];(!n&&l.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,u++):(a[p]=F_(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&u++)}return o===i&&u===o?t:a}return e}function iT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xw(t){if(!aT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!aT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aT(t){return Object.prototype.toString.call(t)==="[object Object]"}function kK(t){return new Promise(e=>{setTimeout(e,t)})}function NK(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?F_(t,e):e}function TK(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function RK(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var A1=Symbol();function $_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===A1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xa,Li,Pc,CM,MK=(CM=class extends _g{constructor(){super();Nt(this,Xa);Nt(this,Li);Nt(this,Pc);st(this,Pc,e=>{if(!Ig&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){fe(this,Li)||this.setEventListener(fe(this,Pc))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,Li))==null||e.call(this),st(this,Li,void 0))}setEventListener(e){var n;st(this,Pc,e),(n=fe(this,Li))==null||n.call(this),st(this,Li,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){fe(this,Xa)!==e&&(st(this,Xa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof fe(this,Xa)=="boolean"?fe(this,Xa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xa=new WeakMap,Li=new WeakMap,Pc=new WeakMap,CM),z_=new MK,Oc,Fi,_c,EM,AK=(EM=class extends _g{constructor(){super();Nt(this,Oc,!0);Nt(this,Fi);Nt(this,_c);st(this,_c,e=>{if(!Ig&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){fe(this,Fi)||this.setEventListener(fe(this,_c))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,Fi))==null||e.call(this),st(this,Fi,void 0))}setEventListener(e){var n;st(this,_c,e),(n=fe(this,Fi))==null||n.call(this),st(this,Fi,e(this.setOnline.bind(this)))}setOnline(e){fe(this,Oc)!==e&&(st(this,Oc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return fe(this,Oc)}},Oc=new WeakMap,Fi=new WeakMap,_c=new WeakMap,EM),Nm=new AK;function PK(){let t,e;const n=new Promise((o,s)=>{t=o,e=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}function OK(t){return Math.min(1e3*2**t,3e4)}function B_(t){return(t??"online")==="online"?Nm.isOnline():!0}var W_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function y0(t){return t instanceof W_}function U_(t){let e=!1,n=0,r=!1,o;const s=PK(),i=w=>{var x;r||(g(new W_(w)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>z_.isFocused()&&(t.networkMode==="always"||Nm.isOnline())&&t.canRun(),f=()=>B_(t.networkMode)&&t.canRun(),p=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),o==null||o(),s.resolve(w))},g=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),o==null||o(),s.reject(w))},y=()=>new Promise(w=>{var x;o=S=>{(r||u())&&w(S)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;o=void 0,r||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(p).catch(S=>{var M;if(r)return;const C=t.retry??(Ig?0:3),E=t.retryDelay??OK,N=typeof E=="function"?E(n,S):E,T=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,S);if(e||!T){g(S);return}n++,(M=t.onFail)==null||M.call(t,n,S),kK(N).then(()=>u()?void 0:y()).then(()=>{e?g(S):b()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():y().then(b),s)}}var _K=t=>setTimeout(t,0);function IK(){let t=[],e=0,n=a=>{a()},r=a=>{a()},o=_K;const s=a=>{e?t.push(a):o(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var ur=IK(),Qa,kM,H_=(kM=class{constructor(){Nt(this,Qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SK(this.gcTime)&&st(this,Qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ig?1/0:5*60*1e3))}clearGcTimeout(){fe(this,Qa)&&(clearTimeout(fe(this,Qa)),st(this,Qa,void 0))}},Qa=new WeakMap,kM),Ic,Dc,ho,Za,Xn,pf,el,$o,$s,NM,DK=(NM=class extends H_{constructor(e){super();Nt(this,$o);Nt(this,Ic);Nt(this,Dc);Nt(this,ho);Nt(this,Za);Nt(this,Xn);Nt(this,pf);Nt(this,el);st(this,el,!1),st(this,pf,e.defaultOptions),this.setOptions(e.options),this.observers=[],st(this,Za,e.client),st(this,ho,fe(this,Za).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,st(this,Ic,LK(this.options)),this.state=e.state??fe(this,Ic),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=fe(this,Xn))==null?void 0:e.promise}setOptions(e){this.options={...fe(this,pf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,ho).remove(this)}setData(e,n){const r=NK(this.state.data,e,this.options);return qn(this,$o,$s).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){qn(this,$o,$s).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,o;const n=(r=fe(this,Xn))==null?void 0:r.promise;return(o=fe(this,Xn))==null||o.cancel(e),n?n.then(Fo).catch(Fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,Ic))}isActive(){return this.observers.some(e=>EK(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vw(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!CK(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=fe(this,Xn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=fe(this,Xn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),fe(this,ho).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(fe(this,Xn)&&(fe(this,el)?fe(this,Xn).cancel({revert:!0}):fe(this,Xn).cancelRetry()),this.scheduleGc()),fe(this,ho).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qn(this,$o,$s).call(this,{type:"invalidate"})}fetch(e,n){var u,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(fe(this,Xn))return fe(this,Xn).continueRetry(),fe(this,Xn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,o=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(st(this,el,!0),r.signal)})},s=()=>{const g=$_(this.options,n),b=(()=>{const w={client:fe(this,Za),queryKey:this.queryKey,meta:this.meta};return o(w),w})();return st(this,el,!1),this.options.persister?this.options.persister(g,b,this):g(b)},a=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:fe(this,Za),state:this.state,fetchFn:s};return o(g),g})();(u=this.options.behavior)==null||u.onFetch(a,this),st(this,Dc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&qn(this,$o,$s).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=g=>{var y,b,w,x;y0(g)&&g.silent||qn(this,$o,$s).call(this,{type:"error",error:g}),y0(g)||((b=(y=fe(this,ho).config).onError)==null||b.call(y,g,this),(x=(w=fe(this,ho).config).onSettled)==null||x.call(w,this.state.data,g,this)),this.scheduleGc()};return st(this,Xn,U_({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var y,b,w,x;if(g===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(S){l(S);return}(b=(y=fe(this,ho).config).onSuccess)==null||b.call(y,g,this),(x=(w=fe(this,ho).config).onSettled)==null||x.call(w,g,this.state.error,this),this.scheduleGc()},onError:l,onFail:(g,y)=>{qn(this,$o,$s).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{qn(this,$o,$s).call(this,{type:"pause"})},onContinue:()=>{qn(this,$o,$s).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),fe(this,Xn).start()}},Ic=new WeakMap,Dc=new WeakMap,ho=new WeakMap,Za=new WeakMap,Xn=new WeakMap,pf=new WeakMap,el=new WeakMap,$o=new WeakSet,$s=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jK(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return y0(o)&&o.revert&&fe(this,Dc)?{...fe(this,Dc),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ur.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),fe(this,ho).notify({query:this,type:"updated",action:e})})},NM);function jK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function LK(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ds,TM,FK=(TM=class extends _g{constructor(e={}){super();Nt(this,ds);this.config=e,st(this,ds,new Map)}build(e,n,r){const o=n.queryKey,s=n.queryHash??M1(o,n);let i=this.get(s);return i||(i=new DK({client:e,queryKey:o,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(i)),i}add(e){fe(this,ds).has(e.queryHash)||(fe(this,ds).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=fe(this,ds).get(e.queryHash);n&&(e.destroy(),n===e&&fe(this,ds).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return fe(this,ds).get(e)}getAll(){return[...fe(this,ds).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oT(e,r)):n}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ds=new WeakMap,TM),fs,lr,tl,hs,ki,RM,$K=(RM=class extends H_{constructor(e){super();Nt(this,hs);Nt(this,fs);Nt(this,lr);Nt(this,tl);this.mutationId=e.mutationId,st(this,lr,e.mutationCache),st(this,fs,[]),this.state=e.state||zK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){fe(this,fs).includes(e)||(fe(this,fs).push(e),this.clearGcTimeout(),fe(this,lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){st(this,fs,fe(this,fs).filter(n=>n!==e)),this.scheduleGc(),fe(this,lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){fe(this,fs).length||(this.state.status==="pending"?this.scheduleGc():fe(this,lr).remove(this))}continue(){var e;return((e=fe(this,tl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,a,l,u,f,p,g,y,b,w,x,S,C,E,N,T,M,A,O;const n=()=>{qn(this,hs,ki).call(this,{type:"continue"})};st(this,tl,U_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,F)=>{qn(this,hs,ki).call(this,{type:"failed",failureCount:L,error:F})},onPause:()=>{qn(this,hs,ki).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,lr).canRun(this)}));const r=this.state.status==="pending",o=!fe(this,tl).canStart();try{if(r)n();else{qn(this,hs,ki).call(this,{type:"pending",variables:e,isPaused:o}),await((i=(s=fe(this,lr).config).onMutate)==null?void 0:i.call(s,e,this));const F=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));F!==this.state.context&&qn(this,hs,ki).call(this,{type:"pending",context:F,variables:e,isPaused:o})}const L=await fe(this,tl).start();return await((f=(u=fe(this,lr).config).onSuccess)==null?void 0:f.call(u,L,e,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,L,e,this.state.context)),await((b=(y=fe(this,lr).config).onSettled)==null?void 0:b.call(y,L,null,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,L,null,e,this.state.context)),qn(this,hs,ki).call(this,{type:"success",data:L}),L}catch(L){try{throw await((C=(S=fe(this,lr).config).onError)==null?void 0:C.call(S,L,e,this.state.context,this)),await((N=(E=this.options).onError)==null?void 0:N.call(E,L,e,this.state.context)),await((M=(T=fe(this,lr).config).onSettled)==null?void 0:M.call(T,void 0,L,this.state.variables,this.state.context,this)),await((O=(A=this.options).onSettled)==null?void 0:O.call(A,void 0,L,e,this.state.context)),L}finally{qn(this,hs,ki).call(this,{type:"error",error:L})}}finally{fe(this,lr).runNext(this)}}},fs=new WeakMap,lr=new WeakMap,tl=new WeakMap,hs=new WeakSet,ki=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ur.batch(()=>{fe(this,fs).forEach(r=>{r.onMutationUpdate(e)}),fe(this,lr).notify({mutation:this,type:"updated",action:e})})},RM);function zK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Us,zo,mf,MM,BK=(MM=class extends _g{constructor(e={}){super();Nt(this,Us);Nt(this,zo);Nt(this,mf);this.config=e,st(this,Us,new Set),st(this,zo,new Map),st(this,mf,0)}build(e,n,r){const o=new $K({mutationCache:this,mutationId:++Lh(this,mf)._,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){fe(this,Us).add(e);const n=sp(e);if(typeof n=="string"){const r=fe(this,zo).get(n);r?r.push(e):fe(this,zo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(fe(this,Us).delete(e)){const n=sp(e);if(typeof n=="string"){const r=fe(this,zo).get(n);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&fe(this,zo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=sp(e);if(typeof n=="string"){const r=fe(this,zo).get(n),o=r==null?void 0:r.find(s=>s.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const n=sp(e);if(typeof n=="string"){const o=(r=fe(this,zo).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ur.batch(()=>{fe(this,Us).forEach(e=>{this.notify({type:"removed",mutation:e})}),fe(this,Us).clear(),fe(this,zo).clear()})}getAll(){return Array.from(fe(this,Us))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sT(n,r))}findAll(e={}){return this.getAll().filter(n=>sT(e,n))}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ur.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fo))))}},Us=new WeakMap,zo=new WeakMap,mf=new WeakMap,MM);function sp(t){var e;return(e=t.options.scope)==null?void 0:e.id}function lT(t){return{onFetch:(e,n)=>{var f,p,g,y,b;const r=e.options,o=(g=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],i=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},S=$_(e.options,e.fetchOptions),C=async(E,N,T)=>{if(w)return Promise.reject();if(N==null&&E.pages.length)return Promise.resolve(E);const A=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:N,direction:T?"backward":"forward",meta:e.options.meta};return x(V),V})(),O=await S(A),{maxPages:L}=e.options,F=T?RK:TK;return{pages:F(E.pages,O,L),pageParams:F(E.pageParams,N,L)}};if(o&&s.length){const E=o==="backward",N=E?WK:cT,T={pages:s,pageParams:i},M=N(r,T);a=await C(T,M,E)}else{const E=t??s.length;do{const N=l===0?i[0]??r.initialPageParam:cT(r,a);if(l>0&&N==null)break;a=await C(a,N),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function cT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function WK(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var sn,$i,zi,jc,Lc,Bi,Fc,$c,AM,UK=(AM=class{constructor(t={}){Nt(this,sn);Nt(this,$i);Nt(this,zi);Nt(this,jc);Nt(this,Lc);Nt(this,Bi);Nt(this,Fc);Nt(this,$c);st(this,sn,t.queryCache||new FK),st(this,$i,t.mutationCache||new BK),st(this,zi,t.defaultOptions||{}),st(this,jc,new Map),st(this,Lc,new Map),st(this,Bi,0)}mount(){Lh(this,Bi)._++,fe(this,Bi)===1&&(st(this,Fc,z_.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,sn).onFocus())})),st(this,$c,Nm.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,sn).onOnline())})))}unmount(){var t,e;Lh(this,Bi)._--,fe(this,Bi)===0&&((t=fe(this,Fc))==null||t.call(this),st(this,Fc,void 0),(e=fe(this,$c))==null||e.call(this),st(this,$c,void 0))}isFetching(t){return fe(this,sn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return fe(this,$i).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,sn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=fe(this,sn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return fe(this,sn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=fe(this,sn).get(r.queryHash),s=o==null?void 0:o.state.data,i=bK(e,s);if(i!==void 0)return fe(this,sn).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return ur.batch(()=>fe(this,sn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,sn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=fe(this,sn);ur.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=fe(this,sn);return ur.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ur.batch(()=>fe(this,sn).findAll(t).map(o=>o.cancel(n)));return Promise.all(r).then(Fo).catch(Fo)}invalidateQueries(t,e={}){return ur.batch(()=>(fe(this,sn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ur.batch(()=>fe(this,sn).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Fo)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Fo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=fe(this,sn).build(this,e);return n.isStaleByTime(vw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fo).catch(Fo)}fetchInfiniteQuery(t){return t.behavior=lT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fo).catch(Fo)}ensureInfiniteQueryData(t){return t.behavior=lT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nm.isOnline()?fe(this,$i).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,sn)}getMutationCache(){return fe(this,$i)}getDefaultOptions(){return fe(this,zi)}setDefaultOptions(t){st(this,zi,t)}setQueryDefaults(t,e){fe(this,jc).set(Kd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...fe(this,jc).values()],n={};return e.forEach(r=>{qd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){fe(this,Lc).set(Kd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...fe(this,Lc).values()],n={};return e.forEach(r=>{qd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...fe(this,zi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=M1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===A1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...fe(this,zi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){fe(this,sn).clear(),fe(this,$i).clear()}},sn=new WeakMap,$i=new WeakMap,zi=new WeakMap,jc=new WeakMap,Lc=new WeakMap,Bi=new WeakMap,Fc=new WeakMap,$c=new WeakMap,AM),HK=m.createContext(void 0),VK=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(HK.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}var Vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vi||(Vi={}));const uT="popstate";function GK(t){t===void 0&&(t={});function e(r,o){let{pathname:s,search:i,hash:a}=r.location;return ww("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:G_(o)}return qK(e,n,null,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KK(){return Math.random().toString(36).substr(2,8)}function dT(t,e){return{usr:t.state,key:t.key,idx:e}}function ww(t,e,n,r){return n===void 0&&(n=null),Yd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?du(e):e,{state:n,key:e&&e.key||r||KK()})}function G_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function du(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qK(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,a=Vi.Pop,l=null,u=f();u==null&&(u=0,i.replaceState(Yd({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function p(){a=Vi.Pop;let x=f(),S=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:S})}function g(x,S){a=Vi.Push;let C=ww(w.location,x,S);u=f()+1;let E=dT(C,u),N=w.createHref(C);try{i.pushState(E,"",N)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(N)}s&&l&&l({action:a,location:w.location,delta:1})}function y(x,S){a=Vi.Replace;let C=ww(w.location,x,S);u=f();let E=dT(C,u),N=w.createHref(C);i.replaceState(E,"",N),s&&l&&l({action:a,location:w.location,delta:0})}function b(x){let S=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof x=="string"?x:G_(x);return C=C.replace(/ $/,"%20"),gn(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let w={get action(){return a},get location(){return t(o,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(uT,p),l=x,()=>{o.removeEventListener(uT,p),l=null}},createHref(x){return e(o,x)},createURL:b,encodeLocation(x){let S=b(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(x){return i.go(x)}};return w}var fT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fT||(fT={}));function YK(t,e,n){return n===void 0&&(n="/"),JK(t,e,n)}function JK(t,e,n,r){let o=typeof e=="string"?du(e):e,s=Y_(o.pathname||"/",n);if(s==null)return null;let i=K_(t);XK(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=cq(s);a=iq(i[l],u)}return a}function K_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=il([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),K_(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:oq(u,s.index),routesMeta:f})};return t.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of q_(s.path))o(s,i,l)}),e}function q_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=q_(r.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QK=/^:[\w-]+$/,ZK=3,eq=2,tq=1,nq=10,rq=-2,hT=t=>t==="*";function oq(t,e){let n=t.split("/"),r=n.length;return n.some(hT)&&(r+=rq),e&&(r+=eq),n.filter(o=>!hT(o)).reduce((o,s)=>o+(QK.test(s)?ZK:s===""?tq:nq),r)}function sq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function iq(t,e,n){let{routesMeta:r}=t,o={},s="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=aq({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),g=l.route;if(!p)return null;Object.assign(o,p.params),i.push({params:o,pathname:il([s,p.pathname]),pathnameBase:hq(il([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=il([s,p.pathnameBase]))}return i}function aq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lq(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((u,f,p)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let w=a[p]||"";i=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[p];return y&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function lq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),V_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function cq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Y_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?du(t):t;return{pathname:n?n.startsWith("/")?n:dq(n,e):e,search:pq(r),hash:mq(o)}}function dq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function v0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J_(t,e){let n=fq(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function X_(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=du(t):(o=Yd({},t),gn(!o.pathname||!o.pathname.includes("?"),v0("?","pathname","search",o)),gn(!o.pathname||!o.pathname.includes("#"),v0("#","pathname","hash",o)),gn(!o.search||!o.search.includes("#"),v0("#","search","hash",o)));let s=t===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=n;else{let p=e.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),p-=1;o.pathname=g.join("/")}a=p>=0?e[p]:"/"}let l=uq(o,a),u=i&&i!=="/"&&i.endsWith("/"),f=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const il=t=>t.join("/").replace(/\/\/+/g,"/"),hq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q_=["post","put","patch","delete"];new Set(Q_);const yq=["get",...Q_];new Set(yq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}const P1=m.createContext(null),vq=m.createContext(null),Af=m.createContext(null),Dg=m.createContext(null),wa=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Z_=m.createContext(null);function Pf(){return m.useContext(Dg)!=null}function Of(){return Pf()||gn(!1),m.useContext(Dg).location}function eI(t){m.useContext(Af).static||m.useLayoutEffect(t)}function jg(){let{isDataRoute:t}=m.useContext(wa);return t?_q():xq()}function xq(){Pf()||gn(!1);let t=m.useContext(P1),{basename:e,future:n,navigator:r}=m.useContext(Af),{matches:o}=m.useContext(wa),{pathname:s}=Of(),i=JSON.stringify(J_(o,n.v7_relativeSplatPath)),a=m.useRef(!1);return eI(()=>{a.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=X_(u,JSON.parse(i),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:il([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,i,s,t])}const wq=m.createContext(null);function bq(t){let e=m.useContext(wa).outlet;return e&&m.createElement(wq.Provider,{value:t},e)}function Sq(t,e){return Cq(t,e)}function Cq(t,e,n,r){Pf()||gn(!1);let{navigator:o}=m.useContext(Af),{matches:s}=m.useContext(wa),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=Of(),f;if(e){var p;let x=typeof e=="string"?du(e):e;l==="/"||(p=x.pathname)!=null&&p.startsWith(l)||gn(!1),f=x}else f=u;let g=f.pathname||"/",y=g;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=YK(t,{pathname:y}),w=Rq(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:il([l,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:il([l,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&w?m.createElement(Dg.Provider,{value:{location:Jd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vi.Pop}},w):w}function Eq(){let t=Oq(),e=gq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:o},n):null,null)}const kq=m.createElement(Eq,null);class Nq extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(wa.Provider,{value:this.props.routeContext},m.createElement(Z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tq(t){let{routeContext:e,match:n,children:r}=t,o=m.useContext(P1);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(wa.Provider,{value:e},r)}function Rq(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||gn(!1),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let y,b=!1,w=null,x=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||kq,l&&(u<0&&g===0?(Iq("route-fallback"),b=!0,x=null):u===g&&(b=!0,x=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,g+1)),C=()=>{let E;return y?E=w:b?E=x:p.route.Component?E=m.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=f,m.createElement(Tq,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?m.createElement(Nq,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var tI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tI||{}),nI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nI||{});function Mq(t){let e=m.useContext(P1);return e||gn(!1),e}function Aq(t){let e=m.useContext(vq);return e||gn(!1),e}function Pq(t){let e=m.useContext(wa);return e||gn(!1),e}function rI(t){let e=Pq(),n=e.matches[e.matches.length-1];return n.route.id||gn(!1),n.route.id}function Oq(){var t;let e=m.useContext(Z_),n=Aq(),r=rI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _q(){let{router:t}=Mq(tI.UseNavigateStable),e=rI(nI.UseNavigateStable),n=m.useRef(!1);return eI(()=>{n.current=!0}),m.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Jd({fromRouteId:e},s)))},[t,e])}const pT={};function Iq(t,e,n){pT[t]||(pT[t]=!0)}function Dq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bw(t){let{to:e,replace:n,state:r,relative:o}=t;Pf()||gn(!1);let{future:s,static:i}=m.useContext(Af),{matches:a}=m.useContext(wa),{pathname:l}=Of(),u=jg(),f=X_(e,J_(a,s.v7_relativeSplatPath),l,o==="path"),p=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:o}),[u,p,o,n,r]),null}function jq(t){return bq(t.context)}function Ni(t){gn(!1)}function Lq(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Vi.Pop,navigator:s,static:i=!1,future:a}=t;Pf()&&gn(!1);let l=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:s,static:i,future:Jd({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof r=="string"&&(r=du(r));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:b="default"}=r,w=m.useMemo(()=>{let x=Y_(f,l);return x==null?null:{location:{pathname:x,search:p,hash:g,state:y,key:b},navigationType:o}},[l,f,p,g,y,b,o]);return w==null?null:m.createElement(Af.Provider,{value:u},m.createElement(Dg.Provider,{children:n,value:w}))}function Fq(t){let{children:e,location:n}=t;return Sq(Sw(e),n)}new Promise(()=>{});function Sw(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,o)=>{if(!m.isValidElement(r))return;let s=[...e,o];if(r.type===m.Fragment){n.push.apply(n,Sw(r.props.children,s));return}r.type!==Ni&&gn(!1),!r.props.index||!r.props.children||gn(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Sw(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $q="6";try{window.__reactRouterVersion=$q}catch{}const zq="startTransition",mT=yb[zq];function Bq(t){let{basename:e,children:n,future:r,window:o}=t,s=m.useRef();s.current==null&&(s.current=GK({window:o,v5Compat:!0}));let i=s.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=m.useCallback(p=>{u&&mT?mT(()=>l(p)):l(p)},[l,u]);return m.useLayoutEffect(()=>i.listen(f),[i,f]),m.useEffect(()=>Dq(r),[r]),m.createElement(Lq,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var gT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gT||(gT={}));var yT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yT||(yT={}));function Wq(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[o,s]=m.useState(!1),i=m.useRef(n);i.current=n;const a=m.useRef(r);return a.current=r,m.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=e,l.onload=()=>{var u;s(!0),(u=i.current)===null||u===void 0||u.call(i)},l.onerror=()=>{var u;s(!1),(u=a.current)===null||u===void 0||u.call(a)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[e]),o}const oI=m.createContext(null);function Uq({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:o}){const s=Wq({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),i=m.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:s}),[t,s]);return ne.createElement(oI.Provider,{value:i},o)}function Hq(){const t=m.useContext(oI);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function Vq(){var t,e,n;(n=(e=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.accounts)===null||e===void 0?void 0:e.id)===null||n===void 0||n.disableAutoSelect()}function Gq({flow:t="implicit",scope:e="",onSuccess:n,onError:r,onNonOAuthError:o,overrideScope:s,state:i,...a}){const{clientId:l,scriptLoadedSuccessfully:u}=Hq(),f=m.useRef(),p=m.useRef(n);p.current=n;const g=m.useRef(r);g.current=r;const y=m.useRef(o);y.current=o,m.useEffect(()=>{var x,S;if(!u)return;const C=t==="implicit"?"initTokenClient":"initCodeClient",E=(S=(x=window==null?void 0:window.google)===null||x===void 0?void 0:x.accounts)===null||S===void 0?void 0:S.oauth2[C]({client_id:l,scope:s?e:`openid profile email ${e}`,callback:N=>{var T,M;if(N.error)return(T=g.current)===null||T===void 0?void 0:T.call(g,N);(M=p.current)===null||M===void 0||M.call(p,N)},error_callback:N=>{var T;(T=y.current)===null||T===void 0||T.call(y,N)},state:i,...a});f.current=E},[l,u,t,e,i]);const b=m.useCallback(x=>{var S;return(S=f.current)===null||S===void 0?void 0:S.requestAccessToken(x)},[]),w=m.useCallback(()=>{var x;return(x=f.current)===null||x===void 0?void 0:x.requestCode()},[]);return t==="implicit"?b:w}const sI=m.createContext(void 0),Zo=()=>{const t=m.useContext(sI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Kq=({children:t})=>{const[e,n]=m.useState(null),[r,o]=m.useState(!0),[s,i]=m.useState(null),[a,l]=m.useState(0),u=m.useRef(0);m.useEffect(()=>{(async()=>{try{console.log("Starting authentication initialization");const x=localStorage.getItem("itemize_token"),S=localStorage.getItem("itemize_user"),C=localStorage.getItem("itemize_expiry");if(console.log("Auth data from storage:",{hasToken:!!x,hasUser:!!S,hasExpiry:!!C}),x&&typeof x=="string"&&S&&typeof S=="string"&&S!=="undefined"&&C&&!isNaN(parseInt(C))&&parseInt(C)>Date.now())try{const E=JSON.parse(S);if(E&&typeof E=="object"&&E.uid)console.log("Restoring authentication with user:",E),i(x),n(E),l(Date.now()),console.log("Authentication restored successfully");else throw console.error("Invalid user data structure:",E),new Error("Invalid user data structure")}catch(E){console.error("Failed to parse saved user data:",E),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry"),i(null),n(null)}else console.log("No valid authentication found, cleaning up storage"),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry"),i(null),n(null)}catch(x){console.error("Error initializing auth:",x),i(null),n(null)}finally{console.log("Authentication initialization complete"),o(!1)}})()},[]);const f=Gq({onSuccess:async w=>{o(!0);try{console.log("Google login successful, getting user info");const S=(await It.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${w.access_token}`}})).data;console.log("Received user info from Google:",S);const C="http://localhost:3001";console.log("Sending user info to backend:",`${C}/api/auth/google-login`);try{const E=await It.post(`${C}/api/auth/google-login`,{googleId:S.sub,email:S.email,name:S.name,picture:S.picture});if(console.log("Backend auth response:",E.data),!E.data)throw new Error("Empty response data from backend");const N=E.data.token,T=E.data.user;if(!N)throw new Error("Missing token in backend response");if(!T||!T.uid)throw new Error("Missing or invalid user data in backend response");const M=Date.now()+7*24*60*60*1e3;localStorage.setItem("itemize_token",N),localStorage.setItem("itemize_user",JSON.stringify(T)),localStorage.setItem("itemize_expiry",M.toString()),console.log("Setting authentication state with:",{token:N,user:T}),i(N),n(T),l(Date.now()),console.log("Backend auth successful, state updated"),ow({title:"Welcome!",description:"Successfully signed in with Google."})}catch(E){throw console.error("Backend auth error:",E),new Error(`Backend authentication failed: ${E.message}`)}}catch(x){console.error("Google login failed:",x)}finally{o(!1)}},onError:()=>{console.error("Google login failed"),o(!1)},scope:"email profile",ux_mode:"popup"}),p=()=>{f()},g=()=>{console.log("Logging out user..."),i(null),n(null),localStorage.removeItem("itemize_token"),localStorage.removeItem("itemize_user"),localStorage.removeItem("itemize_expiry");try{Vq()}catch(w){console.error("Error signing out from Google:",w)}if(u.current<3)try{const w="http://localhost:3001";qt.post("/api/auth/logout").catch(x=>{console.error("Backend logout failed:",x),u.current++})}catch(w){console.error("Backend logout failed:",w),u.current++}},y=async w=>{o(!0);try{console.log("Google One Tap login successful");const S=await It.post("http://localhost:3001/api/auth/google-credential",{credential:w.credential}),{token:C,user:E}=S.data,N=Date.now()+7*24*60*60*1e3;localStorage.setItem("itemize_token",C),localStorage.setItem("itemize_user",JSON.stringify(E)),localStorage.setItem("itemize_expiry",N.toString()),console.log("Setting authentication state with:",{token:C,user:E}),i(C),n(E),l(Date.now()),ow({title:"Welcome!",description:"Successfully signed in with Google."})}catch(x){console.error("Google credential login failed:",x)}finally{o(!1)}};m.useEffect(()=>{console.log("Auth context changed:",{isAuthenticated:!!e&&!!s,hasUser:!!e,hasToken:!!s,lastAuthenticated:a,userData:e})},[e,s,a]);const b={currentUser:e,loading:r,login:p,logout:g,handleGoogleSuccess:y,token:s,isAuthenticated:!!e&&!!s};return h.jsx(sI.Provider,{value:b,children:t})},vT="itemize-ai-suggest-enabled",iI=m.createContext({aiEnabled:!0,setAiEnabled:()=>{}}),qq=({children:t})=>{const[e,n]=m.useState(()=>{try{const r=localStorage.getItem(vT);return r?JSON.parse(r):!0}catch{return!0}});return m.useEffect(()=>{localStorage.setItem(vT,JSON.stringify(e))},[e]),h.jsx(iI.Provider,{value:{aiEnabled:e,setAiEnabled:n},children:t})},aI=()=>m.useContext(iI),Yq=kf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},s)=>{const i=r?EV:"button";return h.jsx(i,{className:Te(Yq({variant:e,size:n,className:t})),ref:s,...o})});ke.displayName="Button";var Jq=m.createContext(void 0);function _f(t){const e=m.useContext(Jq);return t||e||"ltr"}var x0=0;function Lg(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xT()),document.body.insertAdjacentElement("beforeend",t[1]??xT()),x0++,()=>{x0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),x0--}},[])}function xT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var w0="focusScope.autoFocusOnMount",b0="focusScope.autoFocusOnUnmount",wT={bubbles:!1,cancelable:!0},Xq="FocusScope",If=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=t,[a,l]=m.useState(null),u=Ir(o),f=Ir(s),p=m.useRef(null),g=at(e,w=>l(w)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let w=function(E){if(y.paused||!a)return;const N=E.target;a.contains(N)?p.current=N:Ti(p.current,{select:!0})},x=function(E){if(y.paused||!a)return;const N=E.relatedTarget;N!==null&&(a.contains(N)||Ti(p.current,{select:!0}))},S=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Ti(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const C=new MutationObserver(S);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),C.disconnect()}}},[r,a,y.paused]),m.useEffect(()=>{if(a){ST.add(y);const w=document.activeElement;if(!a.contains(w)){const S=new CustomEvent(w0,wT);a.addEventListener(w0,u),a.dispatchEvent(S),S.defaultPrevented||(Qq(rY(lI(a)),{select:!0}),document.activeElement===w&&Ti(a))}return()=>{a.removeEventListener(w0,u),setTimeout(()=>{const S=new CustomEvent(b0,wT);a.addEventListener(b0,f),a.dispatchEvent(S),S.defaultPrevented||Ti(w??document.body,{select:!0}),a.removeEventListener(b0,f),ST.remove(y)},0)}}},[a,u,f,y]);const b=m.useCallback(w=>{if(!n&&!r||y.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(x&&S){const C=w.currentTarget,[E,N]=Zq(C);E&&N?!w.shiftKey&&S===N?(w.preventDefault(),n&&Ti(E,{select:!0})):w.shiftKey&&S===E&&(w.preventDefault(),n&&Ti(N,{select:!0})):S===C&&w.preventDefault()}},[n,r,y.paused]);return h.jsx(je.div,{tabIndex:-1,...i,ref:g,onKeyDown:b})});If.displayName=Xq;function Qq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ti(r,{select:e}),document.activeElement!==n)return}function Zq(t){const e=lI(t),n=bT(e,t),r=bT(e.reverse(),t);return[n,r]}function lI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bT(t,e){for(const n of t)if(!eY(n,{upTo:e}))return n}function eY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tY(t){return t instanceof HTMLInputElement&&"select"in t}function Ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&tY(t)&&e&&t.select()}}var ST=nY();function nY(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=CT(t,e),t.unshift(e)},remove(e){var n;t=CT(t,e),(n=t[0])==null||n.resume()}}}function CT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function rY(t){return t.filter(e=>e.tagName!=="A")}var S0="rovingFocusGroup.onEntryFocus",oY={bubbles:!1,cancelable:!0},Df="RovingFocusGroup",[Cw,cI,sY]=Cf(Df),[iY,Fg]=jr(Df,[sY]),[aY,lY]=iY(Df),uI=m.forwardRef((t,e)=>h.jsx(Cw.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(Cw.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(cY,{...t,ref:e})})}));uI.displayName=Df;var cY=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=t,g=m.useRef(null),y=at(e,g),b=_f(s),[w,x]=Dr({prop:i,defaultProp:a??null,onChange:l,caller:Df}),[S,C]=m.useState(!1),E=Ir(u),N=cI(n),T=m.useRef(!1),[M,A]=m.useState(0);return m.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(S0,E),()=>O.removeEventListener(S0,E)},[E]),h.jsx(aY,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:w,onItemFocus:m.useCallback(O=>x(O),[x]),onItemShiftTab:m.useCallback(()=>C(!0),[]),onFocusableItemAdd:m.useCallback(()=>A(O=>O+1),[]),onFocusableItemRemove:m.useCallback(()=>A(O=>O-1),[]),children:h.jsx(je.div,{tabIndex:S||M===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{T.current=!0}),onFocus:Ee(t.onFocus,O=>{const L=!T.current;if(O.target===O.currentTarget&&L&&!S){const F=new CustomEvent(S0,oY);if(O.currentTarget.dispatchEvent(F),!F.defaultPrevented){const V=N().filter(ee=>ee.focusable),H=V.find(ee=>ee.active),G=V.find(ee=>ee.id===w),X=[H,G,...V].filter(Boolean).map(ee=>ee.ref.current);hI(X,f)}}T.current=!1}),onBlur:Ee(t.onBlur,()=>C(!1))})})}),dI="RovingFocusGroupItem",fI=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...a}=t,l=Rn(),u=s||l,f=lY(dI,n),p=f.currentTabStopId===u,g=cI(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:w}=f;return m.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),h.jsx(Cw.ItemSlot,{scope:n,id:u,focusable:r,active:o,children:h.jsx(je.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:Ee(t.onMouseDown,x=>{r?f.onItemFocus(u):x.preventDefault()}),onFocus:Ee(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ee(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const S=fY(x,f.orientation,f.dir);if(S!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=g().filter(N=>N.focusable).map(N=>N.ref.current);if(S==="last")E.reverse();else if(S==="prev"||S==="next"){S==="prev"&&E.reverse();const N=E.indexOf(x.currentTarget);E=f.loop?hY(E,N+1):E.slice(N+1)}setTimeout(()=>hI(E))}}),children:typeof i=="function"?i({isCurrentTabStop:p,hasTabStop:w!=null}):i})})});fI.displayName=dI;var uY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fY(t,e,n){const r=dY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uY[r]}function hI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function hY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pI=uI,mI=fI,pY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Jl=new WeakMap,ip=new WeakMap,ap={},C0=0,gI=function(t){return t&&(t.host||gI(t.parentNode))},mY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gY=function(t,e,n,r){var o=mY(e,Array.isArray(t)?t:[t]);ap[n]||(ap[n]=new WeakMap);var s=ap[n],i=[],a=new Set,l=new Set(o),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};o.forEach(u);var f=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var y=g.getAttribute(r),b=y!==null&&y!=="false",w=(Jl.get(g)||0)+1,x=(s.get(g)||0)+1;Jl.set(g,w),s.set(g,x),i.push(g),w===1&&b&&ip.set(g,!0),x===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return f(e),a.clear(),C0++,function(){i.forEach(function(p){var g=Jl.get(p)-1,y=s.get(p)-1;Jl.set(p,g),s.set(p,y),g||(ip.has(p)||p.removeAttribute(r),ip.delete(p)),y||p.removeAttribute(n)}),C0--,C0||(Jl=new WeakMap,Jl=new WeakMap,ip=new WeakMap,ap={})}},$g=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=pY(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),gY(r,o,n,"aria-hidden")):function(){return null}},ms=function(){return ms=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ms.apply(this,arguments)};function yI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function yY(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,s;r<o;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var zp="right-scroll-bar-position",Bp="width-before-scroll-bar",vY="with-scroll-bars-hidden",xY="--removed-body-scroll-bar-size";function E0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wY(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var bY=typeof window<"u"?m.useLayoutEffect:m.useEffect,ET=new WeakMap;function SY(t,e){var n=wY(null,function(r){return t.forEach(function(o){return E0(o,r)})});return bY(function(){var r=ET.get(n);if(r){var o=new Set(r),s=new Set(t),i=n.current;o.forEach(function(a){s.has(a)||E0(a,null)}),s.forEach(function(a){o.has(a)||E0(a,i)})}ET.set(n,t)},[t]),n}function CY(t){return t}function EY(t,e){e===void 0&&(e=CY);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var i=e(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var f=i;i=[],f.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return o}function kY(t){t===void 0&&(t={});var e=EY(null);return e.options=ms({async:!0,ssr:!1},t),e}var vI=function(t){var e=t.sideCar,n=yI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ms({},n))};vI.isSideCarExport=!0;function NY(t,e){return t.useMedium(e),vI}var xI=kY(),k0=function(){},zg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:k0,onWheelCapture:k0,onTouchMoveCapture:k0}),o=r[0],s=r[1],i=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,y=t.noRelative,b=t.noIsolation,w=t.inert,x=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,E=t.gapMode,N=yI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,M=SY([n,e]),A=ms(ms({},N),o);return m.createElement(m.Fragment,null,f&&m.createElement(T,{sideCar:xI,removeScrollBar:u,shards:p,noRelative:y,noIsolation:b,inert:w,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:E}),i?m.cloneElement(m.Children.only(a),ms(ms({},A),{ref:M})):m.createElement(C,ms({},A,{className:l,ref:M}),a))});zg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zg.classNames={fullWidth:Bp,zeroRight:zp};var TY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TY();return e&&t.setAttribute("nonce",e),t}function MY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=RY())&&(MY(e,n),AY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OY=function(){var t=PY();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wI=function(){var t=OY(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},_Y={left:0,top:0,right:0,gap:0},N0=function(t){return parseInt(t||"",10)||0},IY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[N0(n),N0(r),N0(o)]},DY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _Y;var e=IY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},jY=wI(),Tc="data-scroll-locked",LY=function(t,e,n,r){var o=t.left,s=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Tc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zp," .").concat(zp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bp," .").concat(Bp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Tc,`] {
    `).concat(xY,": ").concat(a,`px;
  }
`)},kT=function(){var t=parseInt(document.body.getAttribute(Tc)||"0",10);return isFinite(t)?t:0},FY=function(){m.useEffect(function(){return document.body.setAttribute(Tc,(kT()+1).toString()),function(){var t=kT()-1;t<=0?document.body.removeAttribute(Tc):document.body.setAttribute(Tc,t.toString())}},[])},$Y=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;FY();var s=m.useMemo(function(){return DY(o)},[o]);return m.createElement(jY,{styles:LY(s,!e,o,n?"":"!important")})},Ew=!1;if(typeof window<"u")try{var lp=Object.defineProperty({},"passive",{get:function(){return Ew=!0,!0}});window.addEventListener("test",lp,lp),window.removeEventListener("test",lp,lp)}catch{Ew=!1}var Xl=Ew?{passive:!1}:!1,zY=function(t){return t.tagName==="TEXTAREA"},bI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!zY(t)&&n[e]==="visible")},BY=function(t){return bI(t,"overflowY")},WY=function(t){return bI(t,"overflowX")},NT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=SI(t,r);if(o){var s=CI(t,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},SI=function(t,e){return t==="v"?BY(e):WY(e)},CI=function(t,e){return t==="v"?UY(e):HY(e)},VY=function(t,e){return t==="h"&&e==="rtl"?-1:1},GY=function(t,e,n,r,o){var s=VY(t,window.getComputedStyle(e).direction),i=s*r,a=n.target,l=e.contains(a),u=!1,f=i>0,p=0,g=0;do{if(!a)break;var y=CI(t,a),b=y[0],w=y[1],x=y[2],S=w-x-s*b;(b||S)&&SI(t,a)&&(p+=S,g+=b);var C=a.parentNode;a=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},cp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TT=function(t){return[t.deltaX,t.deltaY]},RT=function(t){return t&&"current"in t?t.current:t},KY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YY=0,Ql=[];function JY(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),o=m.useState(YY++)[0],s=m.useState(wI)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var w=yY([t.lockRef.current],(t.shards||[]).map(RT),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!i.current.allowPinchZoom;var S=cp(w),C=n.current,E="deltaX"in w?w.deltaX:C[0]-S[0],N="deltaY"in w?w.deltaY:C[1]-S[1],T,M=w.target,A=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in w&&A==="h"&&M.type==="range")return!1;var O=NT(A,M);if(!O)return!0;if(O?T=A:(T=A==="v"?"h":"v",O=NT(A,M)),!O)return!1;if(!r.current&&"changedTouches"in w&&(E||N)&&(r.current=T),!T)return!0;var L=r.current||T;return GY(L,x,w,L==="h"?E:N)},[]),l=m.useCallback(function(w){var x=w;if(!(!Ql.length||Ql[Ql.length-1]!==s)){var S="deltaY"in x?TT(x):cp(x),C=e.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&KY(T.delta,S)})[0];if(C&&C.should){x.cancelable&&x.preventDefault();return}if(!C){var E=(i.current.shards||[]).map(RT).filter(Boolean).filter(function(T){return T.contains(x.target)}),N=E.length>0?a(x,E[0]):!i.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(w,x,S,C){var E={name:w,delta:x,target:S,should:C,shadowParent:XY(S)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(N){return N!==E})},1)},[]),f=m.useCallback(function(w){n.current=cp(w),r.current=void 0},[]),p=m.useCallback(function(w){u(w.type,TT(w),w.target,a(w,t.lockRef.current))},[]),g=m.useCallback(function(w){u(w.type,cp(w),w.target,a(w,t.lockRef.current))},[]);m.useEffect(function(){return Ql.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Xl),document.addEventListener("touchmove",l,Xl),document.addEventListener("touchstart",f,Xl),function(){Ql=Ql.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,Xl),document.removeEventListener("touchmove",l,Xl),document.removeEventListener("touchstart",f,Xl)}},[]);var y=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(s,{styles:qY(o)}):null,y?m.createElement($Y,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function XY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QY=NY(xI,JY);var jf=m.forwardRef(function(t,e){return m.createElement(zg,ms({},t,{ref:e,sideCar:QY}))});jf.classNames=zg.classNames;var kw=["Enter"," "],ZY=["ArrowDown","PageUp","Home"],EI=["ArrowUp","PageDown","End"],eJ=[...ZY,...EI],tJ={ltr:[...kw,"ArrowRight"],rtl:[...kw,"ArrowLeft"]},nJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lf="Menu",[Xd,rJ,oJ]=Cf(Lf),[Pl,kI]=jr(Lf,[oJ,xa,Fg]),Bg=xa(),NI=Fg(),[sJ,Ol]=Pl(Lf),[iJ,Ff]=Pl(Lf),TI=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=t,a=Bg(e),[l,u]=m.useState(null),f=m.useRef(!1),p=Ir(s),g=_f(o);return m.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),h.jsx(Tg,{...a,children:h.jsx(sJ,{scope:e,open:n,onOpenChange:p,content:l,onContentChange:u,children:h.jsx(iJ,{scope:e,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:i,children:r})})})};TI.displayName=Lf;var aJ="MenuAnchor",O1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=Bg(n);return h.jsx(Mf,{...o,...r,ref:e})});O1.displayName=aJ;var _1="MenuPortal",[lJ,RI]=Pl(_1,{forceMount:void 0}),MI=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,s=Ol(_1,e);return h.jsx(lJ,{scope:e,forceMount:n,children:h.jsx(no,{present:n||s.open,children:h.jsx(au,{asChild:!0,container:o,children:r})})})};MI.displayName=_1;var So="MenuContent",[cJ,I1]=Pl(So),AI=m.forwardRef((t,e)=>{const n=RI(So,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,s=Ol(So,t.__scopeMenu),i=Ff(So,t.__scopeMenu);return h.jsx(Xd.Provider,{scope:t.__scopeMenu,children:h.jsx(no,{present:r||s.open,children:h.jsx(Xd.Slot,{scope:t.__scopeMenu,children:i.modal?h.jsx(uJ,{...o,ref:e}):h.jsx(dJ,{...o,ref:e})})})})}),uJ=m.forwardRef((t,e)=>{const n=Ol(So,t.__scopeMenu),r=m.useRef(null),o=at(e,r);return m.useEffect(()=>{const s=r.current;if(s)return $g(s)},[]),h.jsx(D1,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dJ=m.forwardRef((t,e)=>{const n=Ol(So,t.__scopeMenu);return h.jsx(D1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fJ=ua("MenuContent.ScrollLock"),D1=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:y,disableOutsideScroll:b,...w}=t,x=Ol(So,n),S=Ff(So,n),C=Bg(n),E=NI(n),N=rJ(n),[T,M]=m.useState(null),A=m.useRef(null),O=at(e,A,x.onContentChange),L=m.useRef(0),F=m.useRef(""),V=m.useRef(0),H=m.useRef(null),G=m.useRef("right"),z=m.useRef(0),X=b?jf:m.Fragment,ee=b?{as:fJ,allowPinchZoom:!0}:void 0,oe=_=>{var J,ge;const B=F.current+_,U=N().filter(de=>!de.disabled),D=document.activeElement,Z=(J=U.find(de=>de.ref.current===D))==null?void 0:J.textValue,Q=U.map(de=>de.textValue),Y=EJ(Q,B,Z),ae=(ge=U.find(de=>de.textValue===Y))==null?void 0:ge.ref.current;(function de(ie){F.current=ie,window.clearTimeout(L.current),ie!==""&&(L.current=window.setTimeout(()=>de(""),1e3))})(B),ae&&setTimeout(()=>ae.focus())};m.useEffect(()=>()=>window.clearTimeout(L.current),[]),Lg();const j=m.useCallback(_=>{var U,D;return G.current===((U=H.current)==null?void 0:U.side)&&NJ(_,(D=H.current)==null?void 0:D.area)},[]);return h.jsx(cJ,{scope:n,searchRef:F,onItemEnter:m.useCallback(_=>{j(_)&&_.preventDefault()},[j]),onItemLeave:m.useCallback(_=>{var B;j(_)||((B=A.current)==null||B.focus(),M(null))},[j]),onTriggerLeave:m.useCallback(_=>{j(_)&&_.preventDefault()},[j]),pointerGraceTimerRef:V,onPointerGraceIntentChange:m.useCallback(_=>{H.current=_},[]),children:h.jsx(X,{...ee,children:h.jsx(If,{asChild:!0,trapped:o,onMountAutoFocus:Ee(s,_=>{var B;_.preventDefault(),(B=A.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:h.jsx(Al,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:y,children:h.jsx(pI,{asChild:!0,...E,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:M,onEntryFocus:Ee(l,_=>{S.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(Rg,{role:"menu","aria-orientation":"vertical","data-state":GI(x.open),"data-radix-menu-content":"",dir:S.dir,...C,...w,ref:O,style:{outline:"none",...w.style},onKeyDown:Ee(w.onKeyDown,_=>{const U=_.target.closest("[data-radix-menu-content]")===_.currentTarget,D=_.ctrlKey||_.altKey||_.metaKey,Z=_.key.length===1;U&&(_.key==="Tab"&&_.preventDefault(),!D&&Z&&oe(_.key));const Q=A.current;if(_.target!==Q||!eJ.includes(_.key))return;_.preventDefault();const ae=N().filter(J=>!J.disabled).map(J=>J.ref.current);EI.includes(_.key)&&ae.reverse(),SJ(ae)}),onBlur:Ee(t.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(L.current),F.current="")}),onPointerMove:Ee(t.onPointerMove,Qd(_=>{const B=_.target,U=z.current!==_.clientX;if(_.currentTarget.contains(B)&&U){const D=_.clientX>z.current?"right":"left";G.current=D,z.current=_.clientX}}))})})})})})})});AI.displayName=So;var hJ="MenuGroup",j1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(je.div,{role:"group",...r,ref:e})});j1.displayName=hJ;var pJ="MenuLabel",PI=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(je.div,{...r,ref:e})});PI.displayName=pJ;var Tm="MenuItem",MT="menu.itemSelect",Wg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,s=m.useRef(null),i=Ff(Tm,t.__scopeMenu),a=I1(Tm,t.__scopeMenu),l=at(e,s),u=m.useRef(!1),f=()=>{const p=s.current;if(!n&&p){const g=new CustomEvent(MT,{bubbles:!0,cancelable:!0});p.addEventListener(MT,y=>r==null?void 0:r(y),{once:!0}),f1(p,g),g.defaultPrevented?u.current=!1:i.onClose()}};return h.jsx(OI,{...o,ref:l,disabled:n,onClick:Ee(t.onClick,f),onPointerDown:p=>{var g;(g=t.onPointerDown)==null||g.call(t,p),u.current=!0},onPointerUp:Ee(t.onPointerUp,p=>{var g;u.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:Ee(t.onKeyDown,p=>{const g=a.searchRef.current!=="";n||g&&p.key===" "||kw.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Wg.displayName=Tm;var OI=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=t,i=I1(Tm,n),a=NI(n),l=m.useRef(null),u=at(e,l),[f,p]=m.useState(!1),[g,y]=m.useState("");return m.useEffect(()=>{const b=l.current;b&&y((b.textContent??"").trim())},[s.children]),h.jsx(Xd.ItemSlot,{scope:n,disabled:r,textValue:o??g,children:h.jsx(mI,{asChild:!0,...a,focusable:!r,children:h.jsx(je.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Ee(t.onPointerMove,Qd(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,Qd(b=>i.onItemLeave(b))),onFocus:Ee(t.onFocus,()=>p(!0)),onBlur:Ee(t.onBlur,()=>p(!1))})})})}),mJ="MenuCheckboxItem",_I=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return h.jsx(FI,{scope:t.__scopeMenu,checked:n,children:h.jsx(Wg,{role:"menuitemcheckbox","aria-checked":Rm(n)?"mixed":n,...o,ref:e,"data-state":F1(n),onSelect:Ee(o.onSelect,()=>r==null?void 0:r(Rm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_I.displayName=mJ;var II="MenuRadioGroup",[gJ,yJ]=Pl(II,{value:void 0,onValueChange:()=>{}}),DI=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...o}=t,s=Ir(r);return h.jsx(gJ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:h.jsx(j1,{...o,ref:e})})});DI.displayName=II;var jI="MenuRadioItem",LI=m.forwardRef((t,e)=>{const{value:n,...r}=t,o=yJ(jI,t.__scopeMenu),s=n===o.value;return h.jsx(FI,{scope:t.__scopeMenu,checked:s,children:h.jsx(Wg,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":F1(s),onSelect:Ee(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});LI.displayName=jI;var L1="MenuItemIndicator",[FI,vJ]=Pl(L1,{checked:!1}),$I=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,s=vJ(L1,n);return h.jsx(no,{present:r||Rm(s.checked)||s.checked===!0,children:h.jsx(je.span,{...o,ref:e,"data-state":F1(s.checked)})})});$I.displayName=L1;var xJ="MenuSeparator",zI=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});zI.displayName=xJ;var wJ="MenuArrow",BI=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=Bg(n);return h.jsx(Mg,{...o,...r,ref:e})});BI.displayName=wJ;var bJ="MenuSub",[tue,WI]=Pl(bJ),od="MenuSubTrigger",UI=m.forwardRef((t,e)=>{const n=Ol(od,t.__scopeMenu),r=Ff(od,t.__scopeMenu),o=WI(od,t.__scopeMenu),s=I1(od,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},f=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),h.jsx(O1,{asChild:!0,...u,children:h.jsx(OI,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":GI(n.open),...t,ref:ni(e,o.onTriggerChange),onClick:p=>{var g;(g=t.onClick)==null||g.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,Qd(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ee(t.onPointerLeave,Qd(p=>{var y,b;f();const g=(y=n.content)==null?void 0:y.getBoundingClientRect();if(g){const w=(b=n.content)==null?void 0:b.dataset.side,x=w==="right",S=x?-5:5,C=g[x?"left":"right"],E=g[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+S,y:p.clientY},{x:C,y:g.top},{x:E,y:g.top},{x:E,y:g.bottom},{x:C,y:g.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,p=>{var y;const g=s.searchRef.current!=="";t.disabled||g&&p.key===" "||tJ[r.dir].includes(p.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),p.preventDefault())})})})});UI.displayName=od;var HI="MenuSubContent",VI=m.forwardRef((t,e)=>{const n=RI(So,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,s=Ol(So,t.__scopeMenu),i=Ff(So,t.__scopeMenu),a=WI(HI,t.__scopeMenu),l=m.useRef(null),u=at(e,l);return h.jsx(Xd.Provider,{scope:t.__scopeMenu,children:h.jsx(no,{present:r||s.open,children:h.jsx(Xd.Slot,{scope:t.__scopeMenu,children:h.jsx(D1,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;i.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Ee(t.onKeyDown,f=>{var y;const p=f.currentTarget.contains(f.target),g=nJ[i.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),f.preventDefault())})})})})})});VI.displayName=HI;function GI(t){return t?"open":"closed"}function Rm(t){return t==="indeterminate"}function F1(t){return Rm(t)?"indeterminate":t?"checked":"unchecked"}function SJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function CJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function EJ(t,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=CJ(t,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function kJ(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const a=e[s],l=e[i],u=a.x,f=a.y,p=l.x,g=l.y;f>r!=g>r&&n<(p-u)*(r-f)/(g-f)+u&&(o=!o)}return o}function NJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return kJ(n,e)}function Qd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var TJ=TI,RJ=O1,MJ=MI,AJ=AI,PJ=j1,OJ=PI,_J=Wg,IJ=_I,DJ=DI,jJ=LI,LJ=$I,FJ=zI,$J=BI,zJ=UI,BJ=VI,Ug="DropdownMenu",[WJ,nue]=jr(Ug,[kI]),vr=kI(),[UJ,KI]=WJ(Ug),qI=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=vr(e),u=m.useRef(null),[f,p]=Dr({prop:o,defaultProp:s??!1,onChange:i,caller:Ug});return h.jsx(UJ,{scope:e,triggerId:Rn(),triggerRef:u,contentId:Rn(),open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(g=>!g),[p]),modal:a,children:h.jsx(TJ,{...l,open:f,onOpenChange:p,dir:r,modal:a,children:n})})};qI.displayName=Ug;var YI="DropdownMenuTrigger",JI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=t,s=KI(YI,n),i=vr(n);return h.jsx(RJ,{asChild:!0,...i,children:h.jsx(je.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:ni(e,s.triggerRef),onPointerDown:Ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});JI.displayName=YI;var HJ="DropdownMenuPortal",XI=t=>{const{__scopeDropdownMenu:e,...n}=t,r=vr(e);return h.jsx(MJ,{...r,...n})};XI.displayName=HJ;var QI="DropdownMenuContent",ZI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=KI(QI,n),s=vr(n),i=m.useRef(!1);return h.jsx(AJ,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!o.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZI.displayName=QI;var VJ="DropdownMenuGroup",GJ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(PJ,{...o,...r,ref:e})});GJ.displayName=VJ;var KJ="DropdownMenuLabel",eD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(OJ,{...o,...r,ref:e})});eD.displayName=KJ;var qJ="DropdownMenuItem",tD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(_J,{...o,...r,ref:e})});tD.displayName=qJ;var YJ="DropdownMenuCheckboxItem",nD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(IJ,{...o,...r,ref:e})});nD.displayName=YJ;var JJ="DropdownMenuRadioGroup",XJ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(DJ,{...o,...r,ref:e})});XJ.displayName=JJ;var QJ="DropdownMenuRadioItem",rD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(jJ,{...o,...r,ref:e})});rD.displayName=QJ;var ZJ="DropdownMenuItemIndicator",oD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(LJ,{...o,...r,ref:e})});oD.displayName=ZJ;var eX="DropdownMenuSeparator",sD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(FJ,{...o,...r,ref:e})});sD.displayName=eX;var tX="DropdownMenuArrow",nX=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx($J,{...o,...r,ref:e})});nX.displayName=tX;var rX="DropdownMenuSubTrigger",iD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(zJ,{...o,...r,ref:e})});iD.displayName=rX;var oX="DropdownMenuSubContent",aD=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=vr(n);return h.jsx(BJ,{...o,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aD.displayName=oX;var sX=qI,iX=JI,aX=XI,lD=ZI,cD=eD,uD=tD,dD=nD,fD=rD,hD=oD,pD=sD,mD=iD,gD=aD;const Hg=sX,Vg=iX,lX=m.forwardRef(({className:t,inset:e,children:n,...r},o)=>h.jsxs(mD,{ref:o,className:Te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(y9,{className:"ml-auto h-4 w-4"})]}));lX.displayName=mD.displayName;const cX=m.forwardRef(({className:t,...e},n)=>h.jsx(gD,{ref:n,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));cX.displayName=gD.displayName;const $f=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(aX,{children:h.jsx(lD,{ref:r,sideOffset:e,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));$f.displayName=lD.displayName;const ha=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(uD,{ref:r,className:Te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ha.displayName=uD.displayName;const uX=m.forwardRef(({className:t,children:e,checked:n,...r},o)=>h.jsxs(dD,{ref:o,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(hD,{children:h.jsx(No,{className:"h-4 w-4"})})}),e]}));uX.displayName=dD.displayName;const dX=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(fD,{ref:r,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(hD,{children:h.jsx(w9,{className:"h-2 w-2 fill-current"})})}),e]}));dX.displayName=fD.displayName;const yD=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(cD,{ref:r,className:Te("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));yD.displayName=cD.displayName;const Nw=m.forwardRef(({className:t,...e},n)=>h.jsx(pD,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));Nw.displayName=pD.displayName;const fX=()=>{const{currentUser:t,login:e,logout:n}=Zo(),{toast:r}=To();Of();const o=jg(),s=()=>{try{e()}catch(l){console.error("Error initiating login:",l),r({title:"Error",description:"Could not start sign-in process. Please try again.",variant:"destructive"})}},i=async()=>{try{await n(),r({title:"Goodbye!",description:"Successfully signed out."})}catch{r({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},a=l=>{o(t?"/canvas":"/home")};return h.jsx("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsx("img",{src:"/cover.png",alt:"Itemize",className:"h-16 w-auto cursor-pointer",onClick:()=>a()})}),h.jsx("div",{className:"flex items-center md:space-x-4",children:t?h.jsxs(Hg,{children:[h.jsx(Vg,{asChild:!0,children:h.jsx(ke,{variant:"ghost",className:"relative h-9 w-9 rounded-full p-0 bg-blue-600 hover:bg-blue-700 border-0",children:h.jsx(A9,{className:"h-5 w-5 text-white"})})}),h.jsxs($f,{className:"w-56",align:"end",forceMount:!0,children:[h.jsx(yD,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:t.name||"User"}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),h.jsx(Nw,{}),h.jsx(Nw,{}),h.jsxs(ha,{onClick:i,children:[h.jsx(N9,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Log out"})]})]})]}):h.jsxs(ke,{onClick:s,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-light",size:"sm",children:[h.jsx(k9,{className:"mr-2 h-4 w-4"}),"Sign in"]})})]})})})},hX=()=>{const{login:t,currentUser:e,isAuthenticated:n,token:r}=Zo(),o=jg(),s=ne.useRef(!1);console.log("Home component rendered:",{hasUser:!!e,hasToken:!!r,isAuthenticated:n,alreadyNavigated:s.current}),ne.useEffect(()=>{n&&!s.current&&(console.log("Navigating to /canvas due to authenticated user:",{user:e,token:r}),s.current=!0,setTimeout(()=>o("/canvas"),0))},[e,o,n,r]);const i=async()=>{try{console.log("Starting login process"),s.current=!1,await t(),console.log("Login process completed, will navigate to /canvas after auth context updates")}catch(a){console.error("Login failed:",a)}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 overflow-hidden relative",children:[h.jsx("div",{className:"absolute inset-0 z-0 opacity-20",children:h.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:Array.from({length:10}).map((a,l)=>h.jsx("div",{className:"absolute rounded-full bg-blue-400",style:{width:`${Math.random()*300+50}px`,height:`${Math.random()*300+50}px`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:Math.random()*.2,transform:`scale(${Math.random()*1+.5})`,filter:"blur(60px)"}},`pattern-${l}`))})}),h.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("div",{className:"mb-2",children:h.jsx("img",{src:"/icon.png",alt:"Itemize",className:"h-20 md:h-24 w-auto mx-auto"})}),h.jsxs("h1",{className:"text-4xl font-light italic tracking-tight text-gray-900 sm:text-5xl md:text-6xl",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsxs("div",{className:"flex flex-col items-center md:hidden gap-1 pb-2",children:[h.jsx("div",{className:"text-center w-full",children:h.jsx("div",{className:"text-2xl md:text-xl inline-block whitespace-nowrap font-light",children:"Organize your life with"})}),h.jsx("div",{className:"mt-1",children:h.jsx("div",{className:"text-2xl md:text-2xl font-light italic tracking-wide text-gray-600",children:"ITEMIZE"})})]}),h.jsxs("div",{className:"hidden md:flex flex-row items-center justify-center gap-3",children:[h.jsx("span",{children:"Organize your life"}),h.jsx("span",{children:"with"}),h.jsx("img",{src:"/profile.png",alt:"Itemize",className:"h-64 inline-block"})]})]}),h.jsx("p",{className:"mt-2 max-w-md mx-auto text-base text-gray-600 sm:text-lg md:mt-3 md:text-xl md:max-w-3xl",style:{fontFamily:'"Raleway", sans-serif'},children:"The complete organizational ecosystem with lists, notes, and intelligent tools to streamline your workflow."}),h.jsx("div",{className:"mt-6 flex flex-col sm:flex-row gap-4 justify-center",children:h.jsxs(ke,{onClick:i,className:"rounded-md px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 font-light text-white",size:"lg",children:["Get Started Free",h.jsx(WN,{className:"ml-2 h-5 w-5"})]})})]}),h.jsxs("div",{className:"mt-16 mb-12",children:[h.jsx("h2",{className:"text-3xl font-light italic text-center text-gray-900 mb-8",style:{fontFamily:'"Raleway", sans-serif'},children:"Tools to stay organized"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 transform transition-all duration-300 hover:shadow-md hover:-translate-y-1",children:[h.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-5",children:h.jsx(C9,{className:"h-7 w-7 text-blue-600"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",style:{fontFamily:'"Raleway", sans-serif'},children:"Organizational Tools"}),h.jsx("p",{className:"text-gray-600",style:{fontFamily:'"Raleway", sans-serif'},children:"Create and manage lists, notes, and any organizational content you need. From shopping lists to project notes, everything in one place."}),h.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(fo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Lists, Notes, & Whiteboards"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(fo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Easy categories & color groupings"})]})]})]}),h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 transform transition-all duration-300 hover:shadow-md hover:-translate-y-1",children:[h.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-5",children:h.jsx(Hi,{className:"h-7 w-7 text-blue-600"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",style:{fontFamily:'"Raleway", sans-serif'},children:"Smart Suggestions"}),h.jsx("p",{className:"text-gray-600",style:{fontFamily:'"Raleway", sans-serif'},children:"Let AI help you build lists faster with intelligent item suggestions and effortless autocomplete."}),h.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(fo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"AI-powered item suggestions"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(fo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Effortless autocomplete"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(fo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Context-aware suggestions"})]})]})]}),h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 transform transition-all duration-300 hover:shadow-md hover:-translate-y-1",children:[h.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-5",children:h.jsx(b9,{className:"h-7 w-7 text-blue-600"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",style:{fontFamily:'"Raleway", sans-serif'},children:"Access Anywhere"}),h.jsx("p",{className:"text-gray-600",style:{fontFamily:'"Raleway", sans-serif'},children:"Your organizational tools are synced and available across all your devices whenever and wherever you need them."}),h.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(fo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Real-time synchronization"})]}),h.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(fo,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Works offline too"})]})]})]})]})]}),h.jsxs("div",{className:"mt-16 mb-12",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:"text-3xl font-light italic text-gray-900 mb-4",style:{fontFamily:'"Raleway", sans-serif'},children:"See them in action"})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"p-4 pb-2",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"inline-block w-3 h-3 rounded-full border border-gray-400",style:{backgroundColor:"#4F46E5"}}),h.jsx(E9,{className:"h-4 w-4 text-slate-500"}),h.jsx("h3",{className:"text-lg font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Itemize Features"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ks,{className:"h-4 w-4 text-gray-400"}),h.jsx("button",{className:"ml-2 p-1",children:h.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mb-0.5"}),h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mb-0.5"}),h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"})]})})]})]})}),h.jsx("div",{className:"mb-2 px-6",children:h.jsx("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border border-gray-300 bg-white text-gray-700 cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},children:"Productivity"})}),h.jsxs("div",{className:"px-6 py-2",children:[h.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mb-1",children:h.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"75%",backgroundColor:"#4F46E5"}})}),h.jsx("div",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:"6 of 8 completed"})]}),h.jsxs("div",{className:"px-6 py-2 space-y-0.5",children:[h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(fo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:"line-through text-gray-400",style:{fontFamily:'"Raleway", sans-serif'},children:"Custom color coding"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(fo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:"line-through text-gray-400",style:{fontFamily:'"Raleway", sans-serif'},children:"Cloud synchronization"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(fo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:"line-through text-gray-400",style:{fontFamily:'"Raleway", sans-serif'},children:"Category assignment"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(fo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:"line-through text-gray-400",style:{fontFamily:'"Raleway", sans-serif'},children:"Real-time collaboration"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4F46E5",borderColor:"#4F46E5"},children:h.jsx(fo,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:"line-through text-gray-400",style:{fontFamily:'"Raleway", sans-serif'},children:"Drag & drop reordering"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 border-gray-300"}),h.jsx("span",{style:{fontFamily:'"Raleway", sans-serif'},children:"AI-powered suggestions"})]})}),h.jsx("div",{className:"flex items-center py-1 group",children:h.jsxs("div",{className:"flex items-center flex-grow",children:[h.jsx("div",{className:"w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 border-gray-300"}),h.jsx("span",{style:{fontFamily:'"Raleway", sans-serif'},children:"Cross-device access"})]})})]}),h.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[h.jsx(Nf,{className:"h-4 w-4"}),h.jsx("span",{className:"text-sm",style:{fontFamily:'"Raleway", sans-serif'},children:"Add new item..."}),h.jsx("div",{className:"ml-auto",children:h.jsx(Hi,{className:"h-4 w-4 text-blue-600"})})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden h-full flex flex-col",children:[h.jsx("div",{className:"p-4 pb-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"inline-block w-3 h-3 rounded-full border border-gray-400",style:{backgroundColor:"#F59E0B"}}),h.jsx(Tf,{className:"h-4 w-4 text-slate-500"}),h.jsx("h3",{className:"font-semibold",style:{fontFamily:'"Raleway", sans-serif'},children:"Why Choose Itemize?"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ks,{className:"h-4 w-4 text-gray-400"}),h.jsx("button",{className:"ml-2 p-1",children:h.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mb-0.5"}),h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mb-0.5"}),h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"})]})})]})]})}),h.jsx("div",{className:"mb-2 px-6",children:h.jsx("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border border-gray-300 bg-white text-gray-700 cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},children:"Marketing"})}),h.jsx("div",{className:"mx-6 mb-3",children:h.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-200 bg-gray-50",children:[h.jsxs("div",{className:"w-16 h-7 text-xs bg-white border border-gray-300 rounded px-1 flex items-center justify-between",children:[h.jsx(JO,{className:"h-3 w-3"}),h.jsx(Ks,{className:"h-2 w-2"})]}),h.jsxs("div",{className:"flex",children:[h.jsx("button",{className:"h-7 w-7 p-0 bg-accent text-accent-foreground rounded flex items-center justify-center",children:h.jsx(VO,{className:"h-3 w-3"})}),h.jsx("button",{className:"h-7 w-7 p-0 hover:bg-gray-100 rounded flex items-center justify-center",children:h.jsx(GO,{className:"h-3 w-3"})}),h.jsx("button",{className:"h-7 w-7 p-0 hover:bg-gray-100 rounded flex items-center justify-center",children:h.jsx(XO,{className:"h-3 w-3"})})]}),h.jsx("div",{className:"h-5 w-px bg-gray-300"}),h.jsxs("div",{className:"flex",children:[h.jsx("button",{className:"h-7 w-7 p-0 bg-accent text-accent-foreground rounded flex items-center justify-center",children:h.jsx(HO,{className:"h-3 w-3"})}),h.jsx("button",{className:"h-7 w-7 p-0 hover:bg-gray-100 rounded flex items-center justify-center",children:h.jsx(UO,{className:"h-3 w-3"})})]}),h.jsx("div",{className:"h-5 w-px bg-gray-300"}),h.jsxs("div",{className:"flex",children:[h.jsx("button",{className:"h-7 w-7 p-0 hover:bg-gray-100 rounded flex items-center justify-center",children:h.jsx(qO,{className:"h-3 w-3"})}),h.jsx("button",{className:"h-7 w-7 p-0 hover:bg-gray-100 rounded flex items-center justify-center",children:h.jsx(KO,{className:"h-3 w-3"})}),h.jsx("button",{className:"h-7 w-7 p-0 hover:bg-gray-100 rounded flex items-center justify-center",children:h.jsx(YO,{className:"h-3 w-3"})})]})]})}),h.jsxs("div",{className:"flex-1 px-6 py-2 space-y-3",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Why Choose Itemize?"}),h.jsxs("p",{className:"text-sm text-gray-700",style:{fontFamily:'"Raleway", sans-serif'},children:["Itemize combines ",h.jsx("strong",{children:"lists"})," and ",h.jsx("em",{children:"notes"})," into one platform. Planning tasks or brainstorming projects? We adapt to your workflow."]}),h.jsx("div",{className:"space-y-1",children:h.jsxs("p",{className:"text-sm text-gray-700",style:{fontFamily:'"Raleway", sans-serif'},children:["Key benefits include custom color coding for visual organization, real-time cloud synchr",h.jsx("span",{className:"text-gray-400",children:"onization across all your devices, intelligent AI suggestions to boost productivity, and seamless category management to keep everything organized."})]})})]}),h.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:"Last edited: Just now"}),h.jsx("div",{title:"AI-powered suggestions",children:h.jsx(Hi,{className:"h-4 w-4 text-amber-500"})})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden h-full flex flex-col",children:[h.jsx("div",{className:"p-4 pb-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"inline-block w-3 h-3 rounded-full border border-gray-400",style:{backgroundColor:"#10B981"}}),h.jsx(sl,{className:"h-4 w-4 text-slate-500"}),h.jsx("h3",{className:"font-semibold",style:{fontFamily:'"Raleway", sans-serif'},children:"Project Brainstorm"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ks,{className:"h-4 w-4 text-gray-400"}),h.jsx("button",{className:"ml-2 p-1",children:h.jsxs("div",{className:"h-4 w-4 flex flex-col justify-center items-center",children:[h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mb-0.5"}),h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mb-0.5"}),h.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"})]})})]})]})}),h.jsx("div",{className:"mb-3 px-6",children:h.jsx("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border border-gray-300 bg-white text-gray-700 cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},children:"Design"})}),h.jsx("div",{className:"mx-6 mb-3",children:h.jsxs("div",{className:"flex items-center gap-2 p-2 border border-gray-200 bg-gray-50 rounded-t-lg",children:[h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{className:"h-6 w-6 p-0 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center",children:h.jsx(cw,{className:"h-3 w-3"})}),h.jsx("button",{className:"h-6 w-6 p-0 hover:bg-gray-100 rounded flex items-center justify-center",children:h.jsx(uw,{className:"h-3 w-3"})})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{className:"w-5 h-5 rounded border-2 border-blue-700 shadow-sm",style:{backgroundColor:"#2563eb"}}),h.jsx("button",{className:"w-5 h-5 rounded border border-gray-300 hover:border-gray-400 shadow-sm",style:{backgroundColor:"#000000"}}),h.jsx("button",{className:"w-5 h-5 rounded border border-gray-300 hover:border-gray-400 shadow-sm",style:{backgroundColor:"#FF0000"}}),h.jsx("button",{className:"w-5 h-5 rounded border border-gray-300 hover:border-gray-400 shadow-sm",style:{backgroundColor:"#00FF00"}})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-xs text-gray-600",children:"Size:"}),h.jsx("div",{className:"w-8 h-1.5 bg-gray-200 rounded-full relative",children:h.jsx("div",{className:"absolute left-1/3 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-blue-600 rounded-full border border-white shadow"})})]})]})}),h.jsx("div",{className:"flex-1 mx-6 mb-3",children:h.jsxs("div",{className:"bg-white rounded-b-lg h-full flex flex-col relative border border-gray-200 border-t-0",style:{minHeight:"280px"},children:[h.jsx("div",{className:"p-4 flex-1 flex flex-col justify-center items-center",children:h.jsx("img",{src:"/icon_handdrawn.png",alt:"Hand-drawn Itemize logo",className:"w-32 h-32 object-contain"})}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-4 cursor-ns-resize flex items-center justify-center border-t border-gray-200",children:h.jsx("div",{className:"w-12 h-1 rounded-full bg-gray-400"})})]})}),h.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:"Last edited: Just now"}),h.jsx("div",{title:"AI-powered suggestions",children:h.jsx(Hi,{className:"h-4 w-4 text-green-500"})})]})})]})]}),h.jsx("div",{className:"text-center mt-8",children:h.jsxs(ke,{onClick:i,className:"rounded-md px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 font-light text-white text-lg",size:"lg",children:["Start Organizing Today",h.jsx(WN,{className:"ml-2 h-6 w-6"})]})})]}),h.jsx("div",{className:"mt-20 text-center text-gray-500 pt-8 border-t border-gray-200",children:h.jsxs("p",{children:[" ",new Date().getFullYear()," Itemize. All rights reserved."]})})]})]})},Zt=m.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Zt.displayName="Input";var Gg="Popover",[vD,rue]=jr(Gg,[xa]),zf=xa(),[pX,ba]=vD(Gg),xD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!1}=t,a=zf(e),l=m.useRef(null),[u,f]=m.useState(!1),[p,g]=Dr({prop:r,defaultProp:o??!1,onChange:s,caller:Gg});return h.jsx(Tg,{...a,children:h.jsx(pX,{scope:e,contentId:Rn(),triggerRef:l,open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>f(!0),[]),onCustomAnchorRemove:m.useCallback(()=>f(!1),[]),modal:i,children:n})})};xD.displayName=Gg;var wD="PopoverAnchor",mX=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=ba(wD,n),s=zf(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=o;return m.useEffect(()=>(i(),()=>a()),[i,a]),h.jsx(Mf,{...s,...r,ref:e})});mX.displayName=wD;var bD="PopoverTrigger",SD=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=ba(bD,n),s=zf(n),i=at(e,o.triggerRef),a=h.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":TD(o.open),...r,ref:i,onClick:Ee(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?a:h.jsx(Mf,{asChild:!0,...s,children:a})});SD.displayName=bD;var $1="PopoverPortal",[gX,yX]=vD($1,{forceMount:void 0}),CD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:o}=t,s=ba($1,e);return h.jsx(gX,{scope:e,forceMount:n,children:h.jsx(no,{present:n||s.open,children:h.jsx(au,{asChild:!0,container:o,children:r})})})};CD.displayName=$1;var Yc="PopoverContent",ED=m.forwardRef((t,e)=>{const n=yX(Yc,t.__scopePopover),{forceMount:r=n.forceMount,...o}=t,s=ba(Yc,t.__scopePopover);return h.jsx(no,{present:r||s.open,children:s.modal?h.jsx(xX,{...o,ref:e}):h.jsx(wX,{...o,ref:e})})});ED.displayName=Yc;var vX=ua("PopoverContent.RemoveScroll"),xX=m.forwardRef((t,e)=>{const n=ba(Yc,t.__scopePopover),r=m.useRef(null),o=at(e,r),s=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return $g(i)},[]),h.jsx(jf,{as:vX,allowPinchZoom:!0,children:h.jsx(kD,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),wX=m.forwardRef((t,e)=>{const n=ba(Yc,t.__scopePopover),r=m.useRef(!1),o=m.useRef(!1);return h.jsx(kD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),kD=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:f,...p}=t,g=ba(Yc,n),y=zf(n);return Lg(),h.jsx(If,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:h.jsx(Al,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:h.jsx(Rg,{"data-state":TD(g.open),role:"dialog",id:g.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ND="PopoverClose",bX=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=ba(ND,n);return h.jsx(je.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>o.onOpenChange(!1))})});bX.displayName=ND;var SX="PopoverArrow",CX=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=zf(n);return h.jsx(Mg,{...o,...r,ref:e})});CX.displayName=SX;function TD(t){return t?"open":"closed"}var EX=xD,kX=SD,NX=CD,RD=ED;const MD=EX,AD=kX,z1=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},o)=>h.jsx(NX,{children:h.jsx(RD,{ref:o,align:e,sideOffset:n,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));z1.displayName=RD.displayName;var AT=1,TX=.9,RX=.8,MX=.17,T0=.1,R0=.999,AX=.9999,PX=.99,OX=/[\\\/_+.#"@\[\(\{&]/,_X=/[\\\/_+.#"@\[\(\{&]/g,IX=/[\s-]/,PD=/[\s-]/g;function Tw(t,e,n,r,o,s,i){if(s===e.length)return o===t.length?AT:PX;var a=`${o},${s}`;if(i[a]!==void 0)return i[a];for(var l=r.charAt(s),u=n.indexOf(l,o),f=0,p,g,y,b;u>=0;)p=Tw(t,e,n,r,u+1,s+1,i),p>f&&(u===o?p*=AT:OX.test(t.charAt(u-1))?(p*=RX,y=t.slice(o,u-1).match(_X),y&&o>0&&(p*=Math.pow(R0,y.length))):IX.test(t.charAt(u-1))?(p*=TX,b=t.slice(o,u-1).match(PD),b&&o>0&&(p*=Math.pow(R0,b.length))):(p*=MX,o>0&&(p*=Math.pow(R0,u-o))),t.charAt(u)!==e.charAt(s)&&(p*=AX)),(p<T0&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(g=Tw(t,e,n,r,u+1,s+2,i),g*T0>p&&(p=g*T0)),p>f&&(f=p),u=n.indexOf(l,u+1);return i[a]=f,f}function PT(t){return t.toLowerCase().replace(PD," ")}function DX(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Tw(t,e,PT(t),PT(e),0,0,{})}var Kg="Dialog",[OD,oue]=jr(Kg),[jX,es]=OD(Kg),_D=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=t,a=m.useRef(null),l=m.useRef(null),[u,f]=Dr({prop:r,defaultProp:o??!1,onChange:s,caller:Kg});return h.jsx(jX,{scope:e,triggerRef:a,contentRef:l,contentId:Rn(),titleId:Rn(),descriptionId:Rn(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:i,children:n})};_D.displayName=Kg;var ID="DialogTrigger",LX=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=es(ID,n),s=at(e,o.triggerRef);return h.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":U1(o.open),...r,ref:s,onClick:Ee(t.onClick,o.onOpenToggle)})});LX.displayName=ID;var B1="DialogPortal",[FX,DD]=OD(B1,{forceMount:void 0}),jD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,s=es(B1,e);return h.jsx(FX,{scope:e,forceMount:n,children:m.Children.map(r,i=>h.jsx(no,{present:n||s.open,children:h.jsx(au,{asChild:!0,container:o,children:i})}))})};jD.displayName=B1;var Mm="DialogOverlay",LD=m.forwardRef((t,e)=>{const n=DD(Mm,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,s=es(Mm,t.__scopeDialog);return s.modal?h.jsx(no,{present:r||s.open,children:h.jsx(zX,{...o,ref:e})}):null});LD.displayName=Mm;var $X=ua("DialogOverlay.RemoveScroll"),zX=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=es(Mm,n);return h.jsx(jf,{as:$X,allowPinchZoom:!0,shards:[o.contentRef],children:h.jsx(je.div,{"data-state":U1(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wl="DialogContent",FD=m.forwardRef((t,e)=>{const n=DD(wl,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,s=es(wl,t.__scopeDialog);return h.jsx(no,{present:r||s.open,children:s.modal?h.jsx(BX,{...o,ref:e}):h.jsx(WX,{...o,ref:e})})});FD.displayName=wl;var BX=m.forwardRef((t,e)=>{const n=es(wl,t.__scopeDialog),r=m.useRef(null),o=at(e,n.contentRef,r);return m.useEffect(()=>{const s=r.current;if(s)return $g(s)},[]),h.jsx($D,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,s=>s.preventDefault())})}),WX=m.forwardRef((t,e)=>{const n=es(wl,t.__scopeDialog),r=m.useRef(!1),o=m.useRef(!1);return h.jsx($D,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),$D=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=t,a=es(wl,n),l=m.useRef(null),u=at(e,l);return Lg(),h.jsxs(h.Fragment,{children:[h.jsx(If,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:h.jsx(Al,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":U1(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(UX,{titleId:a.titleId}),h.jsx(VX,{contentRef:l,descriptionId:a.descriptionId})]})]})}),W1="DialogTitle",zD=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=es(W1,n);return h.jsx(je.h2,{id:o.titleId,...r,ref:e})});zD.displayName=W1;var BD="DialogDescription",WD=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=es(BD,n);return h.jsx(je.p,{id:o.descriptionId,...r,ref:e})});WD.displayName=BD;var UD="DialogClose",HD=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=es(UD,n);return h.jsx(je.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>o.onOpenChange(!1))})});HD.displayName=UD;function U1(t){return t?"open":"closed"}var VD="DialogTitleWarning",[sue,GD]=SV(VD,{contentName:wl,titleName:W1,docsSlug:"dialog"}),UX=({titleId:t})=>{const e=GD(VD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},HX="DialogDescriptionWarning",VX=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GD(HX).contentName}}.`;return m.useEffect(()=>{var s;const o=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},KD=_D,qD=jD,H1=LD,V1=FD,YD=zD,JD=WD,GX=HD,Ju='[cmdk-group=""]',M0='[cmdk-group-items=""]',KX='[cmdk-group-heading=""]',XD='[cmdk-item=""]',OT=`${XD}:not([aria-disabled="true"])`,Rw="cmdk-item-select",tc="data-value",qX=(t,e,n)=>DX(t,e,n),QD=m.createContext(void 0),Bf=()=>m.useContext(QD),ZD=m.createContext(void 0),G1=()=>m.useContext(ZD),e2=m.createContext(void 0),t2=m.forwardRef((t,e)=>{let n=nc(()=>{var D,Z;return{search:"",value:(Z=(D=t.value)!=null?D:t.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=nc(()=>new Set),o=nc(()=>new Map),s=nc(()=>new Map),i=nc(()=>new Set),a=n2(t),{label:l,children:u,value:f,onValueChange:p,filter:g,shouldFilter:y,loop:b,disablePointerSelection:w=!1,vimBindings:x=!0,...S}=t,C=Rn(),E=Rn(),N=Rn(),T=m.useRef(null),M=sQ();bl(()=>{if(f!==void 0){let D=f.trim();n.current.value=D,A.emit()}},[f]),bl(()=>{M(6,G)},[]);let A=m.useMemo(()=>({subscribe:D=>(i.current.add(D),()=>i.current.delete(D)),snapshot:()=>n.current,setState:(D,Z,Q)=>{var Y,ae,J,ge;if(!Object.is(n.current[D],Z)){if(n.current[D]=Z,D==="search")H(),F(),M(1,V);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(N);de?de.focus():(Y=document.getElementById(C))==null||Y.focus()}if(M(7,()=>{var de;n.current.selectedItemId=(de=z())==null?void 0:de.id,A.emit()}),Q||M(5,G),((ae=a.current)==null?void 0:ae.value)!==void 0){let de=Z??"";(ge=(J=a.current).onValueChange)==null||ge.call(J,de);return}}A.emit()}},emit:()=>{i.current.forEach(D=>D())}}),[]),O=m.useMemo(()=>({value:(D,Z,Q)=>{var Y;Z!==((Y=s.current.get(D))==null?void 0:Y.value)&&(s.current.set(D,{value:Z,keywords:Q}),n.current.filtered.items.set(D,L(Z,Q)),M(2,()=>{F(),A.emit()}))},item:(D,Z)=>(r.current.add(D),Z&&(o.current.has(Z)?o.current.get(Z).add(D):o.current.set(Z,new Set([D]))),M(3,()=>{H(),F(),n.current.value||V(),A.emit()}),()=>{s.current.delete(D),r.current.delete(D),n.current.filtered.items.delete(D);let Q=z();M(4,()=>{H(),(Q==null?void 0:Q.getAttribute("id"))===D&&V(),A.emit()})}),group:D=>(o.current.has(D)||o.current.set(D,new Set),()=>{s.current.delete(D),o.current.delete(D)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:C,inputId:N,labelId:E,listInnerRef:T}),[]);function L(D,Z){var Q,Y;let ae=(Y=(Q=a.current)==null?void 0:Q.filter)!=null?Y:qX;return D?ae(D,n.current.search,Z):0}function F(){if(!n.current.search||a.current.shouldFilter===!1)return;let D=n.current.filtered.items,Z=[];n.current.filtered.groups.forEach(Y=>{let ae=o.current.get(Y),J=0;ae.forEach(ge=>{let de=D.get(ge);J=Math.max(de,J)}),Z.push([Y,J])});let Q=T.current;X().sort((Y,ae)=>{var J,ge;let de=Y.getAttribute("id"),ie=ae.getAttribute("id");return((J=D.get(ie))!=null?J:0)-((ge=D.get(de))!=null?ge:0)}).forEach(Y=>{let ae=Y.closest(M0);ae?ae.appendChild(Y.parentElement===ae?Y:Y.closest(`${M0} > *`)):Q.appendChild(Y.parentElement===Q?Y:Y.closest(`${M0} > *`))}),Z.sort((Y,ae)=>ae[1]-Y[1]).forEach(Y=>{var ae;let J=(ae=T.current)==null?void 0:ae.querySelector(`${Ju}[${tc}="${encodeURIComponent(Y[0])}"]`);J==null||J.parentElement.appendChild(J)})}function V(){let D=X().find(Q=>Q.getAttribute("aria-disabled")!=="true"),Z=D==null?void 0:D.getAttribute(tc);A.setState("value",Z||void 0)}function H(){var D,Z,Q,Y;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let J of r.current){let ge=(Z=(D=s.current.get(J))==null?void 0:D.value)!=null?Z:"",de=(Y=(Q=s.current.get(J))==null?void 0:Q.keywords)!=null?Y:[],ie=L(ge,de);n.current.filtered.items.set(J,ie),ie>0&&ae++}for(let[J,ge]of o.current)for(let de of ge)if(n.current.filtered.items.get(de)>0){n.current.filtered.groups.add(J);break}n.current.filtered.count=ae}function G(){var D,Z,Q;let Y=z();Y&&(((D=Y.parentElement)==null?void 0:D.firstChild)===Y&&((Q=(Z=Y.closest(Ju))==null?void 0:Z.querySelector(KX))==null||Q.scrollIntoView({block:"nearest"})),Y.scrollIntoView({block:"nearest"}))}function z(){var D;return(D=T.current)==null?void 0:D.querySelector(`${XD}[aria-selected="true"]`)}function X(){var D;return Array.from(((D=T.current)==null?void 0:D.querySelectorAll(OT))||[])}function ee(D){let Z=X()[D];Z&&A.setState("value",Z.getAttribute(tc))}function oe(D){var Z;let Q=z(),Y=X(),ae=Y.findIndex(ge=>ge===Q),J=Y[ae+D];(Z=a.current)!=null&&Z.loop&&(J=ae+D<0?Y[Y.length-1]:ae+D===Y.length?Y[0]:Y[ae+D]),J&&A.setState("value",J.getAttribute(tc))}function j(D){let Z=z(),Q=Z==null?void 0:Z.closest(Ju),Y;for(;Q&&!Y;)Q=D>0?rQ(Q,Ju):oQ(Q,Ju),Y=Q==null?void 0:Q.querySelector(OT);Y?A.setState("value",Y.getAttribute(tc)):oe(D)}let _=()=>ee(X().length-1),B=D=>{D.preventDefault(),D.metaKey?_():D.altKey?j(1):oe(1)},U=D=>{D.preventDefault(),D.metaKey?ee(0):D.altKey?j(-1):oe(-1)};return m.createElement(je.div,{ref:e,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:D=>{var Z;(Z=S.onKeyDown)==null||Z.call(S,D);let Q=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||Q))switch(D.key){case"n":case"j":{x&&D.ctrlKey&&B(D);break}case"ArrowDown":{B(D);break}case"p":case"k":{x&&D.ctrlKey&&U(D);break}case"ArrowUp":{U(D);break}case"Home":{D.preventDefault(),ee(0);break}case"End":{D.preventDefault(),_();break}case"Enter":{D.preventDefault();let Y=z();if(Y){let ae=new Event(Rw);Y.dispatchEvent(ae)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:aQ},l),qg(t,D=>m.createElement(ZD.Provider,{value:A},m.createElement(QD.Provider,{value:O},D))))}),YX=m.forwardRef((t,e)=>{var n,r;let o=Rn(),s=m.useRef(null),i=m.useContext(e2),a=Bf(),l=n2(t),u=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:i==null?void 0:i.forceMount;bl(()=>{if(!u)return a.item(o,i==null?void 0:i.id)},[u]);let f=r2(o,s,[t.value,t.children,s],t.keywords),p=G1(),g=pa(M=>M.value&&M.value===f.current),y=pa(M=>u||a.filter()===!1?!0:M.search?M.filtered.items.get(o)>0:!0);m.useEffect(()=>{let M=s.current;if(!(!M||t.disabled))return M.addEventListener(Rw,b),()=>M.removeEventListener(Rw,b)},[y,t.onSelect,t.disabled]);function b(){var M,A;w(),(A=(M=l.current).onSelect)==null||A.call(M,f.current)}function w(){p.setState("value",f.current,!0)}if(!y)return null;let{disabled:x,value:S,onSelect:C,forceMount:E,keywords:N,...T}=t;return m.createElement(je.div,{ref:ni(s,e),...T,id:o,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!g,"data-disabled":!!x,"data-selected":!!g,onPointerMove:x||a.getDisablePointerSelection()?void 0:w,onClick:x?void 0:b},t.children)}),JX=m.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:o,...s}=t,i=Rn(),a=m.useRef(null),l=m.useRef(null),u=Rn(),f=Bf(),p=pa(y=>o||f.filter()===!1?!0:y.search?y.filtered.groups.has(i):!0);bl(()=>f.group(i),[]),r2(i,a,[t.value,t.heading,l]);let g=m.useMemo(()=>({id:i,forceMount:o}),[o]);return m.createElement(je.div,{ref:ni(a,e),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&m.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),qg(t,y=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},m.createElement(e2.Provider,{value:g},y))))}),XX=m.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,o=m.useRef(null),s=pa(i=>!i.search);return!n&&!s?null:m.createElement(je.div,{ref:ni(o,e),...r,"cmdk-separator":"",role:"separator"})}),QX=m.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,o=t.value!=null,s=G1(),i=pa(u=>u.search),a=pa(u=>u.selectedItemId),l=Bf();return m.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),m.createElement(je.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:o?t.value:i,onChange:u=>{o||s.setState("search",u.target.value),n==null||n(u.target.value)}})}),ZX=m.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...o}=t,s=m.useRef(null),i=m.useRef(null),a=pa(u=>u.selectedItemId),l=Bf();return m.useEffect(()=>{if(i.current&&s.current){let u=i.current,f=s.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=u.offsetHeight;f.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(p),g.unobserve(u)}}},[]),m.createElement(je.div,{ref:ni(s,e),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},qg(t,u=>m.createElement("div",{ref:ni(i,l.listInnerRef),"cmdk-list-sizer":""},u)))}),eQ=m.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:s,container:i,...a}=t;return m.createElement(KD,{open:n,onOpenChange:r},m.createElement(qD,{container:i},m.createElement(H1,{"cmdk-overlay":"",className:o}),m.createElement(V1,{"aria-label":t.label,"cmdk-dialog":"",className:s},m.createElement(t2,{ref:e,...a}))))}),tQ=m.forwardRef((t,e)=>pa(n=>n.filtered.count===0)?m.createElement(je.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),nQ=m.forwardRef((t,e)=>{let{progress:n,children:r,label:o="Loading...",...s}=t;return m.createElement(je.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},qg(t,i=>m.createElement("div",{"aria-hidden":!0},i)))}),Lr=Object.assign(t2,{List:ZX,Item:YX,Input:QX,Group:JX,Separator:XX,Dialog:eQ,Empty:tQ,Loading:nQ});function rQ(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function oQ(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function n2(t){let e=m.useRef(t);return bl(()=>{e.current=t}),e}var bl=typeof window>"u"?m.useEffect:m.useLayoutEffect;function nc(t){let e=m.useRef();return e.current===void 0&&(e.current=t()),e}function pa(t){let e=G1(),n=()=>t(e.snapshot());return m.useSyncExternalStore(e.subscribe,n,n)}function r2(t,e,n,r=[]){let o=m.useRef(),s=Bf();return bl(()=>{var i;let a=(()=>{var u;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():o.current}})(),l=r.map(u=>u.trim());s.value(t,a,l),(i=e.current)==null||i.setAttribute(tc,a),o.current=a}),o}var sQ=()=>{let[t,e]=m.useState(),n=nc(()=>new Map);return bl(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,o)=>{n.current.set(r,o),e({})}};function iQ(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function qg({asChild:t,children:e},n){return t&&m.isValidElement(e)?m.cloneElement(iQ(e),{ref:e.ref},n(e.props.children)):n(e)}var aQ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Wf=KD,lQ=qD,o2=m.forwardRef(({className:t,...e},n)=>h.jsx(H1,{ref:n,className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));o2.displayName=H1.displayName;const fu=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(lQ,{children:[h.jsx(o2,{}),h.jsxs(V1,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(GX,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(ii,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fu.displayName=V1.displayName;const hu=({className:t,...e})=>h.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hu.displayName="DialogHeader";const pu=m.forwardRef(({className:t,...e},n)=>h.jsx(YD,{ref:n,className:Te("text-lg font-semibold leading-none tracking-tight",t),...e}));pu.displayName=YD.displayName;const cQ=m.forwardRef(({className:t,...e},n)=>h.jsx(JD,{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));cQ.displayName=JD.displayName;const s2=m.forwardRef(({className:t,...e},n)=>h.jsx(Lr,{ref:n,className:Te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));s2.displayName=Lr.displayName;const i2=m.forwardRef(({className:t,...e},n)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(Hs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(Lr.Input,{ref:n,className:Te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));i2.displayName=Lr.Input.displayName;const a2=m.forwardRef(({className:t,...e},n)=>h.jsx(Lr.List,{ref:n,className:Te("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));a2.displayName=Lr.List.displayName;const l2=m.forwardRef((t,e)=>h.jsx(Lr.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));l2.displayName=Lr.Empty.displayName;const c2=m.forwardRef(({className:t,...e},n)=>h.jsx(Lr.Group,{ref:n,className:Te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));c2.displayName=Lr.Group.displayName;const uQ=m.forwardRef(({className:t,...e},n)=>h.jsx(Lr.Separator,{ref:n,className:Te("-mx-1 h-px bg-border",t),...e}));uQ.displayName=Lr.Separator.displayName;const Wp=m.forwardRef(({className:t,...e},n)=>h.jsx(Lr.Item,{ref:n,className:Te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Wp.displayName=Lr.Item.displayName;var dQ="Label",u2=m.forwardRef((t,e)=>h.jsx(je.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));u2.displayName=dQ;var d2=u2;const fQ=kf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dr=m.forwardRef(({className:t,...e},n)=>h.jsx(d2,{ref:n,className:Te(fQ(),t),...e}));dr.displayName=d2.displayName;const f2=({isOpen:t,onClose:e,onCreateList:n,existingCategories:r})=>{const[o,s]=m.useState(""),[i,a]=m.useState(""),[l,u]=m.useState(!1),[f,p]=m.useState(""),[g,y]=m.useState("#3B82F6");m.useEffect(()=>{f&&a(f)},[f]),m.useEffect(()=>{i||p("")},[i]);const b=x=>{if(x.preventDefault(),o.trim()){const S=i.trim()||"General";n(o.trim(),S,g),s(""),a(""),y("#3B82F6")}},w=()=>{s(""),a(""),y("#3B82F6"),e()};return h.jsx(Wf,{open:t,onOpenChange:w,children:h.jsxs(fu,{className:"sm:max-w-md",children:[h.jsx(hu,{children:h.jsx(pu,{children:"Create New List"})}),h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(dr,{htmlFor:"title",children:"List Title"}),h.jsx(Zt,{id:"title",placeholder:"Enter list title...",value:o,onChange:x=>s(x.target.value),className:"mt-1",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx(dr,{htmlFor:"customType",children:"Category (Optional)"}),h.jsxs(MD,{open:l,onOpenChange:u,children:[h.jsx(AD,{asChild:!0,children:h.jsxs(ke,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between mt-1 font-normal",children:[i||"Select category or type new...",h.jsx(x9,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),h.jsx(z1,{className:"w-[--radix-popover-trigger-width] p-0",children:h.jsxs(s2,{children:[h.jsx(i2,{placeholder:"Search or create category...",value:i,onValueChange:x=>{a(x),p("")}}),h.jsxs(a2,{children:[h.jsx(l2,{children:i.trim()?`Create "${i}"`:"No category found."}),h.jsxs(c2,{children:[!r.includes("General")&&h.jsxs(Wp,{value:"General",onSelect:x=>{p(x===f?"":x),a(x===i?"":x),u(!1)},children:[h.jsx(No,{className:Te("mr-2 h-4 w-4",i==="General"?"opacity-100":"opacity-0")}),"General"]},"General"),r.map(x=>h.jsxs(Wp,{value:x,onSelect:S=>{p(S===f?"":S),a(S===i?"":S),u(!1)},children:[h.jsx(No,{className:Te("mr-2 h-4 w-4",i===x?"opacity-100":"opacity-0")}),x]},x))]}),i.trim()&&!r.includes(i.trim())&&h.jsxs(Wp,{value:i.trim(),onSelect:()=>{p(i.trim()),u(!1)},children:[h.jsx(Uo,{className:"mr-2 h-4 w-4"}),'Create "',i.trim(),'"']},i.trim())]})]})})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select an existing category, type a new one, or leave empty for "General".'}),r.length===0&&h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:'No categories available yet. You can create your first category or use "General".'})]}),h.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[h.jsx(ke,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),h.jsx(ke,{type:"submit",disabled:!o.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Create List"})]})]})]})})},Yg=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Yg.displayName="Card";const Jg=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("flex flex-col space-y-1.5 p-6",t),...e}));Jg.displayName="CardHeader";const Xg=m.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:Te("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xg.displayName="CardTitle";const hQ=m.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));hQ.displayName="CardDescription";const h2=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("p-6 pt-0",t),...e}));h2.displayName="CardContent";const pQ=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("flex items-center p-6 pt-0",t),...e}));pQ.displayName="CardFooter";var Qg="Collapsible",[mQ,iue]=jr(Qg),[gQ,K1]=mQ(Qg),p2=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:s,onOpenChange:i,...a}=t,[l,u]=Dr({prop:r,defaultProp:o??!1,onChange:i,caller:Qg});return h.jsx(gQ,{scope:n,disabled:s,contentId:Rn(),open:l,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),children:h.jsx(je.div,{"data-state":Y1(l),"data-disabled":s?"":void 0,...a,ref:e})})});p2.displayName=Qg;var m2="CollapsibleTrigger",g2=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,o=K1(m2,n);return h.jsx(je.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Y1(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:Ee(t.onClick,o.onOpenToggle)})});g2.displayName=m2;var q1="CollapsibleContent",y2=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=K1(q1,t.__scopeCollapsible);return h.jsx(no,{present:n||o.open,children:({present:s})=>h.jsx(yQ,{...r,ref:e,present:s})})});y2.displayName=q1;var yQ=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:o,...s}=t,i=K1(q1,n),[a,l]=m.useState(r),u=m.useRef(null),f=at(e,u),p=m.useRef(0),g=p.current,y=m.useRef(0),b=y.current,w=i.open||a,x=m.useRef(w),S=m.useRef(void 0);return m.useEffect(()=>{const C=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(C)},[]),Pn(()=>{const C=u.current;if(C){S.current=S.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const E=C.getBoundingClientRect();p.current=E.height,y.current=E.width,x.current||(C.style.transitionDuration=S.current.transitionDuration,C.style.animationName=S.current.animationName),l(r)}},[i.open,r]),h.jsx(je.div,{"data-state":Y1(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!w,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:w&&o})});function Y1(t){return t?"open":"closed"}var vQ=p2;const J1=vQ,X1=g2,Q1=y2,xQ=30*60*1e3,wQ=500,_T=2e3,bQ=({enabled:t,listTitle:e,existingItems:n})=>{const[r,o]=m.useState([]),[s,i]=m.useState(0),[a,l]=m.useState(null),[u,f]=m.useState(!1),[p,g]=m.useState(null),y=m.useRef(null),b=m.useRef(0),{token:w}=Zo();m.useEffect(()=>{t||l(null)},[t]);const x=m.useCallback(()=>{try{const O=`itemize-suggestions-${e}-${n.join(",")}`,L=localStorage.getItem(O);if(L){const{suggestions:F,timestamp:V}=JSON.parse(L);if(Date.now()-V<xQ&&F&&F.length>0)return F}}catch(O){console.warn("Failed to read suggestion cache:",O)}return null},[e,n]),S=m.useCallback(O=>{try{if(!e||!O.length)return;const L=`itemize-suggestions-${e}-${n.join(",")}`,F={suggestions:O,timestamp:Date.now()};localStorage.setItem(L,JSON.stringify(F))}catch(L){console.warn("Failed to cache suggestions:",L)}},[e,n]),C=m.useCallback(async()=>{var V;if(y.current&&(clearTimeout(y.current),y.current=null),!t||!e||n.length===0){o([]),l(null);return}if(!w){g("You must be logged in to use AI suggestions");return}const O=x();if(O){console.log("Using cached suggestions for:",e),o(O),l(O[0]||null),f(!1);return}const F=Date.now()-b.current;if(F<_T){f(!0);const H=_T-F;console.log(`Throttling API call for ${H}ms`),y.current=setTimeout(()=>{C()},H);return}try{f(!0),g(null),b.current=Date.now();const G=await It.post("http://localhost:3001/api/suggestions",{listTitle:e,existingItems:n.filter(z=>z.trim()!=="")},{withCredentials:!0,headers:{Authorization:`Bearer ${w}`}});if(G.data&&G.data.suggestions&&G.data.suggestions.length>0){const z=G.data.suggestions;o(z),l(z[0]),i(0),S(z)}else o([]),l(null)}catch(H){console.error("Failed to fetch AI suggestions:",H),((V=H==null?void 0:H.response)==null?void 0:V.status)===401?g("Session expired. Please log in again to use AI suggestions."):g(H instanceof Error?H.message:"Failed to get suggestions"),o([]),l(null)}finally{f(!1)}},[t,e,n,w,x,S]),E=m.useCallback(()=>{y.current&&clearTimeout(y.current),f(!0),y.current=setTimeout(()=>{C()},wQ)},[C]),N=m.useCallback(O=>{if(!t||!O.trim())return null;if(r.length>0){const L=O.toLowerCase().trim(),F=r.filter(H=>H.toLowerCase().startsWith(L)&&H.toLowerCase()!==L);if(F.length>0)return console.log("Using API suggestion (prefix match):",F[0]),F[0];const V=r.filter(H=>H.toLowerCase().includes(L)&&H.toLowerCase()!==L);if(V.length>0)return console.log("Using API suggestion (contains match):",V[0]),V[0]}return null},[t,r]),T=m.useCallback(O=>{const L=r.filter(F=>F.toLowerCase()!==O.toLowerCase());return L.length>0?l(L[0]):l(null),O},[r]),M=m.useCallback(()=>{if(r.length===0)return null;const O=(s+1)%r.length;i(O);const L=r[O];return l(L),L},[r,s]),A=m.useCallback(()=>r.length>0?r[0]:null,[r]);return m.useEffect(()=>{if(t&&!a){const O=A();O?l(O):E()}},[t,a,A,E]),{currentSuggestion:a,suggestions:r,isLoading:u,error:p,debouncedFetchSuggestions:E,fetchSuggestions:C,getSuggestionForInput:N,acceptSuggestion:T,getNextSuggestion:M,generateContextSuggestion:A}},SQ=({list:t,onUpdate:e,onDelete:n,isCollapsed:r,onToggleCollapsed:o,existingCategories:s=[],addCategory:i})=>{const{aiEnabled:a,setAiEnabled:l}=aI(),u=t.items.map(Ue=>Ue.text),{currentSuggestion:f,suggestions:p,isLoading:g,debouncedFetchSuggestions:y,getNextSuggestion:b,getSuggestionForInput:w}=bQ({enabled:a,listTitle:t.title,existingItems:u});m.useEffect(()=>{a&&!f&&y()},[a,f,y]);const{toast:x}=To(),[S,C]=m.useState(!0),E=r!==void 0?!r:S,N=o||C,[T,M]=m.useState(!1),[A,O]=m.useState(t.title),[L,F]=m.useState(!1),[V,H]=m.useState(!1),[G,z]=m.useState(""),[X,ee]=m.useState(""),[oe,j]=m.useState(null),[_,B]=m.useState(""),[U,D]=m.useState(!1),Z=m.useRef(null),Q=m.useRef(null);m.useEffect(()=>{O(t.title)},[t.title]);const Y=()=>{A.trim()!==""?(e({...t,title:A.trim()}),M(!1)):x({title:"Title cannot be empty",description:"Please enter a valid list title",variant:"destructive"})},ae=()=>{n(t.id)},J=async Ue=>{if(Ue==="__custom__"){H(!0);return}if(Ue.trim()&&!s.includes(Ue)&&i)try{await i({name:Ue.trim(),color_value:"#3B82F6"})}catch(nt){console.error("Failed to create category in database:",nt)}e({...t,type:Ue}),F(!1),H(!1)},ge=async()=>{if(G.trim()!=="")try{i&&await i({name:G.trim(),color_value:"#3B82F6"}),e({...t,type:G.trim()}),F(!1),H(!1),z("")}catch(Ue){console.error("Failed to create category:",Ue),x({title:"Error creating category",description:"Could not create the category. Please try again.",variant:"destructive"})}else x({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},de=()=>{if(X.trim()!==""){const Ue={id:crypto.randomUUID(),text:X.trim(),completed:!1};e({...t,items:[...t.items,Ue]}),ee("")}},ie=Ue=>{const nt=t.items.map(Ke=>Ke.id===Ue?{...Ke,completed:!Ke.completed}:Ke);e({...t,items:nt})},Re=Ue=>{const nt=t.items.filter(Ke=>Ke.id!==Ue);e({...t,items:nt})},be=Ue=>{j(Ue.id),B(Ue.text)},Oe=()=>{if(oe&&_.trim()!==""){const Ue=t.items.map(nt=>nt.id===oe?{...nt,text:_.trim()}:nt);e({...t,items:Ue}),j(null),B("")}else _.trim()===""&&x({title:"Item text cannot be empty",description:"Please enter valid text for the item",variant:"destructive"})},Me=m.useMemo(()=>!a||!X?null:w(X),[a,X,w]);return{isCollapsibleOpen:E,setIsCollapsibleOpen:N,isEditing:T,setIsEditing:M,editTitle:A,setEditTitle:O,handleEditTitle:Y,handleDeleteList:ae,handleSaveListColor:async Ue=>{D(!0);try{await new Promise(nt=>setTimeout(nt,1e3)),e({...t,color_value:Ue})}catch(nt){throw console.error("Failed to save list color:",nt),nt}finally{D(!1)}},isSavingColor:U,isEditingCategory:L,setIsEditingCategory:F,showNewCategoryInput:V,setShowNewCategoryInput:H,newCategory:G,setNewCategory:z,handleEditCategory:J,handleAddCustomCategory:ge,newItemText:X,setNewItemText:ee,editingItemId:oe,editingItemText:_,setEditingItemText:B,handleAddItem:de,toggleItemCompleted:ie,removeItem:Re,startEditingItem:be,handleEditItem:Oe,suggestions:p,isLoadingSuggestions:g,aiEnabled:a,setAiEnabled:l,currentSuggestion:f,currentInputSuggestion:Me,handleGetSuggestion:()=>{if(console.log("Getting next suggestion"),!a)l(!0),setTimeout(()=>y(),100);else if(f){const Ue={id:crypto.randomUUID(),text:f,completed:!1};e({...t,items:[...t.items,Ue]}),b()}else y()},handleAcceptSuggestion:()=>{Me?ee(Me):f&&ee(f)},titleEditRef:Z,newItemInputRef:Q}},CQ=["#EF4444","#F97316","#EAB308","#22C55E","#10B981","#14B8A6","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#A855F7","#EC4899","#F87171","#FBBF24","#4ADE80","#60A5FA","#C084FC","#78716C","#D1D5DB","#9CA3AF","#6B7280","#4B5563","#374151","#1F2937"],mu=({color:t,onChange:e,onSave:n,children:r,className:o})=>{const[s,i]=ne.useState(!1),a=l=>{e(l),n&&n(l),i(!1)};return h.jsxs(MD,{open:s,onOpenChange:i,children:[h.jsx(AD,{asChild:!0,className:o,children:r}),h.jsx(z1,{className:"w-auto p-2 shadow-xl grid grid-cols-6 gap-1",align:"start",children:CQ.map(l=>h.jsx("button",{title:l,onClick:()=>a(l),className:`w-6 h-6 rounded-full border-2 transition-all
                        ${t===l?"ring-2 ring-offset-1 ring-primary":"hover:opacity-80"}
                        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary`,style:{backgroundColor:l,borderColor:l===t?"var(--primary)":l}},l))})]})},EQ=({title:t,listColor:e,isEditing:n,editTitle:r,isCollapsibleOpen:o,setEditTitle:s,setIsEditing:i,handleEditTitle:a,handleDeleteList:l,titleEditRef:u,onColorSave:f,isSavingColor:p})=>{const{toast:g}=To(),[y,b]=ne.useState(e||"#808080");ne.useEffect(()=>{b(e||"#808080")},[e]);const w=y;return h.jsx(Jg,{className:"pb-2",children:h.jsx("div",{className:"flex justify-between items-center",children:n?h.jsxs("div",{className:"flex gap-1 w-full",children:[h.jsx(Zt,{ref:u,value:r,onChange:x=>s(x.target.value),className:"h-8",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&a()}}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:a,className:"h-8 w-8 p-0",children:h.jsx(No,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>i(!1),className:"h-8 w-8 p-0",children:h.jsx(ii,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(mu,{color:w,onChange:x=>{b(x)},onSave:async x=>{if(x!==(e||"#808080"))try{await f(x)}catch{g({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),b(e||"#808080")}},children:h.jsxs(ke,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change list color",disabled:p,children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-gray-400 transition-colors duration-150",style:{backgroundColor:w}}),p&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 rounded-full",children:h.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),h.jsx(Sg,{className:"h-4 w-4 text-slate-500"}),h.jsx(Xg,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!0),children:t})]}),h.jsxs("div",{className:"flex",children:[h.jsx(X1,{asChild:!0,children:h.jsx(ke,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(Ks,{className:Te("h-4 w-4 transition-transform",o?"":"transform rotate-180")})})}),h.jsxs(Hg,{children:[h.jsx(Vg,{asChild:!0,children:h.jsx(ke,{variant:"ghost",className:"h-8 w-8 p-0",children:h.jsx(g1,{className:"h-4 w-4"})})}),h.jsxs($f,{align:"end",children:[h.jsxs(ha,{onClick:()=>i(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Nf,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),h.jsxs(ha,{onClick:l,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Cg,{className:"mr-2 h-4 w-4"}),"Delete List"]})]})]})]})]})})})};function Am(t,[e,n]){return Math.min(n,Math.max(e,t))}function Z1(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var kQ=[" ","Enter","ArrowUp","ArrowDown"],NQ=[" ","Enter"],Sl="Select",[Zg,ey,TQ]=Cf(Sl),[gu,aue]=jr(Sl,[TQ,xa]),ty=xa(),[RQ,Sa]=gu(Sl),[MQ,AQ]=gu(Sl),v2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:s,value:i,defaultValue:a,onValueChange:l,dir:u,name:f,autoComplete:p,disabled:g,required:y,form:b}=t,w=ty(e),[x,S]=m.useState(null),[C,E]=m.useState(null),[N,T]=m.useState(!1),M=_f(u),[A,O]=Dr({prop:r,defaultProp:o??!1,onChange:s,caller:Sl}),[L,F]=Dr({prop:i,defaultProp:a,onChange:l,caller:Sl}),V=m.useRef(null),H=x?b||!!x.closest("form"):!0,[G,z]=m.useState(new Set),X=Array.from(G).map(ee=>ee.props.value).join(";");return h.jsx(Tg,{...w,children:h.jsxs(RQ,{required:y,scope:e,trigger:x,onTriggerChange:S,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:Rn(),value:L,onValueChange:F,open:A,onOpenChange:O,dir:M,triggerPointerDownPosRef:V,disabled:g,children:[h.jsx(Zg.Provider,{scope:e,children:h.jsx(MQ,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(ee=>{z(oe=>new Set(oe).add(ee))},[]),onNativeOptionRemove:m.useCallback(ee=>{z(oe=>{const j=new Set(oe);return j.delete(ee),j})},[]),children:n})}),H?h.jsxs(W2,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:L,onChange:ee=>F(ee.target.value),disabled:g,form:b,children:[L===void 0?h.jsx("option",{value:""}):null,Array.from(G)]},X):null]})})};v2.displayName=Sl;var x2="SelectTrigger",w2=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,s=ty(n),i=Sa(x2,n),a=i.disabled||r,l=at(e,i.onTriggerChange),u=ey(n),f=m.useRef("touch"),[p,g,y]=H2(w=>{const x=u().filter(E=>!E.disabled),S=x.find(E=>E.value===i.value),C=V2(x,w,S);C!==void 0&&i.onValueChange(C.value)}),b=w=>{a||(i.onOpenChange(!0),y()),w&&(i.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return h.jsx(Mf,{asChild:!0,...s,children:h.jsx(je.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":U2(i.value)?"":void 0,...o,ref:l,onClick:Ee(o.onClick,w=>{w.currentTarget.focus(),f.current!=="mouse"&&b(w)}),onPointerDown:Ee(o.onPointerDown,w=>{f.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:Ee(o.onKeyDown,w=>{const x=p.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(x&&w.key===" ")&&kQ.includes(w.key)&&(b(),w.preventDefault())})})})});w2.displayName=x2;var b2="SelectValue",S2=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:i="",...a}=t,l=Sa(b2,n),{onValueNodeHasChildrenChange:u}=l,f=s!==void 0,p=at(e,l.onValueNodeChange);return Pn(()=>{u(f)},[u,f]),h.jsx(je.span,{...a,ref:p,style:{pointerEvents:"none"},children:U2(l.value)?h.jsx(h.Fragment,{children:i}):s})});S2.displayName=b2;var PQ="SelectIcon",C2=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return h.jsx(je.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});C2.displayName=PQ;var OQ="SelectPortal",E2=t=>h.jsx(au,{asChild:!0,...t});E2.displayName=OQ;var Cl="SelectContent",k2=m.forwardRef((t,e)=>{const n=Sa(Cl,t.__scopeSelect),[r,o]=m.useState();if(Pn(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?wo.createPortal(h.jsx(N2,{scope:t.__scopeSelect,children:h.jsx(Zg.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(T2,{...t,ref:e})});k2.displayName=Cl;var jo=10,[N2,Ca]=gu(Cl),_Q="SelectContentImpl",IQ=ua("SelectContent.RemoveScroll"),T2=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:x,...S}=t,C=Sa(Cl,n),[E,N]=m.useState(null),[T,M]=m.useState(null),A=at(e,J=>N(J)),[O,L]=m.useState(null),[F,V]=m.useState(null),H=ey(n),[G,z]=m.useState(!1),X=m.useRef(!1);m.useEffect(()=>{if(E)return $g(E)},[E]),Lg();const ee=m.useCallback(J=>{const[ge,...de]=H().map(be=>be.ref.current),[ie]=de.slice(-1),Re=document.activeElement;for(const be of J)if(be===Re||(be==null||be.scrollIntoView({block:"nearest"}),be===ge&&T&&(T.scrollTop=0),be===ie&&T&&(T.scrollTop=T.scrollHeight),be==null||be.focus(),document.activeElement!==Re))return},[H,T]),oe=m.useCallback(()=>ee([O,E]),[ee,O,E]);m.useEffect(()=>{G&&oe()},[G,oe]);const{onOpenChange:j,triggerPointerDownPosRef:_}=C;m.useEffect(()=>{if(E){let J={x:0,y:0};const ge=ie=>{var Re,be;J={x:Math.abs(Math.round(ie.pageX)-(((Re=_.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((be=_.current)==null?void 0:be.y)??0))}},de=ie=>{J.x<=10&&J.y<=10?ie.preventDefault():E.contains(ie.target)||j(!1),document.removeEventListener("pointermove",ge),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",de,{capture:!0})}}},[E,j,_]),m.useEffect(()=>{const J=()=>j(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[j]);const[B,U]=H2(J=>{const ge=H().filter(Re=>!Re.disabled),de=ge.find(Re=>Re.ref.current===document.activeElement),ie=V2(ge,J,de);ie&&setTimeout(()=>ie.ref.current.focus())}),D=m.useCallback((J,ge,de)=>{const ie=!X.current&&!de;(C.value!==void 0&&C.value===ge||ie)&&(L(J),ie&&(X.current=!0))},[C.value]),Z=m.useCallback(()=>E==null?void 0:E.focus(),[E]),Q=m.useCallback((J,ge,de)=>{const ie=!X.current&&!de;(C.value!==void 0&&C.value===ge||ie)&&V(J)},[C.value]),Y=r==="popper"?Mw:R2,ae=Y===Mw?{side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:x}:{};return h.jsx(N2,{scope:n,content:E,viewport:T,onViewportChange:M,itemRefCallback:D,selectedItem:O,onItemLeave:Z,itemTextRefCallback:Q,focusSelectedItem:oe,selectedItemText:F,position:r,isPositioned:G,searchRef:B,children:h.jsx(jf,{as:IQ,allowPinchZoom:!0,children:h.jsx(If,{asChild:!0,trapped:C.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ee(o,J=>{var ge;(ge=C.trigger)==null||ge.focus({preventScroll:!0}),J.preventDefault()}),children:h.jsx(Al,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:h.jsx(Y,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:J=>J.preventDefault(),...S,...ae,onPlaced:()=>z(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ee(S.onKeyDown,J=>{const ge=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ge&&J.key.length===1&&U(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ie=H().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Re=J.target,be=ie.indexOf(Re);ie=ie.slice(be+1)}setTimeout(()=>ee(ie)),J.preventDefault()}})})})})})})});T2.displayName=_Q;var DQ="SelectItemAlignedPosition",R2=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,s=Sa(Cl,n),i=Ca(Cl,n),[a,l]=m.useState(null),[u,f]=m.useState(null),p=at(e,A=>f(A)),g=ey(n),y=m.useRef(!1),b=m.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:S,focusSelectedItem:C}=i,E=m.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&w&&x&&S){const A=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),F=S.getBoundingClientRect();if(s.dir!=="rtl"){const Re=F.left-O.left,be=L.left-Re,Oe=A.left-be,Me=A.width+Oe,Ze=Math.max(Me,O.width),Ge=window.innerWidth-jo,gt=Am(be,[jo,Math.max(jo,Ge-Ze)]);a.style.minWidth=Me+"px",a.style.left=gt+"px"}else{const Re=O.right-F.right,be=window.innerWidth-L.right-Re,Oe=window.innerWidth-A.right-be,Me=A.width+Oe,Ze=Math.max(Me,O.width),Ge=window.innerWidth-jo,gt=Am(be,[jo,Math.max(jo,Ge-Ze)]);a.style.minWidth=Me+"px",a.style.right=gt+"px"}const V=g(),H=window.innerHeight-jo*2,G=w.scrollHeight,z=window.getComputedStyle(u),X=parseInt(z.borderTopWidth,10),ee=parseInt(z.paddingTop,10),oe=parseInt(z.borderBottomWidth,10),j=parseInt(z.paddingBottom,10),_=X+ee+G+j+oe,B=Math.min(x.offsetHeight*5,_),U=window.getComputedStyle(w),D=parseInt(U.paddingTop,10),Z=parseInt(U.paddingBottom,10),Q=A.top+A.height/2-jo,Y=H-Q,ae=x.offsetHeight/2,J=x.offsetTop+ae,ge=X+ee+J,de=_-ge;if(ge<=Q){const Re=V.length>0&&x===V[V.length-1].ref.current;a.style.bottom="0px";const be=u.clientHeight-w.offsetTop-w.offsetHeight,Oe=Math.max(Y,ae+(Re?Z:0)+be+oe),Me=ge+Oe;a.style.height=Me+"px"}else{const Re=V.length>0&&x===V[0].ref.current;a.style.top="0px";const Oe=Math.max(Q,X+w.offsetTop+(Re?D:0)+ae)+de;a.style.height=Oe+"px",w.scrollTop=ge-Q+w.offsetTop}a.style.margin=`${jo}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[g,s.trigger,s.valueNode,a,u,w,x,S,s.dir,r]);Pn(()=>E(),[E]);const[N,T]=m.useState();Pn(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const M=m.useCallback(A=>{A&&b.current===!0&&(E(),C==null||C(),b.current=!1)},[E,C]);return h.jsx(LQ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:h.jsx(je.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});R2.displayName=DQ;var jQ="SelectPopperPosition",Mw=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=jo,...s}=t,i=ty(n);return h.jsx(Rg,{...i,...s,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mw.displayName=jQ;var[LQ,eS]=gu(Cl,{}),Aw="SelectViewport",M2=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,s=Ca(Aw,n),i=eS(Aw,n),a=at(e,s.onViewportChange),l=m.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Zg.Slot,{scope:n,children:h.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ee(o.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&p){const y=Math.abs(l.current-f.scrollTop);if(y>0){const b=window.innerHeight-jo*2,w=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),S=Math.max(w,x);if(S<b){const C=S+y,E=Math.min(b,C),N=C-E;p.style.height=E+"px",p.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,p.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});M2.displayName=Aw;var A2="SelectGroup",[FQ,$Q]=gu(A2),zQ=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=Rn();return h.jsx(FQ,{scope:n,id:o,children:h.jsx(je.div,{role:"group","aria-labelledby":o,...r,ref:e})})});zQ.displayName=A2;var P2="SelectLabel",O2=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=$Q(P2,n);return h.jsx(je.div,{id:o.id,...r,ref:e})});O2.displayName=P2;var Pm="SelectItem",[BQ,_2]=gu(Pm),I2=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...i}=t,a=Sa(Pm,n),l=Ca(Pm,n),u=a.value===r,[f,p]=m.useState(s??""),[g,y]=m.useState(!1),b=at(e,C=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,C,r,o)}),w=Rn(),x=m.useRef("touch"),S=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(BQ,{scope:n,value:r,disabled:o,textId:w,isSelected:u,onItemTextChange:m.useCallback(C=>{p(E=>E||((C==null?void 0:C.textContent)??"").trim())},[]),children:h.jsx(Zg.ItemSlot,{scope:n,value:r,disabled:o,textValue:f,children:h.jsx(je.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:b,onFocus:Ee(i.onFocus,()=>y(!0)),onBlur:Ee(i.onBlur,()=>y(!1)),onClick:Ee(i.onClick,()=>{x.current!=="mouse"&&S()}),onPointerUp:Ee(i.onPointerUp,()=>{x.current==="mouse"&&S()}),onPointerDown:Ee(i.onPointerDown,C=>{x.current=C.pointerType}),onPointerMove:Ee(i.onPointerMove,C=>{var E;x.current=C.pointerType,o?(E=l.onItemLeave)==null||E.call(l):x.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(i.onPointerLeave,C=>{var E;C.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:Ee(i.onKeyDown,C=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&C.key===" "||(NQ.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});I2.displayName=Pm;var sd="SelectItemText",D2=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...s}=t,i=Sa(sd,n),a=Ca(sd,n),l=_2(sd,n),u=AQ(sd,n),[f,p]=m.useState(null),g=at(e,S=>p(S),l.onItemTextChange,S=>{var C;return(C=a.itemTextRefCallback)==null?void 0:C.call(a,S,l.value,l.disabled)}),y=f==null?void 0:f.textContent,b=m.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=u;return Pn(()=>(w(b),()=>x(b)),[w,x,b]),h.jsxs(h.Fragment,{children:[h.jsx(je.span,{id:l.textId,...s,ref:g}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?wo.createPortal(s.children,i.valueNode):null]})});D2.displayName=sd;var j2="SelectItemIndicator",L2=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _2(j2,n).isSelected?h.jsx(je.span,{"aria-hidden":!0,...r,ref:e}):null});L2.displayName=j2;var Pw="SelectScrollUpButton",F2=m.forwardRef((t,e)=>{const n=Ca(Pw,t.__scopeSelect),r=eS(Pw,t.__scopeSelect),[o,s]=m.useState(!1),i=at(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?h.jsx(z2,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});F2.displayName=Pw;var Ow="SelectScrollDownButton",$2=m.forwardRef((t,e)=>{const n=Ca(Ow,t.__scopeSelect),r=eS(Ow,t.__scopeSelect),[o,s]=m.useState(!1),i=at(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;s(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?h.jsx(z2,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});$2.displayName=Ow;var z2=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,s=Ca("SelectScrollButton",n),i=m.useRef(null),a=ey(n),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Pn(()=>{var f;const u=a().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),h.jsx(je.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ee(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ee(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ee(o.onPointerLeave,()=>{l()})})}),WQ="SelectSeparator",B2=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(je.div,{"aria-hidden":!0,...r,ref:e})});B2.displayName=WQ;var _w="SelectArrow",UQ=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=ty(n),s=Sa(_w,n),i=Ca(_w,n);return s.open&&i.position==="popper"?h.jsx(Mg,{...o,...r,ref:e}):null});UQ.displayName=_w;var HQ="SelectBubbleInput",W2=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const o=m.useRef(null),s=at(r,o),i=Z1(e);return m.useEffect(()=>{const a=o.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&f){const p=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[i,e]),h.jsx(je.select,{...n,style:{...wO,...n.style},ref:s,defaultValue:e})});W2.displayName=HQ;function U2(t){return t===""||t===void 0}function H2(t){const e=Ir(t),n=m.useRef(""),r=m.useRef(0),o=m.useCallback(i=>{const a=n.current+i;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function V2(t,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=VQ(t,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function VQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var GQ=v2,G2=w2,KQ=S2,qQ=C2,YQ=E2,K2=k2,JQ=M2,q2=O2,Y2=I2,XQ=D2,QQ=L2,J2=F2,X2=$2,Q2=B2;const Ea=GQ,ka=KQ,ai=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(G2,{ref:r,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(qQ,{asChild:!0,children:h.jsx(Ks,{className:"h-4 w-4 opacity-50"})})]}));ai.displayName=G2.displayName;const Z2=m.forwardRef(({className:t,...e},n)=>h.jsx(J2,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(v9,{className:"h-4 w-4"})}));Z2.displayName=J2.displayName;const ej=m.forwardRef(({className:t,...e},n)=>h.jsx(X2,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Ks,{className:"h-4 w-4"})}));ej.displayName=X2.displayName;const li=m.forwardRef(({className:t,children:e,position:n="popper",...r},o)=>h.jsx(YQ,{children:h.jsxs(K2,{ref:o,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(Z2,{}),h.jsx(JQ,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(ej,{})]})}));li.displayName=K2.displayName;const ZQ=m.forwardRef(({className:t,...e},n)=>h.jsx(q2,{ref:n,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ZQ.displayName=q2.displayName;const cn=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Y2,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(QQ,{children:h.jsx(No,{className:"h-4 w-4"})})}),h.jsx(XQ,{children:e})]}));cn.displayName=Y2.displayName;const eZ=m.forwardRef(({className:t,...e},n)=>h.jsx(Q2,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));eZ.displayName=Q2.displayName;const tZ=kf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tS({className:t,variant:e,...n}){return h.jsx("div",{className:Te(tZ({variant:e}),t),...n})}const nZ=({currentCategory:t,existingCategories:e,isEditingCategory:n,showNewCategoryInput:r,newCategory:o,setNewCategory:s,setIsEditingCategory:i,setShowNewCategoryInput:a,handleEditCategory:l,handleAddCustomCategory:u})=>h.jsx("div",{className:"mb-2 px-6",children:n?h.jsx("div",{className:"mb-2",children:r?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Zt,{value:o,onChange:f=>s(f.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:f=>{f.key==="Enter"&&u()}}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:u,className:"h-8 w-8 p-0",children:h.jsx(No,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>{a(!1),s("")},className:"h-8 w-8 p-0",children:h.jsx(ii,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsxs(Ea,{onValueChange:l,defaultValue:t||"General",children:[h.jsx(ai,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx(ka,{placeholder:"Select a category"})}),h.jsxs(li,{children:[!e.includes("General")&&h.jsx(cn,{value:"General",style:{fontFamily:'"Raleway", sans-serif'},children:"General"}),e.map(f=>h.jsx(cn,{value:f,style:{fontFamily:'"Raleway", sans-serif'},children:f},f)),h.jsx(cn,{value:"__custom__",className:"text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:"+ Add new category"})]})]}),h.jsx(ke,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!1),children:"Cancel"})]})}):h.jsx(tS,{variant:"outline",className:"cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!0),children:t&&t!==""?t:"General"})});function rZ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>r=>{e.forEach(o=>o(r))},e)}const ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function nS(t){return"nodeType"in t}function Fr(t){var e,n;return t?yu(t)?t:nS(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function rS(t){const{Document:e}=Fr(t);return t instanceof e}function Uf(t){return yu(t)?!1:t instanceof Fr(t).HTMLElement}function tj(t){return t instanceof Fr(t).SVGElement}function vu(t){return t?yu(t)?t.document:nS(t)?rS(t)?t:Uf(t)||tj(t)?t.ownerDocument:document:document:document}const Ss=ny?m.useLayoutEffect:m.useEffect;function oS(t){const e=m.useRef(t);return Ss(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function oZ(){const t=m.useRef(null),e=m.useCallback((r,o)=>{t.current=setInterval(r,o)},[]),n=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Zd(t,e){e===void 0&&(e=[t]);const n=m.useRef(t);return Ss(()=>{n.current!==t&&(n.current=t)},e),n}function Hf(t,e){const n=m.useRef();return m.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Om(t){const e=oS(t),n=m.useRef(null),r=m.useCallback(o=>{o!==n.current&&(e==null||e(o,n.current)),n.current=o},[]);return[n,r]}function Iw(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let A0={};function Vf(t,e){return m.useMemo(()=>{if(e)return e;const n=A0[t]==null?0:A0[t]+1;return A0[t]=n,t+"-"+n},[t,e])}function nj(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const a=Object.entries(i);for(const[l,u]of a){const f=s[l];f!=null&&(s[l]=f+t*u)}return s},{...e})}}const Rc=nj(1),ef=nj(-1);function sZ(t){return"clientX"in t&&"clientY"in t}function sS(t){if(!t)return!1;const{KeyboardEvent:e}=Fr(t.target);return e&&t instanceof e}function iZ(t){if(!t)return!1;const{TouchEvent:e}=Fr(t.target);return e&&t instanceof e}function Dw(t){if(iZ(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return sZ(t)?{x:t.clientX,y:t.clientY}:null}const tf=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[tf.Translate.toString(t),tf.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),IT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aZ(t){return t.matches(IT)?t:t.querySelector(IT)}const lZ={display:"none"};function cZ(t){let{id:e,value:n}=t;return ne.createElement("div",{id:e,style:lZ},n)}function uZ(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ne.createElement("div",{id:e,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function dZ(){const[t,e]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const rj=m.createContext(null);function fZ(t){const e=m.useContext(rj);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function hZ(){const[t]=m.useState(()=>new Set),e=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:o,event:s}=r;t.forEach(i=>{var a;return(a=i[o])==null?void 0:a.call(i,s)})},[t]),e]}const pZ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mZ={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function gZ(t){let{announcements:e=mZ,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=pZ}=t;const{announce:s,announcement:i}=dZ(),a=Vf("DndLiveRegion"),[l,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),fZ(m.useMemo(()=>({onDragStart(p){let{active:g}=p;s(e.onDragStart({active:g}))},onDragMove(p){let{active:g,over:y}=p;e.onDragMove&&s(e.onDragMove({active:g,over:y}))},onDragOver(p){let{active:g,over:y}=p;s(e.onDragOver({active:g,over:y}))},onDragEnd(p){let{active:g,over:y}=p;s(e.onDragEnd({active:g,over:y}))},onDragCancel(p){let{active:g,over:y}=p;s(e.onDragCancel({active:g,over:y}))}}),[s,e])),!l)return null;const f=ne.createElement(ne.Fragment,null,ne.createElement(cZ,{id:r,value:o.draggable}),ne.createElement(uZ,{id:a,announcement:i}));return n?wo.createPortal(f,n):f}var bn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(bn||(bn={}));function _m(){}function DT(t,e){return m.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function yZ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Jo=Object.freeze({x:0,y:0});function oj(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sj(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function vZ(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function jT(t){let{left:e,top:n,height:r,width:o}=t;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+r},{x:e+o,y:n+r}]}function ij(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function LT(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const xZ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=LT(e,e.left,e.top),s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const u=oj(LT(l),o);s.push({id:a,data:{droppableContainer:i,value:u}})}}return s.sort(sj)},wZ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=jT(e),s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const u=jT(l),f=o.reduce((g,y,b)=>g+oj(u[b],y),0),p=Number((f/4).toFixed(4));s.push({id:a,data:{droppableContainer:i,value:p}})}}return s.sort(sj)};function bZ(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),i=o-r,a=s-n;if(r<o&&n<s){const l=e.width*e.height,u=t.width*t.height,f=i*a,p=f/(l+u-f);return Number(p.toFixed(4))}return 0}const SZ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=[];for(const s of r){const{id:i}=s,a=n.get(i);if(a){const l=bZ(a,e);l>0&&o.push({id:i,data:{droppableContainer:s,value:l}})}}return o.sort(vZ)};function CZ(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function aj(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Jo}function EZ(t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,a)=>({...i,top:i.top+t*a.y,bottom:i.bottom+t*a.y,left:i.left+t*a.x,right:i.right+t*a.x}),{...n})}}const kZ=EZ(1);function NZ(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function TZ(t,e,n){const r=NZ(e);if(!r)return t;const{scaleX:o,scaleY:s,x:i,y:a}=r,l=t.left-i-(1-o)*parseFloat(n),u=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?t.width/o:t.width,p=s?t.height/s:t.height;return{width:f,height:p,top:u,right:l+f,bottom:u+p,left:l}}const RZ={ignoreTransform:!1};function xu(t,e){e===void 0&&(e=RZ);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:f}=Fr(t).getComputedStyle(t);u&&(n=TZ(n,u,f))}const{top:r,left:o,width:s,height:i,bottom:a,right:l}=n;return{top:r,left:o,width:s,height:i,bottom:a,right:l}}function FT(t){return xu(t,{ignoreTransform:!0})}function MZ(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function AZ(t,e){return e===void 0&&(e=Fr(t).getComputedStyle(t)),e.position==="fixed"}function PZ(t,e){e===void 0&&(e=Fr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=e[o];return typeof s=="string"?n.test(s):!1})}function ry(t,e){const n=[];function r(o){if(e!=null&&n.length>=e||!o)return n;if(rS(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Uf(o)||tj(o)||n.includes(o))return n;const s=Fr(t).getComputedStyle(o);return o!==t&&PZ(o,s)&&n.push(o),AZ(o,s)?n:r(o.parentNode)}return t?r(t):n}function lj(t){const[e]=ry(t,1);return e??null}function P0(t){return!ny||!t?null:yu(t)?t:nS(t)?rS(t)||t===vu(t).scrollingElement?window:Uf(t)?t:null:null}function cj(t){return yu(t)?t.scrollX:t.scrollLeft}function uj(t){return yu(t)?t.scrollY:t.scrollTop}function jw(t){return{x:cj(t),y:uj(t)}}var kn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(kn||(kn={}));function dj(t){return!ny||!t?!1:t===document.scrollingElement}function fj(t){const e={x:0,y:0},n=dj(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,i=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:a,maxScroll:r,minScroll:e}}const OZ={x:.2,y:.2};function _Z(t,e,n,r,o){let{top:s,left:i,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=OZ);const{isTop:u,isBottom:f,isLeft:p,isRight:g}=fj(t),y={x:0,y:0},b={x:0,y:0},w={height:e.height*o.y,width:e.width*o.x};return!u&&s<=e.top+w.height?(y.y=kn.Backward,b.y=r*Math.abs((e.top+w.height-s)/w.height)):!f&&l>=e.bottom-w.height&&(y.y=kn.Forward,b.y=r*Math.abs((e.bottom-w.height-l)/w.height)),!g&&a>=e.right-w.width?(y.x=kn.Forward,b.x=r*Math.abs((e.right-w.width-a)/w.width)):!p&&i<=e.left+w.width&&(y.x=kn.Backward,b.x=r*Math.abs((e.left+w.width-i)/w.width)),{direction:y,speed:b}}function IZ(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:e,left:n,right:r,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:o,width:t.clientWidth,height:t.clientHeight}}function hj(t){return t.reduce((e,n)=>Rc(e,jw(n)),Jo)}function DZ(t){return t.reduce((e,n)=>e+cj(n),0)}function jZ(t){return t.reduce((e,n)=>e+uj(n),0)}function LZ(t,e){if(e===void 0&&(e=xu),!t)return;const{top:n,left:r,bottom:o,right:s}=e(t);lj(t)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const FZ=[["x",["left","right"],DZ],["y",["top","bottom"],jZ]];class iS{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ry(n),o=hj(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,i,a]of FZ)for(const l of i)Object.defineProperty(this,l,{get:()=>{const u=a(r),f=o[s]-u;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class xd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var o;(o=this.target)==null||o.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function $Z(t){const{EventTarget:e}=Fr(t);return t instanceof e?t:vu(t)}function O0(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var po;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(po||(po={}));function $T(t){t.preventDefault()}function zZ(t){t.stopPropagation()}var St;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(St||(St={}));const pj={start:[St.Space,St.Enter],cancel:[St.Esc],end:[St.Space,St.Enter,St.Tab]},BZ=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case St.Right:return{...n,x:n.x+25};case St.Left:return{...n,x:n.x-25};case St.Down:return{...n,y:n.y+25};case St.Up:return{...n,y:n.y-25}}};class aS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new xd(vu(n)),this.windowListeners=new xd(Fr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(po.Resize,this.handleCancel),this.windowListeners.add(po.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(po.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&LZ(r),n(Jo)}handleKeyDown(e){if(sS(e)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=pj,coordinateGetter:i=BZ,scrollBehavior:a="smooth"}=o,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:Jo;this.referenceCoordinates||(this.referenceCoordinates=f);const p=i(e,{active:n,context:r.current,currentCoordinates:f});if(p){const g=ef(p,f),y={x:0,y:0},{scrollableAncestors:b}=r.current;for(const w of b){const x=e.code,{isTop:S,isRight:C,isLeft:E,isBottom:N,maxScroll:T,minScroll:M}=fj(w),A=IZ(w),O={x:Math.min(x===St.Right?A.right-A.width/2:A.right,Math.max(x===St.Right?A.left:A.left+A.width/2,p.x)),y:Math.min(x===St.Down?A.bottom-A.height/2:A.bottom,Math.max(x===St.Down?A.top:A.top+A.height/2,p.y))},L=x===St.Right&&!C||x===St.Left&&!E,F=x===St.Down&&!N||x===St.Up&&!S;if(L&&O.x!==p.x){const V=w.scrollLeft+g.x,H=x===St.Right&&V<=T.x||x===St.Left&&V>=M.x;if(H&&!g.y){w.scrollTo({left:V,behavior:a});return}H?y.x=w.scrollLeft-V:y.x=x===St.Right?w.scrollLeft-T.x:w.scrollLeft-M.x,y.x&&w.scrollBy({left:-y.x,behavior:a});break}else if(F&&O.y!==p.y){const V=w.scrollTop+g.y,H=x===St.Down&&V<=T.y||x===St.Up&&V>=M.y;if(H&&!g.x){w.scrollTo({top:V,behavior:a});return}H?y.y=w.scrollTop-V:y.y=x===St.Down?w.scrollTop-T.y:w.scrollTop-M.y,y.y&&w.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(e,Rc(ef(p,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}aS.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=pj,onActivation:o}=e,{active:s}=n;const{code:i}=t.nativeEvent;if(r.start.includes(i)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),o==null||o({event:t.nativeEvent}),!0)}return!1}}];function zT(t){return!!(t&&"distance"in t)}function BT(t){return!!(t&&"delay"in t)}class lS{constructor(e,n,r){var o;r===void 0&&(r=$Z(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:i}=s;this.props=e,this.events=n,this.document=vu(i),this.documentListeners=new xd(this.document),this.listeners=new xd(r),this.windowListeners=new xd(Fr(i)),this.initialCoordinates=(o=Dw(s))!=null?o:Jo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(po.Resize,this.handleCancel),this.windowListeners.add(po.DragStart,$T),this.windowListeners.add(po.VisibilityChange,this.handleCancel),this.windowListeners.add(po.ContextMenu,$T),this.documentListeners.add(po.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(BT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(zT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:o}=this.props;o(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(po.Click,zZ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(po.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:a}}=s;if(!o)return;const l=(n=Dw(e))!=null?n:Jo,u=ef(o,l);if(!r&&a){if(zT(a)){if(a.tolerance!=null&&O0(u,a.tolerance))return this.handleCancel();if(O0(u,a.distance))return this.handleStart()}if(BT(a)&&O0(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),i(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===St.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const WZ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class cS extends lS{constructor(e){const{event:n}=e,r=vu(n.target);super(e,WZ,r)}}cS.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const UZ={move:{name:"mousemove"},end:{name:"mouseup"}};var Lw;(function(t){t[t.RightClick=2]="RightClick"})(Lw||(Lw={}));class HZ extends lS{constructor(e){super(e,UZ,vu(e.event.target))}}HZ.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Lw.RightClick?!1:(r==null||r({event:n}),!0)}}];const _0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class VZ extends lS{constructor(e){super(e,_0)}static setup(){return window.addEventListener(_0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(_0.move.name,e)};function e(){}}}VZ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var wd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(wd||(wd={}));var Im;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Im||(Im={}));function GZ(t){let{acceleration:e,activator:n=wd.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:a=Im.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:f,delta:p,threshold:g}=t;const y=qZ({delta:p,disabled:!s}),[b,w]=oZ(),x=m.useRef({x:0,y:0}),S=m.useRef({x:0,y:0}),C=m.useMemo(()=>{switch(n){case wd.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case wd.DraggableRect:return o}},[n,o,l]),E=m.useRef(null),N=m.useCallback(()=>{const M=E.current;if(!M)return;const A=x.current.x*S.current.x,O=x.current.y*S.current.y;M.scrollBy(A,O)},[]),T=m.useMemo(()=>a===Im.TreeOrder?[...u].reverse():u,[a,u]);m.useEffect(()=>{if(!s||!u.length||!C){w();return}for(const M of T){if((r==null?void 0:r(M))===!1)continue;const A=u.indexOf(M),O=f[A];if(!O)continue;const{direction:L,speed:F}=_Z(M,O,C,e,g);for(const V of["x","y"])y[V][L[V]]||(F[V]=0,L[V]=0);if(F.x>0||F.y>0){w(),E.current=M,b(N,i),x.current=F,S.current=L;return}}x.current={x:0,y:0},S.current={x:0,y:0},w()},[e,N,r,w,s,i,JSON.stringify(C),JSON.stringify(y),b,u,T,f,JSON.stringify(g)])}const KZ={x:{[kn.Backward]:!1,[kn.Forward]:!1},y:{[kn.Backward]:!1,[kn.Forward]:!1}};function qZ(t){let{delta:e,disabled:n}=t;const r=Iw(e);return Hf(o=>{if(n||!r||!o)return KZ;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[kn.Backward]:o.x[kn.Backward]||s.x===-1,[kn.Forward]:o.x[kn.Forward]||s.x===1},y:{[kn.Backward]:o.y[kn.Backward]||s.y===-1,[kn.Forward]:o.y[kn.Forward]||s.y===1}}},[n,e,r])}function YZ(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Hf(o=>{var s;return e==null?null:(s=r??o)!=null?s:null},[r,e])}function JZ(t,e){return m.useMemo(()=>t.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,r)}));return[...n,...s]},[]),[t,e])}var nf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(nf||(nf={}));var Fw;(function(t){t.Optimized="optimized"})(Fw||(Fw={}));const WT=new Map;function XZ(t,e){let{dragging:n,dependencies:r,config:o}=e;const[s,i]=m.useState(null),{frequency:a,measure:l,strategy:u}=o,f=m.useRef(t),p=x(),g=Zd(p),y=m.useCallback(function(S){S===void 0&&(S=[]),!g.current&&i(C=>C===null?S:C.concat(S.filter(E=>!C.includes(E))))},[g]),b=m.useRef(null),w=Hf(S=>{if(p&&!n)return WT;if(!S||S===WT||f.current!==t||s!=null){const C=new Map;for(let E of t){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){C.set(E.id,E.rect.current);continue}const N=E.node.current,T=N?new iS(l(N),N):null;E.rect.current=T,T&&C.set(E.id,T)}return C}return S},[t,s,n,p,l]);return m.useEffect(()=>{f.current=t},[t]),m.useEffect(()=>{p||y()},[n,p]),m.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),m.useEffect(()=>{p||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},a))},[a,p,y,...r]),{droppableRects:w,measureDroppableContainers:y,measuringScheduled:s!=null};function x(){switch(u){case nf.Always:return!1;case nf.BeforeDragging:return n;default:return!n}}}function mj(t,e){return Hf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function QZ(t,e){return mj(t,e)}function ZZ(t){let{callback:e,disabled:n}=t;const r=oS(e),o=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return m.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function oy(t){let{callback:e,disabled:n}=t;const r=oS(e),o=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return m.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function eee(t){return new iS(xu(t),t)}function UT(t,e,n){e===void 0&&(e=eee);const[r,o]=m.useState(null);function s(){o(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const f=e(t);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const i=ZZ({callback(l){if(t)for(const u of l){const{type:f,target:p}=u;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),a=oy({callback:s});return Ss(()=>{s(),t?(a==null||a.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[t]),r}function tee(t){const e=mj(t);return aj(t,e)}const HT=[];function nee(t){const e=m.useRef(t),n=Hf(r=>t?r&&r!==HT&&t&&e.current&&t.parentNode===e.current.parentNode?r:ry(t):HT,[t]);return m.useEffect(()=>{e.current=t},[t]),n}function ree(t){const[e,n]=m.useState(null),r=m.useRef(t),o=m.useCallback(s=>{const i=P0(s.target);i&&n(a=>a?(a.set(i,jw(i)),new Map(a)):null)},[]);return m.useEffect(()=>{const s=r.current;if(t!==s){i(s);const a=t.map(l=>{const u=P0(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,jw(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{i(t),i(s)};function i(a){a.forEach(l=>{const u=P0(l);u==null||u.removeEventListener("scroll",o)})}},[o,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,i)=>Rc(s,i),Jo):hj(t):Jo,[t,e])}function VT(t,e){e===void 0&&(e=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},e),m.useEffect(()=>{const r=t!==Jo;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?ef(t,n.current):Jo}function oee(t){m.useEffect(()=>{if(!ny)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function see(t,e){return m.useMemo(()=>t.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,e)},n},{}),[t,e])}function gj(t){return m.useMemo(()=>t?MZ(t):null,[t])}const GT=[];function iee(t,e){e===void 0&&(e=xu);const[n]=t,r=gj(n?Fr(n):null),[o,s]=m.useState(GT);function i(){s(()=>t.length?t.map(l=>dj(l)?r:new iS(e(l),l)):GT)}const a=oy({callback:i});return Ss(()=>{a==null||a.disconnect(),i(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),o}function aee(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Uf(e)?e:t}function lee(t){let{measure:e}=t;const[n,r]=m.useState(null),o=m.useCallback(u=>{for(const{target:f}of u)if(Uf(f)){r(p=>{const g=e(f);return p?{...p,width:g.width,height:g.height}:g});break}},[e]),s=oy({callback:o}),i=m.useCallback(u=>{const f=aee(u);s==null||s.disconnect(),f&&(s==null||s.observe(f)),r(f?e(f):null)},[e,s]),[a,l]=Om(i);return m.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const cee=[{sensor:cS,options:{}},{sensor:aS,options:{}}],uee={current:{}},Up={draggable:{measure:FT},droppable:{measure:FT,strategy:nf.WhileDragging,frequency:Fw.Optimized},dragOverlay:{measure:xu}};class bd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const dee={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_m},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Up,measureDroppableContainers:_m,windowRect:null,measuringScheduled:!1},fee={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_m,draggableNodes:new Map,over:null,measureDroppableContainers:_m},sy=m.createContext(fee),yj=m.createContext(dee);function hee(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bd}}}function pee(t,e){switch(e.type){case bn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case bn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case bn.DragEnd:case bn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case bn.RegisterDroppable:{const{element:n}=e,{id:r}=n,o=new bd(t.droppable.containers);return o.set(r,n),{...t,droppable:{...t.droppable,containers:o}}}case bn.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new bd(t.droppable.containers);return i.set(n,{...s,disabled:o}),{...t,droppable:{...t.droppable,containers:i}}}case bn.UnregisterDroppable:{const{id:n,key:r}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const s=new bd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function mee(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:o}=m.useContext(sy),s=Iw(r),i=Iw(n==null?void 0:n.id);return m.useEffect(()=>{if(!e&&!r&&s&&i!=null){if(!sS(s)||document.activeElement===s.target)return;const a=o.get(i);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[l.current,u.current]){if(!f)continue;const p=aZ(f);if(p){p.focus();break}}})}},[r,e,o,i,s]),null}function gee(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((o,s)=>s({transform:o,...r}),n):n}function yee(t){return m.useMemo(()=>({draggable:{...Up.draggable,...t==null?void 0:t.draggable},droppable:{...Up.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Up.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function vee(t){let{activeNode:e,measure:n,initialRect:r,config:o=!0}=t;const s=m.useRef(!1),{x:i,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Ss(()=>{if(!i&&!a||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const f=n(u),p=aj(f,r);if(i||(p.x=0),a||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=lj(u);g&&g.scrollBy({top:p.y,left:p.x})}},[e,i,a,r,n])}const vj=m.createContext({...Jo,scaleX:1,scaleY:1});var Pi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Pi||(Pi={}));const xee=m.memo(function(e){var n,r,o,s;let{id:i,accessibility:a,autoScroll:l=!0,children:u,sensors:f=cee,collisionDetection:p=SZ,measuring:g,modifiers:y,...b}=e;const w=m.useReducer(pee,void 0,hee),[x,S]=w,[C,E]=hZ(),[N,T]=m.useState(Pi.Uninitialized),M=N===Pi.Initialized,{draggable:{active:A,nodes:O,translate:L},droppable:{containers:F}}=x,V=A!=null?O.get(A):null,H=m.useRef({initial:null,translated:null}),G=m.useMemo(()=>{var Bt;return A!=null?{id:A,data:(Bt=V==null?void 0:V.data)!=null?Bt:uee,rect:H}:null},[A,V]),z=m.useRef(null),[X,ee]=m.useState(null),[oe,j]=m.useState(null),_=Zd(b,Object.values(b)),B=Vf("DndDescribedBy",i),U=m.useMemo(()=>F.getEnabled(),[F]),D=yee(g),{droppableRects:Z,measureDroppableContainers:Q,measuringScheduled:Y}=XZ(U,{dragging:M,dependencies:[L.x,L.y],config:D.droppable}),ae=YZ(O,A),J=m.useMemo(()=>oe?Dw(oe):null,[oe]),ge=fi(),de=QZ(ae,D.draggable.measure);vee({activeNode:A!=null?O.get(A):null,config:ge.layoutShiftCompensation,initialRect:de,measure:D.draggable.measure});const ie=UT(ae,D.draggable.measure,de),Re=UT(ae?ae.parentElement:null),be=m.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Oe=F.getNodeFor((n=be.current.over)==null?void 0:n.id),Me=lee({measure:D.dragOverlay.measure}),Ze=(r=Me.nodeRef.current)!=null?r:ae,Ge=M?(o=Me.rect)!=null?o:ie:null,gt=!!(Me.nodeRef.current&&Me.rect),Ue=tee(gt?null:ie),nt=gj(Ze?Fr(Ze):null),Ke=nee(M?Oe??ae:null),Be=iee(Ke),Xe=gee(y,{transform:{x:L.x-Ue.x,y:L.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:oe,active:G,activeNodeRect:ie,containerNodeRect:Re,draggingNodeRect:Ge,over:be.current.over,overlayNodeRect:Me.rect,scrollableAncestors:Ke,scrollableAncestorRects:Be,windowRect:nt}),yt=J?Rc(J,L):null,Dt=ree(Ke),ue=VT(Dt),Pe=VT(Dt,[ie]),$e=Rc(Xe,ue),ft=Ge?kZ(Ge,Xe):null,re=G&&ft?p({active:G,collisionRect:ft,droppableRects:Z,droppableContainers:U,pointerCoordinates:yt}):null,Se=ij(re,"id"),[Ce,De]=m.useState(null),Ct=gt?Xe:Rc(Xe,Pe),jt=CZ(Ct,(s=Ce==null?void 0:Ce.rect)!=null?s:null,ie),wr=m.useRef(null),In=m.useCallback((Bt,Lt)=>{let{sensor:yn,options:He}=Lt;if(z.current==null)return;const Qe=O.get(z.current);if(!Qe)return;const rt=Bt.nativeEvent,Ft=new yn({active:z.current,activeNode:Qe,event:rt,options:He,context:be,onAbort(Rt){if(!O.get(Rt))return;const{onDragAbort:ce}=_.current,pe={id:Rt};ce==null||ce(pe),C({type:"onDragAbort",event:pe})},onPending(Rt,nn,ce,pe){if(!O.get(Rt))return;const{onDragPending:Le}=_.current,We={id:Rt,constraint:nn,initialCoordinates:ce,offset:pe};Le==null||Le(We),C({type:"onDragPending",event:We})},onStart(Rt){const nn=z.current;if(nn==null)return;const ce=O.get(nn);if(!ce)return;const{onDragStart:pe}=_.current,we={activatorEvent:rt,active:{id:nn,data:ce.data,rect:H}};wo.unstable_batchedUpdates(()=>{pe==null||pe(we),T(Pi.Initializing),S({type:bn.DragStart,initialCoordinates:Rt,active:nn}),C({type:"onDragStart",event:we}),ee(wr.current),j(rt)})},onMove(Rt){S({type:bn.DragMove,coordinates:Rt})},onEnd:tn(bn.DragEnd),onCancel:tn(bn.DragCancel)});wr.current=Ft;function tn(Rt){return async function(){const{active:ce,collisions:pe,over:we,scrollAdjustedTranslate:Le}=be.current;let We=null;if(ce&&Le){const{cancelDrop:kt}=_.current;We={activatorEvent:rt,active:ce,collisions:pe,delta:Le,over:we},Rt===bn.DragEnd&&typeof kt=="function"&&await Promise.resolve(kt(We))&&(Rt=bn.DragCancel)}z.current=null,wo.unstable_batchedUpdates(()=>{S({type:Rt}),T(Pi.Uninitialized),De(null),ee(null),j(null),wr.current=null;const kt=Rt===bn.DragEnd?"onDragEnd":"onDragCancel";if(We){const rn=_.current[kt];rn==null||rn(We),C({type:kt,event:We})}})}}},[O]),Ts=m.useCallback((Bt,Lt)=>(yn,He)=>{const Qe=yn.nativeEvent,rt=O.get(He);if(z.current!==null||!rt||Qe.dndKit||Qe.defaultPrevented)return;const Ft={active:rt};Bt(yn,Lt.options,Ft)===!0&&(Qe.dndKit={capturedBy:Lt.sensor},z.current=He,In(yn,Lt))},[O,In]),ci=JZ(f,Ts);oee(f),Ss(()=>{ie&&N===Pi.Initializing&&T(Pi.Initialized)},[ie,N]),m.useEffect(()=>{const{onDragMove:Bt}=_.current,{active:Lt,activatorEvent:yn,collisions:He,over:Qe}=be.current;if(!Lt||!yn)return;const rt={active:Lt,activatorEvent:yn,collisions:He,delta:{x:$e.x,y:$e.y},over:Qe};wo.unstable_batchedUpdates(()=>{Bt==null||Bt(rt),C({type:"onDragMove",event:rt})})},[$e.x,$e.y]),m.useEffect(()=>{const{active:Bt,activatorEvent:Lt,collisions:yn,droppableContainers:He,scrollAdjustedTranslate:Qe}=be.current;if(!Bt||z.current==null||!Lt||!Qe)return;const{onDragOver:rt}=_.current,Ft=He.get(Se),tn=Ft&&Ft.rect.current?{id:Ft.id,rect:Ft.rect.current,data:Ft.data,disabled:Ft.disabled}:null,Rt={active:Bt,activatorEvent:Lt,collisions:yn,delta:{x:Qe.x,y:Qe.y},over:tn};wo.unstable_batchedUpdates(()=>{De(tn),rt==null||rt(Rt),C({type:"onDragOver",event:Rt})})},[Se]),Ss(()=>{be.current={activatorEvent:oe,active:G,activeNode:ae,collisionRect:ft,collisions:re,droppableRects:Z,draggableNodes:O,draggingNode:Ze,draggingNodeRect:Ge,droppableContainers:F,over:Ce,scrollableAncestors:Ke,scrollAdjustedTranslate:$e},H.current={initial:Ge,translated:ft}},[G,ae,re,ft,O,Ze,Ge,Z,F,Ce,Ke,$e]),GZ({...ge,delta:L,draggingRect:ft,pointerCoordinates:yt,scrollableAncestors:Ke,scrollableAncestorRects:Be});const ui=m.useMemo(()=>({active:G,activeNode:ae,activeNodeRect:ie,activatorEvent:oe,collisions:re,containerNodeRect:Re,dragOverlay:Me,draggableNodes:O,droppableContainers:F,droppableRects:Z,over:Ce,measureDroppableContainers:Q,scrollableAncestors:Ke,scrollableAncestorRects:Be,measuringConfiguration:D,measuringScheduled:Y,windowRect:nt}),[G,ae,ie,oe,re,Re,Me,O,F,Z,Ce,Q,Ke,Be,D,Y,nt]),di=m.useMemo(()=>({activatorEvent:oe,activators:ci,active:G,activeNodeRect:ie,ariaDescribedById:{draggable:B},dispatch:S,draggableNodes:O,over:Ce,measureDroppableContainers:Q}),[oe,ci,G,ie,S,B,O,Ce,Q]);return ne.createElement(rj.Provider,{value:E},ne.createElement(sy.Provider,{value:di},ne.createElement(yj.Provider,{value:ui},ne.createElement(vj.Provider,{value:jt},u)),ne.createElement(mee,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ne.createElement(gZ,{...a,hiddenTextDescribedById:B}));function fi(){const Bt=(X==null?void 0:X.autoScrollEnabled)===!1,Lt=typeof l=="object"?l.enabled===!1:l===!1,yn=M&&!Bt&&!Lt;return typeof l=="object"?{...l,enabled:yn}:{enabled:yn}}}),wee=m.createContext(null),KT="button",bee="Draggable";function See(t){let{id:e,data:n,disabled:r=!1,attributes:o}=t;const s=Vf(bee),{activators:i,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:f,draggableNodes:p,over:g}=m.useContext(sy),{role:y=KT,roleDescription:b="draggable",tabIndex:w=0}=o??{},x=(l==null?void 0:l.id)===e,S=m.useContext(x?vj:wee),[C,E]=Om(),[N,T]=Om(),M=see(i,e),A=Zd(n);Ss(()=>(p.set(e,{id:e,key:s,node:C,activatorNode:N,data:A}),()=>{const L=p.get(e);L&&L.key===s&&p.delete(e)}),[p,e]);const O=m.useMemo(()=>({role:y,tabIndex:w,"aria-disabled":r,"aria-pressed":x&&y===KT?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,y,w,x,b,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:O,isDragging:x,listeners:r?void 0:M,node:C,over:g,setNodeRef:E,setActivatorNodeRef:T,transform:S}}function Cee(){return m.useContext(yj)}const Eee="Droppable",kee={timeout:25};function Nee(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:o}=t;const s=Vf(Eee),{active:i,dispatch:a,over:l,measureDroppableContainers:u}=m.useContext(sy),f=m.useRef({disabled:n}),p=m.useRef(!1),g=m.useRef(null),y=m.useRef(null),{disabled:b,updateMeasurementsFor:w,timeout:x}={...kee,...o},S=Zd(w??r),C=m.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(S.current)?S.current:[S.current]),y.current=null},x)},[x]),E=oy({callback:C,disabled:b||!i}),N=m.useCallback((O,L)=>{E&&(L&&(E.unobserve(L),p.current=!1),O&&E.observe(O))},[E]),[T,M]=Om(N),A=Zd(e);return m.useEffect(()=>{!E||!T.current||(E.disconnect(),p.current=!1,E.observe(T.current))},[T,E]),m.useEffect(()=>(a({type:bn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:T,rect:g,data:A}}),()=>a({type:bn.UnregisterDroppable,key:s,id:r})),[r]),m.useEffect(()=>{n!==f.current.disabled&&(a({type:bn.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,a]),{active:i,rect:g,isOver:(l==null?void 0:l.id)===r,node:T,over:l,setNodeRef:M}}function uS(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Tee(t,e){return t.reduce((n,r,o)=>{const s=e.get(r);return s&&(n[o]=s),n},Array(t.length))}function up(t){return t!==null&&t>=0}function Ree(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Mee(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const xj=t=>{let{rects:e,activeIndex:n,overIndex:r,index:o}=t;const s=uS(e,r,n),i=e[o],a=s[o];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},dp={scaleX:1,scaleY:1},Aee=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:i}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(o===n){const u=s[i];return u?{x:0,y:n<i?u.top+u.height-(a.top+a.height):u.top-a.top,...dp}:null}const l=Pee(s,o,n);return o>n&&o<=i?{x:0,y:-a.height-l,...dp}:o<n&&o>=i?{x:0,y:a.height+l,...dp}:{x:0,y:0,...dp}};function Pee(t,e,n){const r=t[e],o=t[e-1],s=t[e+1];return r?n<e?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const wj="Sortable",bj=ne.createContext({activeIndex:-1,containerId:wj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xj,disabled:{draggable:!1,droppable:!1}});function Oee(t){let{children:e,id:n,items:r,strategy:o=xj,disabled:s=!1}=t;const{active:i,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:f}=Cee(),p=Vf(wj,n),g=a.rect!==null,y=m.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),b=i!=null,w=i?y.indexOf(i.id):-1,x=u?y.indexOf(u.id):-1,S=m.useRef(y),C=!Ree(y,S.current),E=x!==-1&&w===-1||C,N=Mee(s);Ss(()=>{C&&b&&f(y)},[C,y,b,f]),m.useEffect(()=>{S.current=y},[y]);const T=m.useMemo(()=>({activeIndex:w,containerId:p,disabled:N,disableTransforms:E,items:y,overIndex:x,useDragOverlay:g,sortedRects:Tee(y,l),strategy:o}),[w,p,N.draggable,N.droppable,E,y,x,l,g,o]);return ne.createElement(bj.Provider,{value:T},e)}const _ee=t=>{let{id:e,items:n,activeIndex:r,overIndex:o}=t;return uS(n,r,o).indexOf(e)},Iee=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:o,items:s,newIndex:i,previousItems:a,previousContainerId:l,transition:u}=t;return!u||!r||a!==s&&o===i?!1:n?!0:i!==o&&e===l},Dee={duration:200,easing:"ease"},Sj="transform",jee=tf.Transition.toString({property:Sj,duration:0,easing:"linear"}),Lee={roleDescription:"sortable"};function Fee(t){let{disabled:e,index:n,node:r,rect:o}=t;const[s,i]=m.useState(null),a=m.useRef(n);return Ss(()=>{if(!e&&n!==a.current&&r.current){const l=o.current;if(l){const u=xu(r.current,{ignoreTransform:!0}),f={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(f.x||f.y)&&i(f)}}n!==a.current&&(a.current=n)},[e,n,r,o]),m.useEffect(()=>{s&&i(null)},[s]),s}function $ee(t){let{animateLayoutChanges:e=Iee,attributes:n,disabled:r,data:o,getNewIndex:s=_ee,id:i,strategy:a,resizeObserverConfig:l,transition:u=Dee}=t;const{items:f,containerId:p,activeIndex:g,disabled:y,disableTransforms:b,sortedRects:w,overIndex:x,useDragOverlay:S,strategy:C}=m.useContext(bj),E=zee(r,y),N=f.indexOf(i),T=m.useMemo(()=>({sortable:{containerId:p,index:N,items:f},...o}),[p,o,N,f]),M=m.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:A,node:O,isOver:L,setNodeRef:F}=Nee({id:i,data:T,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...l}}),{active:V,activatorEvent:H,activeNodeRect:G,attributes:z,setNodeRef:X,listeners:ee,isDragging:oe,over:j,setActivatorNodeRef:_,transform:B}=See({id:i,data:T,attributes:{...Lee,...n},disabled:E.draggable}),U=rZ(F,X),D=!!V,Z=D&&!b&&up(g)&&up(x),Q=!S&&oe,Y=Q&&Z?B:null,J=Z?Y??(a??C)({rects:w,activeNodeRect:G,activeIndex:g,overIndex:x,index:N}):null,ge=up(g)&&up(x)?s({id:i,items:f,activeIndex:g,overIndex:x}):N,de=V==null?void 0:V.id,ie=m.useRef({activeId:de,items:f,newIndex:ge,containerId:p}),Re=f!==ie.current.items,be=e({active:V,containerId:p,isDragging:oe,isSorting:D,id:i,index:N,items:f,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:u,wasDragging:ie.current.activeId!=null}),Oe=Fee({disabled:!be,index:N,node:O,rect:A});return m.useEffect(()=>{D&&ie.current.newIndex!==ge&&(ie.current.newIndex=ge),p!==ie.current.containerId&&(ie.current.containerId=p),f!==ie.current.items&&(ie.current.items=f)},[D,ge,p,f]),m.useEffect(()=>{if(de===ie.current.activeId)return;if(de!=null&&ie.current.activeId==null){ie.current.activeId=de;return}const Ze=setTimeout(()=>{ie.current.activeId=de},50);return()=>clearTimeout(Ze)},[de]),{active:V,activeIndex:g,attributes:z,data:T,rect:A,index:N,newIndex:ge,items:f,isOver:L,isSorting:D,isDragging:oe,listeners:ee,node:O,overIndex:x,over:j,setNodeRef:U,setActivatorNodeRef:_,setDroppableNodeRef:F,setDraggableNodeRef:X,transform:Oe??J,transition:Me()};function Me(){if(Oe||Re&&ie.current.newIndex===N)return jee;if(!(Q&&!sS(H)||!u)&&(D||be))return tf.Transition.toString({...u,property:Sj})}}function zee(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Dm(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Bee=[St.Down,St.Right,St.Up,St.Left],Wee=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:i,scrollableAncestors:a}}=e;if(Bee.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const g=o.get(p.id);if(g)switch(t.code){case St.Down:r.top<g.top&&l.push(p);break;case St.Up:r.top>g.top&&l.push(p);break;case St.Left:r.left>g.left&&l.push(p);break;case St.Right:r.left<g.left&&l.push(p);break}});const u=wZ({collisionRect:r,droppableRects:o,droppableContainers:l});let f=ij(u,"id");if(f===(i==null?void 0:i.id)&&u.length>1&&(f=u[1].id),f!=null){const p=s.get(n.id),g=s.get(f),y=g?o.get(g.id):null,b=g==null?void 0:g.node.current;if(b&&y&&p&&g){const x=ry(b).some((M,A)=>a[A]!==M),S=Cj(p,g),C=Uee(p,g),E=x||!S?{x:0,y:0}:{x:C?r.width-y.width:0,y:C?r.height-y.height:0},N={x:y.left,y:y.top};return E.x&&E.y?N:ef(N,E)}}}};function Cj(t,e){return!Dm(t)||!Dm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Uee(t,e){return!Dm(t)||!Dm(e)||!Cj(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Hee=({item:t,editingItemId:e,editingItemText:n,setEditingItemText:r,toggleItemCompleted:o,startEditingItem:s,handleEditItem:i,removeItem:a})=>{const l=e===t.id,{attributes:u,listeners:f,setNodeRef:p,transform:g,transition:y,isDragging:b}=$ee({id:t.id,disabled:l}),w={transform:tf.Transform.toString(g),transition:y,opacity:b?.5:1};return h.jsx("div",{ref:p,style:w,className:"flex items-center py-1 group","data-sortable-item":!0,children:l?h.jsxs("div",{className:"flex items-center gap-1 w-full",children:[h.jsx(Zt,{value:n,onChange:x=>r(x.target.value),className:"h-8 flex-grow",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&i()}}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:i,className:"h-8 w-8 p-0",children:h.jsx(No,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>r(""),className:"h-8 w-8 p-0",children:h.jsx(ii,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{...u,...f,className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing mr-2 p-1","data-sortable-handle":!0,children:h.jsx(S9,{className:"h-4 w-4 text-gray-400","data-lucide":"grip-vertical"})}),h.jsxs("div",{className:"flex items-center flex-grow cursor-pointer",onClick:()=>o(t.id),children:[h.jsx("div",{style:t.completed?{backgroundColor:"var(--list-color)",borderColor:"var(--list-color)"}:{},className:`w-4 h-4 min-w-[16px] min-h-[16px] max-w-[16px] max-h-[16px] rounded-sm border mr-2 flex items-center justify-center flex-shrink-0 ${t.completed?"":"border-gray-300 hover:border-[var(--list-color)]"}`,children:t.completed&&h.jsx(No,{className:"h-3 w-3 text-white"})}),h.jsx("span",{className:`${t.completed?"line-through text-gray-400":""}`,style:{fontFamily:'"Raleway", sans-serif'},children:t.text})]}),h.jsxs("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>s(t),className:"h-8 w-8 p-0",children:h.jsx(Nf,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>a(t.id),className:"h-8 w-8 p-0 text-red-600",children:h.jsx(Cg,{className:"h-4 w-4"})})]})]})})},Vee=({progress:t,totalItems:e,completedItems:n})=>h.jsxs("div",{className:"px-6 py-2",children:[h.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mb-1",children:h.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${t}%`,backgroundColor:"var(--list-color)"}})}),h.jsxs("div",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:[n," of ",e," completed"]})]}),Gee=t=>{const{newItemText:e,setNewItemText:n,handleAddItem:r,inputRef:o,currentInputSuggestion:s,currentSuggestion:i,handleAcceptSuggestion:a,handleGetSuggestion:l,aiEnabled:u,isLoadingSuggestions:f}=t,p=g=>{if(console.log("Key pressed:",g.key,{currentInputSuggestion:s}),g.key==="Enter")r();else if(g.key==="Escape")n("");else if(g.key==="Tab"&&s)g.preventDefault(),a(),console.log("Accepting suggestion with Tab");else if(g.key==="ArrowRight"&&s){const y=g.currentTarget;y.selectionStart===y.value.length&&(g.preventDefault(),a(),console.log("Accepting suggestion with ArrowRight"))}};return h.jsxs("div",{className:"flex flex-col p-2 border-t",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"relative flex-1 rounded-md border",children:[h.jsx(Zt,{ref:o,value:e,onChange:g=>n(g.target.value),placeholder:"Add new item...",className:`h-8 border-0 focus-visible:ring-0 focus-visible:ring-offset-0 ${u?"pr-8":""}`,style:{fontFamily:'"Raleway", sans-serif'},onKeyDown:p}),u&&h.jsx("button",{type:"button",onClick:l,className:"absolute right-2 top-1/2 transform -translate-y-1/2 cursor-pointer",children:h.jsx(Hi,{size:14,style:{color:"var(--list-color)"},className:`${f?"animate-pulse":""}`})}),u&&s&&e&&s.toLowerCase().startsWith(e.toLowerCase())&&h.jsx("div",{className:"absolute left-0 top-0 right-8 bottom-0 flex items-center pointer-events-none z-10",children:h.jsxs("div",{className:"px-3 flex items-center w-full pr-2",children:[h.jsx("span",{className:"text-transparent",children:e}),h.jsx("span",{className:"text-gray-500 overflow-hidden text-ellipsis whitespace-nowrap font-medium",style:{pointerEvents:"none",fontFamily:'"Raleway", sans-serif',maxWidth:"calc(100% - 2rem)"},title:"Press Tab or Right Arrow to accept",children:s.substring(e.length)})]})})]}),h.jsx(ke,{size:"sm",variant:"secondary",onClick:r,className:"h-8 w-8 p-0",disabled:!e.trim(),children:h.jsx(Uo,{className:"h-4 w-4"})}),h.jsxs(ke,{size:"sm",variant:"ghost",onClick:()=>n(""),className:"h-8 w-8 p-0",children:[h.jsx("span",{className:"sr-only",children:"Clear"}),h.jsx("span",{"aria-hidden":"true",children:""})]})]}),u&&h.jsxs("button",{onClick:l,className:"mt-2 w-full flex items-center gap-1.5 px-2 py-1.5 text-sm text-gray-700 hover:bg-gray-50 rounded-md transition-colors",style:{fontFamily:'"Raleway", sans-serif'},disabled:f,children:[h.jsx(Hi,{className:"w-4 h-4",style:{color:"var(--list-color)"}}),h.jsx("span",{className:"font-medium",children:"Suggest:"}),i&&h.jsx("span",{style:{color:"var(--list-color)"},className:"font-medium overflow-hidden text-ellipsis whitespace-nowrap",children:i})]})]})},dS=({list:t,onUpdate:e,onDelete:n,existingCategories:r,isCollapsed:o,onToggleCollapsed:s,addCategory:i})=>{const{isCollapsibleOpen:a,isEditing:l,setIsEditing:u,editTitle:f,setEditTitle:p,handleEditTitle:g,handleDeleteList:y,handleSaveListColor:b,isSavingColor:w,isEditingCategory:x,setIsEditingCategory:S,showNewCategoryInput:C,setShowNewCategoryInput:E,newCategory:N,setNewCategory:T,handleEditCategory:M,handleAddCustomCategory:A,newItemText:O,setNewItemText:L,editingItemId:F,editingItemText:V,setEditingItemText:H,handleAddItem:G,toggleItemCompleted:z,removeItem:X,startEditingItem:ee,handleEditItem:oe,isLoadingSuggestions:j,handleGetSuggestion:_,handleAcceptSuggestion:B,currentSuggestion:U,currentInputSuggestion:D,aiEnabled:Z,titleEditRef:Q,newItemInputRef:Y}=SQ({list:t,onUpdate:e,onDelete:n,isCollapsed:o,onToggleCollapsed:s,existingCategories:r,addCategory:i}),ae=yZ(DT(cS),DT(aS,{coordinateGetter:Wee})),J=be=>{const{active:Oe,over:Me}=be;if(Me&&Oe.id!==Me.id){const Ze=t.items.findIndex(nt=>nt.id===Oe.id),Ge=t.items.findIndex(nt=>nt.id===Me.id),gt=uS(t.items,Ze,Ge),Ue={...t,items:gt};e(Ue)}};m.useEffect(()=>{if(!l)return;const be=Oe=>{Q.current&&!Q.current.contains(Oe.target)&&g()};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[l,g]);const ge=t.items.length,de=t.items.filter(be=>be.completed).length,ie=ge>0?de/ge*100:0,Re=t.color_value||"#808080";return h.jsx(J1,{open:a,onOpenChange:be=>{s&&o!==void 0&&!o!==be&&s()},className:"w-full mb-4",style:{"--list-color":Re},children:h.jsxs(Yg,{className:"w-full border shadow-sm",children:[h.jsx(EQ,{title:t.title,listColor:t.color_value,isEditing:l,editTitle:f,isCollapsibleOpen:a,setEditTitle:p,setIsEditing:u,handleEditTitle:g,handleDeleteList:y,titleEditRef:Q,onColorSave:b,isSavingColor:w}),h.jsx(nZ,{currentCategory:t.type,existingCategories:r,isEditingCategory:x,showNewCategoryInput:C,newCategory:N,setNewCategory:T,setIsEditingCategory:S,setShowNewCategoryInput:E,handleEditCategory:M,handleAddCustomCategory:A}),h.jsx(Q1,{children:h.jsxs(h2,{className:"p-0",children:[ge>0&&h.jsx(Vee,{progress:ie,totalItems:ge,completedItems:de}),h.jsxs("div",{className:"px-6 py-2 space-y-0.5",children:[h.jsx(xee,{sensors:ae,collisionDetection:xZ,onDragEnd:J,children:h.jsx(Oee,{items:t.items.map(be=>be.id),strategy:Aee,children:t.items.map(be=>h.jsx(Hee,{item:be,editingItemId:F,editingItemText:V,setEditingItemText:H,toggleItemCompleted:z,startEditingItem:ee,handleEditItem:oe,removeItem:X},be.id))})}),t.items.length===0&&h.jsx("div",{className:"text-gray-400 text-sm py-2 italic",style:{fontFamily:'"Raleway", sans-serif'},children:"No items yet. Add one below or use AI suggestions."})]}),h.jsx(Gee,{newItemText:O,setNewItemText:L,handleAddItem:G,inputRef:Y,currentInputSuggestion:D,currentSuggestion:U,handleAcceptSuggestion:B,handleGetSuggestion:_,aiEnabled:Z,isLoadingSuggestions:j})]})})]})})};var iy="Switch",[Kee,lue]=jr(iy),[qee,Yee]=Kee(iy),Ej=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:u,form:f,...p}=t,[g,y]=m.useState(null),b=at(e,E=>y(E)),w=m.useRef(!1),x=g?f||!!g.closest("form"):!0,[S,C]=Dr({prop:o,defaultProp:s??!1,onChange:u,caller:iy});return h.jsxs(qee,{scope:n,checked:S,disabled:a,children:[h.jsx(je.button,{type:"button",role:"switch","aria-checked":S,"aria-required":i,"data-state":Rj(S),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:b,onClick:Ee(t.onClick,E=>{C(N=>!N),x&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})}),x&&h.jsx(Tj,{control:g,bubbles:!w.current,name:r,value:l,checked:S,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});Ej.displayName=iy;var kj="SwitchThumb",Nj=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,o=Yee(kj,n);return h.jsx(je.span,{"data-state":Rj(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});Nj.displayName=kj;var Jee="SwitchBubbleInput",Tj=m.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...o},s)=>{const i=m.useRef(null),a=at(i,s),l=Z1(n),u=k1(e);return m.useEffect(()=>{const f=i.current;if(!f)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&y){const b=new Event("click",{bubbles:r});y.call(f,n),f.dispatchEvent(b)}},[l,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Tj.displayName=Jee;function Rj(t){return t?"checked":"unchecked"}var Mj=Ej,Xee=Nj;const Aj=m.forwardRef(({className:t,...e},n)=>h.jsx(Mj,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-blue-600 data-[state=checked]:to-indigo-600 data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(Xee,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Aj.displayName=Mj.displayName;const $w=({onToggle:t})=>{const{aiEnabled:e,setAiEnabled:n}=aI();return m.useEffect(()=>{t&&t(e)},[e,t]),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(j_,{children:h.jsxs(xK,{children:[h.jsx(wK,{asChild:!0,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Aj,{checked:e,onCheckedChange:n,id:"ai-suggest-toggle"}),h.jsxs(dr,{htmlFor:"ai-suggest-toggle",className:"text-sm font-medium cursor-pointer flex items-center",children:[h.jsx(Hi,{size:14,className:"mr-1 text-blue-500"}),h.jsx("span",{className:"hidden sm:inline",style:{fontFamily:'"Raleway", sans-serif'},children:"AI Suggest"}),h.jsx("span",{className:"sm:hidden",style:{fontFamily:'"Raleway", sans-serif'},children:"AI"})]})]})}),h.jsx(L_,{children:h.jsx("p",{children:"Enable AI suggestions for list items"})})]})})})},Qee=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(""),[o,s]=m.useState(!1),[i,a]=m.useState("all"),[l,u]=m.useState(!0),{toast:f}=To(),{isAuthenticated:p,token:g}=Zo();m.useEffect(()=>{p&&y()},[p]);const y=async()=>{try{u(!0);const M=(await qt.get("/api/lists",{headers:{Authorization:`Bearer ${g}`}})).data.map(A=>({id:A.id,title:A.title,type:A.category||"General",items:A.items||[],createdAt:new Date(A.createdAt),color_value:A.color_value||"#808080"}));e(M)}catch(T){console.error("Failed to fetch lists:",T),f({title:"Error fetching lists",description:"Could not retrieve your lists. Please try again later.",variant:"destructive"})}finally{u(!1)}},b=async(T,M)=>{try{const A=await qt.post("/api/lists",{title:T,category:M,items:[]},{headers:{Authorization:`Bearer ${g}`}}),O={...A.data,type:A.data.category,items:A.data.items||[],createdAt:new Date(A.data.createdAt),color_value:A.data.color_value||"#808080"};e(L=>[O,...L]),s(!1),f({title:"List created!",description:`Your ${M} list "${T}" has been created.`})}catch(A){console.error("Failed to create list:",A),f({title:"Error creating list",description:"Could not create your list. Please try again.",variant:"destructive"})}},w=async T=>{try{await qt.delete(`/api/lists/${T}`,{headers:{Authorization:`Bearer ${g}`}}),e(M=>M.filter(A=>A.id!==T)),f({title:"List deleted",description:"Your list has been removed."})}catch(M){console.error("Failed to delete list:",M),f({title:"Error deleting list",description:"Could not delete your list. Please try again.",variant:"destructive"})}},x=async T=>{try{const M={title:T.title,category:T.type,items:T.items,color_value:T.color_value};await qt.put(`/api/lists/${T.id}`,M,{headers:{Authorization:`Bearer ${g}`}});const A=T.type,O=t.find(F=>F.id===T.id),L=O?O.type:void 0;e(F=>F.map(V=>V.id===T.id?{...T,color_value:T.color_value||"#808080"}:V))}catch(M){console.error("Failed to update list:",M),f({title:"Error updating list",description:"Could not update your list. Please try again.",variant:"destructive"})}},S=t.filter(T=>{const M=T.title.toLowerCase().includes(n.toLowerCase())||T.items.some(O=>O.text.toLowerCase().includes(n.toLowerCase())),A=i==="all"||T.type===i;return M&&A}),C=()=>{const T=new Set(t.map(M=>M.type||"General"));return["all",...Array.from(T).sort()]},E=()=>{const T=Array.from(new Set(t.map(M=>M.type).filter(M=>M&&M.toLowerCase()!=="general")));return T.length===0&&t.some(M=>M.type&&M.type.toLowerCase()==="general")?["General"]:T.length>0?T.sort():["General"]},N=()=>{const T={all:t.length};return t.forEach(M=>{T[M.type]=(T[M.type]||0)+1}),T};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[h.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"My Lists"}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx(Zt,{placeholder:"Search lists...",value:n,onChange:T=>r(T.target.value),className:"pl-10 w-48 h-9"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx($w,{}),h.jsxs(ke,{onClick:()=>s(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:[h.jsx(Uo,{className:"h-4 w-4 mr-1"}),h.jsx("span",{className:"hidden sm:inline",children:"New List"}),h.jsx("span",{className:"sm:hidden",children:"New"})]})]})]})}),h.jsx("div",{className:"sm:hidden pb-4",children:h.jsxs("div",{className:"relative",children:[h.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx(Zt,{placeholder:"Search lists...",value:n,onChange:T=>r(T.target.value),className:"pl-10"})]})})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:C().map(T=>{const M=N()[T]||0;return h.jsxs(ke,{variant:i===T?"default":"outline",size:"sm",onClick:()=>a(T),className:`capitalize ${i===T?"bg-blue-600 hover:bg-blue-700":""}`,children:[T," (",M,")"]},T)})}),l?h.jsx("div",{className:"text-center py-12",children:h.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[h.jsx("div",{className:"h-8 bg-slate-200 rounded w-32 mb-4"}),h.jsx("div",{className:"h-4 bg-slate-200 rounded w-64"})]})}):S.length===0?h.jsx("div",{className:"text-center py-12",children:t.length===0?h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Uo,{className:"h-8 w-8 text-blue-600"})}),h.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Create your first list"}),h.jsx("p",{className:"text-slate-600 mb-6",children:"Get organized with custom lists for any purpose - shopping, notes, tasks, and more."}),h.jsxs(ke,{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700",children:[h.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Create List"]})]})}):h.jsxs("div",{className:"text-slate-500",children:[h.jsx(Hs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"No lists match your search criteria."})]})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(T=>h.jsx(dS,{list:T,onUpdate:x,onDelete:w,existingCategories:E()},T.id))})]}),h.jsx(f2,{isOpen:o,onClose:()=>s(!1),onCreateList:b,existingCategories:E()})]})},Zee=()=>{const t=Of();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),h.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ete=()=>{const t=jg();return m.useEffect(()=>{(async()=>{var n,r,o;try{const s=new URLSearchParams(window.location.search),i=s.get("code"),a=s.get("error");if(console.log("AuthCallback received:",{hasCode:!!i,codeLength:i==null?void 0:i.length,error:a||"none",searchParams:window.location.search}),a){console.error("OAuth error:",a),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:a},window.location.origin),window.close()):t("/",{replace:!0});return}if(!i){console.error("No authorization code received"),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:"No authorization code received"},window.location.origin),window.close()):t("/",{replace:!0});return}console.log("Authorization code found, length:",i.length),console.log("Sending request to backend at:","http://localhost:3001/api/auth/google-login");const l=await fetch("http://localhost:3001/api/auth/google-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:i})});if(console.log("Backend response received, status:",l.status),!l.ok)throw new Error("Failed to authenticate with backend");const u=await l.json();console.log("User authenticated successfully:",((n=u.user)==null?void 0:n.email)||"unknown"),window.opener?(console.log("Window opener found, posting success message"),window.opener.postMessage({type:"GOOGLE_AUTH_SUCCESS",user:u.user,token:u.accessToken},window.location.origin),window.close()):(console.log("No opener window, navigating to home page"),t("/",{replace:!0}))}catch(s){console.error("Error during auth callback:",s),console.error("Response data:",(r=s.response)==null?void 0:r.data),console.error("Response status:",(o=s.response)==null?void 0:o.status),window.opener?(window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:s instanceof Error?s.message:"Authentication failed"},window.location.origin),window.close()):t("/",{replace:!0})}})()},[t]),h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Completing authentication..."})]})})},tte=({children:t})=>{const{currentUser:e,loading:n,isAuthenticated:r}=Zo();return console.log("ProtectedRoute evaluation:",{hasUser:!!e,loading:n,isAuthenticated:r,userData:e}),n?(console.log("Protected route loading state"),h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})):e?(console.log("Protected route rendering content"),t?h.jsx(h.Fragment,{children:t}):h.jsx(jq,{})):(console.log("Protected route redirect - not authenticated"),h.jsx(bw,{to:"/home",replace:!0}))},nte=({list:t,position:e,onPositionUpdate:n,onUpdate:r,onDelete:o,existingCategories:s,canvasTransform:i,isCollapsed:a,onToggleCollapsed:l,addCategory:u})=>{const[f,p]=m.useState(!1),[g,y]=m.useState({x:0,y:0}),b=m.useRef(null);m.useEffect(()=>{b.current&&(b.current.style.left=`${e.x}px`,b.current.style.top=`${e.y}px`)},[e.x,e.y]);const w=C=>{var N,T;const E=C.target;if(console.log("Mouse down on:",E.className),!E.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle, [data-dnd-kit]')&&!E.closest("[data-sortable-handle], [data-sortable-item]")&&!(E.closest("svg")&&((N=E.closest("svg"))==null?void 0:N.getAttribute("data-lucide"))==="grip-vertical")&&(C.preventDefault(),b.current)){const M=(T=b.current.parentElement)==null?void 0:T.getBoundingClientRect();if(M){const A=(C.clientX-M.left-i.x)/i.scale,O=(C.clientY-M.top-i.y)/i.scale,L=parseFloat(b.current.style.left)||0,F=parseFloat(b.current.style.top)||0;y({x:(A-L)*i.scale,y:(O-F)*i.scale}),p(!0)}}},x=C=>{var E;if(f&&b.current){const N=(E=b.current.parentElement)==null?void 0:E.getBoundingClientRect();if(!N)return;const T=(C.clientX-N.left-i.x)/i.scale,M=(C.clientY-N.top-i.y)/i.scale,A=T-g.x/i.scale,O=M-g.y/i.scale;b.current.style.left=`${A}px`,b.current.style.top=`${O}px`}},S=()=>{if(f&&b.current){p(!1);const C=parseFloat(b.current.style.left)||0,E=parseFloat(b.current.style.top)||0,N={x:Math.round(C),y:Math.round(E)};n(t.id,N)}};return m.useEffect(()=>(f&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",S)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",S)}),[f,g]),h.jsx("div",{className:"draggable-list-card",ref:b,onMouseDown:w,style:{position:"absolute",zIndex:f?1e3:1,cursor:f?"grabbing":"grab",width:"320px",transition:f?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:f?"0 8px 16px rgba(0,0,0,0.2)":"none",transform:f?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none",padding:0,margin:0},children:h.jsx(dS,{list:t,onUpdate:r,onDelete:o,existingCategories:s,isCollapsed:a,onToggleCollapsed:l,addCategory:u})})},Pj=({position:t,onAddList:e,onAddNote:n,onAddWhiteboard:r,onClose:o,isFromButton:s=!1,absolutePosition:i})=>{const a=(l,u)=>{l.stopPropagation(),u()};return h.jsx("div",{className:`context-menu ${s?"dropdown-menu":""}`,style:{position:s?"fixed":"absolute",top:s&&i?`${i.y}px`:`${t.y}px`,left:s&&i?`${i.x}px`:`${t.x}px`,transform:"translateX(-50%)",zIndex:2e3,backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"0.375rem",boxShadow:s?"0 4px 12px rgba(0,0,0,0.15)":"0 4px 15px rgba(0,0,0,0.3)",padding:"0.5rem 0",minWidth:"180px",marginTop:s?"0":"10px"},onClick:l=>l.stopPropagation(),children:h.jsxs("div",{className:"menu-items",children:[h.jsxs("button",{className:"menu-item",onClick:l=>a(l,e),style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",cursor:"pointer",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",fontWeight:"300",fontSize:"0.875rem",transition:"background-color 0.15s ease"},onMouseOver:l=>l.currentTarget.style.backgroundColor="#f8fafc",onMouseOut:l=>l.currentTarget.style.backgroundColor="transparent",children:[h.jsx(Sg,{className:"h-4 w-4 mr-3 text-slate-500"}),h.jsx("span",{children:"Add List"})]}),n&&h.jsxs("button",{className:"menu-item",onClick:l=>a(l,n),style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",cursor:"pointer",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",fontWeight:"300",fontSize:"0.875rem",transition:"background-color 0.15s ease"},onMouseOver:l=>l.currentTarget.style.backgroundColor="#f8fafc",onMouseOut:l=>l.currentTarget.style.backgroundColor="transparent",children:[h.jsx(Tf,{className:"h-4 w-4 mr-3 text-slate-500"}),h.jsx("span",{children:"Add Note"})]}),r&&h.jsxs("button",{className:"menu-item",onClick:l=>a(l,r),style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",cursor:"pointer",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",fontWeight:"300",fontSize:"0.875rem",transition:"background-color 0.15s ease"},onMouseOver:l=>l.currentTarget.style.backgroundColor="#f8fafc",onMouseOut:l=>l.currentTarget.style.backgroundColor="transparent",children:[h.jsx(sl,{className:"h-4 w-4 mr-3 text-slate-500"}),h.jsx("span",{children:"Add Whiteboard"})]})]})})},Vn=t=>t?{Authorization:`Bearer ${t}`}:{},Oj=async t=>(await qt.get("/api/canvas/lists",{headers:Vn(t)})).data,_j=async(t,e)=>{const n={...t,category:t.type||t.category||"General"};delete n.type;const r=await qt.post("/api/lists",n,{headers:Vn(e)});return{...r.data,type:r.data.category}},Ij=async(t,e)=>{const n={...t,category:t.type||t.category};delete n.type;const r=await qt.put(`/api/lists/${t.id}`,n,{headers:Vn(e)});return{...r.data,type:r.data.category}},Dj=async(t,e)=>(await qt.delete(`/api/lists/${t}`,{headers:Vn(e)})).data,rte=async(t,e,n,r)=>(await qt.put(`/api/lists/${t}/position`,{x:e,y:n},{headers:Vn(r)})).data,ote=async t=>(await qt.get("/api/notes",{headers:Vn(t)})).data,qT=async(t,e)=>(await qt.post("/api/notes",t,{headers:Vn(e)})).data,ste=async(t,e,n)=>(await qt.put(`/api/notes/${t}`,e,{headers:Vn(n)})).data,ite=async(t,e)=>(await qt.delete(`/api/notes/${t}`,{headers:Vn(e)})).data,ate=async t=>(await qt.get("/api/whiteboards",{headers:Vn(t)})).data,lte=async(t,e)=>(await qt.post("/api/whiteboards",t,{headers:Vn(e)})).data,cte=async(t,e,n)=>(await qt.put(`/api/whiteboards/${t}`,e,{headers:Vn(n)})).data,ute=async(t,e)=>(await qt.delete(`/api/whiteboards/${t}`,{headers:Vn(e)})).data,dte=async t=>(await qt.get("/api/categories",{headers:Vn(t)})).data,fte=async(t,e)=>(await qt.post("/api/categories",t,{headers:Vn(e)})).data,hte=async(t,e,n)=>(await qt.put(`/api/categories/${t}`,e,{headers:Vn(n)})).data,pte=async(t,e)=>(await qt.delete(`/api/categories/${t}`,{headers:Vn(e)})).data,jj=({isOpen:t,onClose:e,onListCreated:n,existingCategories:r,position:o})=>{const{token:s}=Zo(),[i,a]=m.useState(""),[l,u]=m.useState(""),[f,p]=m.useState(""),[g,y]=m.useState(!1),[b,w]=m.useState("#3B82F6"),[x,S]=m.useState(!1),[C,E]=m.useState(""),N=async T=>{if(T.preventDefault(),!i.trim()){E("Please enter a title");return}const A=(g?f.trim():l)||"General";S(!0),E("");try{const O={title:i,type:A,color_value:b,items:[],...o&&{position_x:o.x,position_y:o.y}},L=await _j(O,s);n(L),a(""),u(""),p(""),y(!1),w("#3B82F6"),e()}catch(O){console.error("Failed to create list:",O),E("Failed to create list. Please try again.")}finally{S(!1)}};return h.jsx(Wf,{open:t,onOpenChange:T=>!T&&e(),children:h.jsxs(fu,{className:"sm:max-w-[425px]",children:[h.jsx(hu,{children:h.jsxs(pu,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Sg,{className:"h-5 w-5 text-slate-500"}),"Add List"]})}),h.jsxs("form",{onSubmit:N,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"title",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),h.jsx(Zt,{id:"title",value:i,onChange:T=>a(T.target.value),placeholder:"Enter list title",autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[g?h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"newCategory",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Zt,{id:"newCategory",value:f,onChange:T=>p(T.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:T=>{T.key==="Enter"&&f.trim()&&(u(f.trim()),y(!1),E(""))}}),h.jsx(ke,{type:"button",variant:"outline",onClick:()=>{f.trim()&&(u(f.trim()),y(!1),E(""))},disabled:!f.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),h.jsx(ke,{type:"button",variant:"outline",onClick:()=>{y(!1),p("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"category",className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),h.jsxs(Ea,{value:l,onValueChange:T=>{T==="__add_new__"?(y(!0),u("")):(u(T),E(""))},children:[h.jsx(ai,{children:h.jsx(ka,{placeholder:"Select a category"})}),h.jsxs(li,{children:[!r.includes("General")&&h.jsx(cn,{value:"General",children:"General"}),r.map(T=>h.jsx(cn,{value:T,children:T},T)),h.jsx(cn,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),h.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:r.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),h.jsx(mu,{color:b,onChange:w,onSave:w,children:h.jsx(ke,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change list color",children:h.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:b}})})})]})]}),C&&h.jsx("p",{className:"text-red-500 text-sm",style:{fontFamily:'"Raleway", sans-serif'},children:C}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(ke,{type:"button",variant:"outline",onClick:e,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),h.jsx(ke,{type:"submit",disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:x?"Creating...":"Create List"})]})]})]})})},mte=({size:t="md",className:e=""})=>{const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t];return h.jsx("div",{className:`${e}`,children:h.jsx("div",{className:`${r} animate-spin rounded-full border-2 border-t-transparent border-primary`})})},gte=({note:t,onUpdate:e,onDelete:n,isCollapsed:r,onToggleCollapsed:o})=>{const{toast:s}=To(),[i,a]=m.useState(!0),l=r!==void 0?!r:i,u=o||a,[f,p]=m.useState(!1),[g,y]=m.useState(t.title||"Untitled Note"),[b,w]=m.useState(!1),[x,S]=m.useState(t.content||""),[C,E]=m.useState(!1),[N,T]=m.useState(!1),[M,A]=m.useState(!1),[O,L]=m.useState(""),F=m.useRef(null),V=m.useRef(null);ne.useEffect(()=>{y(t.title||"Untitled Note")},[t.title]),ne.useEffect(()=>{S(t.content||"")},[t.content]);const H=m.useCallback(async()=>{g.trim()!==t.title&&await e(t.id,{title:g.trim()}),p(!1)},[g,t.title,t.id,e]),G=m.useCallback(async()=>{x.trim()!==t.content&&await e(t.id,{content:x.trim()}),w(!1)},[x,t.content,t.id,e]),z=m.useCallback(async()=>{await n(t.id)},[t.id,n]),X=m.useCallback(async j=>{E(!0);try{await e(t.id,{color_value:j})}catch(_){throw console.error("Failed to save note color:",_),s({title:"Error updating color",description:"Could not update note color. Please try again.",variant:"destructive"}),_}finally{E(!1)}},[t.id,e,s]),ee=m.useCallback(async j=>{if(j==="__custom__"){A(!0);return}try{await e(t.id,{category:j}),T(!1),A(!1)}catch(_){console.error("Failed to update note category:",_),s({title:"Error updating category",description:"Could not update note category. Please try again.",variant:"destructive"})}},[t.id,e,s]),oe=m.useCallback(async()=>{if(O.trim()!=="")try{await e(t.id,{category:O.trim()}),T(!1),A(!1),L("")}catch(j){console.error("Failed to add custom category:",j),s({title:"Error adding category",description:"Could not add custom category. Please try again.",variant:"destructive"})}else s({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},[O,t.id,e,s]);return{noteTitle:t.title||"Untitled Note",isCollapsibleOpen:l,setIsCollapsibleOpen:u,isEditing:f,setIsEditing:p,editTitle:g,setEditTitle:y,handleEditTitle:H,isEditingContent:b,setIsEditingContent:w,editContent:x,setEditContent:S,handleEditContent:G,handleDeleteNote:z,handleSaveNoteColor:X,isSavingColor:C,isEditingCategory:N,setIsEditingCategory:T,showNewCategoryInput:M,setShowNewCategoryInput:A,newCategory:O,setNewCategory:L,handleEditCategory:ee,handleAddCustomCategory:oe,titleEditRef:F,contentEditRef:V}};function Fn(t){this.content=t}Fn.prototype={constructor:Fn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),s=r.content.slice();return o==-1?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new Fn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Fn(n)},addToStart:function(t,e){return new Fn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Fn(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),s=r.find(t);return o.splice(s==-1?o.length:s,0,e,n),new Fn(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Fn.from(t),t.size?new Fn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Fn.from(t),t.size?new Fn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Fn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Fn.from=function(t){if(t instanceof Fn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Fn(e)};function Lj(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),s=e.child(r);if(o==s){n+=o.nodeSize;continue}if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let i=0;o.text[i]==s.text[i];i++)n++;return n}if(o.content.size||s.content.size){let i=Lj(o.content,s.content,n+1);if(i!=null)return i}n+=o.nodeSize}}function Fj(t,e,n,r){for(let o=t.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:n,b:r};let i=t.child(--o),a=e.child(--s),l=i.nodeSize;if(i==a){n-=l,r-=l;continue}if(!i.sameMarkup(a))return{a:n,b:r};if(i.isText&&i.text!=a.text){let u=0,f=Math.min(i.text.length,a.text.length);for(;u<f&&i.text[i.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(i.content.size||a.content.size){let u=Fj(i.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class ve{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,s){for(let i=0,a=0;a<n;i++){let l=this.content[i],u=a+l.nodeSize;if(u>e&&r(l,o+a,s||null,i)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,n-f),r,o+f)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let s="",i=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(i?i=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new ve(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let s=0,i=0;i<n;s++){let a=this.content[s],l=i+a.nodeSize;l>e&&((i<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-i),Math.min(a.text.length,n-i)):a=a.cut(Math.max(0,e-i-1),Math.min(a.content.size,n-i-1))),r.push(a),o+=a.nodeSize),i=l}return new ve(r,o)}cutByIndex(e,n){return e==n?ve.empty:e==0&&n==this.content.length?this:new ve(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new ve(o,s)}addToStart(e){return new ve([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ve(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return Lj(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Fj(this,e,n,r)}findIndex(e,n=-1){if(e==0)return fp(0,e);if(e==this.size)return fp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let s=this.child(r),i=o+s.nodeSize;if(i>=e)return i==e||n>0?fp(r+1,i):fp(r,o);o=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ve.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ve(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ve.empty;let n,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(n||(n=e.slice(0,o)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ve(n||e,r)}static from(e){if(!e)return ve.empty;if(e instanceof ve)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ve([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ve.empty=new ve([],0);const I0={index:0,offset:0};function fp(t,e){return I0.index=t,I0.offset=e,I0}function jm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!jm(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!jm(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let _t=class zw{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return zw.none;if(e instanceof zw)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};_t.none=[];class Lm extends Error{}class Ae{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=zj(this.content,e+this.openStart,n);return r&&new Ae(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ae($j(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ae.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ae(ve.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new Ae(e,r,o)}}Ae.empty=new Ae(ve.empty,0,0);function $j(t,e,n){let{index:r,offset:o}=t.findIndex(e),s=t.maybeChild(r),{index:i,offset:a}=t.findIndex(n);if(o==e||s.isText){if(a!=n&&!t.child(i).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy($j(s.content,e-o-1,n-o-1)))}function zj(t,e,n,r){let{index:o,offset:s}=t.findIndex(e),i=t.maybeChild(o);if(s==e||i.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=zj(i.content,e-s-1,n);return a&&t.replaceChild(o,i.copy(a))}function yte(t,e,n){if(n.openStart>t.depth)throw new Lm("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Lm("Inconsistent open depths");return Bj(t,e,n,0)}function Bj(t,e,n,r){let o=t.index(r),s=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let i=Bj(t,e,n,r+1);return s.copy(s.content.replaceChild(o,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let i=t.parent,a=i.content;return ll(i,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:i,end:a}=vte(n,t);return ll(s,Uj(t,i,a,e,r))}else return ll(s,Fm(t,e,r))}function Wj(t,e){if(!e.type.compatibleContent(t.type))throw new Lm("Cannot join "+e.type.name+" onto "+t.type.name)}function Bw(t,e,n){let r=t.node(n);return Wj(r,e.node(n)),r}function al(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Sd(t,e,n,r){let o=(e||t).node(n),s=0,i=e?e.index(n):o.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(al(t.nodeAfter,r),s++));for(let a=s;a<i;a++)al(o.child(a),r);e&&e.depth==n&&e.textOffset&&al(e.nodeBefore,r)}function ll(t,e){return t.type.checkContent(e),t.copy(e)}function Uj(t,e,n,r,o){let s=t.depth>o&&Bw(t,e,o+1),i=r.depth>o&&Bw(n,r,o+1),a=[];return Sd(null,t,o,a),s&&i&&e.index(o)==n.index(o)?(Wj(s,i),al(ll(s,Uj(t,e,n,r,o+1)),a)):(s&&al(ll(s,Fm(t,e,o+1)),a),Sd(e,n,o,a),i&&al(ll(i,Fm(n,r,o+1)),a)),Sd(r,null,o,a),new ve(a)}function Fm(t,e,n){let r=[];if(Sd(null,t,n,r),t.depth>n){let o=Bw(t,e,n+1);al(ll(o,Fm(t,e,n+1)),r)}return Sd(e,null,n,r),new ve(r)}function vte(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)o=e.node(s).copy(ve.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class rf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return _t.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let s=r.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!o||!s[i].isInSet(o.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new $m(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,s=n;for(let i=e;;){let{index:a,offset:l}=i.content.findIndex(s),u=s-l;if(r.push(i,a,o+l),!u||(i=i.child(a),i.isText))break;s=u-1,o+=l+1}return new rf(n,r,s)}static resolveCached(e,n){let r=YT.get(e);if(r)for(let s=0;s<r.elts.length;s++){let i=r.elts[s];if(i.pos==n)return i}else YT.set(e,r=new xte);let o=r.elts[r.i]=rf.resolve(e,n);return r.i=(r.i+1)%wte,o}}class xte{constructor(){this.elts=[],this.i=0}}const wte=12,YT=new WeakMap;class $m{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const bte=Object.create(null);let ra=class Ww{constructor(e,n,r,o=_t.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||ve.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&jm(this.attrs,n||e.defaultAttrs||bte)&&_t.sameSet(this.marks,r||_t.none)}copy(e=null){return e==this.content?this:new Ww(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ww(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ae.empty;let o=this.resolve(e),s=this.resolve(n),i=r?0:o.sharedDepth(n),a=o.start(i),u=o.node(i).content.cut(o.pos-a,s.pos-a);return new Ae(u,o.depth-i,s.depth-i)}replace(e,n,r){return yte(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return rf.resolveCached(this,e)}resolveNoCache(e){return rf.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Hj(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ve.empty,o=0,s=r.childCount){let i=this.contentMatchAt(e).matchFragment(r,o,s),a=i&&i.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),i=s&&s.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=_t.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!_t.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=ve.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,o,r);return s.type.checkAttrs(s.attrs),s}};ra.prototype.text=void 0;class zm extends ra{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Hj(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new zm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new zm(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Hj(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class El{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Ste(e,n);if(r.next==null)return El.empty;let o=Vj(r);r.next&&r.err("Unexpected trailing text");let s=Mte(Rte(o));return Ate(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let s=n;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function s(i,a){let l=i.matchFragment(e,r);if(l&&(!n||l.validEnd))return ve.from(a.map(u=>u.createAndFill()));for(let u=0;u<i.next.length;u++){let{type:f,next:p}=i.next[u];if(!(f.isText||f.hasRequiredAttrs())&&o.indexOf(p)==-1){o.push(p);let g=s(p,a.concat(f));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let i=[];for(let a=o;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:a,next:l}=s.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let i=0;i<r.next.length;i++)s+=(i?", ":"")+r.next[i].type.name+"->"+e.indexOf(r.next[i].next);return s}).join(`
`)}}El.empty=new El(!0);class Ste{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Vj(t){let e=[];do e.push(Cte(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Cte(t){let e=[];do e.push(Ete(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Ete(t){let e=Tte(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=kte(t,e);else break;return e}function JT(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function kte(t,e){let n=JT(t),r=n;return t.eat(",")&&(t.next!="}"?r=JT(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Nte(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let s in n){let i=n[s];i.isInGroup(e)&&o.push(i)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function Tte(t){if(t.eat("(")){let e=Vj(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Nte(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Rte(t){let e=[[]];return o(s(t,0),n()),e;function n(){return e.push([])-1}function r(i,a,l){let u={term:l,to:a};return e[i].push(u),u}function o(i,a){i.forEach(l=>l.to=a)}function s(i,a){if(i.type=="choice")return i.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(i.type=="seq")for(let l=0;;l++){let u=s(i.exprs[l],a);if(l==i.exprs.length-1)return u;o(u,a=n())}else if(i.type=="star"){let l=n();return r(a,l),o(s(i.expr,l),l),[r(l)]}else if(i.type=="plus"){let l=n();return o(s(i.expr,a),l),o(s(i.expr,l),l),[r(l)]}else{if(i.type=="opt")return[r(a)].concat(s(i.expr,a));if(i.type=="range"){let l=a;for(let u=0;u<i.min;u++){let f=n();o(s(i.expr,l),f),l=f}if(i.max==-1)o(s(i.expr,l),l);else for(let u=i.min;u<i.max;u++){let f=n();r(l,f),o(s(i.expr,l),f),l=f}return[r(l)]}else{if(i.type=="name")return[r(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function Gj(t,e){return e-t}function XT(t,e){let n=[];return r(e),n.sort(Gj);function r(o){let s=t[o];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(o);for(let i=0;i<s.length;i++){let{term:a,to:l}=s[i];!a&&n.indexOf(l)==-1&&r(l)}}}function Mte(t){let e=Object.create(null);return n(XT(t,0));function n(r){let o=[];r.forEach(i=>{t[i].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let f=0;f<o.length;f++)o[f][0]==a&&(u=o[f][1]);XT(t,l).forEach(f=>{u||o.push([a,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let s=e[r.join(",")]=new El(r.indexOf(t.length-1)>-1);for(let i=0;i<o.length;i++){let a=o[i][1].sort(Gj);s.next.push({type:o[i][0],next:e[a.join(",")]||n(a)})}return s}}function Ate(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],s=!o.validEnd,i=[];for(let a=0;a<o.next.length;a++){let{type:l,next:u}=o.next[a];i.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Kj(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function qj(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let s=t[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Yj(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let s=t[o];s.validate&&s.validate(e[o])}}function Jj(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Ote(t,r,e[r]);return n}let QT=class Xj{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Jj(e,r.attrs),this.defaultAttrs=Kj(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==El.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qj(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ra(this,this.computeAttrs(e),ve.from(n),_t.setFrom(r))}createChecked(e=null,n,r){return n=ve.from(n),this.checkContent(n),new ra(this,this.computeAttrs(e),n,_t.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ve.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let o=this.contentMatch.matchFragment(n),s=o&&o.fillBefore(ve.empty,!0);return s?new ra(this,e,n.append(s),_t.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Yj(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:_t.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,i)=>r[s]=new Xj(s,n,i));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Pte(t,e,n){let r=n.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Ote{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Pte(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ay{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=Jj(e,o.attrs),this.excluded=null;let s=Kj(this.attrs);this.instance=s?new _t(this,s):null}create(e=null){return!e&&this.instance?this.instance:new _t(this,qj(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((s,i)=>r[s]=new ay(s,o++,n,i)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Yj(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Qj{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=Fn.from(e.nodes),n.marks=Fn.from(e.marks||{}),this.nodes=QT.compile(this.spec.nodes,this),this.marks=ay.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],i=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[i]||(r[i]=El.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?ZT(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:ZT(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof QT){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new zm(r,r.defaultAttrs,e,_t.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ra.fromJSON(this,e)}markFromJSON(e){return _t.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function ZT(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],s=t.marks[o],i=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function _te(t){return t.tag!=null}function Ite(t){return t.style!=null}class oa{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(_te(o))this.tags.push(o);else if(Ite(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new tR(this,n,!1);return r.addAll(e,_t.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new tR(this,n,!0);return r.addAll(e,_t.none,n.from,n.to),Ae.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(Lte(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(e);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(e,n,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let i=this.styles[s],a=i.style;if(!(a.indexOf(e)!=0||i.context&&!r.matchesContext(i.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(i.getAttrs){let l=i.getAttrs(n);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(e){let n=[];function r(o){let s=o.priority==null?50:o.priority,i=0;for(;i<n.length;i++){let a=n[i];if((a.priority==null?50:a.priority)<s)break}n.splice(i,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(i=>{r(i=nR(i)),i.mark||i.ignore||i.clearMark||(i.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(i=>{r(i=nR(i)),i.node||i.ignore||i.mark||(i.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new oa(e,oa.schemaRules(e)))}}const Zj={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Dte={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},eL={ol:!0,ul:!0},of=1,Uw=2,Cd=4;function eR(t,e,n){return e!=null?(e?of:0)|(e==="full"?Uw:0):t&&t.whitespace=="pre"?of|Uw:n&~Cd}class hp{constructor(e,n,r,o,s,i){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=i,this.content=[],this.activeMarks=_t.none,this.match=s||(i&Cd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ve.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&of)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let n=ve.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ve.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Zj.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class tR{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,s,i=eR(null,n.preserveWhitespace,0)|(r?Cd:0);o?s=new hp(o.type,o.attrs,_t.none,!0,n.topMatch||o.type.contentMatch,i):r?s=new hp(null,null,_t.none,!0,null,i):s=new hp(e.schema.topNodeType,null,_t.none,!0,null,i),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,s=o.options&Uw?"full":this.localPreserveWS||(o.options&of)>0;if(s==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=o.content[o.content.length-1],a=e.previousSibling;(!i||a&&a.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i=e.nodeName.toLowerCase(),a;eL.hasOwnProperty(i)&&this.parser.normalizeLists&&jte(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Dte.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,f=this.needsBlock;if(Zj.hasOwnProperty(i))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=l&&l.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),u&&this.sync(s),this.needsBlock=f}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],i=r.getPropertyValue(s);if(i)for(let a=void 0;;){let l=this.parser.matchStyle(s,i,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let s,i;if(n.node)if(i=this.parser.schema.nodes[n.node],i.isLeaf)this.insertNode(i.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(i,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,o){let s=r||0;for(let i=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];i!=a;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i,n);this.findAtPoint(e,s)}findPlace(e,n,r){let o,s;for(let i=this.open,a=0;i>=0;i--){let l=this.nodes[i],u=l.findWrapping(e);if(u&&(!o||o.length>u.length+a)&&(o=u,s=l,!u.length))break;if(l.solid){if(r)break;a+=2}}if(!o)return null;this.sync(s);for(let i=0;i<o.length;i++)n=this.enterInner(o[i],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let o=this.findPlace(e,n,r);if(o){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=_t.none;for(let a of o.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):rR(a.type,e.type))&&(i=a.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,n,r,o){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,o)),s}enterInner(e,n,r,o=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=eR(e,s,i.options);i.options&Cd&&i.content.length==0&&(a|=Cd);let l=_t.none;return r=r.filter(u=>(i.type?i.type.allowsMarkType(u.type):rR(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new hp(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=of)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),i=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(i(a-1,l))return!0;return!1}else{let f=l>0||l==0&&o?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;l--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function jte(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&eL.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Lte(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function nR(t){let e={};for(let n in t)e[n]=t[n];return e}function rR(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let s=[],i=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:f}=a.edge(l);if(u==e||s.indexOf(f)<0&&i(f))return!0}};if(i(o.contentMatch))return!0}}class _l{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=D0(n).createDocumentFragment());let o=r,s=[];return e.forEach(i=>{if(s.length||i.marks.length){let a=0,l=0;for(;a<s.length&&l<i.marks.length;){let u=i.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)o=s.pop()[1];for(;l<i.marks.length;){let u=i.marks[l++],f=this.serializeMark(u,i.isInline,n);f&&(s.push([u,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(i,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=Hp(D0(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&Hp(D0(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return Hp(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new _l(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=oR(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return oR(e.marks)}}function oR(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function D0(t){return t.document||window.document}const sR=new WeakMap;function Fte(t){let e=sR.get(t);return e===void 0&&sR.set(t,e=$te(t)),e}function $te(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function Hp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Fte(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let a,l=n?t.createElementNS(n,o):t.createElement(o),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let p in u)if(u[p]!=null){let g=p.indexOf(" ");g>0?l.setAttributeNS(p.slice(0,g),p.slice(g+1),u[p]):l.setAttribute(p,u[p])}}for(let p=f;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:y,contentDOM:b}=Hp(t,g,n,r);if(l.appendChild(y),b){if(a)throw new RangeError("Multiple content holes");a=b}}}return{dom:l,contentDOM:a}}const tL=65535,nL=Math.pow(2,16);function zte(t,e){return t+e*nL}function iR(t){return t&tL}function Bte(t){return(t-(t&tL))/nL}const rL=1,oL=2,Vp=4,sL=8;class Hw{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&sL)>0}get deletedBefore(){return(this.delInfo&(rL|Vp))>0}get deletedAfter(){return(this.delInfo&(oL|Vp))>0}get deletedAcross(){return(this.delInfo&Vp)>0}}class Kr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Kr.empty)return Kr.empty}recover(e){let n=0,r=iR(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+Bte(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let u=this.ranges[a+s],f=this.ranges[a+i],p=l+u;if(e<=p){let g=u?e==l?-1:e==p?1:n:n,y=l+o+(g<0?0:f);if(r)return y;let b=e==(n<0?l:p)?null:zte(a/3,e-l),w=e==l?oL:e==p?rL:Vp;return(n<0?e!=l:e!=p)&&(w|=sL),new Hw(y,w,b)}o+=f-u}return r?e+o:new Hw(e+o,0,null)}touches(e,n){let r=0,o=iR(n),s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],f=l+u;if(e<=f&&a==o*3)return!0;r+=this.ranges[a+i]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let i=this.ranges[o],a=i-(this.inverted?s:0),l=i+(this.inverted?0:s),u=this.ranges[o+n],f=this.ranges[o+r];e(a,a+u,l,l+f),s+=f-u}}invert(){return new Kr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Kr.empty:new Kr(e<0?[0,-e,0]:[0,0,e])}}Kr.empty=new Kr([]);class sf{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new sf(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new sf;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let s=this.from;s<this.to;s++){let i=this._maps[s],a=i.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new Hw(e,o,null)}}const j0=Object.create(null);class rr{getMap(){return Kr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=j0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in j0)throw new RangeError("Duplicate use of step JSON ID "+e);return j0[e]=n,n.prototype.jsonID=e,n}}class mn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new mn(e,null)}static fail(e){return new mn(null,e)}static fromReplace(e,n,r,o){try{return mn.ok(e.replace(n,r,o))}catch(s){if(s instanceof Lm)return mn.fail(s.message);throw s}}}function fS(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let s=t.child(o);s.content.size&&(s=s.copy(fS(s.content,e,s))),s.isInline&&(s=e(s,n,o)),r.push(s)}return ve.fromArray(r)}class Gi extends rr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new Ae(fS(n.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),o),n.openStart,n.openEnd);return mn.fromReplace(e,this.from,this.to,s)}invert(){return new ys(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Gi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Gi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Gi(n.from,n.to,e.markFromJSON(n.mark))}}rr.jsonID("addMark",Gi);class ys extends rr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ae(fS(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return mn.fromReplace(e,this.from,this.to,r)}invert(){return new Gi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ys(n.pos,r.pos,this.mark)}merge(e){return e instanceof ys&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ys(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ys(n.from,n.to,e.markFromJSON(n.mark))}}rr.jsonID("removeMark",ys);class Ki extends rr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return mn.fromReplace(e,this.pos,this.pos+1,new Ae(ve.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Ki(this.pos,n.marks[o]);return new Ki(this.pos,this.mark)}}return new kl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ki(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ki(n.pos,e.markFromJSON(n.mark))}}rr.jsonID("addNodeMark",Ki);class kl extends rr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return mn.fromReplace(e,this.pos,this.pos+1,new Ae(ve.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ki(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new kl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new kl(n.pos,e.markFromJSON(n.mark))}}rr.jsonID("removeNodeMark",kl);class Nn extends rr{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&Vw(e,this.from,this.to)?mn.fail("Structure replace would overwrite content"):mn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Kr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Nn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Nn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Nn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ae.empty:new Ae(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Nn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ae.empty:new Ae(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Nn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Nn(n.from,n.to,Ae.fromJSON(e,n.slice),!!n.structure)}}rr.jsonID("replace",Nn);class Mn extends rr{constructor(e,n,r,o,s,i,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=i,this.structure=a}apply(e){if(this.structure&&(Vw(e,this.from,this.gapFrom)||Vw(e,this.gapTo,this.to)))return mn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return mn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?mn.fromReplace(e,this.from,this.to,r):mn.fail("Content does not fit in gap")}getMap(){return new Kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Mn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||s>r.pos?null:new Mn(n.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Mn(n.from,n.to,n.gapFrom,n.gapTo,Ae.fromJSON(e,n.slice),n.insert,!!n.structure)}}rr.jsonID("replaceAround",Mn);function Vw(t,e,n){let r=t.resolve(e),o=n-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let i=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,o--}}return!1}function Wte(t,e,n,r){let o=[],s=[],i,a;t.doc.nodesBetween(e,n,(l,u,f)=>{if(!l.isInline)return;let p=l.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let g=Math.max(u,e),y=Math.min(u+l.nodeSize,n),b=r.addToSet(p);for(let w=0;w<p.length;w++)p[w].isInSet(b)||(i&&i.to==g&&i.mark.eq(p[w])?i.to=y:o.push(i=new ys(g,y,p[w])));a&&a.to==g?a.to=y:s.push(a=new Gi(g,y,r))}}),o.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function Ute(t,e,n,r){let o=[],s=0;t.doc.nodesBetween(e,n,(i,a)=>{if(!i.isInline)return;s++;let l=null;if(r instanceof ay){let u=i.marks,f;for(;f=r.isInSet(u);)(l||(l=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(i.marks)&&(l=[r]):l=i.marks;if(l&&l.length){let u=Math.min(a+i.nodeSize,n);for(let f=0;f<l.length;f++){let p=l[f],g;for(let y=0;y<o.length;y++){let b=o[y];b.step==s-1&&p.eq(o[y].style)&&(g=b)}g?(g.to=u,g.step=s):o.push({style:p,from:Math.max(a,e),to:u,step:s})}}}),o.forEach(i=>t.step(new ys(i.from,i.to,i.style)))}function hS(t,e,n,r=n.contentMatch,o=!0){let s=t.doc.nodeAt(e),i=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),f=a+u.nodeSize,p=r.matchType(u.type);if(!p)i.push(new Nn(a,f,Ae.empty));else{r=p;for(let g=0;g<u.marks.length;g++)n.allowsMarkType(u.marks[g].type)||t.step(new ys(a,f,u.marks[g]));if(o&&u.isText&&n.whitespace!="pre"){let g,y=/\r?\n|\r/g,b;for(;g=y.exec(u.text);)b||(b=new Ae(ve.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),i.push(new Nn(a+g.index,a+g.index+g[0].length,b))}}a=f}if(!r.validEnd){let l=r.fillBefore(ve.empty,!0);t.replace(a,a,new Ae(l,0,0))}for(let l=i.length-1;l>=0;l--)t.step(i[l])}function Hte(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function wu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),s=t.$from.index(r),i=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(s,i,n))return r;if(r==0||o.type.spec.isolating||!Hte(o,s,i))break}return null}function Vte(t,e,n){let{$from:r,$to:o,depth:s}=e,i=r.before(s+1),a=o.after(s+1),l=i,u=a,f=ve.empty,p=0;for(let b=s,w=!1;b>n;b--)w||r.index(b)>0?(w=!0,f=ve.from(r.node(b).copy(f)),p++):l--;let g=ve.empty,y=0;for(let b=s,w=!1;b>n;b--)w||o.after(b+1)<o.end(b)?(w=!0,g=ve.from(o.node(b).copy(g)),y++):u++;t.step(new Mn(l,u,i,a,new Ae(f.append(g),p,y),f.size-p,!0))}function pS(t,e,n=null,r=t){let o=Gte(t,e),s=o&&Kte(r,e);return s?o.map(aR).concat({type:e,attrs:n}).concat(s.map(aR)):null}function aR(t){return{type:t,attrs:null}}function Gte(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let i=s.length?s[0]:e;return n.canReplaceWith(r,o,i)?s:null}function Kte(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.child(r),i=e.contentMatch.findWrapping(s.type);if(!i)return null;let l=(i.length?i[i.length-1]:e).contentMatch;for(let u=r;l&&u<o;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:i}function qte(t,e,n){let r=ve.empty;for(let i=n.length-1;i>=0;i--){if(r.size){let a=n[i].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ve.from(n[i].type.create(n[i].attrs,r))}let o=e.start,s=e.end;t.step(new Mn(o,s,o,s,new Ae(r,0,0),n.length,!0))}function Yte(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(i,a)=>{let l=typeof o=="function"?o(i):o;if(i.isTextblock&&!i.hasMarkup(r,l)&&Jte(t.doc,t.mapping.slice(s).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!b?u=!1:!y&&b&&(u=!0)}u===!1&&aL(t,i,a,s),hS(t,t.mapping.slice(s).map(a,1),r,void 0,u===null);let f=t.mapping.slice(s),p=f.map(a,1),g=f.map(a+i.nodeSize,1);return t.step(new Mn(p,g,p+1,g-1,new Ae(ve.from(r.create(l,null,i.marks)),0,0),1,!0)),u===!0&&iL(t,i,a,s),!1}})}function iL(t,e,n,r){e.forEach((o,s)=>{if(o.isText){let i,a=/\r?\n|\r/g;for(;i=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+s+i.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function aL(t,e,n,r){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let i=t.mapping.slice(r).map(n+1+s);t.replaceWith(i,i+1,e.type.schema.text(`
`))}})}function Jte(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function Xte(t,e,n,r,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let i=n.create(r,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,i);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Mn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ae(ve.from(i),0,0),1,!0))}function Js(t,e,n=1,r){let o=t.resolve(e),s=o.depth-n,i=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,f=n-2;u>s;u--,f--){let p=o.node(u),g=o.index(u);if(p.type.spec.isolating)return!1;let y=p.content.cutByIndex(g,p.childCount),b=r&&r[f+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let w=r&&r[f]||p;if(!p.canReplace(g+1,p.childCount)||!w.type.validContent(y))return!1}let a=o.indexAfter(s),l=r&&r[0];return o.node(s).canReplaceWith(a,a,l?l.type:o.node(s+1).type)}function Qte(t,e,n=1,r){let o=t.doc.resolve(e),s=ve.empty,i=ve.empty;for(let a=o.depth,l=o.depth-n,u=n-1;a>l;a--,u--){s=ve.from(o.node(a).copy(s));let f=r&&r[u];i=ve.from(f?f.type.create(f.attrs,i):o.node(a).copy(i))}t.step(new Nn(e,e,new Ae(s.append(i),n,n),!0))}function Na(t,e){let n=t.resolve(e),r=n.index();return lL(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Zte(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),i=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(i),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function lL(t,e){return!!(t&&e&&!t.isLeaf&&Zte(t,e))}function ly(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let s,i,a=r.index(o);if(o==r.depth?(s=r.nodeBefore,i=r.nodeAfter):n>0?(s=r.node(o+1),a++,i=r.node(o).maybeChild(a)):(s=r.node(o).maybeChild(a-1),i=r.node(o+1)),s&&!s.isTextblock&&lL(s,i)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function ene(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,s=t.doc.resolve(e-n),i=s.node().type;if(o&&i.inlineContent){let f=i.whitespace=="pre",p=!!i.contentMatch.matchType(o);f&&!p?r=!1:!f&&p&&(r=!0)}let a=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);aL(t,f.node(),f.before(),a)}i.inlineContent&&hS(t,e+n-1,i,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),u=l.map(e-n);if(t.step(new Nn(u,l.map(e+n,-1),Ae.empty,!0)),r===!0){let f=t.doc.resolve(u);iL(t,f.node(),f.before(),t.steps.length)}return t}function tne(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,n))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,n))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function cL(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let s=0;s<n.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let i=r.depth;i>=0;i--){let a=i==r.depth?0:r.pos<=(r.start(i+1)+r.end(i+1))/2?-1:1,l=r.index(i)+(a>0?1:0),u=r.node(i),f=!1;if(s==1)f=u.canReplace(l,l,o);else{let p=u.contentMatchAt(l).findWrapping(o.firstChild.type);f=p&&u.canReplaceWith(l,l,p[0])}if(f)return a==0?r.pos:a<0?r.before(i+1):r.after(i+1)}return null}function cy(t,e,n=e,r=Ae.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),s=t.resolve(n);return uL(o,s,r)?new Nn(e,n,r):new nne(o,s,r).fit()}function uL(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class nne{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ve.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ve.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,i=r.depth,a=o.depth;for(;i&&a&&s.childCount==1;)s=s.firstChild.content,i--,a--;let l=new Ae(s,i,a);return e>-1?new Mn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Nn(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=L0(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let i=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],f,p=null;if(n==1&&(i?u.matchType(i.type)||(p=u.fillBefore(ve.from(i),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:p};if(n==2&&i&&(f=u.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:f};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=L0(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Ae(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=L0(e,n);if(o.childCount<=1&&n>0){let s=e.size-n<=n+o.size;this.unplaced=new Ae(id(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ae(id(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let i=this.unplaced,a=r?r.content:i.content,l=i.openStart-e,u=0,f=[],{match:p,type:g}=this.frontier[n];if(o){for(let w=0;w<o.childCount;w++)f.push(o.child(w));p=p.matchFragment(o)}let y=a.size+e-(i.content.size-i.openEnd);for(;u<a.childCount;){let w=a.child(u),x=p.matchType(w.type);if(!x)break;u++,(u>1||l==0||w.content.size)&&(p=x,f.push(dL(w.mark(g.allowedMarks(w.marks)),u==1?l:0,u==a.childCount?y:-1)))}let b=u==a.childCount;b||(y=-1),this.placed=ad(this.placed,n,ve.from(f)),this.frontier[n].match=p,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,x=a;w<y;w++){let S=x.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),x=S.content}this.unplaced=b?e==0?Ae.empty:new Ae(id(i.content,e-1,1),e-1,y<0?i.openEnd:e-1):new Ae(id(i.content,e,u),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!F0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),i=F0(e,n,o,r,s);if(i){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],f=F0(e,a,u,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:i,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ad(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=ad(this.placed,this.depth,ve.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ve.empty,!0);n.childCount&&(this.placed=ad(this.placed,this.frontier.length,n))}}function id(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(id(t.firstChild.content,e-1,n)))}function ad(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ad(t.lastChild.content,e-1,n)))}function L0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function dL(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,dL(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ve.empty,!0)))),t.copy(r)}function F0(t,e,n,r,o){let s=t.node(e),i=o?t.indexAfter(e):t.index(e);if(i==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,i);return a&&!rne(n,s.content,i)?a:null}function rne(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function one(t){return t.spec.defining||t.spec.definingForContent}function sne(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(uL(o,s,r))return t.step(new Nn(e,n,r));let i=hL(o,t.doc.resolve(n));i[i.length-1]==0&&i.pop();let a=-(o.depth+1);i.unshift(a);for(let g=o.depth,y=o.pos-1;g>0;g--,y--){let b=o.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;i.indexOf(g)>-1?a=g:o.before(g)==y&&i.splice(1,0,-g)}let l=i.indexOf(a),u=[],f=r.openStart;for(let g=r.content,y=0;;y++){let b=g.firstChild;if(u.push(b),y==r.openStart)break;g=b.content}for(let g=f-1;g>=0;g--){let y=u[g],b=one(y.type);if(b&&!y.sameMarkup(o.node(Math.abs(a)-1)))f=g;else if(b||!y.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let y=(g+f+1)%(r.openStart+1),b=u[y];if(b)for(let w=0;w<i.length;w++){let x=i[(w+l)%i.length],S=!0;x<0&&(S=!1,x=-x);let C=o.node(x-1),E=o.index(x-1);if(C.canReplaceWith(E,E,b.type,b.marks))return t.replace(o.before(x),S?s.after(x):n,new Ae(fL(r.content,0,r.openStart,y),y,r.openEnd))}}let p=t.steps.length;for(let g=i.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>p));g--){let y=i[g];y<0||(e=o.before(y),n=s.after(y))}}function fL(t,e,n,r,o){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(fL(s.content,e+1,n,r,s)))}if(e>r){let s=o.contentMatchAt(0),i=s.fillBefore(t).append(t);t=i.append(s.matchFragment(i).fillBefore(ve.empty,!0))}return t}function ine(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=tne(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new Ae(ve.from(r),0,0))}function ane(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),s=hL(r,o);for(let i=0;i<s.length;i++){let a=s[i],l=i==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(e-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i&&r.start(i-1)==o.start(i-1)&&r.node(i-1).canReplace(r.index(i-1),o.index(i-1)))return t.delete(r.before(i),n);t.delete(e,n)}function hL(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let s=t.start(o);if(s<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&n.push(o)}return n}class Mc extends rr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return mn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return mn.fromReplace(e,this.pos,this.pos+1,new Ae(ve.from(o),0,n.isLeaf?0:1))}getMap(){return Kr.empty}invert(e){return new Mc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Mc(n.pos,n.attr,n.value)}}rr.jsonID("attr",Mc);class af extends rr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return mn.ok(r)}getMap(){return Kr.empty}invert(e){return new af(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new af(n.attr,n.value)}}rr.jsonID("docAttr",af);let Jc=class extends Error{};Jc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Jc.prototype=Object.create(Error.prototype);Jc.prototype.constructor=Jc;Jc.prototype.name="TransformError";class lne{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new sf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Jc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ae.empty){let o=cy(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new Ae(ve.from(r),0,0))}delete(e,n){return this.replace(e,n,Ae.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return sne(this,e,n,r),this}replaceRangeWith(e,n,r){return ine(this,e,n,r),this}deleteRange(e,n){return ane(this,e,n),this}lift(e,n){return Vte(this,e,n),this}join(e,n=1){return ene(this,e,n),this}wrap(e,n){return qte(this,e,n),this}setBlockType(e,n=e,r,o=null){return Yte(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return Xte(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new Mc(e,n,r)),this}setDocAttribute(e,n){return this.step(new af(e,n)),this}addNodeMark(e,n){return this.step(new Ki(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof _t)n.isInSet(r.marks)&&this.step(new kl(e,n));else{let o=r.marks,s,i=[];for(;s=n.isInSet(o);)i.push(new kl(e,s)),o=s.removeFromSet(o);for(let a=i.length-1;a>=0;a--)this.step(i[a])}return this}split(e,n=1,r){return Qte(this,e,n,r),this}addMark(e,n,r){return Wte(this,e,n,r),this}removeMark(e,n,r){return Ute(this,e,n,r),this}clearIncompatible(e,n,r){return hS(this,e,n,r),this}}const $0=Object.create(null);class dt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new cne(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ae.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let s=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:u}=i[a],f=e.mapping.slice(s);e.replaceRange(f.map(l.pos),f.map(u.pos),a?Ae.empty:n),a==0&&uR(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:i,$to:a}=o[s],l=e.mapping.slice(r),u=l.map(i.pos),f=l.map(a.pos);s?e.deleteRange(u,f):(e.replaceRangeWith(u,f,n),uR(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new et(e):rc(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let i=n<0?rc(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):rc(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(i)return i}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Qr(e.node(0))}static atStart(e){return rc(e,e,0,0,1)||new Qr(e)}static atEnd(e){return rc(e,e,e.content.size,e.childCount,-1)||new Qr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=$0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in $0)throw new RangeError("Duplicate use of selection JSON ID "+e);return $0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return et.between(this.$anchor,this.$head).getBookmark()}}dt.prototype.visible=!0;class cne{constructor(e,n){this.$from=e,this.$to=n}}let lR=!1;function cR(t){!lR&&!t.parent.inlineContent&&(lR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class et extends dt{constructor(e,n=e){cR(e),cR(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return dt.near(r);let o=e.resolve(n.map(this.anchor));return new et(o.parent.inlineContent?o:r,r)}replace(e,n=Ae.empty){if(super.replace(e,n),n==Ae.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof et&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new uy(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new et(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let s=dt.findFrom(n,r,!0)||dt.findFrom(n,-r,!0);if(s)n=s.$head;else return dt.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(dt.findFrom(e,-r,!0)||dt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new et(e,n)}}dt.jsonID("text",et);class uy{constructor(e,n){this.anchor=e,this.head=n}map(e){return new uy(e.map(this.anchor),e.map(this.head))}resolve(e){return et.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ve extends dt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),s=e.resolve(o);return r?dt.near(s):new Ve(s)}content(){return new Ae(ve.from(this.node),0,0)}eq(e){return e instanceof Ve&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mS(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ve(e.resolve(n.anchor))}static create(e,n){return new Ve(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ve.prototype.visible=!1;dt.jsonID("node",Ve);class mS{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new uy(r,r):new mS(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ve.isSelectable(r)?new Ve(n):dt.near(n)}}class Qr extends dt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ae.empty){if(n==Ae.empty){e.delete(0,e.doc.content.size);let r=dt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Qr(e)}map(e){return new Qr(e)}eq(e){return e instanceof Qr}getBookmark(){return une}}dt.jsonID("all",Qr);const une={map(){return this},resolve(t){return new Qr(t)}};function rc(t,e,n,r,o,s=!1){if(e.inlineContent)return et.create(t,n);for(let i=r-(o>0?0:1);o>0?i<e.childCount:i>=0;i+=o){let a=e.child(i);if(a.isAtom){if(!s&&Ve.isSelectable(a))return Ve.create(t,n-(o<0?a.nodeSize:0))}else{let l=rc(t,a,n+o,o<0?a.childCount:0,o,s);if(l)return l}n+=a.nodeSize*o}return null}function uR(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof Nn||o instanceof Mn))return;let s=t.mapping.maps[r],i;s.forEach((a,l,u,f)=>{i==null&&(i=f)}),t.setSelection(dt.near(t.doc.resolve(i),n))}const dR=1,pp=2,fR=4;class dne extends lne{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|dR)&~pp,this.storedMarks=null,this}get selectionSet(){return(this.updated&dR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=pp,this}ensureMarks(e){return _t.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&pp)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~pp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||_t.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let i=this.doc.resolve(n);s=r==n?i.marks():i.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,s)),this.selection.empty||this.setSelection(dt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=fR,this}get scrolledIntoView(){return(this.updated&fR)>0}}function hR(t,e){return!e||!t?t:t.bind(e)}class ld{constructor(e,n,r){this.name=e,this.init=hR(n.init,r),this.apply=hR(n.apply,r)}}const fne=[new ld("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ld("selection",{init(t,e){return t.selection||dt.atStart(e.doc)},apply(t){return t.selection}}),new ld("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ld("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class z0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=fne.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ld(r.key,r.spec.state,r))})}}class yc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let l=o?o[i].n:0,u=o?o[i].state:this,f=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(f&&r.filterTransaction(f,i)){if(f.setMeta("appendedTransaction",e),!o){o=[];for(let p=0;p<this.config.plugins.length;p++)o.push(p<i?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}o&&(o[i]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new yc(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new dne(this)}static create(e){let n=new z0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new yc(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new z0(this.schema,e.plugins),r=n.fields,o=new yc(n);for(let s=0;s<r.length;s++){let i=r[s].name;o[i]=this.hasOwnProperty(i)?this[i]:r[s].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new z0(e.schema,e.plugins),s=new yc(o);return o.fields.forEach(i=>{if(i.name=="doc")s.doc=ra.fromJSON(e.schema,n.doc);else if(i.name=="selection")s.selection=dt.fromJSON(s.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==i.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[i.name]=u.fromJSON.call(l,e,n[a],s);return}}s[i.name]=i.init(e,s)}}),s}}function pL(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=pL(o,e,{})),n[r]=o}return n}class xr{constructor(e){this.spec=e,this.props={},e.props&&pL(e.props,this,this.props),this.key=e.key?e.key.key:mL("plugin")}getState(e){return e[this.key]}}const B0=Object.create(null);function mL(t){return t in B0?t+"$"+ ++B0[t]:(B0[t]=0,t+"$")}class ts{constructor(e="key"){this.key=mL(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const $n=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Xc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Gw=null;const Bs=function(t,e,n){let r=Gw||(Gw=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},hne=function(){Gw=null},Nl=function(t,e,n,r){return n&&(pR(t,e,n,r,-1)||pR(t,e,n,r,1))},pne=/^(img|br|input|textarea|hr)$/i;function pR(t,e,n,r,o){for(var s;;){if(t==n&&e==r)return!0;if(e==(o<0?0:vo(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Gf(t)||pne.test(t.nodeName)||t.contentEditable=="false")return!1;e=$n(t)+(o<0?0:1),t=i}else if(t.nodeType==1){let i=t.childNodes[e+(o<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((s=i.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=o;else return!1;else t=i,e=o<0?vo(t):0}else return!1}}function vo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function mne(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=vo(t)}else if(t.parentNode&&!Gf(t))e=$n(t),t=t.parentNode;else return null}}function gne(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Gf(t))e=$n(t)+1,t=t.parentNode;else return null}}function yne(t,e,n){for(let r=e==0,o=e==vo(t);r||o;){if(t==n)return!0;let s=$n(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,o=o&&s==vo(t)}}function Gf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const dy=function(t){return t.focusNode&&Nl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Wa(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function vne(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function xne(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(vo(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(vo(r.startContainer),r.startOffset)}}}const Cs=typeof navigator<"u"?navigator:null,mR=typeof document<"u"?document:null,Ta=Cs&&Cs.userAgent||"",Kw=/Edge\/(\d+)/.exec(Ta),gL=/MSIE \d/.exec(Ta),qw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ta),_r=!!(gL||qw||Kw),sa=gL?document.documentMode:qw?+qw[1]:Kw?+Kw[1]:0,Xo=!_r&&/gecko\/(\d+)/i.test(Ta);Xo&&+(/Firefox\/(\d+)/.exec(Ta)||[0,0])[1];const Yw=!_r&&/Chrome\/(\d+)/.exec(Ta),tr=!!Yw,yL=Yw?+Yw[1]:0,hr=!_r&&!!Cs&&/Apple Computer/.test(Cs.vendor),Qc=hr&&(/Mobile\/\w+/.test(Ta)||!!Cs&&Cs.maxTouchPoints>2),mo=Qc||(Cs?/Mac/.test(Cs.platform):!1),wne=Cs?/Win/.test(Cs.platform):!1,qs=/Android \d/.test(Ta),Kf=!!mR&&"webkitFontSmoothing"in mR.documentElement.style,bne=Kf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Sne(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Fs(t,e){return typeof t=="number"?t:t[e]}function Cne(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function gR(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let i=n||t.dom;i;){if(i.nodeType!=1){i=Xc(i);continue}let a=i,l=a==s.body,u=l?Sne(s):Cne(a),f=0,p=0;if(e.top<u.top+Fs(r,"top")?p=-(u.top-e.top+Fs(o,"top")):e.bottom>u.bottom-Fs(r,"bottom")&&(p=e.bottom-e.top>u.bottom-u.top?e.top+Fs(o,"top")-u.top:e.bottom-u.bottom+Fs(o,"bottom")),e.left<u.left+Fs(r,"left")?f=-(u.left-e.left+Fs(o,"left")):e.right>u.right-Fs(r,"right")&&(f=e.right-u.right+Fs(o,"right")),f||p)if(l)s.defaultView.scrollBy(f,p);else{let y=a.scrollLeft,b=a.scrollTop;p&&(a.scrollTop+=p),f&&(a.scrollLeft+=f);let w=a.scrollLeft-y,x=a.scrollTop-b;e={left:e.left-w,top:e.top-x,right:e.right-w,bottom:e.bottom-x}}let g=l?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(g))break;i=g=="absolute"?i.offsetParent:Xc(i)}}function Ene(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,i=n+1;i<Math.min(innerHeight,e.bottom);i+=5){let a=t.root.elementFromPoint(s,i);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:vL(t.dom)}}function vL(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Xc(r));return e}function kne({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;xL(n,r==0?0:r-e)}function xL(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:s}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Zl=null;function Nne(t){if(t.setActive)return t.setActive();if(Zl)return t.focus(Zl);let e=vL(t);t.focus(Zl==null?{get preventScroll(){return Zl={preventScroll:!0},!0}}:void 0),Zl||(Zl=!1,xL(e,0))}function wL(t,e){let n,r=2e8,o,s=0,i=e.top,a=e.top,l,u;for(let f=t.firstChild,p=0;f;f=f.nextSibling,p++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=Bs(f).getClientRects();else continue;for(let y=0;y<g.length;y++){let b=g[y];if(b.top<=i&&b.bottom>=a){i=Math.max(b.bottom,i),a=Math.min(b.top,a);let w=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(w<r){n=f,r=w,o=w&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&w&&(s=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!l&&b.left<=e.left&&b.right>=e.left&&(l=f,u={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=p+1)}}return!n&&l&&(n=l,o=u,r=0),n&&n.nodeType==3?Tne(n,o):!n||r&&n.nodeType==1?{node:t,offset:s}:wL(n,o)}function Tne(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let s=Ri(r,1);if(s.top!=s.bottom&&gS(e,s))return{node:t,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function gS(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Rne(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Mne(t,e,n){let{node:r,offset:o}=wL(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let i=r.getBoundingClientRect();s=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return t.docView.posFromDOM(r,o,s)}function Ane(t,e,n,r){let o=-1;for(let s=e,i=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!i&&l.left>r.left||l.top>r.top?o=a.posBefore:(!i&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),i=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function bL(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let i=t.childNodes[s];if(i.nodeType==1){let a=i.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(gS(e,u))return bL(i,e,u)}}if((s=(s+1)%r)==o)break}return t}function Pne(t,e){let n=t.dom.ownerDocument,r,o=0,s=xne(n,e.left,e.top);s&&({node:r,offset:o}=s);let i=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!i||!t.dom.contains(i.nodeType!=1?i.parentNode:i)){let u=t.dom.getBoundingClientRect();if(!gS(e,u)||(i=bL(t.dom,e,u),!i))return null}if(hr)for(let u=i;r&&u;u=Xc(u))u.draggable&&(r=void 0);if(i=Rne(i,e),r){if(Xo&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let f=r.childNodes[o],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&o++}let u;Kf&&o&&r.nodeType==1&&(u=r.childNodes[o-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=Ane(t,r,o,e))}a==null&&(a=Mne(t,i,e));let l=t.docView.nearestDesc(i,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function yR(t){return t.top<t.bottom||t.left<t.right}function Ri(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(yR(r))return r}return Array.prototype.find.call(n,yR)||t.getBoundingClientRect()}const One=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SL(t,e,n){let{node:r,offset:o,atom:s}=t.docView.domFromPos(e,n<0?-1:1),i=Kf||Xo;if(r.nodeType==3)if(i&&(One.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=Ri(Bs(r,o,o),n);if(Xo&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let u=Ri(Bs(r,o-1,o-1),-1);if(u.top==l.top){let f=Ri(Bs(r,o,o+1),-1);if(f.top!=l.top)return Xu(f,f.left<u.left)}}return l}else{let l=o,u=o,f=n<0?1:-1;return n<0&&!o?(u++,f=-1):n>=0&&o==r.nodeValue.length?(l--,f=1):n<0?l--:u++,Xu(Ri(Bs(r,l,u),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(n<0||o==vo(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return W0(l.getBoundingClientRect(),!1)}if(s==null&&o<vo(r)){let l=r.childNodes[o];if(l.nodeType==1)return W0(l.getBoundingClientRect(),!0)}return W0(r.getBoundingClientRect(),n>=0)}if(s==null&&o&&(n<0||o==vo(r))){let l=r.childNodes[o-1],u=l.nodeType==3?Bs(l,vo(l)-(i?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Xu(Ri(u,1),!1)}if(s==null&&o<vo(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Bs(l,0,i?0:1):l.nodeType==1?l:null:null;if(u)return Xu(Ri(u,-1),!0)}return Xu(Ri(r.nodeType==3?Bs(r):r,-n),n>=0)}function Xu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function W0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function CL(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function _ne(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return CL(t,e,()=>{let{node:s}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let i=SL(t,o.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Bs(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let f=l[u];if(f.bottom>f.top+1&&(n=="up"?i.top-f.top>(f.bottom-i.top)*2:f.bottom-i.bottom>(i.bottom-f.top)*2))return!1}}return!0})}const Ine=/[\u0590-\u08ac]/;function Dne(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,i=o==r.parent.content.size,a=t.domSelection();return a?!Ine.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:i:CL(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:f,anchorOffset:p}=t.domSelectionRange(),g=a.caretBidiLevel;a.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:w}=t.domSelectionRange(),x=b&&!y.contains(b.nodeType==1?b:b.parentNode)||l==b&&u==w;try{a.collapse(f,p),l&&(l!=f||u!=p)&&a.extend&&a.extend(l,u)}catch{}return g!=null&&(a.caretBidiLevel=g),x}):r.pos==r.start()||r.pos==r.end()}let vR=null,xR=null,wR=!1;function jne(t,e,n){return vR==e&&xR==n?wR:(vR=e,xR=n,wR=n=="up"||n=="down"?_ne(t,e,n):Dne(t,e,n))}const Co=0,bR=1,qa=2,Es=3;class qf{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Co,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,i;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>$n(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),i;if(s&&(!n||s.node))if(r&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)for(let i=0;i<o.children.length;i++){let a=o.children[i];if(a.size){o=a;break}}return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let i=this.children[r],a=s+i.size;if(a>e||i instanceof kL){o=e-s;break}s=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof EL&&s.side>=0;r--);if(n<=0){let s,i=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,i=!1);return s&&n&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?$n(s.dom)+1:0}}else{let s,i=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?$n(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let i=r,a=0;;a++){let l=this.children[a],u=i+l.size;if(o==-1&&e<=u){let f=i+l.border;if(e>=f&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,f);e=i;for(let p=a;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){o=$n(g.dom)+1;break}e-=g.size}o==-1&&(o=0)}if(o>-1&&(u>n||a==this.children.length-1)){n=u;for(let f=a+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=$n(p.dom);break}n+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=u}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let s=Math.min(e,n),i=Math.max(e,n);for(let y=0,b=0;y<this.children.length;y++){let w=this.children[y],x=b+w.size;if(s>b&&i<x)return w.setSelection(e-b-w.border,n-b-w.border,r,o);b=x}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),f=r.domSelectionRange(),p=!1;if((Xo||hr)&&e==n){let{node:y,offset:b}=a;if(y.nodeType==3){if(p=!!(b&&y.nodeValue[b-1]==`
`),p&&b==y.nodeValue.length)for(let w=y,x;w;w=w.parentNode){if(x=w.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:$n(x)+1});break}let S=w.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let w=y.childNodes[b-1];p=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Xo&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(o=!0)}if(!(o||p&&hr)&&Nl(a.node,a.offset,f.anchorNode,f.anchorOffset)&&Nl(l.node,l.offset,f.focusNode,f.focusOffset))return;let g=!1;if((u.extend||e==n)&&!p){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),g=!0}catch{}}if(!g){if(e>n){let b=a;a=l,l=b}let y=document.createRange();y.setEnd(l.node,l.offset),y.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],i=r+s.size;if(r==i?e<=i&&n>=r:e<i&&n>r){let a=r+s.border,l=i-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==i?qa:bR,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Es:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?qa:Es}r=i}this.dirty=qa}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?qa:bR;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class EL extends qf{constructor(e,n,r,o){let s,i=n.type.toDOM;if(typeof i=="function"&&(i=i(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Co&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Lne extends qf{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Tl extends qf{constructor(e,n,r,o,s){super(e,[],r,o),this.mark=n,this.spec=s}static create(e,n,r,o){let s=o.nodeViews[n.type.name],i=s&&s(n,o,r);return(!i||!i.dom)&&(i=_l.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Tl(e,n,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&Es||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Es&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Co){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Co}}slice(e,n,r){let o=Tl.create(this.parent,this.mark,!0,r),s=this.children,i=this.size;n<i&&(s=Xw(s,n,i,r)),e>0&&(s=Xw(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ia extends qf{constructor(e,n,r,o,s,i,a,l,u){super(e,[],s,i),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,s,i){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},r,o),f=u&&u.dom,p=u&&u.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=_l.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let g=f;return f=RL(f,r,n),u?l=new Fne(e,n,r,o,f,p||null,g,u,s,i+1):n.isText?new fy(e,n,r,o,f,g,s):new ia(e,n,r,o,f,p||null,g,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ve.empty)}return e}matchesNode(e,n,r){return this.dirty==Co&&e.eq(this.node)&&Bm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,s=e.composing?this.localCompositionInfo(e,n):null,i=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new zne(this,i&&i.node,e);Une(this.node,this.innerDeco,(u,f,p)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!p&&l.syncToMarks(f==this.node.childCount?_t.none:this.node.child(f).marks,r,e),l.placeWidget(u,e,o)},(u,f,p,g)=>{l.syncToMarks(u.marks,r,e);let y;l.findNodeMatch(u,f,p,g)||a&&e.state.selection.from>o&&e.state.selection.to<o+u.nodeSize&&(y=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,f,p,y,e)||l.updateNextNode(u,f,p,e,g,o)||l.addNode(u,f,p,e,o),o+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==qa)&&(i&&this.protectLocalComposition(e,i),NL(this.contentDOM,this.children,e),Qc&&Hne(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof et)||r<n||o>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let i=s.nodeValue,a=Vne(this.node.content,i,r-n,o-n);return a<0?null:{node:s,pos:a,text:i}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new Lne(this,s,n,o);e.input.compositionNodes.push(i),this.children=Xw(this.children,r,r+o.length,e,i)}update(e,n,r,o){return this.dirty==Es||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Co}updateOuterDeco(e){if(Bm(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=TL(this.dom,this.nodeDOM,Jw(this.outerDeco,this.node,n),Jw(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function SR(t,e,n,r,o){RL(r,e,t);let s=new ia(void 0,t,e,n,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class fy extends ia{constructor(e,n,r,o,s,i,a){super(e,n,r,o,s,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==Es||this.dirty!=Co&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Co||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Co,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),s=document.createTextNode(o.text);return new fy(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Es)}get domAtom(){return!1}isText(e){return this.node.text==e}}class kL extends qf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Co&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Fne extends ia{constructor(e,n,r,o,s,i,a,l,u,f){super(e,n,r,o,s,i,a,u,f),this.spec=l}update(e,n,r,o){if(this.dirty==Es)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function NL(t,e,n){let r=t.firstChild,o=!1;for(let s=0;s<e.length;s++){let i=e[s],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=CR(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(i instanceof Tl){let l=r?r.previousSibling:t.lastChild;NL(i.contentDOM,i.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=CR(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const Ed=function(t){t&&(this.nodeName=t)};Ed.prototype=Object.create(null);const Ya=[new Ed];function Jw(t,e,n){if(t.length==0)return Ya;let r=n?Ya[0]:new Ed,o=[r];for(let s=0;s<t.length;s++){let i=t[s].type.attrs;if(i){i.nodeName&&o.push(r=new Ed(i.nodeName));for(let a in i){let l=i[a];l!=null&&(n&&o.length==1&&o.push(r=new Ed(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function TL(t,e,n,r){if(n==Ya&&r==Ya)return e;let o=e;for(let s=0;s<r.length;s++){let i=r[s],a=n[s];if(s){let l;a&&a.nodeName==i.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Ya[0]),o=l}$ne(o,a||Ya[0],i)}return o}function $ne(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&t.classList.add(o[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function RL(t,e,n){return TL(t,t,Ya,Jw(e,n,t.nodeType!=1))}function Bm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function CR(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class zne{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Bne(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,s=this.stack.length>>1,i=Math.min(s,e.length);for(;o<i&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Co,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Tl.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,o){let s=-1,i;if(o>=this.preMatch.index&&(i=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&i.matchesNode(e,n,r))s=this.top.children.indexOf(i,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,o,s){let i=this.top.children[o];return i.dirty==Es&&i.dom==i.contentDOM&&(i.dirty=qa),i.update(e,n,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,s,i){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ia){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let f=l.dom,p,g=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Es&&Bm(n,l.outerDeco));if(!g&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(l,e,n,r,o,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=qa,p.updateChildren(o,i+1),p.dirty=Co),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,s,i){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Bm(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=ia.create(this.top,n,r,o,s,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,s){let i=ia.create(this.top,e,n,r,o,s);i.contentDOM&&i.updateChildren(o,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new EL(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Tl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof fy)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hr||tr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new kL(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Bne(t,e){let n=e,r=n.children.length,o=t.childCount,s=new Map,i=[];e:for(;o>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof Tl)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,s.set(a,o),i.push(a)}}return{index:o,matched:s,matches:i.reverse()}}function Wne(t,e){return t.type.side-e.type.side}function Une(t,e,n,r){let o=e.locals(t),s=0;if(o.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);r(f,o,e.forChild(s,f),u),s+=f.nodeSize}return}let i=0,a=[],l=null;for(let u=0;;){let f,p;for(;i<o.length&&o[i].to==s;){let x=o[i++];x.widget&&(f?(p||(p=[f])).push(x):f=x)}if(f)if(p){p.sort(Wne);for(let x=0;x<p.length;x++)n(p[x],u,!!l)}else n(f,u,!!l);let g,y;if(l)y=-1,g=l,l=null;else if(u<t.childCount)y=u,g=t.child(u++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;i<o.length&&o[i].from<=s&&o[i].to>s;)a.push(o[i++]);let b=s+g.nodeSize;if(g.isText){let x=b;i<o.length&&o[i].from<x&&(x=o[i].from);for(let S=0;S<a.length;S++)a[S].to<x&&(x=a[S].to);x<b&&(l=g.cut(x-s),g=g.cut(0,x-s),b=x,y=-1)}else for(;i<o.length&&o[i].to<b;)i++;let w=g.isInline&&!g.isLeaf?a.filter(x=>!x.inline):a.slice();r(g,w,e.forChild(s,g),y),s=b}}function Hne(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Vne(t,e,n,r){for(let o=0,s=0;o<t.childCount&&s<=r;){let i=t.child(o++),a=s;if(s+=i.nodeSize,!i.isText)continue;let l=i.text;for(;o<t.childCount;){let u=t.child(o++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Xw(t,e,n,r,o){let s=[];for(let i=0,a=0;i<t.length;i++){let l=t[i],u=a,f=a+=l.size;u>=n||f<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),o&&(s.push(o),o=void 0),f>n&&s.push(l.slice(n-u,l.size,r)))}return s}function yS(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&o.size==0,i=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=r.resolve(i),l,u;if(dy(n)){for(l=i;o&&!o.node;)o=o.parent;let p=o.node;if(o&&p.isAtom&&Ve.isSelectable(p)&&o.parent&&!(p.isInline&&yne(n.focusNode,n.focusOffset,o.dom))){let g=o.posBefore;u=new Ve(i==g?a:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=i,g=i;for(let y=0;y<n.rangeCount;y++){let b=n.getRangeAt(y);p=Math.min(p,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[l,i]=g==t.state.selection.anchor?[g,p]:[p,g],a=r.resolve(i)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let f=r.resolve(l);if(!u){let p=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=vS(t,f,a,p)}return u}function ML(t){return t.editable?t.hasFocus():PL(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Xs(t,e=!1){let n=t.state.selection;if(AL(t,n),!!ML(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&tr){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Nl(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Kne(t);else{let{anchor:r,head:o}=n,s,i;ER&&!(n instanceof et)&&(n.$from.parent.inlineContent||(s=kR(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=kR(t,n.to))),t.docView.setSelection(r,o,t,e),ER&&(s&&NR(s),i&&NR(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Gne(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ER=hr||tr&&yL<63;function kR(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(hr&&o&&o.contentEditable=="false")return U0(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return U0(o);if(s)return U0(s)}}function U0(t){return t.contentEditable="true",hr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function NR(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Gne(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!ML(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Kne(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,$n(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&_r&&sa<=11&&(r.disabled=!0,r.disabled=!1)}function AL(t,e){if(e instanceof Ve){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(TR(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else TR(t)}function TR(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function vS(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||et.between(e,n,r)}function RR(t){return t.editable&&!t.hasFocus()?!1:PL(t)}function PL(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function qne(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Nl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Qw(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&dt.findFrom(s,e)}function Oi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function MR(t,e,n){let r=t.state.selection;if(r instanceof et)if(n.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=t.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return Oi(t,new et(r.$anchor,i))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=Qw(t.state,e);return o&&o instanceof Ve?Oi(t,o):!1}else if(!(mo&&n.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,i;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(i=t.docView.descAt(a))&&!i.contentDOM?Ve.isSelectable(s)?Oi(t,new Ve(e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):Kf?Oi(t,new et(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ve&&r.node.isInline)return Oi(t,new et(e>0?r.$to:r.$from));{let o=Qw(t.state,e);return o?Oi(t,o):!1}}}function Wm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function kd(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ec(t,e){return e<0?Yne(t):Jne(t)}function Yne(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,s,i=!1;for(Xo&&n.nodeType==1&&r<Wm(n)&&kd(n.childNodes[r],-1)&&(i=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(kd(a,-1))o=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(OL(n))break;{let a=n.previousSibling;for(;a&&kd(a,-1);)o=n.parentNode,s=$n(a),a=a.previousSibling;if(a)n=a,r=Wm(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}i?Zw(t,n,r):o&&Zw(t,o,s)}function Jne(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=Wm(n),s,i;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(kd(a,1))s=n,i=++r;else break}else{if(OL(n))break;{let a=n.nextSibling;for(;a&&kd(a,1);)s=a.parentNode,i=$n(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=Wm(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}s&&Zw(t,s,i)}function OL(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Xne(t,e){for(;t&&e==t.childNodes.length&&!Gf(t);)e=$n(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Qne(t,e){for(;t&&!e&&!Gf(t);)e=$n(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Zw(t,e,n){if(e.nodeType!=3){let s,i;(i=Xne(e,n))?(e=i,n=0):(s=Qne(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(dy(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&Xs(t)},50)}function AR(t,e){let n=t.state.doc.resolve(e);if(!(tr||wne)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function PR(t,e,n){let r=t.state.selection;if(r instanceof et&&!r.empty||n.indexOf("s")>-1||mo&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let i=Qw(t.state,e);if(i&&i instanceof Ve)return Oi(t,i)}if(!o.parent.inlineContent){let i=e<0?o:s,a=r instanceof Qr?dt.near(i,e):dt.findFrom(i,e);return a?Oi(t,a):!1}return!1}function OR(t,e){if(!(t.state.selection instanceof et))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let i=t.state.tr;return e<0?i.delete(n.pos-s.nodeSize,n.pos):i.delete(n.pos,n.pos+s.nodeSize),t.dispatch(i),!0}return!1}function _R(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Zne(t){if(!hr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;_R(t,r,"true"),setTimeout(()=>_R(t,r,"false"),20)}return!1}function ere(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function tre(t,e){let n=e.keyCode,r=ere(e);if(n==8||mo&&n==72&&r=="c")return OR(t,-1)||ec(t,-1);if(n==46&&!e.shiftKey||mo&&n==68&&r=="c")return OR(t,1)||ec(t,1);if(n==13||n==27)return!0;if(n==37||mo&&n==66&&r=="c"){let o=n==37?AR(t,t.state.selection.from)=="ltr"?-1:1:-1;return MR(t,o,r)||ec(t,o)}else if(n==39||mo&&n==70&&r=="c"){let o=n==39?AR(t,t.state.selection.from)=="ltr"?1:-1:1;return MR(t,o,r)||ec(t,o)}else{if(n==38||mo&&n==80&&r=="c")return PR(t,-1,r)||ec(t,-1);if(n==40||mo&&n==78&&r=="c")return Zne(t)||PR(t,1,r)||ec(t,1);if(r==(mo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function xS(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let i=t.someProp("clipboardSerializer")||_l.fromSchema(t.state.schema),a=FL(),l=a.createElement("div");l.appendChild(i.serializeFragment(r,{document:a}));let u=l.firstChild,f,p=0;for(;u&&u.nodeType==1&&(f=LL[u.nodeName.toLowerCase()]);){for(let y=f.length-1;y>=0;y--){let b=a.createElement(f[y]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),p++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${s}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:g,slice:e}}function _L(t,e,n,r,o){let s=o.parent.type.spec.code,i,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",g=>{e=g(e,s||r,t)}),s)return e?new Ae(ve.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Ae.empty;let p=t.someProp("clipboardTextParser",g=>g(e,o,r,t));if(p)a=p;else{let g=o.marks(),{schema:y}=t.state,b=_l.fromSchema(y);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let x=i.appendChild(document.createElement("p"));w&&x.appendChild(b.serializeNode(y.text(w,g)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),i=sre(n),Kf&&ire(i);let u=i&&i.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let g=i.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;i=g}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||oa.fromSchema(t.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||f),context:o,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!nre.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)a=are(IR(a,+f[1],+f[2]),f[4]);else if(a=Ae.maxOpen(rre(a.content,o),!0),a.openStart||a.openEnd){let p=0,g=0;for(let y=a.content.firstChild;p<a.openStart&&!y.type.spec.isolating;p++,y=y.firstChild);for(let y=a.content.lastChild;g<a.openEnd&&!y.type.spec.isolating;g++,y=y.lastChild);a=IR(a,p,g)}return t.someProp("transformPasted",p=>{a=p(a,t)}),a}const nre=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rre(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),s,i=[];if(t.forEach(a=>{if(!i)return;let l=o.findWrapping(a.type),u;if(!l)return i=null;if(u=i.length&&s.length&&DL(l,s,a,i[i.length-1],0))i[i.length-1]=u;else{i.length&&(i[i.length-1]=jL(i[i.length-1],s.length));let f=IL(a,l);i.push(f),o=o.matchType(f.type),s=l}}),i)return ve.from(i)}return t}function IL(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ve.from(t));return t}function DL(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=DL(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(ve.from(IL(n,t,o+1))))}}function jL(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jL(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ve.empty,!0);return t.copy(n.append(r))}function eb(t,e,n,r,o,s){let i=e<0?t.firstChild:t.lastChild,a=i.content;return t.childCount>1&&(s=0),o<r-1&&(a=eb(a,e,n,r,o+1,s)),o>=n&&(a=e<0?i.contentMatchAt(0).fillBefore(a,s<=o).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(ve.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,i.copy(a))}function IR(t,e,n){return e<t.openStart&&(t=new Ae(eb(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ae(eb(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const LL={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let DR=null;function FL(){return DR||(DR=document.implementation.createHTMLDocument("title"))}let H0=null;function ore(t){let e=window.trustedTypes;return e?(H0||(H0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),H0.createHTML(t)):t}function sre(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=FL().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&LL[r[1].toLowerCase()])&&(t=o.map(s=>"<"+s+">").join("")+t+o.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=ore(t),o)for(let s=0;s<o.length;s++)n=n.querySelector(o[s])||n;return n}function ire(t){let e=t.querySelectorAll(tr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function are(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:s,openEnd:i}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=ve.from(l.create(r[a+1],o)),s++,i++}return new Ae(o,s,i)}const pr={},mr={},lre={touchstart:!0,touchmove:!0};class cre{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ure(t){for(let e in pr){let n=pr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{fre(t,r)&&!wS(t,r)&&(t.editable||!(r.type in mr))&&n(t,r)},lre[e]?{passive:!0}:void 0)}hr&&t.dom.addEventListener("input",()=>null),tb(t)}function qi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function dre(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function tb(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>wS(t,r))})}function wS(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function fre(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function hre(t,e){!wS(t,e)&&pr[e.type]&&(t.editable||!(e.type in mr))&&pr[e.type](t,e)}mr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!zL(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(qs&&tr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Qc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,Wa(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||tre(t,n)?n.preventDefault():qi(t,"key")};mr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};mr.keypress=(t,e)=>{let n=e;if(zL(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||mo&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof et)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,o,s))&&t.dispatch(s()),n.preventDefault()}};function hy(t){return{left:t.clientX,top:t.clientY}}function pre(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function bS(t,e,n,r,o){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let i=s.depth+1;i>0;i--)if(t.someProp(e,a=>i>s.depth?a(t,n,s.nodeAfter,s.before(i),o,!0):a(t,n,s.node(i),s.before(i),o,!1)))return!0;return!1}function Ac(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function mre(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ve.isSelectable(r)?(Ac(t,new Ve(n)),!0):!1}function gre(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof Ve&&(r=n.node);let s=t.state.doc.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i);if(Ve.isSelectable(a)){r&&n.$from.depth>0&&i>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?o=s.before(n.$from.depth):o=s.before(i);break}}return o!=null?(Ac(t,Ve.create(t.state.doc,o)),!0):!1}function yre(t,e,n,r,o){return bS(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(o?gre(t,n):mre(t,n))}function vre(t,e,n,r){return bS(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function xre(t,e,n,r){return bS(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||wre(t,n,r)}function wre(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ac(t,et.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let i=s>o.depth?o.nodeAfter:o.node(s),a=o.before(s);if(i.inlineContent)Ac(t,et.create(r,a+1,a+1+i.content.size));else if(Ve.isSelectable(i))Ac(t,Ve.create(r,a));else continue;return!0}}function SS(t){return Um(t)}const $L=mo?"metaKey":"ctrlKey";pr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=SS(t),o=Date.now(),s="singleClick";o-t.input.lastClick.time<500&&pre(n,t.input.lastClick)&&!n[$L]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s,button:n.button};let i=t.posAtCoords(hy(n));i&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new bre(t,i,n,!!r)):(s=="doubleClick"?vre:xre)(t,i.pos,i.inside,n)?n.preventDefault():qi(t,"pointer"))};class bre{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[$L],this.allowDefault=r.shiftKey;let s,i;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),i=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,i=f.depth?f.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Ve&&u.from<=i&&u.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Xo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),qi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(hy(e))),this.updateAllowDefault(e),this.allowDefault||!n?qi(this.view,"pointer"):yre(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||hr&&this.mightDrag&&!this.mightDrag.node.isAtom||tr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ac(this.view,dt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):qi(this.view,"pointer")}move(e){this.updateAllowDefault(e),qi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}pr.touchstart=t=>{t.input.lastTouch=Date.now(),SS(t),qi(t,"pointer")};pr.touchmove=t=>{t.input.lastTouch=Date.now(),qi(t,"pointer")};pr.contextmenu=t=>SS(t);function zL(t,e){return t.composing?!0:hr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Sre=qs?5e3:-1;mr.compositionstart=mr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof et&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Um(t,!0),t.markCursor=null;else if(Um(t,!e.selection.empty),Xo&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let i=s<0?o.lastChild:o.childNodes[s-1];if(!i)break;if(i.nodeType==3){let a=t.domSelection();a&&a.collapse(i,i.nodeValue.length);break}else o=i,s=-1}}t.input.composing=!0}BL(t,Sre)};mr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,BL(t,20))};function BL(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Um(t),e))}function WL(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Ere());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Cre(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=mne(e.focusNode,e.focusOffset),r=gne(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let i=n.pmViewDesc;if(!(!i||!i.isText(n.nodeValue)))return r}}return n||r}function Ere(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Um(t,e=!1){if(!(qs&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),WL(t),e||t.docView&&t.docView.dirty){let n=yS(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function kre(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const lf=_r&&sa<15||Qc&&bne<604;pr.copy=mr.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let s=lf?null:n.clipboardData,i=r.content(),{dom:a,text:l}=xS(t,i);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):kre(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Nre(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Tre(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?cf(t,r.value,null,o,e):cf(t,r.textContent,r.innerHTML,o,e)},50)}function cf(t,e,n,r,o){let s=_L(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,s||Ae.empty)))return!0;if(!s)return!1;let i=Nre(s),a=i?t.state.tr.replaceSelectionWith(i,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function UL(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mr.paste=(t,e)=>{let n=e;if(t.composing&&!qs)return;let r=lf?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&cf(t,UL(r),r.getData("text/html"),o,n)?n.preventDefault():Tre(t,n)};class HL{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Rre=mo?"altKey":"ctrlKey";function VL(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Rre]}pr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,s=o.empty?null:t.posAtCoords(hy(n)),i;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof Ve?o.to-1:o.to))){if(r&&r.mightDrag)i=Ve.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(i=Ve.create(t.state.doc,p.posBefore))}}let a=(i||t.state.selection).content(),{dom:l,text:u,slice:f}=xS(t,a);(!n.dataTransfer.files.length||!tr||yL>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(lf?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",lf||n.dataTransfer.setData("text/plain",u),t.dragging=new HL(f,VL(t,n),i)};pr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};mr.dragover=mr.dragenter=(t,e)=>e.preventDefault();mr.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords(hy(n));if(!o)return;let s=t.state.doc.resolve(o.pos),i=r&&r.slice;i?t.someProp("transformPasted",b=>{i=b(i,t)}):i=_L(t,UL(n.dataTransfer),lf?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&VL(t,n));if(t.someProp("handleDrop",b=>b(t,n,i||Ae.empty,a))){n.preventDefault();return}if(!i)return;n.preventDefault();let l=i?cL(t.state.doc,s.pos,i):s.pos;l==null&&(l=s.pos);let u=t.state.tr;if(a){let{node:b}=r;b?b.replace(u):u.deleteSelection()}let f=u.mapping.map(l),p=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,g=u.doc;if(p?u.replaceRangeWith(f,f,i.content.firstChild):u.replaceRange(f,f,i),u.doc.eq(g))return;let y=u.doc.resolve(f);if(p&&Ve.isSelectable(i.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new Ve(y));else{let b=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((w,x,S,C)=>b=C),u.setSelection(vS(t,y,u.doc.resolve(b)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};pr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Xs(t)},20))};pr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};pr.beforeinput=(t,e)=>{if(tr&&qs&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Wa(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in mr)pr[t]=mr[t];function uf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Hm{constructor(e,n){this.toDOM=e,this.spec=n||cl,this.side=this.spec.side||0}map(e,n,r,o){let{pos:s,deleted:i}=e.mapResult(n.from+o,this.side<0?-1:1);return i?null:new Yr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Hm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&uf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class aa{constructor(e,n){this.attrs=e,this.spec=n||cl}map(e,n,r,o){let s=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,i=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=i?null:new Yr(s,i,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof aa&&uf(this.attrs,e.attrs)&&uf(this.spec,e.spec)}static is(e){return e.type instanceof aa}destroy(){}}class CS{constructor(e,n){this.attrs=e,this.spec=n||cl}map(e,n,r,o){let s=e.mapResult(n.from+o,1);if(s.deleted)return null;let i=e.mapResult(n.to+o,-1);return i.deleted||i.pos<=s.pos?null:new Yr(s.pos-r,i.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),s;return o==n.from&&!(s=e.child(r)).isText&&o+s.nodeSize==n.to}eq(e){return this==e||e instanceof CS&&uf(this.attrs,e.attrs)&&uf(this.spec,e.spec)}destroy(){}}class Yr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Yr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Yr(e,e,new Hm(n,r))}static inline(e,n,r,o){return new Yr(e,n,new aa(r,o))}static node(e,n,r,o){return new Yr(e,n,new CS(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof aa}get widget(){return this.type instanceof Hm}}const oc=[],cl={};class hn{constructor(e,n){this.local=e.length?e:oc,this.children=n.length?n:oc}static create(e,n){return n.length?Vm(n,e,0,cl):Qn}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,s){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,n-a,r,o+a,s)}}map(e,n,r){return this==Qn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||cl)}mapInner(e,n,r,o,s){let i;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(i||(i=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Mre(this.children,i||[],e,n,r,o,s):i?new hn(i.sort(ul),oc):Qn}add(e,n){return n.length?this==Qn?hn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,s=0;e.forEach((a,l)=>{let u=l+r,f;if(f=KL(n,a,u)){for(o||(o=this.children.slice());s<o.length&&o[s]<l;)s+=3;o[s]==l?o[s+2]=o[s+2].addInner(a,f,u+1):o.splice(s,0,l,l+a.nodeSize,Vm(f,a,u+1,cl)),s+=3}});let i=GL(s?qL(n):n,-r);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||i.splice(a--,1);return new hn(i.length?this.local.concat(i).sort(ul):this.local,o||this.children)}remove(e){return e.length==0||this==Qn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let i,a=r[s]+n,l=r[s+1]+n;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>a&&p.to<l&&(e[f]=null,(i||(i=[])).push(p));if(!i)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(i,a+1);u!=Qn?r[s+2]=u:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,i;s<e.length;s++)if(i=e[s])for(let a=0;a<o.length;a++)o[a].eq(i,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new hn(o,r):Qn}forChild(e,n){if(this==Qn)return this;if(n.isLeaf)return hn.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,i=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<i&&l.to>s&&l.type instanceof aa){let u=Math.max(s,l.from)-s,f=Math.min(i,l.to)-s;u<f&&(o||(o=[])).push(l.copy(u,f))}}if(o){let a=new hn(o.sort(ul),oc);return r?new ji([a,r]):a}return r||Qn}eq(e){if(this==e)return!0;if(!(e instanceof hn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ES(this.localsInner(e))}localsInner(e){if(this==Qn)return oc;if(e.inlineContent||!this.local.some(aa.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof aa||n.push(this.local[r]);return n}forEachSet(e){e(this)}}hn.empty=new hn([],[]);hn.removeOverlap=ES;const Qn=hn.empty;class ji{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,cl));return ji.from(r)}forChild(e,n){if(n.isLeaf)return hn.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,n);s!=Qn&&(s instanceof ji?r=r.concat(s.members):r.push(s))}return ji.from(r)}eq(e){if(!(e instanceof ji)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let i=0;i<s.length;i++)n.push(s[i])}}return n?ES(r?n:n.sort(ul)):oc}static from(e){switch(e.length){case 0:return Qn;case 1:return e[0];default:return new ji(e.every(n=>n instanceof hn)?e:e.reduce((n,r)=>n.concat(r instanceof hn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Mre(t,e,n,r,o,s,i){let a=t.slice();for(let u=0,f=s;u<n.maps.length;u++){let p=0;n.maps[u].forEach((g,y,b,w)=>{let x=w-b-(y-g);for(let S=0;S<a.length;S+=3){let C=a[S+1];if(C<0||g>C+f-p)continue;let E=a[S]+f-p;y>=E?a[S+1]=g<=E?-2:-1:g>=f&&x&&(a[S]+=x,a[S+1]+=x)}p+=x}),f=n.maps[u].map(f,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let f=n.map(t[u]+s),p=f-o;if(p<0||p>=r.content.size){l=!0;continue}let g=n.map(t[u+1]+s,-1),y=g-o,{index:b,offset:w}=r.content.findIndex(p),x=r.maybeChild(b);if(x&&w==p&&w+x.nodeSize==y){let S=a[u+2].mapInner(n,x,f+1,t[u]+s+1,i);S!=Qn?(a[u]=p,a[u+1]=y,a[u+2]=S):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=Are(a,t,e,n,o,s,i),f=Vm(u,r,0,i);e=f.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,g=0;p<f.children.length;p+=3){let y=f.children[p];for(;g<a.length&&a[g]<y;)g+=3;a.splice(g,0,f.children[p],f.children[p+1],f.children[p+2])}}return new hn(e.sort(ul),a)}function GL(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new Yr(o.from+e,o.to+e,o.type))}return n}function Are(t,e,n,r,o,s,i){function a(l,u){for(let f=0;f<l.local.length;f++){let p=l.local[f].map(r,o,u);p?n.push(p):i.onRemove&&i.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function KL(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let s=0,i;s<t.length;s++)(i=t[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),t[s]=null);return o}function qL(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Vm(t,e,n,r){let o=[],s=!1;e.forEach((a,l)=>{let u=KL(t,a,l+n);if(u){s=!0;let f=Vm(u,a,n+l+1,r);f!=Qn&&o.push(l,l+a.nodeSize,f)}});let i=GL(s?qL(t):t,-n).sort(ul);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||(r.onRemove&&r.onRemove(i[a].spec),i.splice(a--,1));return i.length||o.length?new hn(i,o):Qn}function ul(t,e){return t.from-e.from||t.to-e.to}function ES(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[o]=s.copy(s.from,r.to),jR(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),jR(e,o,r.copy(s.from,r.to)));break}}}return e}function jR(t,e,n){for(;e<t.length&&ul(n,t[e])>0;)e++;t.splice(e,0,n)}function V0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qn&&e.push(r)}),t.cursorWrapper&&e.push(hn.create(t.state.doc,[t.cursorWrapper.deco])),ji.from(e)}const Pre={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ore=_r&&sa<=11;class _re{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Ire{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _re,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);_r&&sa<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Ore&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Pre)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(RR(this.view)){if(this.suppressingSelectionUpdates)return Xs(this.view);if(_r&&sa<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Nl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Xc(s))n.add(s);for(let s=e.anchorNode;s;s=Xc(s))if(n.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&RR(e)&&!this.ignoreSelectionChange(r),s=-1,i=-1,a=!1,l=[];if(e.editable)for(let f=0;f<n.length;f++){let p=this.registerMutation(n[f],l);p&&(s=s<0?p.from:Math.min(p.from,s),i=i<0?p.to:Math.max(p.to,i),p.typeOver&&(a=!0))}if(Xo&&l.length){let f=l.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,g]=f;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of f){let y=g.parentNode;y&&y.nodeName=="LI"&&(!p||Lre(e,p)!=y)&&g.remove()}}}let u=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&dy(r)&&(u=yS(e))&&u.eq(dt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Xs(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,i),Dre(e)),this.handleDOMChange(s,i,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Xs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(_r&&sa<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:g}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(o=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let i=o&&o.parentNode==e.target?$n(o)+1:0,a=r.localPosFromDOM(e.target,i,-1),l=s&&s.parentNode==e.target?$n(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let LR=new WeakMap,FR=!1;function Dre(t){if(!LR.has(t)&&(LR.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Xo,FR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),FR=!0}}function $R(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,i=t.domAtPos(t.state.selection.anchor);return Nl(i.node,i.offset,o,s)&&([n,r,o,s]=[o,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:s}}function jre(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return $R(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?$R(t,n):null}function Lre(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Fre(t,e,n){let{node:r,fromOffset:o,toOffset:s,from:i,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:l.anchorOffset}],dy(l)||u.push({node:l.focusNode,offset:l.focusOffset})),tr&&t.input.lastKeyCode===8)for(let x=s;x>o;x--){let S=r.childNodes[x-1],C=S.pmViewDesc;if(S.nodeName=="BR"&&!C){s=x;break}if(!C||C.size)break}let p=t.state.doc,g=t.someProp("domParser")||oa.fromSchema(t.state.schema),y=p.resolve(i),b=null,w=g.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:s,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:$re,context:y});if(u&&u[0].pos!=null){let x=u[0].pos,S=u[1]&&u[1].pos;S==null&&(S=x),b={anchor:x+i,head:S+i}}return{doc:w,sel:b,from:i,to:a}}function $re(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(hr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||hr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const zre=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Bre(t,e,n,r,o){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=yS(t,O);if(L&&!t.state.selection.eq(L)){if(tr&&qs&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",V=>V(t,Wa(13,"Enter"))))return;let F=t.state.tr.setSelection(L);O=="pointer"?F.setMeta("pointer",!0):O=="key"&&F.scrollIntoView(),s&&F.setMeta("composition",s),t.dispatch(F)}return}let i=t.state.doc.resolve(e),a=i.sharedDepth(n);e=i.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,u=Fre(t,e,n),f=t.state.doc,p=f.slice(u.from,u.to),g,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,y="end"):(g=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let b=Hre(p.content,u.doc.content,u.from,g,y);if(b&&t.input.domChangeCount++,(Qc&&t.input.lastIOSEnter>Date.now()-225||qs)&&o.some(O=>O.nodeType==1&&!zre.test(O.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",O=>O(t,Wa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&l instanceof et&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let O=zR(t,t.state.doc,u.sel);if(O&&!O.eq(t.state.selection)){let L=t.state.tr.setSelection(O);s&&L.setMeta("composition",s),t.dispatch(L)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof et&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),_r&&sa<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)==" "&&(b.start--,b.endA--,b.endB--);let w=u.doc.resolveNoCache(b.start-u.from),x=u.doc.resolveNoCache(b.endB-u.from),S=f.resolve(b.start),C=w.sameParent(x)&&w.parent.inlineContent&&S.end()>=b.endA,E;if((Qc&&t.input.lastIOSEnter>Date.now()-225&&(!C||o.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!C&&w.pos<u.doc.content.size&&(!w.sameParent(x)||!w.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(w.pos,x.pos,"",""))&&(E=dt.findFrom(u.doc.resolve(w.pos+1),1,!0))&&E.head>w.pos)&&t.someProp("handleKeyDown",O=>O(t,Wa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&Ure(f,b.start,b.endA,w,x)&&t.someProp("handleKeyDown",O=>O(t,Wa(8,"Backspace")))){qs&&tr&&t.domObserver.suppressSelectionUpdates();return}tr&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),qs&&!C&&w.start()!=x.start()&&x.parentOffset==0&&w.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,x=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Wa(13,"Enter"))})},20));let N=b.start,T=b.endA,M=O=>{let L=O||t.state.tr.replace(N,T,u.doc.slice(b.start-u.from,b.endB-u.from));if(u.sel){let F=zR(t,L.doc,u.sel);F&&!(tr&&t.composing&&F.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(F.head==N||F.head==L.mapping.map(T)-1)||_r&&F.empty&&F.head==N)&&L.setSelection(F)}return s&&L.setMeta("composition",s),L.scrollIntoView()},A;if(C){if(w.pos==x.pos){_r&&sa<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xs(t),20));let O=M(t.state.tr.delete(N,T)),L=f.resolve(b.start).marksAcross(f.resolve(b.endA));L&&O.ensureMarks(L),t.dispatch(O)}else if(b.endA==b.endB&&(A=Wre(w.parent.content.cut(w.parentOffset,x.parentOffset),S.parent.content.cut(S.parentOffset,b.endA-S.start())))){let O=M(t.state.tr);A.type=="add"?O.addMark(N,T,A.mark):O.removeMark(N,T,A.mark),t.dispatch(O)}else if(w.parent.child(w.index()).isText&&w.index()==x.index()-(x.textOffset?0:1)){let O=w.parent.textBetween(w.parentOffset,x.parentOffset),L=()=>M(t.state.tr.insertText(O,N,T));t.someProp("handleTextInput",F=>F(t,N,T,O,L))||t.dispatch(L())}}else t.dispatch(M())}function zR(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:vS(t,e.resolve(n.anchor),e.resolve(n.head))}function Wre(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,s=r,i,a,l;for(let f=0;f<r.length;f++)o=r[f].removeFromSet(o);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(o.length==1&&s.length==0)a=o[0],i="add",l=f=>f.mark(a.addToSet(f.marks));else if(o.length==0&&s.length==1)a=s[0],i="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(l(e.child(f)));if(ve.from(u).eq(t))return{mark:a,type:i}}function Ure(t,e,n,r,o){if(n-e<=o.pos-r.pos||G0(r,!0,!1)<o.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=t.resolve(G0(s,!0,!0));return!i.parent.isTextblock||i.pos>n||G0(i,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function G0(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function Hre(t,e,n,r,o){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:i,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,s-Math.min(i,a));r-=i+l-s}if(i<s&&t.size<e.size){let l=r<=s&&r>=i?s-r:0;s-=l,s&&s<e.size&&BR(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-i),i=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&BR(t.textBetween(s-1,s+1))&&(s+=l?1:-1),i=s+(i-a),a=s}return{start:s,endA:i,endB:a}}function BR(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class YL{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new cre,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(GR),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=HR(this),UR(this),this.nodeViews=VR(this),this.docView=SR(this.state.doc,WR(this),V0(this),this.dom,this),this.domObserver=new Ire(this,(r,o,s,i)=>Bre(this,r,o,s,i)),this.domObserver.start(),ure(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&tb(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(GR),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&(WL(this),i=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=VR(this);Gre(y,this.nodeViews)&&(this.nodeViews=y,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&tb(this),this.editable=HR(this),UR(this);let l=V0(this),u=WR(this),f=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,u,l);(p||!e.selection.eq(o.selection))&&(i=!0);let g=f=="preserve"&&i&&this.dom.style.overflowAnchor==null&&Ene(this);if(i){this.domObserver.stop();let y=p&&(_r||tr)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&Vre(o.selection,e.selection);if(p){let b=tr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Cre(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=SR(e.doc,u,l,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qne(this))?Xs(this,y):(AL(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&kne(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ve){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&gR(this,n.getBoundingClientRect(),e)}else gR(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new HL(e.slice,e.move,o<0?void 0:Ve.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[e];if(a!=null&&(o=n?n(a):a))return o}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let a=s[i].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(_r){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Nne(this.dom),Xs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Pne(this,e)}coordsAtPos(e,n=1){return SL(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return jne(this,n||this.state,e)}pasteHTML(e,n){return cf(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return cf(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return xS(this,e)}destroy(){this.docView&&(dre(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],V0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,hne())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return hre(this,e)}domSelectionRange(){let e=this.domSelection();return e?hr&&this.root.nodeType===11&&vne(this.dom.ownerDocument)==this.dom&&jre(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}YL.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function WR(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Yr.node(0,t.state.doc.content.size,e)]}function UR(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Yr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function HR(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Vre(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function VR(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Gre(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function GR(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ma={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Kre=typeof navigator<"u"&&/Mac/.test(navigator.platform),qre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zn=0;zn<10;zn++)ma[48+zn]=ma[96+zn]=String(zn);for(var zn=1;zn<=24;zn++)ma[zn+111]="F"+zn;for(var zn=65;zn<=90;zn++)ma[zn]=String.fromCharCode(zn+32),Gm[zn]=String.fromCharCode(zn);for(var K0 in ma)Gm.hasOwnProperty(K0)||(Gm[K0]=ma[K0]);function Yre(t){var e=Kre&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||qre&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Gm:ma)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Jre=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Xre=typeof navigator<"u"&&/Win/.test(navigator.platform);function Qre(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,s,i;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Jre?i=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),i&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Zre(t){let e=Object.create(null);for(let n in t)e[Qre(n)]=t[n];return e}function q0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function eoe(t){return new xr({props:{handleKeyDown:JL(t)}})}function JL(t){let e=Zre(t);return function(n,r){let o=Yre(r),s,i=e[q0(o,r)];if(i&&i(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[q0(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Xre&&r.ctrlKey&&r.altKey)&&(s=ma[r.keyCode])&&s!=o){let a=e[q0(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const kS=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function XL(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const QL=(t,e,n)=>{let r=XL(t,n);if(!r)return!1;let o=NS(r);if(!o){let i=r.blockRange(),a=i&&wu(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)}let s=o.nodeBefore;if(aF(t,o,e,-1))return!0;if(r.parent.content.size==0&&(Zc(s,"end")||Ve.isSelectable(s)))for(let i=r.depth;;i--){let a=cy(t.doc,r.before(i),r.after(i),Ae.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Zc(s,"end")?dt.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Ve.create(l.doc,o.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(i==1||r.node(i-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},toe=(t,e,n)=>{let r=XL(t,n);if(!r)return!1;let o=NS(r);return o?ZL(t,o,e):!1},noe=(t,e,n)=>{let r=tF(t,n);if(!r)return!1;let o=TS(r);return o?ZL(t,o,e):!1};function ZL(t,e,n){let r=e.nodeBefore,o=r,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let f=o.lastChild;if(!f)return!1;o=f}let i=e.nodeAfter,a=i,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let u=cy(t.doc,s,l,Ae.empty);if(!u||u.from!=s||u instanceof Nn&&u.slice.size>=l-s)return!1;if(n){let f=t.tr.step(u);f.setSelection(et.create(f.doc,s)),n(f.scrollIntoView())}return!0}function Zc(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const eF=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=NS(r)}let i=s&&s.nodeBefore;return!i||!Ve.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Ve.create(t.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function NS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function tF(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const nF=(t,e,n)=>{let r=tF(t,n);if(!r)return!1;let o=TS(r);if(!o)return!1;let s=o.nodeAfter;if(aF(t,o,e,1))return!0;if(r.parent.content.size==0&&(Zc(s,"start")||Ve.isSelectable(s))){let i=cy(t.doc,r.before(),r.after(),Ae.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(Zc(s,"start")?dt.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Ve.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},rF=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=TS(r)}let i=s&&s.nodeAfter;return!i||!Ve.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Ve.create(t.doc,s.pos)).scrollIntoView()),!0)};function TS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const roe=(t,e)=>{let n=t.selection,r=n instanceof Ve,o;if(r){if(n.node.isTextblock||!Na(t.doc,n.from))return!1;o=n.from}else if(o=ly(t.doc,n.from,-1),o==null)return!1;if(e){let s=t.tr.join(o);r&&s.setSelection(Ve.create(s.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},ooe=(t,e)=>{let n=t.selection,r;if(n instanceof Ve){if(n.node.isTextblock||!Na(t.doc,n.to))return!1;r=n.to}else if(r=ly(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},soe=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),s=o&&wu(o);return s==null?!1:(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)},oF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function RS(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const ioe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),i=RS(o.contentMatchAt(s));if(!i||!o.canReplaceWith(s,s,i))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,i.createAndFill());l.setSelection(dt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},sF=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof Qr||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=RS(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let i=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(i,s.createAndFill());a.setSelection(et.create(a.doc,i+1)),e(a.scrollIntoView())}return!0},iF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Js(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),o=r&&wu(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function aoe(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof Ve&&e.selection.node.isBlock)return!r.parentOffset||!Js(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],i,a,l=!1,u=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){l=r.end(y)==r.pos+(r.depth-y),u=r.start(y)==r.pos-(r.depth-y),a=RS(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),s.unshift(l&&a?{type:a}:null),i=y;break}else{if(y==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof et||e.selection instanceof Qr)&&f.deleteSelection();let p=f.mapping.map(r.pos),g=Js(f.doc,p,s.length,s);if(g||(s[0]=a?{type:a}:null,g=Js(f.doc,p,s.length,s)),!g)return!1;if(f.split(p,s.length,s),!l&&u&&r.node(i).type!=a){let y=f.mapping.map(r.before(i)),b=f.doc.resolve(y);a&&r.node(i-1).canReplaceWith(b.index(),b.index()+1,a)&&f.setNodeMarkup(f.mapping.map(r.before(i)),a)}return n&&n(f.scrollIntoView()),!0}}const loe=aoe(),coe=(t,e)=>{let{$from:n,to:r}=t.selection,o,s=n.sharedDepth(r);return s==0?!1:(o=n.before(s),e&&e(t.tr.setSelection(Ve.create(t.doc,o))),!0)};function uoe(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||Na(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function aF(t,e,n,r){let o=e.nodeBefore,s=e.nodeAfter,i,a,l=o.type.spec.isolating||s.type.spec.isolating;if(!l&&uoe(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(a=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&a.matchType(i[0]||s.type).validEnd){if(n){let y=e.pos+s.nodeSize,b=ve.empty;for(let S=i.length-1;S>=0;S--)b=ve.from(i[S].create(null,b));b=ve.from(o.copy(b));let w=t.tr.step(new Mn(e.pos-1,y,e.pos,y,new Ae(b,1,0),i.length,!0)),x=w.doc.resolve(y+2*i.length);x.nodeAfter&&x.nodeAfter.type==o.type&&Na(w.doc,x.pos)&&w.join(x.pos),n(w.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&l?null:dt.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),g=p&&wu(p);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(p,g).scrollIntoView()),!0;if(u&&Zc(s,"start",!0)&&Zc(o,"end")){let y=o,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let w=s,x=1;for(;!w.isTextblock;w=w.firstChild)x++;if(y.canReplace(y.childCount,y.childCount,w.content)){if(n){let S=ve.empty;for(let E=b.length-1;E>=0;E--)S=ve.from(b[E].copy(S));let C=t.tr.step(new Mn(e.pos-b.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Ae(S,b.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function lF(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(n&&n(e.tr.setSelection(et.create(e.doc,t<0?o.start(s):o.end(s)))),!0):!1}}const doe=lF(-1),foe=lF(1);function hoe(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s),a=i&&pS(i,t,e);return a?(r&&r(n.tr.wrap(i,a).scrollIntoView()),!0):!1}}function KR(t,e=null){return function(n,r){let o=!1;for(let s=0;s<n.selection.ranges.length&&!o;s++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(i,a,(l,u)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let f=n.doc.resolve(u),p=f.index();o=f.parent.canReplaceWith(p,p+1,t)}})}if(!o)return!1;if(r){let s=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function MS(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}MS(kS,QL,eF);MS(kS,nF,rF);MS(oF,sF,iF,loe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function poe(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s);if(!i)return!1;let a=r?n.tr:null;return moe(a,i,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function moe(t,e,n,r=null){let o=!1,s=e,i=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=i.resolve(e.start-2);s=new $m(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new $m(e.$from,i.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=pS(s,n,r,e);return a?(t&&goe(t,e,a,o,n),!0):!1}function goe(t,e,n,r,o){let s=ve.empty;for(let f=n.length-1;f>=0;f--)s=ve.from(n[f].type.create(n[f].attrs,s));t.step(new Mn(e.start-(r?2:0),e.end,e.start,e.end,new Ae(s,0,0),n.length,!0));let i=0;for(let f=0;f<n.length;f++)n[f].type==o&&(i=f+1);let a=n.length-i,l=e.start+n.length-(r?2:0),u=e.parent;for(let f=e.startIndex,p=e.endIndex,g=!0;f<p;f++,g=!1)!g&&Js(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(f).nodeSize;return t}function yoe(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,i=>i.childCount>0&&i.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?voe(e,n,t,s):xoe(e,n,s):!0:!1}}function voe(t,e,n,r){let o=t.tr,s=r.end,i=r.$to.end(r.depth);s<i&&(o.step(new Mn(s-1,i,s,i,new Ae(ve.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new $m(o.doc.resolve(r.$from.pos),o.doc.resolve(i),r.depth));const a=wu(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(s,-1)-1);return Na(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),e(o.scrollIntoView()),!0}function xoe(t,e,n){let r=t.tr,o=n.parent;for(let y=n.end,b=n.endIndex-1,w=n.startIndex;b>w;b--)y-=o.child(b).nodeSize,r.delete(y-1,y+1);let s=r.doc.resolve(n.start),i=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,u=s.node(-1),f=s.index(-1);if(!u.canReplace(f+(a?0:1),f+1,i.content.append(l?ve.empty:ve.from(o))))return!1;let p=s.pos,g=p+i.nodeSize;return r.step(new Mn(p-(a?1:0),g+(l?1:0),p+1,g-1,new Ae((a?ve.empty:ve.from(o.copy(ve.empty))).append(l?ve.empty:ve.from(o.copy(ve.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function woe(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let i=s.startIndex;if(i==0)return!1;let a=s.parent,l=a.child(i-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,f=ve.from(u?t.create():null),p=new Ae(ve.from(t.create(null,ve.from(a.type.create(null,f)))),u?3:1,0),g=s.start,y=s.end;n(e.tr.step(new Mn(g-(u?3:1),y,g,y,p,1,!0)).scrollIntoView())}return!0}}function py(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}class my{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...f)=>{const p=l(...f)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:i}=o,a=[],l=!!e,u=e||s.tr,f=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(u),a.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(r).map(([g,y])=>[g,(...w)=>{const x=this.buildProps(u,n),S=y(...w)(x);return a.push(S),p}])),run:f};return p}createCan(e){const{rawCommands:n,state:r}=this,o=!1,s=e||r.tr,i=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...f)=>u(...f)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(e,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:i}=o,a={tr:e,editor:o,view:i,state:py({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...f)=>u(...f)(a)]))}};return a}}class boe{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e]),this}once(e,n){const r=(...o)=>{this.off(e,r),n.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Fe(t,e,n){return t.config[e]===void 0&&t.parent?Fe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Fe(t.parent,e,n):null}):t.config[e]}function gy(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function cF(t){const e=[],{nodeExtensions:n,markExtensions:r}=gy(t),o=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage,extensions:o},l=Fe(i,"addGlobalAttributes",a);if(!l)return;l().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([g,y])=>{e.push({type:p,name:g,attribute:{...s,...y}})})})})}),o.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},l=Fe(i,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([f,p])=>{const g={...s,...p};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:i.name,name:f,attribute:g})})}),e}function On(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Hn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const a=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],u=a.filter(f=>!l.includes(f));r[o]=[...l,...u].join(" ")}else if(o==="style"){const a=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;l.forEach(f=>{const[p,g]=f.split(":").map(y=>y.trim());u.set(p,g)}),a.forEach(f=>{const[p,g]=f.split(":").map(y=>y.trim());u.set(p,g)}),r[o]=Array.from(u.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else r[o]=s}),r},{})}function nb(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Hn(n,r),{})}function uF(t){return typeof t=="function"}function mt(t,e=void 0,...n){return uF(t)?e?t.bind(e)(...n):t(...n):t}function Soe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Coe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function qR(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((s,i)=>{const a=i.attribute.parseHTML?i.attribute.parseHTML(n):Coe(n.getAttribute(i.name));return a==null?s:{...s,[i.name]:a}},{});return{...r,...o}}}}function YR(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Soe(n)?!1:n!=null))}function Eoe(t,e){var n;const r=cF(t),{nodeExtensions:o,markExtensions:s}=gy(t),i=(n=o.find(u=>Fe(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(o.map(u=>{const f=r.filter(S=>S.type===u.name),p={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((S,C)=>{const E=Fe(C,"extendNodeSchema",p);return{...S,...E?E(u):{}}},{}),y=YR({...g,content:mt(Fe(u,"content",p)),marks:mt(Fe(u,"marks",p)),group:mt(Fe(u,"group",p)),inline:mt(Fe(u,"inline",p)),atom:mt(Fe(u,"atom",p)),selectable:mt(Fe(u,"selectable",p)),draggable:mt(Fe(u,"draggable",p)),code:mt(Fe(u,"code",p)),whitespace:mt(Fe(u,"whitespace",p)),linebreakReplacement:mt(Fe(u,"linebreakReplacement",p)),defining:mt(Fe(u,"defining",p)),isolating:mt(Fe(u,"isolating",p)),attrs:Object.fromEntries(f.map(S=>{var C;return[S.name,{default:(C=S==null?void 0:S.attribute)===null||C===void 0?void 0:C.default}]}))}),b=mt(Fe(u,"parseHTML",p));b&&(y.parseDOM=b.map(S=>qR(S,f)));const w=Fe(u,"renderHTML",p);w&&(y.toDOM=S=>w({node:S,HTMLAttributes:nb(S,f)}));const x=Fe(u,"renderText",p);return x&&(y.toText=x),[u.name,y]})),l=Object.fromEntries(s.map(u=>{const f=r.filter(x=>x.type===u.name),p={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((x,S)=>{const C=Fe(S,"extendMarkSchema",p);return{...x,...C?C(u):{}}},{}),y=YR({...g,inclusive:mt(Fe(u,"inclusive",p)),excludes:mt(Fe(u,"excludes",p)),group:mt(Fe(u,"group",p)),spanning:mt(Fe(u,"spanning",p)),code:mt(Fe(u,"code",p)),attrs:Object.fromEntries(f.map(x=>{var S;return[x.name,{default:(S=x==null?void 0:x.attribute)===null||S===void 0?void 0:S.default}]}))}),b=mt(Fe(u,"parseHTML",p));b&&(y.parseDOM=b.map(x=>qR(x,f)));const w=Fe(u,"renderHTML",p);return w&&(y.toDOM=x=>w({mark:x,HTMLAttributes:nb(x,f)})),[u.name,y]}));return new Qj({topNode:i,nodes:a,marks:l})}function Y0(t,e){return e.nodes[t]||e.marks[t]||null}function JR(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function AS(t,e){const n=_l.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}const koe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,s,i,a)=>{var l,u;const f=((u=(l=o.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:o,pos:s,parent:i,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?f:f.slice(0,Math.max(0,r-s))}),n};function PS(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class yy{constructor(e){this.find=e.find,this.handler=e.handler}}const Noe=(t,e)=>{if(PS(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function mp(t){var e;const{editor:n,from:r,to:o,text:s,rules:i,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(g=>g.type.spec.code))return!1;let f=!1;const p=koe(u)+s;return i.forEach(g=>{if(f)return;const y=Noe(p,g.find);if(!y)return;const b=l.state.tr,w=py({state:l.state,transaction:b}),x={from:r-(y[0].length-s.length),to:o},{commands:S,chain:C,can:E}=new my({editor:n,state:w});g.handler({state:w,range:x,match:y,commands:S,chain:C,can:E})===null||!b.steps.length||(b.setMeta(a,{transform:b,from:r,to:o,text:s}),l.dispatch(b),f=!0)}),f}function Toe(t){const{editor:e,rules:n}=t,r=new xr({state:{init(){return null},apply(o,s,i){const a=o.getMeta(r);if(a)return a;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=AS(ve.from(f),i.schema);const{from:p}=l,g=p+f.length;mp({editor:e,from:p,to:g,text:f,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,i,a){return mp({editor:e,from:s,to:i,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&mp({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:i}=o.state.selection;return i?mp({editor:e,from:i.pos,to:i.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Roe(t){return Object.prototype.toString.call(t).slice(8,-1)}function gp(t){return Roe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function vy(t,e){const n={...t};return gp(t)&&gp(e)&&Object.keys(e).forEach(r=>{gp(e[r])&&gp(t[r])?n[r]=vy(t[r],e[r]):n[r]=e[r]}),n}class ks{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=mt(Fe(this,"addOptions",{name:this.name}))),this.storage=mt(Fe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ks(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ks(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=mt(Fe(n,"addOptions",{name:n.name})),n.storage=mt(Fe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const i=o.marks();if(!!!i.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=i.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function Moe(t){return typeof t=="number"}class Aoe{constructor(e){this.find=e.find,this.handler=e.handler}}const Poe=(t,e,n)=>{if(PS(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=t,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function Ooe(t){const{editor:e,state:n,from:r,to:o,rule:s,pasteEvent:i,dropEvent:a}=t,{commands:l,chain:u,can:f}=new my({editor:e,state:n}),p=[];return n.doc.nodesBetween(r,o,(y,b)=>{if(!y.isTextblock||y.type.spec.code)return;const w=Math.max(r,b),x=Math.min(o,b+y.content.size),S=y.textBetween(w-b,x-b,void 0,"");Poe(S,s.find,i).forEach(E=>{if(E.index===void 0)return;const N=w+E.index+1,T=N+E[0].length,M={from:n.tr.mapping.map(N),to:n.tr.mapping.map(T)},A=s.handler({state:n,range:M,match:E,commands:l,chain:u,can:f,pasteEvent:i,dropEvent:a});p.push(A)})}),p.every(y=>y!==null)}let yp=null;const _oe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function Ioe(t){const{editor:e,rules:n}=t;let r=null,o=!1,s=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:f,from:p,to:g,rule:y,pasteEvt:b})=>{const w=f.tr,x=py({state:f,transaction:w});if(!(!Ooe({editor:e,state:x,from:Math.max(p-1,0),to:g.b-1,rule:y,pasteEvent:b,dropEvent:a})||!w.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(f=>new xr({view(p){const g=b=>{var w;r=!((w=p.dom.parentElement)===null||w===void 0)&&w.contains(b.target)?p.dom.parentElement:null,r&&(yp=e)},y=()=>{yp&&(yp=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=r===p.dom.parentElement,a=g,!s){const y=yp;y!=null&&y.isEditable&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,g)=>{var y;const b=(y=g.clipboardData)===null||y===void 0?void 0:y.getData("text/html");return i=g,o=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(p,g,y)=>{const b=p[0],w=b.getMeta("uiEvent")==="paste"&&!o,x=b.getMeta("uiEvent")==="drop"&&!s,S=b.getMeta("applyPasteRules"),C=!!S;if(!w&&!x&&!C)return;if(C){let{text:T}=S;typeof T=="string"?T=T:T=AS(ve.from(T),y.schema);const{from:M}=S,A=M+T.length,O=_oe(T);return l({rule:f,state:y,from:M,to:{b:A},pasteEvt:O})}const E=g.doc.content.findDiffStart(y.doc.content),N=g.doc.content.findDiffEnd(y.doc.content);if(!(!Moe(E)||!N||E===N.b))return l({rule:f,state:y,from:E,to:N,pasteEvt:i})}}))}function Doe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class vc{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=vc.resolve(e),this.schema=Eoe(this.extensions,n),this.setupExtensions()}static resolve(e){const n=vc.sort(vc.flatten(e)),r=Doe(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=Fe(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((r,o)=>{const s=Fe(r,"priority")||100,i=Fe(o,"priority")||100;return s>i?-1:s<i?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Y0(n.name,this.schema)},o=Fe(n,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,n=vc.sort([...this.extensions].reverse()),r=[],o=[],s=n.map(i=>{const a={name:i.name,options:i.options,storage:i.storage,editor:e,type:Y0(i.name,this.schema)},l=[],u=Fe(i,"addKeyboardShortcuts",a);let f={};if(i.type==="mark"&&Fe(i,"exitable",a)&&(f.ArrowRight=()=>ks.handleExit({editor:e,mark:i})),u){const w=Object.fromEntries(Object.entries(u()).map(([x,S])=>[x,()=>S({editor:e})]));f={...f,...w}}const p=eoe(f);l.push(p);const g=Fe(i,"addInputRules",a);JR(i,e.options.enableInputRules)&&g&&r.push(...g());const y=Fe(i,"addPasteRules",a);JR(i,e.options.enablePasteRules)&&y&&o.push(...y());const b=Fe(i,"addProseMirrorPlugins",a);if(b){const w=b();l.push(...w)}return l}).flat();return[Toe({editor:e,rules:r}),...Ioe({editor:e,rules:o}),...s]}get attributes(){return cF(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=gy(this.extensions);return Object.fromEntries(n.filter(r=>!!Fe(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:On(r.name,this.schema)},i=Fe(r,"addNodeView",s);if(!i)return[];const a=(l,u,f,p,g)=>{const y=nb(l,o);return i()({node:l,view:u,getPos:f,decorations:p,innerDecorations:g,editor:e,extension:r,HTMLAttributes:y})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Y0(e.name,this.schema)};e.type==="mark"&&(!((n=mt(Fe(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const o=Fe(e,"onBeforeCreate",r),s=Fe(e,"onCreate",r),i=Fe(e,"onUpdate",r),a=Fe(e,"onSelectionUpdate",r),l=Fe(e,"onTransaction",r),u=Fe(e,"onFocus",r),f=Fe(e,"onBlur",r),p=Fe(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}}class _n{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=mt(Fe(this,"addOptions",{name:this.name}))),this.storage=mt(Fe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _n(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new _n({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=mt(Fe(n,"addOptions",{name:n.name})),n.storage=mt(Fe(n,"addStorage",{name:n.name,options:n.options})),n}}function dF(t,e,n){const{from:r,to:o}=e,{blockSeparator:s=`

`,textSerializers:i={}}=n||{};let a="";return t.nodesBetween(r,o,(l,u,f,p)=>{var g;l.isBlock&&u>r&&(a+=s);const y=i==null?void 0:i[l.type.name];if(y)return f&&(a+=y({node:l,pos:u,parent:f,index:p,range:e})),!1;l.isText&&(a+=(g=l==null?void 0:l.text)===null||g===void 0?void 0:g.slice(Math.max(r,u)-u,o-u))}),a}function fF(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const joe=_n.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new xr({key:new ts("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:s}=o,i=Math.min(...s.map(f=>f.$from.pos)),a=Math.max(...s.map(f=>f.$to.pos)),l=fF(n);return dF(r,{from:i,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Loe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Foe=(t=!1)=>({commands:e})=>e.setContent("",t),$oe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:i})=>{t.doc.nodesBetween(s.pos,i.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:f}=e,p=u.resolve(f.map(l)),g=u.resolve(f.map(l+a.nodeSize)),y=p.blockRange(g);if(!y)return;const b=wu(y);if(a.type.isTextblock){const{defaultType:w}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(y.start,w)}(b||b===0)&&e.lift(y,b)})}),!0},zoe=t=>e=>t(e),Boe=()=>({state:t,dispatch:e})=>sF(t,e),Woe=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const i=r.mapping.map(e);return r.insert(i,s.content),r.setSelection(new et(r.doc.resolve(i-1))),!0},Uoe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(e){const a=o.before(s),l=o.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},Hoe=t=>({tr:e,state:n,dispatch:r})=>{const o=On(t,n.schema),s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===o){if(r){const l=s.before(i),u=s.after(i);e.delete(l,u).scrollIntoView()}return!0}return!1},Voe=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},Goe=()=>({state:t,dispatch:e})=>kS(t,e),Koe=()=>({commands:t})=>t.keyboardShortcut("Enter"),qoe=()=>({state:t,dispatch:e})=>ioe(t,e);function Km(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:PS(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function hF(t,e,n={}){return t.find(r=>r.type===e&&Km(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function XR(t,e,n={}){return!!hF(t,e,n)}function OS(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(f=>f.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(f=>f.type===e)||(n=n||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!hF([...o.node.marks],e,n)))return;let i=o.index,a=t.start()+o.offset,l=i+1,u=a+o.node.nodeSize;for(;i>0&&XR([...t.parent.child(i-1).marks],e,n);)i-=1,a-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&XR([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function Ra(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Yoe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const s=Ra(t,r.schema),{doc:i,selection:a}=n,{$from:l,from:u,to:f}=a;if(o){const p=OS(l,s,e);if(p&&p.from<=u&&p.to>=f){const g=et.create(i,p.from,p.to);n.setSelection(g)}}return!0},Joe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function pF(t){return t instanceof et}function Ja(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function mF(t,e=null){if(!e)return null;const n=dt.atStart(t),r=dt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,s=r.to;return e==="all"?et.create(t,Ja(0,o,s),Ja(t.content.size,o,s)):et.create(t,Ja(e,o,s),Ja(e,o,s))}function Xoe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _S(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Qoe=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const i=()=>{(_S()||Xoe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!pF(n.state.selection))return i(),!0;const a=mF(o.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),i()),!0},Zoe=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),ese=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),gF=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&gF(r)}return t};function vp(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return gF(n)}function df(t,e,n){if(t instanceof ra||t instanceof ve)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ve.fromArray(t.map(a=>e.nodeFromJSON(a)));const i=e.nodeFromJSON(t);return n.errorOnInvalidContent&&i.check(),i}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),df("",e,n)}if(o){if(n.errorOnInvalidContent){let i=!1,a="";const l=new Qj({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(i=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?oa.fromSchema(l).parseSlice(vp(t),n.parseOptions):oa.fromSchema(l).parse(vp(t),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=oa.fromSchema(e);return n.slice?s.parseSlice(vp(t),n.parseOptions).content:s.parse(vp(t),n.parseOptions)}return df("",e,n)}function tse(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof Nn||o instanceof Mn))return;const s=t.mapping.maps[r];let i=0;s.forEach((a,l,u,f)=>{i===0&&(i=f)}),t.setSelection(dt.near(t.doc.resolve(i),n))}const nse=t=>!("type"in t),rse=(t,e,n)=>({tr:r,dispatch:o,editor:s})=>{var i;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{df(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(x){l(x)}try{a=df(e,s.schema,{parseOptions:u,errorOnInvalidContent:(i=n.errorOnInvalidContent)!==null&&i!==void 0?i:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:f,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,y=!0;if((nse(a)?a:[a]).forEach(x=>{x.check(),g=g?x.isText&&x.marks.length===0:!1,y=y?x.isBlock:!1}),f===p&&y){const{parent:x}=r.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,p+=1)}let w;if(g){if(Array.isArray(e))w=e.map(x=>x.text||"").join("");else if(e instanceof ve){let x="";e.forEach(S=>{S.text&&(x+=S.text)}),w=x}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,f,p)}else w=a,r.replaceWith(f,p,w);n.updateSelection&&tse(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:w}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:w})}return!0},ose=()=>({state:t,dispatch:e})=>roe(t,e),sse=()=>({state:t,dispatch:e})=>ooe(t,e),ise=()=>({state:t,dispatch:e})=>QL(t,e),ase=()=>({state:t,dispatch:e})=>nF(t,e),lse=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ly(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},cse=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ly(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},use=()=>({state:t,dispatch:e})=>toe(t,e),dse=()=>({state:t,dispatch:e})=>noe(t,e);function yF(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function fse(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,s,i;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))_S()||yF()?i=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),i&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const hse=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const s=fse(t).split(/-(?!$)/),i=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const f=u.map(r.mapping);f&&o&&r.maybeStep(f)}),!0};function ff(t,e,n={}){const{from:r,to:o,empty:s}=t.selection,i=e?On(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(p,g)=>{if(p.isText)return;const y=Math.max(r,g),b=Math.min(o,g+p.nodeSize);a.push({node:p,from:y,to:b})});const l=o-r,u=a.filter(p=>i?i.name===p.node.type.name:!0).filter(p=>Km(p.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((p,g)=>p+g.to-g.from,0)>=l}const pse=(t,e={})=>({state:n,dispatch:r})=>{const o=On(t,n.schema);return ff(n,o,e)?soe(n,r):!1},mse=()=>({state:t,dispatch:e})=>iF(t,e),gse=t=>({state:e,dispatch:n})=>{const r=On(t,e.schema);return yoe(r)(e,n)},yse=()=>({state:t,dispatch:e})=>oF(t,e);function xy(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function QR(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}const vse=(t,e)=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=xy(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=On(t,r.schema)),a==="mark"&&(i=Ra(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,f)=>{s&&s===u.type&&n.setNodeMarkup(f,void 0,QR(u.attrs,e)),i&&u.marks.length&&u.marks.forEach(p=>{i===p.type&&n.addMark(f,f+u.nodeSize,i.create(QR(p.attrs,e)))})})}),!0):!1},xse=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),wse=()=>({tr:t,dispatch:e})=>{if(e){const n=new Qr(t.doc);t.setSelection(n)}return!0},bse=()=>({state:t,dispatch:e})=>eF(t,e),Sse=()=>({state:t,dispatch:e})=>rF(t,e),Cse=()=>({state:t,dispatch:e})=>coe(t,e),Ese=()=>({state:t,dispatch:e})=>foe(t,e),kse=()=>({state:t,dispatch:e})=>doe(t,e);function rb(t,e,n={},r={}){return df(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Nse=(t,e=!1,n={},r={})=>({editor:o,tr:s,dispatch:i,commands:a})=>{var l,u;const{doc:f}=s;if(n.preserveWhitespace!=="full"){const p=rb(t,o.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck});return i&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!e),!0}return i&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:f.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})};function vF(t,e){const n=Ra(e,t.schema),{from:r,to:o,empty:s}=t.selection,i=[];s?(t.storedMarks&&i.push(...t.storedMarks),i.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{i.push(...l.marks)});const a=i.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Tse(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Rse(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function IS(t){return e=>Rse(e.$from,t)}function Mse(t,e){const n={from:0,to:t.content.size};return dF(t,n,e)}function Ase(t,e){const n=On(e,t.schema),{from:r,to:o}=t.selection,s=[];t.doc.nodesBetween(r,o,a=>{s.push(a)});const i=s.reverse().find(a=>a.type.name===n.name);return i?{...i.attrs}:{}}function Pse(t,e){const n=xy(typeof e=="string"?e:e.name,t.schema);return n==="node"?Ase(t,e):n==="mark"?vF(t,e):{}}function xF(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const s=n.resolve(t),i=OS(s,o.type);i&&r.push({mark:o,...i})}):n.nodesBetween(t,e,(o,s)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(i=>({from:s,to:s+o.nodeSize,mark:i})))}),r}function Gp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(s=>s.type===e&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function ob(t,e,n={}){const{empty:r,ranges:o}=t.selection,s=e?Ra(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>Km(p.attrs,n,{strict:!1}));let i=0;const a=[];if(o.forEach(({$from:p,$to:g})=>{const y=p.pos,b=g.pos;t.doc.nodesBetween(y,b,(w,x)=>{if(!w.isText&&!w.marks.length)return;const S=Math.max(y,x),C=Math.min(b,x+w.nodeSize),E=C-S;i+=E,a.push(...w.marks.map(N=>({mark:N,from:S,to:C})))})}),i===0)return!1;const l=a.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>Km(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),u=a.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(l>0?l+u:l)>=i}function Ose(t,e,n={}){if(!e)return ff(t,null,n)||ob(t,null,n);const r=xy(e,t.schema);return r==="node"?ff(t,e,n):r==="mark"?ob(t,e,n):!1}function ZR(t,e){const{nodeExtensions:n}=gy(e),r=n.find(i=>i.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=mt(Fe(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function wy(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(s=>{o!==!1&&(wy(s,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function _se(t){return t instanceof Ve}function Ise(t,e,n){var r;const{selection:o}=e;let s=null;if(pF(o)&&(s=o.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:i}=o;return i.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(f,p,g)=>{if(u)return!1;if(f.isInline){const y=!g||g.type.allowsMarkType(n),b=!!n.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(n));u=y&&b}return!u}),u})}const Dse=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:i,ranges:a}=s,l=Ra(t,r.schema);if(o)if(i){const u=vF(r,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const f=u.$from.pos,p=u.$to.pos;r.doc.nodesBetween(f,p,(g,y)=>{const b=Math.max(y,f),w=Math.min(y+g.nodeSize,p);g.marks.find(S=>S.type===l)?g.marks.forEach(S=>{l===S.type&&n.addMark(b,w,l.create({...S.attrs,...e}))}):n.addMark(b,w,l.create(e))})});return Ise(r,n,l)},jse=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Lse=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const s=On(t,n.schema);let i;return n.selection.$anchor.sameParent(n.selection.$head)&&(i=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:a})=>KR(s,{...i,...e})(n)?!0:a.clearNodes()).command(({state:a})=>KR(s,{...i,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Fse=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=Ja(t,0,r.content.size),s=Ve.create(r,o);e.setSelection(s)}return!0},$se=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:s}=typeof t=="number"?{from:t,to:t}:t,i=et.atStart(r).from,a=et.atEnd(r).to,l=Ja(o,i,a),u=Ja(s,i,a),f=et.create(r,l,u);e.setSelection(f)}return!0},zse=t=>({state:e,dispatch:n})=>{const r=On(t,e.schema);return woe(r)(e,n)};function eM(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}const Bse=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:i}=e,{$from:a,$to:l}=s,u=o.extensionManager.attributes,f=Gp(u,a.node().type.name,a.node().attrs);if(s instanceof Ve&&s.node.isBlock)return!a.parentOffset||!Js(i,a.pos)?!1:(r&&(t&&eM(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=l.parentOffset===l.parent.content.size,g=a.depth===0?void 0:Tse(a.node(-1).contentMatchAt(a.indexAfter(-1)));let y=p&&g?[{type:g,attrs:f}]:void 0,b=Js(e.doc,e.mapping.map(a.pos),1,y);if(!y&&!b&&Js(e.doc,e.mapping.map(a.pos),1,g?[{type:g}]:void 0)&&(b=!0,y=g?[{type:g,attrs:f}]:void 0),r){if(b&&(s instanceof et&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,y),g&&!p&&!a.parentOffset&&a.parent.type!==g)){const w=e.mapping.map(a.before()),x=e.doc.resolve(w);a.node(-1).canReplaceWith(x.index(),x.index()+1,g)&&e.setNodeMarkup(e.mapping.map(a.before()),g)}t&&eM(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return b},Wse=(t,e={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var i;const a=On(t,r.schema),{$from:l,$to:u}=r.selection,f=r.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const p=l.node(-1);if(p.type!==a)return!1;const g=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let S=ve.empty;const C=l.index(-1)?1:l.index(-2)?2:3;for(let O=l.depth-C;O>=l.depth-3;O-=1)S=ve.from(l.node(O).copy(S));const E=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,N={...Gp(g,l.node().type.name,l.node().attrs),...e},T=((i=a.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(N))||void 0;S=S.append(ve.from(a.createAndFill(null,T)||void 0));const M=l.before(l.depth-(C-1));n.replace(M,l.after(-E),new Ae(S,4-C,0));let A=-1;n.doc.nodesBetween(M,n.doc.content.size,(O,L)=>{if(A>-1)return!1;O.isTextblock&&O.content.size===0&&(A=L+1)}),A>-1&&n.setSelection(et.near(n.doc.resolve(A))),n.scrollIntoView()}return!0}const y=u.pos===l.end()?p.contentMatchAt(0).defaultType:null,b={...Gp(g,p.type.name,p.attrs),...e},w={...Gp(g,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const x=y?[{type:a,attrs:b},{type:y,attrs:w}]:[{type:a,attrs:b}];if(!Js(n.doc,l.pos,2))return!1;if(o){const{selection:S,storedMarks:C}=r,{splittableMarks:E}=s.extensionManager,N=C||S.$to.parentOffset&&S.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!N||!o)return!0;const T=N.filter(M=>E.includes(M.type.name));n.ensureMarks(T)}return!0},J0=(t,e)=>{const n=IS(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Na(t.doc,n.pos)&&t.join(n.pos),!0},X0=(t,e)=>{const n=IS(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Na(t.doc,r)&&t.join(r),!0},Use=(t,e,n,r={})=>({editor:o,tr:s,state:i,dispatch:a,chain:l,commands:u,can:f})=>{const{extensions:p,splittableMarks:g}=o.extensionManager,y=On(t,i.schema),b=On(e,i.schema),{selection:w,storedMarks:x}=i,{$from:S,$to:C}=w,E=S.blockRange(C),N=x||w.$to.parentOffset&&w.$from.marks();if(!E)return!1;const T=IS(M=>ZR(M.type.name,p))(w);if(E.depth>=1&&T&&E.depth-T.depth<=1){if(T.node.type===y)return u.liftListItem(b);if(ZR(T.node.type.name,p)&&y.validContent(T.node.content)&&a)return l().command(()=>(s.setNodeMarkup(T.pos,y),!0)).command(()=>J0(s,y)).command(()=>X0(s,y)).run()}return!n||!N||!a?l().command(()=>f().wrapInList(y,r)?!0:u.clearNodes()).wrapInList(y,r).command(()=>J0(s,y)).command(()=>X0(s,y)).run():l().command(()=>{const M=f().wrapInList(y,r),A=N.filter(O=>g.includes(O.type.name));return s.ensureMarks(A),M?!0:u.clearNodes()}).wrapInList(y,r).command(()=>J0(s,y)).command(()=>X0(s,y)).run()},Hse=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,i=Ra(t,r.schema);return ob(r,i,e)?o.unsetMark(i,{extendEmptyMarkRange:s}):o.setMark(i,e)},Vse=(t,e,n={})=>({state:r,commands:o})=>{const s=On(t,r.schema),i=On(e,r.schema),a=ff(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(i,l):o.setNode(s,{...l,...n})},Gse=(t,e={})=>({state:n,commands:r})=>{const o=On(t,n.schema);return ff(n,o,e)?r.lift(o):r.wrapIn(o,e)},Kse=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(t))){if(e){const i=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)i.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else i.delete(s.from,s.to)}return!0}}return!1},qse=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Yse=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:i=!1}=e,{selection:a}=n,l=Ra(t,r.schema),{$from:u,empty:f,ranges:p}=a;if(!o)return!0;if(f&&i){let{from:g,to:y}=a;const b=(s=u.marks().find(x=>x.type===l))===null||s===void 0?void 0:s.attrs,w=OS(u,l,b);w&&(g=w.from,y=w.to),n.removeMark(g,y,l)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,l)});return n.removeStoredMark(l),!0},Jse=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=xy(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=On(t,r.schema)),a==="mark"&&(i=Ra(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,f=l.$to.pos;let p,g,y,b;n.selection.empty?r.doc.nodesBetween(u,f,(w,x)=>{s&&s===w.type&&(y=Math.max(x,u),b=Math.min(x+w.nodeSize,f),p=x,g=w)}):r.doc.nodesBetween(u,f,(w,x)=>{x<u&&s&&s===w.type&&(y=Math.max(x,u),b=Math.min(x+w.nodeSize,f),p=x,g=w),x>=u&&x<=f&&(s&&s===w.type&&n.setNodeMarkup(x,void 0,{...w.attrs,...e}),i&&w.marks.length&&w.marks.forEach(S=>{if(i===S.type){const C=Math.max(x,u),E=Math.min(x+w.nodeSize,f);n.addMark(C,E,i.create({...S.attrs,...e}))}}))}),g&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),i&&g.marks.length&&g.marks.forEach(w=>{i===w.type&&n.addMark(y,b,i.create({...w.attrs,...e}))}))}),!0):!1},Xse=(t,e={})=>({state:n,dispatch:r})=>{const o=On(t,n.schema);return hoe(o,e)(n,r)},Qse=(t,e={})=>({state:n,dispatch:r})=>{const o=On(t,n.schema);return poe(o,e)(n,r)};var Zse=Object.freeze({__proto__:null,blur:Loe,clearContent:Foe,clearNodes:$oe,command:zoe,createParagraphNear:Boe,cut:Woe,deleteCurrentNode:Uoe,deleteNode:Hoe,deleteRange:Voe,deleteSelection:Goe,enter:Koe,exitCode:qoe,extendMarkRange:Yoe,first:Joe,focus:Qoe,forEach:Zoe,insertContent:ese,insertContentAt:rse,joinBackward:ise,joinDown:sse,joinForward:ase,joinItemBackward:lse,joinItemForward:cse,joinTextblockBackward:use,joinTextblockForward:dse,joinUp:ose,keyboardShortcut:hse,lift:pse,liftEmptyBlock:mse,liftListItem:gse,newlineInCode:yse,resetAttributes:vse,scrollIntoView:xse,selectAll:wse,selectNodeBackward:bse,selectNodeForward:Sse,selectParentNode:Cse,selectTextblockEnd:Ese,selectTextblockStart:kse,setContent:Nse,setMark:Dse,setMeta:jse,setNode:Lse,setNodeSelection:Fse,setTextSelection:$se,sinkListItem:zse,splitBlock:Bse,splitListItem:Wse,toggleList:Use,toggleMark:Hse,toggleNode:Vse,toggleWrap:Gse,undoInputRule:Kse,unsetAllMarks:qse,unsetMark:Yse,updateAttributes:Jse,wrapIn:Xse,wrapInList:Qse});const eie=_n.create({name:"commands",addCommands(){return{...Zse}}}),tie=_n.create({name:"drop",addProseMirrorPlugins(){return[new xr({key:new ts("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),nie=_n.create({name:"editable",addProseMirrorPlugins(){return[new xr({key:new ts("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rie=new ts("focusEvents"),oie=_n.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new xr({key:rie,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),sie=_n.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:f,$anchor:p}=l,{pos:g,parent:y}=p,b=p.parent.isTextblock&&g>0?a.doc.resolve(g-1):p,w=b.parent.type.spec.isolating,x=p.pos-p.parentOffset,S=w&&b.parent.childCount===1?x===p.pos:dt.atStart(u).from===g;return!f||!y.type.isTextblock||y.textContent.length||!S||S&&p.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _S()||yF()?s:o},addProseMirrorPlugins(){return[new xr({key:new ts("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),o=t.some(w=>w.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:i,to:a}=e.selection,l=dt.atStart(e.doc).from,u=dt.atEnd(e.doc).to;if(s||!(i===l&&a===u)||!wy(n.doc))return;const g=n.tr,y=py({state:n,transaction:g}),{commands:b}=new my({editor:this.editor,state:y});if(b.clearNodes(),!!g.steps.length)return g}})]}}),iie=_n.create({name:"paste",addProseMirrorPlugins(){return[new xr({key:new ts("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),aie=_n.create({name:"tabindex",addProseMirrorPlugins(){return[new xr({key:new ts("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ua{get name(){return this.node.type.name}constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ua(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ua(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ua(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,i=this.pos+r+(s?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(i);if(!o&&a.depth<=this.depth)return;const l=new Ua(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),e.push(new Ua(a,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const s=o.node.attrs,i=Object.keys(n);for(let a=0;a<i.length;a+=1){const l=i[a];if(s[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(n);return this.children.forEach(i=>{r&&o.length>0||(i.node.type.name===e&&s.every(l=>n[l]===i.node.attrs[l])&&o.push(i),!(r&&o.length>0)&&(o=o.concat(i.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const lie=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function cie(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}class uie extends boe{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:o})=>this.options.onDrop(n,r,o)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=cie(lie,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=uF(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(i))}),n.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,n;const o=[...this.options.enableCoreExtensions?[nie,joe.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),eie,oie,sie,aie,tie,iie].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new vc(o,this)}createCommandManager(){this.commandManager=new my({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=rb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=rb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=mF(n,this.options.autofocus);this.view=new YL(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:yc.create({doc:n,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(i=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(i)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),s=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Pse(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return Ose(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return AS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return Mse(this.state.doc,{blockSeparator:n,textSerializers:{...fF(this.schema),...r}})}get isEmpty(){return wy(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ua(n,this)}get $doc(){return this.$pos(0)}}function eu(t){return new yy({find:t.find,handler:({state:e,range:n,match:r})=>{const o=mt(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=e,i=r[r.length-1],a=r[0];if(i){const l=a.search(/\S/),u=n.from+a.indexOf(i),f=u+i.length;if(xF(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(w=>w===t.type&&w!==y.mark.type)).filter(y=>y.to>u).length)return null;f<n.to&&s.delete(f,n.to),u>n.from&&s.delete(n.from+l,u);const g=n.from+l+i.length;s.addMark(n.from+l,g,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}function die(t){return new yy({find:t.find,handler:({state:e,range:n,match:r})=>{const o=mt(t.getAttributes,void 0,r)||{},{tr:s}=e,i=n.from;let a=n.to;const l=t.type.create(o);if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=i+u;f>a?f=a:a=f+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,i+r[0].length-1),s.replaceWith(f,a,l)}else if(r[0]){const u=t.type.isInline?i:i-1;s.insert(u,t.type.create(o)).delete(s.mapping.map(i),s.mapping.map(a))}s.scrollIntoView()}})}function sb(t){return new yy({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),s=mt(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function hf(t){return new yy({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const s=mt(t.getAttributes,void 0,r)||{},i=e.tr.delete(n.from,n.to),l=i.doc.resolve(n.from).blockRange(),u=l&&pS(l,t.type,s);if(!u)return null;if(i.wrap(l,u),t.keepMarks&&t.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:y}=t.editor.extensionManager,b=g||p.$to.parentOffset&&p.$from.marks();if(b){const w=b.filter(x=>y.includes(x.type.name));i.ensureMarks(w)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(p,s).run()}const f=i.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&Na(i.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&i.join(n.from-1)}})}let ns=class ib{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=mt(Fe(this,"addOptions",{name:this.name}))),this.storage=mt(Fe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ib(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ib(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=mt(Fe(n,"addOptions",{name:n.name})),n.storage=mt(Fe(n,"addStorage",{name:n.name,options:n.options})),n}};function tu(t){return new Aoe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const s=mt(t.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];let u=n.to;if(a){const f=l.search(/\S/),p=n.from+l.indexOf(a),g=p+a.length;if(xF(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(x=>x===t.type&&x!==b.mark.type)).filter(b=>b.to>p).length)return null;g<n.to&&i.delete(g,n.to),p>n.from&&i.delete(n.from+f,p),u=n.from+f+a.length,i.addMark(n.from+f,u,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function fie(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ve){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let o=r.depth;for(;o>=0;){const s=r.index(o);if(r.node(o).contentMatchAt(s).matchType(e))return!0;o-=1}return!1}function hie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wF={exports:{}},Q0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM;function pie(){if(tM)return Q0;tM=1;var t=ne;function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,s=t.useLayoutEffect,i=t.useDebugValue;function a(p,g){var y=g(),b=r({inst:{value:y,getSnapshot:g}}),w=b[0].inst,x=b[1];return s(function(){w.value=y,w.getSnapshot=g,l(w)&&x({inst:w})},[p,y,g]),o(function(){return l(w)&&x({inst:w}),p(function(){l(w)&&x({inst:w})})},[p]),i(y),y}function l(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!n(p,y)}catch{return!0}}function u(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Q0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Q0}wF.exports=pie();var DS=wF.exports;const mie=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},gie=({contentComponent:t})=>{const e=DS.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return ne.createElement(ne.Fragment,null,Object.values(e))};function yie(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:l1.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}class vie extends ne.Component{constructor(e){var n;super(e),this.editorContentRef=ne.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=yie(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:mie(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&ne.createElement(gie,{contentComponent:e.contentComponent}))}}const xie=m.forwardRef((t,e)=>{const n=ne.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ne.createElement(vie,{key:n,innerRef:e,...t})}),wie=ne.memo(xie);var bie=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],n.get(o[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(e[o]!==n[o])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!(i==="_owner"&&e.$$typeof)&&!t(e[i],n[i]))return!1}return!0}return e!==e&&n!==n},Sie=hie(bie),bF={exports:{}},Z0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nM;function Cie(){if(nM)return Z0;nM=1;var t=ne,e=DS;function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Z0.useSyncExternalStoreWithSelector=function(u,f,p,g,y){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=a(function(){function S(M){if(!C){if(C=!0,E=M,M=g(M),y!==void 0&&w.hasValue){var A=w.value;if(y(A,M))return N=A}return N=M}if(A=N,r(E,M))return A;var O=g(M);return y!==void 0&&y(A,O)?A:(E=M,N=O)}var C=!1,E,N,T=p===void 0?null:p;return[function(){return S(f())},T===null?void 0:function(){return S(T())}]},[f,p,g,y]);var x=o(u,b[0],b[1]);return i(function(){w.hasValue=!0,w.value=x},[x]),l(x),x},Z0}bF.exports=Cie();var Eie=bF.exports;const kie=typeof window<"u"?m.useLayoutEffect:m.useEffect;class Nie{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Tie(t){var e;const[n]=m.useState(()=>new Nie(t.editor)),r=Eie.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Sie);return kie(()=>n.watch(t.editor),[t.editor,n]),m.useDebugValue(r),r}const Rie=!1,ab=typeof window>"u",Mie=ab||!!(typeof window<"u"&&window.next);class jS{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?ab||Mie?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(o,...r)},onBlur:(...r)=>{var o,s;return(s=(o=this.options.current).onBlur)===null||s===void 0?void 0:s.call(o,...r)},onCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onCreate)===null||s===void 0?void 0:s.call(o,...r)},onDestroy:(...r)=>{var o,s;return(s=(o=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(o,...r)},onFocus:(...r)=>{var o,s;return(s=(o=this.options.current).onFocus)===null||s===void 0?void 0:s.call(o,...r)},onSelectionUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(o,...r)},onTransaction:(...r)=>{var o,s;return(s=(o=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(o,...r)},onUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(o,...r)},onContentError:(...r)=>{var o,s;return(s=(o=this.options.current).onContentError)===null||s===void 0?void 0:s.call(o,...r)},onDrop:(...r)=>{var o,s;return(s=(o=this.options.current).onDrop)===null||s===void 0?void 0:s.call(o,...r)},onPaste:(...r)=>{var o,s;return(s=(o=this.options.current).onPaste)===null||s===void 0?void 0:s.call(o,...r)}};return new uie(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((o,s)=>{var i;return o===((i=n.extensions)===null||i===void 0?void 0:i[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?jS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Aie(t={},e=[]){const n=m.useRef(t);n.current=t;const[r]=m.useState(()=>new jS(n)),o=DS.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return m.useDebugValue(o),m.useEffect(r.onRender(e)),Tie({editor:o,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),o}const Pie=m.createContext({editor:null});Pie.Consumer;const Oie=m.createContext({onDragStart:void 0}),_ie=()=>m.useContext(Oie);ne.forwardRef((t,e)=>{const{onDragStart:n}=_ie(),r=t.as||"div";return ne.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const Iie=/^\s*>\s$/,Die=ns.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[hf({find:Iie,type:this.type})]}}),jie=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Lie=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Fie=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,$ie=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,zie=ks.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[eu({find:jie,type:this.type}),eu({find:Fie,type:this.type})]},addPasteRules(){return[tu({find:Lie,type:this.type}),tu({find:$ie,type:this.type})]}}),Bie="listItem",rM="textStyle",oM=/^\s*([-+*])\s$/,Wie=ns.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Bie,this.editor.getAttributes(rM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=hf({find:oM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hf({find:oM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(rM),editor:this.editor})),[t]}}),Uie=/(^|[^`])`([^`]+)`(?!`)/,Hie=/(^|[^`])`([^`]+)`(?!`)/g,Vie=ks.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[eu({find:Uie,type:this.type})]},addPasteRules(){return[tu({find:Hie,type:this.type})]}}),Gie=/^```([a-z]+)?[\s\n]$/,Kie=/^~~~([a-z]+)?[\s\n]$/,qie=ns.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(i=>i.startsWith(n)).map(i=>i.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Hn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,i=r.parent.textContent.endsWith(`

`);return!s||!i?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection(dt.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[sb({find:Gie,type:this.type,getAttributes:t=>({language:t[1]})}),sb({find:Kie,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new xr({key:new ts("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=o==null?void 0:o.mode;if(!n||!s)return!1;const{tr:i,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:s},l)),i.selection.$from.parent.type!==this.type&&i.setSelection(et.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),t.dispatch(i),!0}}})]}}),Yie=ns.create({name:"doc",topNode:!0,content:"block+"});function Jie(t={}){return new xr({view(e){return new Xie(e,t)}})}class Xie{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=i=>{this[o](i)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,o=this.editorView.dom,s=o.getBoundingClientRect(),i=s.width/o.offsetWidth,a=s.height/o.offsetHeight;if(n){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let y=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(y){let b=y.getBoundingClientRect(),w=p?b.bottom:b.top;p&&g&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;r={left:b.left,right:b.right,top:w-x,bottom:w+x}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*i;r={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,f;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,f=-pageYOffset;else{let p=l.getBoundingClientRect(),g=p.width/l.offsetWidth,y=p.height/l.offsetHeight;u=p.left-l.scrollLeft*g,f=p.top-l.scrollTop*y}this.element.style.left=(r.left-u)/i+"px",this.element.style.top=(r.top-f)/a+"px",this.element.style.width=(r.right-r.left)/i+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!s){let i=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=cL(this.editorView.state.doc,i,this.editorView.dragging.slice);a!=null&&(i=a)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Qie=_n.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Jie(this.options)]}});class ln extends dt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ln.valid(r)?new ln(r):dt.near(r)}content(){return Ae.empty}eq(e){return e instanceof ln&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ln(e.resolve(n.pos))}getBookmark(){return new LS(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Zie(e)||!eae(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ln.valid(e))return e;let o=e.pos,s=null;for(let i=e.depth;;i--){let a=e.node(i);if(n>0?e.indexAfter(i)<a.childCount:e.index(i)>0){s=a.child(n>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;o+=n;let l=e.doc.resolve(o);if(ln.valid(l))return l}for(;;){let i=n>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!Ve.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*n),r=!1;continue e}break}s=i,o+=n;let a=e.doc.resolve(o);if(ln.valid(a))return a}return null}}}ln.prototype.visible=!1;ln.findFrom=ln.findGapCursorFrom;dt.jsonID("gapcursor",ln);class LS{constructor(e){this.pos=e}map(e){return new LS(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ln.valid(n)?new ln(n):dt.near(n)}}function Zie(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function eae(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function tae(){return new xr({props:{decorations:sae,createSelectionBetween(t,e,n){return e.pos==n.pos&&ln.valid(n)?new ln(n):null},handleClick:rae,handleKeyDown:nae,handleDOMEvents:{beforeinput:oae}}})}const nae=JL({ArrowLeft:xp("horiz",-1),ArrowRight:xp("horiz",1),ArrowUp:xp("vert",-1),ArrowDown:xp("vert",1)});function xp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,s){let i=r.selection,a=e>0?i.$to:i.$from,l=i.empty;if(i instanceof et){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=ln.findGapCursorFrom(a,e,l);return u?(o&&o(r.tr.setSelection(new ln(u))),!0):!1}}function rae(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ln.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Ve.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ln(r))),!0)}function oae(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ln))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=ve.empty;for(let i=r.length-1;i>=0;i--)o=ve.from(r[i].createAndFill(null,o));let s=t.state.tr.replace(n.pos,n.pos,new Ae(o,0,0));return s.setSelection(et.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function sae(t){if(!(t.selection instanceof ln))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",hn.create(t.doc,[Yr.widget(t.selection.head,e,{key:"gapcursor"})])}const iae=_n.create({name:"gapCursor",addProseMirrorPlugins(){return[tae()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=mt(Fe(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),aae=ns.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Hn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:s}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,l=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&l&&i){const p=l.filter(g=>a.includes(g.type.name));u.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),lae=ns.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Hn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>sb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var qm=200,An=function(){};An.prototype.append=function(e){return e.length?(e=An.from(e),!this.length&&e||e.length<qm&&this.leafAppend(e)||this.length<qm&&e.leafPrepend(this)||this.appendInner(e)):this};An.prototype.prepend=function(e){return e.length?An.from(e).append(this):this};An.prototype.appendInner=function(e){return new cae(this,e)};An.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?An.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};An.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};An.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};An.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,i){return o.push(e(s,i))},n,r),o};An.from=function(e){return e instanceof An?e:e&&e.length?new SF(e):An.empty};var SF=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,i,a){for(var l=s;l<i;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,i,a){for(var l=s-1;l>=i;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=qm)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=qm)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(An);An.empty=new SF([]);var cae=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,i){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(s,a),i)===!1||s>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,s)-a,i+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,i){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(s,a)-a,i+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(o,a),s,i)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(An);const uae=500;class Ho{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;n&&(o=this.remapping(r,this.items.length),s=o.maps.length);let i=e.tr,a,l,u=[],f=[];return this.items.forEach((p,g)=>{if(!p.step){o||(o=this.remapping(r,g+1),s=o.maps.length),s--,f.push(p);return}if(o){f.push(new us(p.map));let y=p.step.map(o.slice(s)),b;y&&i.maybeStep(y).doc&&(b=i.mapping.maps[i.mapping.maps.length-1],u.push(new us(b,void 0,void 0,u.length+f.length))),s--,b&&o.appendMap(b,s)}else i.maybeStep(p.step);if(p.selection)return a=o?p.selection.map(o.slice(s)):p.selection,l=new Ho(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:a}}addTransform(e,n,r,o){let s=[],i=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),g=new us(e.mapping.maps[f],p,n),y;(y=l&&l.merge(g))&&(g=y,f?s.pop():a=a.slice(0,a.length-1)),s.push(g),n&&(i++,n=void 0),o||(l=g)}let u=i-r.depth;return u>fae&&(a=dae(a,u),i-=u),new Ho(a.append(s),i)}remapping(e,n){let r=new sf;return this.items.forEach((o,s)=>{let i=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,i)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ho(this.items.append(e.map(n=>new us(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),s=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},o);let l=n;this.items.forEach(g=>{let y=s.getMirror(--l);if(y==null)return;i=Math.min(i,y);let b=s.maps[y];if(g.step){let w=e.steps[y].invert(e.docs[y]),x=g.selection&&g.selection.map(s.slice(l+1,y));x&&a++,r.push(new us(b,w,x))}else r.push(new us(b))},o);let u=[];for(let g=n;g<i;g++)u.push(new us(s.maps[g]));let f=this.items.slice(0,o).append(u).append(r),p=new Ho(f,a);return p.emptyItemCount()>uae&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],s=0;return this.items.forEach((i,a)=>{if(a>=e)o.push(i),i.selection&&s++;else if(i.step){let l=i.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let f=i.selection&&i.selection.map(n.slice(r));f&&s++;let p=new us(u.invert(),l,f),g,y=o.length-1;(g=o.length&&o[y].merge(p))?o[y]=g:o.push(p)}}else i.map&&r--},this.items.length,0),new Ho(An.from(o.reverse()),s)}}Ho.empty=new Ho(An.empty,0);function dae(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class us{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new us(n.getMap().invert(),n,this.selection)}}}class _i{constructor(e,n,r,o,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const fae=20;function hae(t,e,n,r){let o=n.getMeta(dl),s;if(o)return o.historyState;n.getMeta(gae)&&(t=new _i(t.done,t.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(i&&i.getMeta(dl))return i.getMeta(dl).redo?new _i(t.done.addTransform(n,void 0,r,Kp(e)),t.undone,sM(n.mapping.maps),t.prevTime,t.prevComposition):new _i(t.done,t.undone.addTransform(n,void 0,r,Kp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!i&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!pae(n,t.prevRanges)),u=i?ex(t.prevRanges,n.mapping):sM(n.mapping.maps);return new _i(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Kp(e)),Ho.empty,u,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new _i(t.done.rebased(n,s),t.undone.rebased(n,s),ex(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new _i(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ex(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function pae(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(n=!0)}),n}function sM(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,s,i)=>e.push(s,i));return e}function ex(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),s=e.map(t[r+1],-1);o<=s&&n.push(o,s)}return n}function mae(t,e,n){let r=Kp(e),o=dl.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let i=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,r),l=new _i(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(i).setMeta(dl,{redo:n,historyState:l})}let tx=!1,iM=null;function Kp(t){let e=t.plugins;if(iM!=e){tx=!1,iM=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){tx=!0;break}}return tx}const dl=new ts("history"),gae=new ts("closeHistory");function yae(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new xr({key:dl,state:{init(){return new _i(Ho.empty,Ho.empty,null,0,-1)},apply(e,n,r){return hae(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?EF:r=="historyRedo"?kF:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function CF(t,e){return(n,r)=>{let o=dl.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let s=mae(o,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const EF=CF(!1,!0),kF=CF(!0,!0),vae=_n.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>EF(t,e),redo:()=>({state:t,dispatch:e})=>kF(t,e)}},addProseMirrorPlugins(){return[yae(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),xae=ns.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Hn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!fie(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:o}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):_se(n)?s.insertContentAt(o.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:i,dispatch:a})=>{var l;if(a){const{$to:u}=i.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?i.setSelection(et.create(i.doc,u.pos+1)):u.nodeAfter.isBlock?i.setSelection(Ve.create(i.doc,u.pos)):i.setSelection(et.create(i.doc,u.pos));else{const p=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();p&&(i.insert(f,p),i.setSelection(et.create(i.doc,f+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[die({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),wae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,bae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Sae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Cae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Eae=ks.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[eu({find:wae,type:this.type}),eu({find:Sae,type:this.type})]},addPasteRules(){return[tu({find:bae,type:this.type}),tu({find:Cae,type:this.type})]}}),kae=ns.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Hn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Nae="listItem",aM="textStyle",lM=/^(\d+)\.\s$/,Tae=ns.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Hn(this.options.HTMLAttributes,n),0]:["ol",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Nae,this.editor.getAttributes(aM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=hf({find:lM,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hf({find:lM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(aM)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Rae=ns.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Mae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Aae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Pae=ks.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[eu({find:Mae,type:this.type})]},addPasteRules(){return[tu({find:Aae,type:this.type})]}}),Oae=ns.create({name:"text",group:"inline"}),_ae=_n.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(zie.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(Die.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(Wie.configure(this.options.bulletList)),this.options.code!==!1&&t.push(Vie.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(qie.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Yie.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Qie.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(iae.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(aae.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(lae.configure(this.options.heading)),this.options.history!==!1&&t.push(vae.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(xae.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Eae.configure(this.options.italic)),this.options.listItem!==!1&&t.push(kae.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(Tae.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Rae.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Pae.configure(this.options.strike)),this.options.text!==!1&&t.push(Oae.configure(this.options.text)),t}}),Iae=ks.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Dae=_n.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),jae=_n.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new xr({key:new ts("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((i,a)=>{const l=r>=a&&r<=a+i.nodeSize,u=!i.isLeaf&&wy(i);if((l||!this.options.showOnlyCurrent)&&u){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const p=Yr.node(a,a+i.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:a,hasAnchor:l}):this.options.placeholder});o.push(p)}return this.options.includeChildren}),hn.create(t,o)}}})]}}),Lae=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,o;const s=n.getAttribute("style"),i=(o=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||o===void 0?void 0:o.getAttribute("style");n.setAttribute("style",`${i};${s}`)})},Fae=ks.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Lae(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Hn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}});var NF="Toggle",FS=m.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...s}=t,[i,a]=Dr({prop:n,onChange:o,defaultProp:r??!1,caller:NF});return h.jsx(je.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:Ee(t.onClick,()=>{t.disabled||a(!i)})})});FS.displayName=NF;var TF=FS,Ma="ToggleGroup",[RF,cue]=jr(Ma,[Fg]),MF=Fg(),$S=ne.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const o=r;return h.jsx($ae,{...o,ref:e})}if(n==="multiple"){const o=r;return h.jsx(zae,{...o,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Ma}\``)});$S.displayName=Ma;var[AF,PF]=RF(Ma),$ae=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=t,[i,a]=Dr({prop:n,defaultProp:r??"",onChange:o,caller:Ma});return h.jsx(AF,{scope:t.__scopeToggleGroup,type:"single",value:ne.useMemo(()=>i?[i]:[],[i]),onItemActivate:a,onItemDeactivate:ne.useCallback(()=>a(""),[a]),children:h.jsx(OF,{...s,ref:e})})}),zae=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=t,[i,a]=Dr({prop:n,defaultProp:r??[],onChange:o,caller:Ma}),l=ne.useCallback(f=>a((p=[])=>[...p,f]),[a]),u=ne.useCallback(f=>a((p=[])=>p.filter(g=>g!==f)),[a]);return h.jsx(AF,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:u,children:h.jsx(OF,{...s,ref:e})})});$S.displayName=Ma;var[Bae,Wae]=RF(Ma),OF=ne.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=t,u=MF(n),f=_f(i),p={role:"group",dir:f,...l};return h.jsx(Bae,{scope:n,rovingFocus:o,disabled:r,children:o?h.jsx(pI,{asChild:!0,...u,orientation:s,dir:f,loop:a,children:h.jsx(je.div,{...p,ref:e})}):h.jsx(je.div,{...p,ref:e})})}),Ym="ToggleGroupItem",_F=ne.forwardRef((t,e)=>{const n=PF(Ym,t.__scopeToggleGroup),r=Wae(Ym,t.__scopeToggleGroup),o=MF(t.__scopeToggleGroup),s=n.value.includes(t.value),i=r.disabled||t.disabled,a={...t,pressed:s,disabled:i},l=ne.useRef(null);return r.rovingFocus?h.jsx(mI,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:h.jsx(cM,{...a,ref:e})}):h.jsx(cM,{...a,ref:e})});_F.displayName=Ym;var cM=ne.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...o}=t,s=PF(Ym,n),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return h.jsx(FS,{...a,...o,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),IF=$S,DF=_F;const jF=kf("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Uae=m.forwardRef(({className:t,variant:e,size:n,...r},o)=>h.jsx(TF,{ref:o,className:Te(jF({variant:e,size:n,className:t})),...r}));Uae.displayName=TF.displayName;const LF=m.createContext({size:"default",variant:"default"}),FF=m.forwardRef(({className:t,variant:e,size:n,children:r,...o},s)=>h.jsx(IF,{ref:s,className:Te("flex items-center justify-center gap-1",t),...o,children:h.jsx(LF.Provider,{value:{variant:e,size:n},children:r})}));FF.displayName=IF.displayName;const qp=m.forwardRef(({className:t,children:e,variant:n,size:r,...o},s)=>{const i=m.useContext(LF);return h.jsx(DF,{ref:s,className:Te(jF({variant:i.variant||n,size:i.size||r}),t),...o,children:e})});qp.displayName=DF.displayName;const Hae=({editor:t,className:e})=>{if(!t)return null;const n=()=>t.isActive("heading",{level:1})?"1":t.isActive("heading",{level:2})?"2":t.isActive("heading",{level:3})?"3":"paragraph",r=()=>t.isActive({textAlign:"left"})?"left":t.isActive({textAlign:"center"})?"center":t.isActive({textAlign:"right"})?"right":"left";return h.jsxs("div",{className:Te("flex items-center gap-1 p-2 border-b border-gray-200 bg-gray-50 overflow-x-auto","md:gap-2",e),children:[h.jsxs(Ea,{value:n(),onValueChange:o=>{const{from:s,to:i}=t.state.selection;if(s!==i){const l=t.state.doc.textBetween(s,i," ");if(o==="paragraph")t.chain().focus().deleteSelection().insertContent(`<p>${l}</p>`).run();else{const u=parseInt(o);t.chain().focus().deleteSelection().insertContent(`<h${u}>${l}</h${u}>`).run()}}else if(o==="paragraph")t.chain().focus().splitBlock().setParagraph().run();else{const l=parseInt(o);t.chain().focus().splitBlock().setHeading({level:l}).run()}},children:[h.jsxs(ai,{className:"w-20 md:w-24 h-8 text-xs",children:[h.jsx(JO,{className:"h-3 w-3 md:hidden"}),h.jsx(ka,{className:"hidden md:inline"})]}),h.jsxs(li,{children:[h.jsx(cn,{value:"paragraph",children:"Normal"}),h.jsx(cn,{value:"1",children:"H1"}),h.jsx(cn,{value:"2",children:"H2"}),h.jsx(cn,{value:"3",children:"H3"})]})]}),h.jsxs("div",{className:"flex gap-0 md:gap-1",children:[h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleBold().run(),className:Te("h-8 w-8 p-0",t.isActive("bold")&&"bg-accent text-accent-foreground"),children:h.jsx(VO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleItalic().run(),className:Te("h-8 w-8 p-0",t.isActive("italic")&&"bg-accent text-accent-foreground"),children:h.jsx(GO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleUnderline().run(),className:Te("h-8 w-8 p-0",t.isActive("underline")&&"bg-accent text-accent-foreground"),children:h.jsx(XO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleStrike().run(),className:Te("h-8 w-8 p-0",t.isActive("strike")&&"bg-accent text-accent-foreground"),children:h.jsx(M9,{className:"h-3 w-3 md:h-4 md:w-4"})})]}),h.jsx("div",{className:"h-6 w-px bg-gray-300 mx-1"}),h.jsxs(FF,{type:"single",value:r(),onValueChange:o=>{o&&t.chain().focus().setTextAlign(o).run()},className:"gap-0 md:gap-1",children:[h.jsx(qp,{value:"left",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(HO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(qp,{value:"center",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(UO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(qp,{value:"right",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(g9,{className:"h-3 w-3 md:h-4 md:w-4"})})]}),h.jsx("div",{className:"h-6 w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex gap-0 md:gap-1",children:[h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleBulletList().run(),className:Te("h-8 w-8 p-0",t.isActive("bulletList")&&"bg-accent text-accent-foreground"),children:h.jsx(qO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:Te("h-8 w-8 p-0",t.isActive("orderedList")&&"bg-accent text-accent-foreground"),children:h.jsx(KO,{className:"h-3 w-3 md:h-4 md:w-4"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>t.chain().focus().toggleBlockquote().run(),className:Te("h-8 w-8 p-0",t.isActive("blockquote")&&"bg-accent text-accent-foreground"),children:h.jsx(YO,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]})},Vae=1e3,nx=3,Gae=60*60*1e3,Kae=2e3,qae=({enabled:t,noteContent:e,noteCategory:n})=>{const[r,o]=m.useState([]),[s,i]=m.useState([]),[a,l]=m.useState(null),[u,f]=m.useState(!1),[p,g]=m.useState(null),[y,b]=m.useState(""),w=m.useRef(null),x=m.useRef(0),{token:S}=Zo(),C=m.useCallback(G=>{if(!G.trim())return"";const X=G.split(/[.!?]+/).filter(ee=>ee.trim().length>0).slice(-3).join(". ");return X.length>200?X.substring(X.length-200):X},[]),E=m.useCallback(G=>{if(!G.trim())return console.log(" Note AI: Disabled or empty content",{enabled:t,contentLength:G.length}),!1;const z=G.trim().split(/\s+/);if(console.log(" Note AI: Checking trigger conditions",{wordCount:z.length,minRequired:nx,content:G.substring(0,50)+"..."}),z.length<nx)return console.log(` Note AI: Not enough words (${z.length}/${nx})`),!1;if(C(G)===y)return!1;if(/[.!?]\s*$/.test(G.trim()))return console.log(" Note AI trigger: Sentence completion"),!0;if(/\n\s*\n\s*\w+/.test(G.slice(-50)))return console.log(" Note AI trigger: Paragraph break"),!0;const ee=Math.abs(G.length-y.length);return ee>20?(console.log(" Note AI trigger: New content length",ee),!0):(console.log(" Note AI trigger: Always responsive"),!0)},[t,C,y]),N=m.useCallback(G=>{try{const z=G.replace(/\s+/g," ").trim().split(" ").slice(-20).join(" "),X=`note-suggestions-${btoa(z).slice(-50)}-${n||"general"}`,ee=localStorage.getItem(X);if(ee){const{suggestions:oe,continuations:j,timestamp:_}=JSON.parse(ee);if(Date.now()-_<Gae)return console.log(" Found cached suggestions for context:",z.substring(0,50)),{suggestions:oe||[],continuations:j||[]}}}catch(z){console.warn("Failed to read note suggestion cache:",z)}return null},[n]),T=m.useCallback((G,z,X)=>{try{const ee=G.replace(/\s+/g," ").trim().split(" ").slice(-20).join(" "),oe=`note-suggestions-${btoa(ee).slice(-50)}-${n||"general"}`,j={suggestions:z,continuations:X,timestamp:Date.now()};localStorage.setItem(oe,JSON.stringify(j)),console.log(" Cached suggestions for context:",ee.substring(0,50))}catch(ee){console.warn("Failed to cache note suggestions:",ee)}},[n]),M=m.useCallback(G=>{var ee;const z=[],X=((ee=G.split(/[.!?]/).pop())==null?void 0:ee.trim())||"";return X.toLowerCase().includes("i need to")?z.push("remember to","focus on","make sure"):X.toLowerCase().includes("the main")?z.push("point is","goal is","issue is"):X.toLowerCase().includes("next step")&&z.push("is to","would be","should be"),n!=null&&n.toLowerCase().includes("meeting")?z.push("Action items:","Follow up on:","Next meeting:"):n!=null&&n.toLowerCase().includes("project")&&z.push("Timeline:","Resources needed:","Deliverables:"),z},[n]),A=m.useCallback(async(G=!1)=>{var oe;if(!S||!t)return;const z=C(e);if(!z||!E(e)){const j=M(e);o(j),l(j[0]||null);return}const X=N(z);if(X&&!G){console.log(" Using cached note suggestions for context:",z.substring(0,50)),o(X.suggestions),i(X.continuations),l(X.suggestions[0]||X.continuations[0]||null);return}const ee=Date.now();if(!G&&x.current&&ee-x.current<Kae){console.log(" Throttling AI call - too soon since last request");return}G&&console.log(" Force refreshing AI suggestions (bypassing throttle and cache)");try{f(!0),g(null),x.current=Date.now(),b(z);const _=await It.post("http://localhost:3001/api/note-suggestions",{context:z,category:n,requestTypes:["completion","continuation"]},{withCredentials:!0,headers:{Authorization:`Bearer ${S}`},timeout:1e4});if(_.data){const{suggestions:B=[],continuations:U=[]}=_.data;console.log(" Note AI suggestions received:",{suggestions:B.length,continuations:U.length,firstSuggestion:B[0]||U[0]||"none",apiResponse:_.data}),o(B),i(U),l(B[0]||U[0]||null),T(z,B,U)}}catch(j){console.error("Failed to fetch note AI suggestions:",j);const _=M(e);o(_),l(_[0]||null),((oe=j==null?void 0:j.response)==null?void 0:oe.status)===401?g("Session expired. Please log in again."):g("AI suggestions temporarily unavailable")}finally{f(!1)}},[S,t,e,n,C,E,N,T,M]),O=m.useCallback(()=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{A()},Vae)},[A]),L=m.useCallback(()=>{w.current&&clearTimeout(w.current),A()},[A]),F=m.useCallback(()=>{w.current&&clearTimeout(w.current),A(!0)},[A]),V=m.useCallback(()=>{console.log(" Clearing suggestions from React state"),o([]),i([]),l(null)},[]),H=m.useCallback((G,z)=>{if(console.log(" Note getSuggestionForInput:",{enabled:t,contentLength:G.length,cursorPosition:z,suggestionsCount:r.length,continuationsCount:s.length}),!G||z<G.length)return null;const X=[...r,...s];if(X.length>0){const ee=X[0];return console.log(" Note autocomplete suggestion:",ee),ee}return null},[t,r,s]);return m.useEffect(()=>(e&&O(),()=>{w.current&&clearTimeout(w.current)}),[t,e,O]),{suggestions:r,continuations:s,currentSuggestion:a,isLoading:u,error:p,triggerSuggestions:L,forceRefreshSuggestions:F,clearSuggestions:V,getSuggestionForInput:H,metrics:{lastTriggerContext:y,shouldTrigger:E(e),wordCount:e.trim().split(/\s+/).length,contextWindow:C(e)}}};function Bn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Yae(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const wp=43200,uM=1440;let Jae={};function Xae(){return Jae}function dM(t){const e=Bn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Yp(t,e){const n=Bn(t),r=Bn(e),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function Qae(t){return Yae(t,Date.now())}function Zae(t,e){const n=Bn(t),r=Bn(e),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function ele(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function tle(t,e){return+Bn(t)-+Bn(e)}function nle(t){const e=Bn(t);return e.setHours(23,59,59,999),e}function rle(t){const e=Bn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ole(t){const e=Bn(t);return+nle(e)==+rle(e)}function sle(t,e){const n=Bn(t),r=Bn(e),o=Yp(n,r),s=Math.abs(Zae(n,r));let i;if(s<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*s);let a=Yp(n,r)===-o;ole(Bn(t))&&s===1&&Yp(t,r)===1&&(a=!1),i=o*(s-Number(a))}return i===0?0:i}function ile(t,e,n){const r=tle(t,e)/1e3;return ele(n==null?void 0:n.roundingMethod)(r)}const ale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lle=(t,e,n)=>{let r;const o=ale[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function rx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ule={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fle={date:rx({formats:cle,defaultWidth:"full"}),time:rx({formats:ule,defaultWidth:"full"}),dateTime:rx({formats:dle,defaultWidth:"full"})},hle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ple=(t,e,n,r)=>hle[t];function Qu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;o=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[a]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return o[s]}}const mle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ble=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Sle={ordinalNumber:ble,era:Qu({values:mle,defaultWidth:"wide"}),quarter:Qu({values:gle,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qu({values:yle,defaultWidth:"wide"}),day:Qu({values:vle,defaultWidth:"wide"}),dayPeriod:Qu({values:xle,defaultWidth:"wide",formattingValues:wle,defaultFormattingWidth:"wide"})};function Zu(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(o);if(!s)return null;const i=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Ele(a,p=>p.test(i)):Cle(a,p=>p.test(i));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(i.length);return{value:u,rest:f}}}function Cle(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ele(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function kle(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const a=e.slice(o.length);return{value:i,rest:a}}}const Nle=/^(\d+)(th|st|nd|rd)?/i,Tle=/\d+/i,Rle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mle={any:[/^b/i,/^(a|c)/i]},Ale={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ple={any:[/1/i,/2/i,/3/i,/4/i]},Ole={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_le={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ile={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fle={ordinalNumber:kle({matchPattern:Nle,parsePattern:Tle,valueCallback:t=>parseInt(t,10)}),era:Zu({matchPatterns:Rle,defaultMatchWidth:"wide",parsePatterns:Mle,defaultParseWidth:"any"}),quarter:Zu({matchPatterns:Ale,defaultMatchWidth:"wide",parsePatterns:Ple,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zu({matchPatterns:Ole,defaultMatchWidth:"wide",parsePatterns:_le,defaultParseWidth:"any"}),day:Zu({matchPatterns:Ile,defaultMatchWidth:"wide",parsePatterns:Dle,defaultParseWidth:"any"}),dayPeriod:Zu({matchPatterns:jle,defaultMatchWidth:"any",parsePatterns:Lle,defaultParseWidth:"any"})},$le={code:"en-US",formatDistance:lle,formatLong:fle,formatRelative:ple,localize:Sle,match:Fle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zle(t,e,n){const r=Xae(),o=(n==null?void 0:n.locale)??r.locale??$le,s=2520,i=Yp(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,u;i>0?(l=Bn(e),u=Bn(t)):(l=Bn(t),u=Bn(e));const f=ile(u,l),p=(dM(u)-dM(l))/1e3,g=Math.round((f-p)/60);let y;if(g<2)return n!=null&&n.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,a):f<10?o.formatDistance("lessThanXSeconds",10,a):f<20?o.formatDistance("lessThanXSeconds",20,a):f<40?o.formatDistance("halfAMinute",0,a):f<60?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",1,a):g===0?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",g,a);if(g<45)return o.formatDistance("xMinutes",g,a);if(g<90)return o.formatDistance("aboutXHours",1,a);if(g<uM){const b=Math.round(g/60);return o.formatDistance("aboutXHours",b,a)}else{if(g<s)return o.formatDistance("xDays",1,a);if(g<wp){const b=Math.round(g/uM);return o.formatDistance("xDays",b,a)}else if(g<wp*2)return y=Math.round(g/wp),o.formatDistance("aboutXMonths",y,a)}if(y=sle(u,l),y<12){const b=Math.round(g/wp);return o.formatDistance("xMonths",b,a)}else{const b=y%12,w=Math.trunc(y/12);return b<3?o.formatDistance("aboutXYears",w,a):b<9?o.formatDistance("overXYears",w,a):o.formatDistance("almostXYears",w+1,a)}}function Ble(t,e){return zle(t,Qae(t),e)}function Wle(t){if(!t)return"Unknown";try{const e=t instanceof Date?t:new Date(t);return new Date().getTime()-e.getTime()<6e4?"Just now":Ble(e,{addSuffix:!0})}catch(e){return console.error("Error formatting relative time:",e),"Unknown"}}let Jt={suggestion:null,triggerSuggestions:null,setSuggestionDebounce:null,handleSave:null};const Ule=_n.create({name:"autocomplete",addKeyboardShortcuts(){return{Tab:()=>{console.log(" TipTap Extension: Tab key pressed!"),console.log(" TipTap Extension: Editor focus state:",this.editor.isFocused),console.log(" TipTap Extension: Local storage object:",JSON.stringify(this.storage,null,2)),console.log(" TipTap Extension: Global storage object:",JSON.stringify(Jt,null,2));const t=Jt.suggestion;if(console.log(" TipTap Extension: Current suggestion from global storage:",t==null?void 0:t.substring(0,30)),t){console.log(" TipTap Extension: Accepting suggestion with Tab:",t.substring(0,30)),Jt.suggestion=null,this.editor.commands.insertContent(t);const n=this.editor.getText().trim().split(/\s+/).filter(r=>r.length>0).length;return Jt.setSuggestionDebounce&&Jt.setSuggestionDebounce(n),!0}else console.log(" TipTap Extension: No suggestion available in global storage"),console.log(" TipTap Extension: Global storage state:",Jt);return!1},ArrowRight:()=>{const t=Jt.suggestion;if(t){console.log(" TipTap Extension: ArrowRight pressed with suggestion:",t.substring(0,30)),Jt.suggestion=null,this.editor.commands.insertContent(t);const n=this.editor.getText().trim().split(/\s+/).filter(r=>r.length>0).length;return Jt.setSuggestionDebounce&&Jt.setSuggestionDebounce(n),!0}return!1}}},addStorage(){return{autocomplete:null}},onBeforeCreate(){var e,n,r;const t=(e=this.storage.autocomplete)==null?void 0:e.suggestion;!this.storage.autocomplete||typeof this.storage.autocomplete!="object"?this.storage.autocomplete={suggestion:null,triggerSuggestions:()=>{},setSuggestionDebounce:()=>{},handleSave:()=>{}}:t&&(this.storage.autocomplete.suggestion=t),console.log(" TipTap Extension: onBeforeCreate called, preserving suggestion:",((r=(n=this.storage.autocomplete)==null?void 0:n.suggestion)==null?void 0:r.substring(0,30))||"null")},onCreate(){var t,e;console.log(" TipTap Extension: onCreate called, final storage:",((e=(t=this.storage.autocomplete)==null?void 0:t.suggestion)==null?void 0:e.substring(0,30))||"null")}}),Hle=({content:t,isEditingContent:e,editContent:n,setEditContent:r,setIsEditingContent:o,handleEditContent:s,noteCategory:i,noteColor:a="#FFFFE0",noteId:l,onAutoSave:u,updatedAt:f})=>{const p=m.useRef(null),g=m.useRef(null),[y,b]=m.useState(0),[w,x]=m.useState(!1),[S,C]=m.useState(!1),[E,N]=m.useState(!1),T=!0,M=Aie({extensions:[_ae.configure({paragraph:{HTMLAttributes:{class:"text-sm leading-relaxed"}},heading:{levels:[1,2,3],HTMLAttributes:{class:"font-semibold"}},bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},bulletList:{HTMLAttributes:{class:"list-disc list-inside"}},orderedList:{HTMLAttributes:{class:"list-decimal list-inside"}},listItem:{HTMLAttributes:{class:"ml-4"}},blockquote:{HTMLAttributes:{class:"border-l-4 border-gray-300 pl-4 italic text-gray-600"}}}),Iae.configure({HTMLAttributes:{class:"underline"}}),Dae.configure({types:["heading","paragraph"],alignments:["left","center","right"],defaultAlignment:"left"}),Fae,jae.configure({placeholder:"Start typing your note...",emptyEditorClass:"is-empty"}),Ule],content:"",editable:!0,immediatelyRender:!1,onUpdate:({editor:Q})=>{const Y=Q.getHTML();r(Y),e||(console.log(" Auto-enabling editing mode because content changed"),o(!0)),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{console.log(" Auto-saving rich note content..."),u(Y)},3e3)}});m.useEffect(()=>{const Q=Y=>{var ae,J;if(Y.key==="Tab"){console.log(" Global Tab Event:",{target:Y.target,tagName:(ae=Y.target)==null?void 0:ae.tagName,className:(J=Y.target)==null?void 0:J.className,editorFocused:M==null?void 0:M.isFocused,defaultPrevented:Y.defaultPrevented,timeStamp:Y.timeStamp});const ge=Jt.suggestion;if(ge&&!Y.defaultPrevented&&M){console.log(" Global fallback: Handling Tab with suggestion:",ge.substring(0,30)),Y.preventDefault(),Jt.suggestion=null,M.commands.insertContent(ge);const ie=M.getText().trim().split(/\s+/).filter(Re=>Re.length>0).length;Jt.setSuggestionDebounce&&Jt.setSuggestionDebounce(ie)}}};return document.addEventListener("keydown",Q,!0),()=>document.removeEventListener("keydown",Q,!0)},[M]),m.useEffect(()=>{if(!M)return;const Q=Y=>{if(!M.isFocused)return;if(navigator.platform.toUpperCase().indexOf("MAC")>=0?Y.metaKey:Y.ctrlKey)switch(Y.key.toLowerCase()){case"b":Y.preventDefault(),M.chain().focus().toggleBold().run();break;case"i":Y.preventDefault(),M.chain().focus().toggleItalic().run();break;case"u":Y.preventDefault(),M.chain().focus().toggleUnderline().run();break}};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[M]);const A=(M==null?void 0:M.getText())||"",O=(M==null?void 0:M.state.selection.anchor)||0,{suggestions:L,continuations:F,getSuggestionForInput:V,triggerSuggestions:H,forceRefreshSuggestions:G,clearSuggestions:z,currentSuggestion:X}=qae({enabled:T,noteContent:A,noteCategory:i});m.useEffect(()=>{if(M&&t!==void 0){const Q=M.getHTML();if(t&&t!=="<p></p>"&&t!==Q)if(!t.includes("<")&&!t.includes(">")){const Y=`<p>${t.replace(/\n/g,"</p><p>")}</p>`;M.commands.setContent(Y,!1),r(Y)}else M.commands.setContent(t,!1),r(t)}},[M,t,r]);const ee=A.trim().split(/\s+/).filter(Q=>Q.length>0).length,oe=ee-y,_=!w||oe>=3;m.useEffect(()=>{w&&_&&(console.log(" Debounce period ended, re-enabling suggestions"),x(!1))},[w,_]);const B=m.useCallback((Q,Y)=>{if(!Q)return Q;const ae=Y.trim(),J=/[.!?]\s*$/.test(ae),ge=!ae||J;let de=Q;return ge&&de.length>0?de=de.charAt(0).toUpperCase()+de.slice(1):!ge&&de.length>0&&(de=de.charAt(0).toLowerCase()+de.slice(1)),console.log(" Grammar fix:",{context:`"${ae.slice(-15)}"`,suggestion:`"${Q.substring(0,20)}"`,fixed:`"${de.substring(0,20)}"`,isStartOfSentence:ge,endsWithSentencePunctuation:J}),de},[]),U=_?V(A,A.length):null,D=U?B(U,A):null;console.log(" Tab Debug:",{shouldShowSuggestions:_,suggestionJustAccepted:S,rawSuggestion:U==null?void 0:U.substring(0,20),currentAutocomplete:D==null?void 0:D.substring(0,20),suggestionsAvailable:L.length,plainTextLength:A.length,willShowInline:e&&D&&T&&_&&!S&&A.trim().split(/\s+/).length>=3}),m.useEffect(()=>{M&&M.storage&&typeof M.storage.autocomplete=="object"&&(console.log(" Updating editor autocomplete storage:",{suggestion:D==null?void 0:D.substring(0,30),isEditingContent:e,willPassSuggestion:D!==null,finalSuggestion:(D==null?void 0:D.substring(0,30))||"null",storageExists:!!M.storage.autocomplete,editorReady:M.isEditable}),(()=>{var Y,ae,J,ge,de,ie;Jt.suggestion=D,Jt.triggerSuggestions=H,Jt.setSuggestionDebounce=Re=>{console.log(" Setting suggestion debounce after accepting suggestion, word count:",Re),b(Re),x(!0),C(!0);try{const be=[];for(let Oe=0;Oe<localStorage.length;Oe++){const Me=localStorage.key(Oe);Me&&Me.startsWith("note-suggestions-")&&be.push(Me)}be.forEach(Oe=>localStorage.removeItem(Oe)),console.log(" Cleared note suggestion cache after accepting suggestion")}catch(be){console.warn("Failed to clear note suggestion cache:",be)}console.log(" Clearing in-memory suggestions before refresh",{currentSuggestionsCount:L.length,currentContinuationsCount:F.length,currentSuggestion:X==null?void 0:X.substring(0,30)}),z&&z(),Jt.suggestion=null,G&&(console.log(" Force refreshing suggestions after cache clear"),setTimeout(()=>{G()},200)),setTimeout(()=>{C(!1)},100)},Jt.handleSave=()=>{p.current&&clearTimeout(p.current),s()},M&&M.storage&&M.storage.autocomplete&&(M.storage.autocomplete={suggestion:D,triggerSuggestions:H,setSuggestionDebounce:Jt.setSuggestionDebounce,handleSave:Jt.handleSave}),console.log(" Storage after update:",{globalSuggestion:((Y=Jt.suggestion)==null?void 0:Y.substring(0,30))||"null",localSuggestion:((ge=(J=(ae=M==null?void 0:M.storage)==null?void 0:ae.autocomplete)==null?void 0:J.suggestion)==null?void 0:ge.substring(0,30))||"null",hasGlobalStorage:!!Jt.suggestion,hasLocalStorage:!!((ie=(de=M==null?void 0:M.storage)==null?void 0:de.autocomplete)!=null&&ie.suggestion),isEditing:e,timestamp:Date.now()})})())},[M,D,H,s]),m.useEffect(()=>{var Q,Y;console.log(" Rich Note Autocomplete State:",{isEditingContent:e,aiEnabled:T,plainTextContent:A.substring(0,50)+(A.length>50?"...":""),cursorPosition:O,currentAutocomplete:(D==null?void 0:D.substring(0,30))+(D&&D.length>30?"...":""),suggestionsCount:L.length,continuationsCount:F.length,wordCount:ee,shouldShow:e&&D&&A.trim().split(/\s+/).length>=3,suggestionDebounceActive:w,lastAcceptedSuggestionLength:y,wordsAddedSinceLastSuggestion:oe,shouldShowSuggestions:_,firstSuggestion:(Q=L[0])==null?void 0:Q.substring(0,30),firstContinuation:(Y=F[0])==null?void 0:Y.substring(0,30)})},[e,T,A,O,D,L.length,F.length,L,F,w,y,_]),m.useEffect(()=>{N(e&&(L.length>0||F.length>0||X!==null))},[T,e,L.length,F.length,X]),m.useEffect(()=>{!e&&(L.length>0||D)&&(console.log(" Auto-enabling editing mode because suggestions are available"),o(!0),M&&M.commands.focus())},[T,e,L.length,D,M,o]);const Z=m.useCallback(Q=>{M&&(e||(console.log(" Enabling editing mode and focusing editor on click"),o(!0)),M.commands.focus())},[M,e,o]);return m.useEffect(()=>{if(!e)return;const Q=Y=>{const ae=M==null?void 0:M.view.dom,J=document.querySelector("[data-rich-text-toolbar]");ae&&!ae.contains(Y.target)&&(!J||!J.contains(Y.target))&&(p.current&&clearTimeout(p.current),s())};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[e,s,M]),M?h.jsxs("div",{className:"flex flex-col h-full","data-rich-text-editor":!0,tabIndex:-1,children:[h.jsx("div",{"data-rich-text-toolbar":!0,children:h.jsx(Hae,{editor:M})}),h.jsx("div",{className:"flex-1 relative cursor-text",onClick:Z,children:h.jsxs("div",{className:"relative",children:[h.jsx(wie,{editor:M,className:"prose prose-sm max-w-none h-full p-3 focus-within:outline-none cursor-text",style:{borderColor:a,minHeight:"120px"}}),e&&D&&T&&_&&!S&&A.trim().split(/\s+/).length>=3&&h.jsx("style",{children:`
                .ProseMirror p:last-child::after {
                  content: "${D.replace(/"/g,'\\"')}";
                  color: #9CA3AF;
                  font-style: italic;
                  opacity: 0.7;
                  pointer-events: none;
                }
              `}),h.jsx("div",{ref:g,className:"absolute opacity-0 pointer-events-none prose prose-sm max-w-none",style:{fontFamily:"inherit",fontSize:"14px",lineHeight:"20px",padding:"12px",whiteSpace:"pre-wrap",top:0,left:0},children:A})]})}),f&&h.jsx("div",{className:"mt-4 pt-3",style:{borderTop:`1px solid ${a}33`},children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:["Last edited: ",Wle(f)]}),h.jsx("div",{title:"AI-powered suggestions enabled",children:h.jsx(Hi,{className:"h-4 w-4",style:{color:a}})})]})})]}):h.jsx("div",{className:"p-4",children:"Loading editor..."})},Vle=({currentCategory:t,existingCategories:e,isEditingCategory:n,showNewCategoryInput:r,newCategory:o,setNewCategory:s,setIsEditingCategory:i,setShowNewCategoryInput:a,handleEditCategory:l,handleAddCustomCategory:u})=>h.jsx("div",{className:"mb-2 px-6",children:n?h.jsx("div",{className:"mb-2",children:r?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Zt,{value:o,onChange:f=>s(f.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:f=>{f.key==="Enter"&&u()}}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:u,className:"h-8 w-8 p-0",children:h.jsx(No,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>{a(!1),s("")},className:"h-8 w-8 p-0",children:h.jsx(ii,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsxs(Ea,{onValueChange:l,defaultValue:t,children:[h.jsx(ai,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx(ka,{placeholder:"Select a category"})}),h.jsxs(li,{children:[e.map(f=>h.jsx(cn,{value:f,style:{fontFamily:'"Raleway", sans-serif'},children:f},f)),h.jsx(cn,{value:"__custom__",className:"text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:"+ Add new category"})]})]}),h.jsx(ke,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!1),children:"Cancel"})]})}):h.jsx(tS,{variant:"outline",className:"cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!0),children:t&&t!==""?t:"Select a category"})}),$F=({note:t,onUpdate:e,onDelete:n,existingCategories:r,onCollapsibleChange:o,isCollapsed:s,onToggleCollapsed:i})=>{const{noteTitle:a,isCollapsibleOpen:l,setIsCollapsibleOpen:u,isEditing:f,setIsEditing:p,editTitle:g,setEditTitle:y,handleEditTitle:b,handleDeleteNote:w,handleSaveNoteColor:x,isSavingColor:S,isEditingCategory:C,setIsEditingCategory:E,showNewCategoryInput:N,setShowNewCategoryInput:T,newCategory:M,setNewCategory:A,handleEditCategory:O,handleAddCustomCategory:L,isEditingContent:F,setIsEditingContent:V,editContent:H,setEditContent:G,handleEditContent:z,titleEditRef:X,contentEditRef:ee}=gte({note:t,onUpdate:e,onDelete:n,isCollapsed:s,onToggleCollapsed:i});m.useEffect(()=>{if(!f)return;const U=D=>{X.current&&!X.current.contains(D.target)&&b()};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[f,b]);const{toast:oe}=To(),[j,_]=ne.useState(t.color_value||"#FFFFE0");ne.useEffect(()=>{_(t.color_value||"#FFFFE0")},[t.color_value]);const B=j;return ne.useEffect(()=>{console.log(" Note Color Debug:",{noteId:t.id,noteColorValue:t.color_value,currentColorPreview:j,noteDisplayColor:B,isEditingContent:F})},[t.id,t.color_value,j,B,F]),h.jsx(J1,{open:l,onOpenChange:U=>{i&&s!==void 0?!s!==U&&i():u(U),o==null||o(U)},className:"w-full",style:{"--note-color":B},children:h.jsxs(Yg,{className:"w-full shadow-sm h-full flex flex-col",style:{border:"none"},children:[h.jsx(Jg,{className:"pb-2",children:h.jsx("div",{className:"flex justify-between items-center",children:f?h.jsxs("div",{className:"flex gap-1 w-full",children:[h.jsx(Zt,{ref:X,value:g,onChange:U=>y(U.target.value),className:"h-8",autoFocus:!0,onKeyDown:U=>{U.key==="Enter"&&b()}}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:b,className:"h-8 w-8 p-0",children:h.jsx(No,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>p(!1),className:"h-8 w-8 p-0",children:h.jsx(ii,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(mu,{color:B,onChange:U=>{_(U)},onSave:async U=>{if(U!==(t.color_value||"#FFFFE0"))try{await x(U)}catch{oe({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),_(t.color_value||"#FFFFE0")}},children:h.jsxs(ke,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change note color",disabled:S,children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-gray-400 transition-colors duration-150",style:{backgroundColor:B}}),S&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 rounded-full",children:h.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),h.jsx(Tf,{className:"h-4 w-4 text-slate-500"}),h.jsx(Xg,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>p(!0),children:a})]}),h.jsxs("div",{className:"flex",children:[h.jsx(X1,{asChild:!0,children:h.jsx(ke,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(Ks,{className:Te("h-4 w-4 transition-transform",l?"":"transform rotate-180")})})}),h.jsxs(Hg,{children:[h.jsx(Vg,{asChild:!0,children:h.jsx(ke,{variant:"ghost",className:"h-8 w-8 p-0",children:h.jsx(g1,{className:"h-4 w-4"})})}),h.jsxs($f,{align:"end",children:[h.jsxs(ha,{onClick:()=>p(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Nf,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),h.jsxs(ha,{onClick:w,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Cg,{className:"mr-2 h-4 w-4"}),"Delete Note"]})]})]})]})]})})}),h.jsx(Vle,{currentCategory:t.category||"",existingCategories:r,isEditingCategory:C,showNewCategoryInput:N,newCategory:M,setNewCategory:A,setIsEditingCategory:E,setShowNewCategoryInput:T,handleEditCategory:O,handleAddCustomCategory:L}),h.jsx(Q1,{className:"flex-1",children:h.jsx("div",{className:"bg-white rounded-lg mx-6 mb-6 flex-1 flex flex-col",style:{border:`2px solid ${B} !important`,borderColor:`${B} !important`,height:`${Math.max(180,(t.height||300)-120)}px`,minWidth:"480px"},children:h.jsx(Hle,{content:t.content,isEditingContent:F,editContent:H,setEditContent:G,setIsEditingContent:V,handleEditContent:z,contentEditRef:ee,noteCategory:t.category,noteColor:B,noteId:t.id,onAutoSave:async U=>{await e(t.id,{content:U})},updatedAt:t.updated_at})})})]})})},Gle=({note:t,onPositionUpdate:e,onUpdate:n,onDelete:r,existingCategories:o,canvasTransform:s})=>{const[i,a]=m.useState(!1),[l,u]=m.useState(!1),[f,p]=m.useState(!1),[g,y]=m.useState({x:0,y:0}),[b,w]=m.useState({startX:0,startY:0,startWidth:0,startHeight:0}),x=m.useRef(null);m.useEffect(()=>{x.current&&(x.current.style.left=`${t.position_x}px`,x.current.style.top=`${t.position_y}px`)},[t.position_x,t.position_y]);const S=A=>{var L;if(!A.target.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle, .ProseMirror, [data-rich-text-editor], [data-rich-text-toolbar]')&&(A.preventDefault(),x.current)){const F=(L=x.current.parentElement)==null?void 0:L.getBoundingClientRect();if(F){const V=(A.clientX-F.left-s.x)/s.scale,H=(A.clientY-F.top-s.y)/s.scale,G=parseFloat(x.current.style.left)||0,z=parseFloat(x.current.style.top)||0;y({x:(V-G)*s.scale,y:(H-z)*s.scale}),a(!0)}}},C=A=>{var O;if(i&&x.current){const L=(O=x.current.parentElement)==null?void 0:O.getBoundingClientRect();if(!L)return;const F=(A.clientX-L.left-s.x)/s.scale,V=(A.clientY-L.top-s.y)/s.scale,H=F-g.x/s.scale,G=V-g.y/s.scale;x.current.style.left=`${H}px`,x.current.style.top=`${G}px`}if(l&&x.current){const L=A.clientX-b.startX,F=A.clientY-b.startY,V=L/s.scale,H=F/s.scale,G=Math.max(480,b.startWidth+V),z=Math.max(200,b.startHeight+H);x.current.style.width=`${G}px`,x.current.style.height=`${z}px`}},E=()=>{if(i&&x.current){a(!1);const A=parseFloat(x.current.style.left)||0,O=parseFloat(x.current.style.top)||0,L={x:Math.round(A),y:Math.round(O)};e(t.id,L)}if(l&&x.current){u(!1);const A=parseFloat(x.current.style.left)||0,O=parseFloat(x.current.style.top)||0,L=parseFloat(x.current.style.width)||t.width||200,F=parseFloat(x.current.style.height)||t.height||200,V={x:Math.round(A),y:Math.round(O)},H={width:Math.round(L),height:Math.round(F)};e(t.id,V,H)}};m.useEffect(()=>((i||l)&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",E)}),[i,l,g,b]);const N=A=>{if(A.preventDefault(),A.stopPropagation(),x.current){const O=parseFloat(x.current.style.width)||t.width||200,L=parseFloat(x.current.style.height)||t.height||200;w({startX:A.clientX,startY:A.clientY,startWidth:O,startHeight:L}),u(!0)}},T=async(A,O)=>{try{await n(A,O)}catch(L){console.error("Failed to update note:",L)}},M=async A=>{try{await r(A)}catch(O){console.error("Failed to delete note:",O)}};return h.jsxs("div",{ref:x,onMouseDown:S,className:"draggable-note-card shadow-lg rounded-lg flex flex-col overflow-hidden border border-gray-300 relative",style:{position:"absolute",width:`${t.width||520}px`,height:f?"auto":`${t.height||300}px`,zIndex:i||l?1e3:t.z_index||1,cursor:i?"grabbing":l?"nw-resize":"grab",transition:i||l?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:i||l?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:i||l?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[h.jsx($F,{note:t,onUpdate:T,onDelete:M,existingCategories:o,onCollapsibleChange:A=>p(!A)}),!f&&h.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize",onMouseDown:N,style:{background:"linear-gradient(-45deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6}})]})},Kle=({whiteboard:t,onUpdate:e,onDelete:n,isCollapsed:r,onToggleCollapsed:o})=>{const{toast:s}=To(),[i,a]=m.useState(!0),l=r!==void 0?!r:i,u=o||a,[f,p]=m.useState(!1),[g,y]=m.useState(t.title||"Untitled Whiteboard"),[b,w]=m.useState(!1),[x,S]=m.useState(!1),[C,E]=m.useState(!1),[N,T]=m.useState(""),M=m.useRef(null);ne.useEffect(()=>{y(t.title||"Untitled Whiteboard")},[t.title]);const A=m.useCallback(async()=>{g.trim()!==t.title&&await e(t.id,{title:g.trim()}),p(!1)},[g,t.title,t.id,e]),O=m.useCallback(async()=>{await n(t.id)},[t.id,n]),L=m.useCallback(async z=>{w(!0);try{await e(t.id,{color_value:z})}catch(X){throw console.error("Failed to save whiteboard color:",X),s({title:"Error updating color",description:"Could not update whiteboard color. Please try again.",variant:"destructive"}),X}finally{w(!1)}},[t.id,e,s]),F=m.useCallback(async z=>{if(z==="__custom__"){E(!0);return}try{await e(t.id,{category:z}),S(!1),E(!1)}catch(X){console.error("Failed to update whiteboard category:",X),s({title:"Error updating category",description:"Could not update whiteboard category. Please try again.",variant:"destructive"})}},[t.id,e,s]),V=m.useCallback(async()=>{if(N.trim()!=="")try{await e(t.id,{category:N.trim()}),S(!1),E(!1),T("")}catch(z){console.error("Failed to add custom category:",z),s({title:"Error adding category",description:"Could not add custom category. Please try again.",variant:"destructive"})}else s({title:"Category cannot be empty",description:"Please enter a valid category name",variant:"destructive"})},[N,t.id,e,s]),H=m.useCallback(z=>{console.log("Canvas changed:",z)},[]),G=m.useCallback(async z=>{try{console.log(" WhiteboardCardLogic: Saving canvas data:",{whiteboardId:t.id,pathCount:(z==null?void 0:z.length)||0,dataType:typeof z,isArray:Array.isArray(z),dataPreview:JSON.stringify(z).substring(0,200)}),await e(t.id,{canvas_data:z}),console.log(" WhiteboardCardLogic: Canvas save completed successfully")}catch(X){console.error("Failed to save canvas data:",X),s({title:"Error saving whiteboard",description:"Could not save your drawing. Please try again.",variant:"destructive"})}},[t.id,e,s]);return{whiteboardTitle:t.title||"Untitled Whiteboard",isCollapsibleOpen:l,setIsCollapsibleOpen:u,isEditing:f,setIsEditing:p,editTitle:g,setEditTitle:y,handleEditTitle:A,handleDeleteWhiteboard:O,handleSaveWhiteboardColor:L,isSavingColor:b,isEditingCategory:x,setIsEditingCategory:S,showNewCategoryInput:C,setShowNewCategoryInput:E,newCategory:N,setNewCategory:T,handleEditCategory:F,handleAddCustomCategory:V,handleCanvasChange:H,handleCanvasSave:G,titleEditRef:M}};function fM(t,e,n,r,o,s,i){try{var a=t[s](i),l=a.value}catch(u){n(u);return}a.done?e(l):Promise.resolve(l).then(r,o)}function qle(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var s=t.apply(e,n);function i(l){fM(s,r,o,i,a,"next",l)}function a(l){fM(s,r,o,i,a,"throw",l)}i(void 0)})}}function fl(){return fl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}var zF={exports:{}};(function(t){var e=function(n){var r=Object.prototype,o=r.hasOwnProperty,s,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function f(j,_,B){return Object.defineProperty(j,_,{value:B,enumerable:!0,configurable:!0,writable:!0}),j[_]}try{f({},"")}catch{f=function(_,B,U){return _[B]=U}}function p(j,_,B,U){var D=_&&_.prototype instanceof C?_:C,Z=Object.create(D.prototype),Q=new X(U||[]);return Z._invoke=V(j,B,Q),Z}n.wrap=p;function g(j,_,B){try{return{type:"normal",arg:j.call(_,B)}}catch(U){return{type:"throw",arg:U}}}var y="suspendedStart",b="suspendedYield",w="executing",x="completed",S={};function C(){}function E(){}function N(){}var T={};f(T,a,function(){return this});var M=Object.getPrototypeOf,A=M&&M(M(ee([])));A&&A!==r&&o.call(A,a)&&(T=A);var O=N.prototype=C.prototype=Object.create(T);E.prototype=N,f(O,"constructor",N),f(N,"constructor",E),E.displayName=f(N,u,"GeneratorFunction");function L(j){["next","throw","return"].forEach(function(_){f(j,_,function(B){return this._invoke(_,B)})})}n.isGeneratorFunction=function(j){var _=typeof j=="function"&&j.constructor;return _?_===E||(_.displayName||_.name)==="GeneratorFunction":!1},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,N):(j.__proto__=N,f(j,u,"GeneratorFunction")),j.prototype=Object.create(O),j},n.awrap=function(j){return{__await:j}};function F(j,_){function B(Z,Q,Y,ae){var J=g(j[Z],j,Q);if(J.type==="throw")ae(J.arg);else{var ge=J.arg,de=ge.value;return de&&typeof de=="object"&&o.call(de,"__await")?_.resolve(de.__await).then(function(ie){B("next",ie,Y,ae)},function(ie){B("throw",ie,Y,ae)}):_.resolve(de).then(function(ie){ge.value=ie,Y(ge)},function(ie){return B("throw",ie,Y,ae)})}}var U;function D(Z,Q){function Y(){return new _(function(ae,J){B(Z,Q,ae,J)})}return U=U?U.then(Y,Y):Y()}this._invoke=D}L(F.prototype),f(F.prototype,l,function(){return this}),n.AsyncIterator=F,n.async=function(j,_,B,U,D){D===void 0&&(D=Promise);var Z=new F(p(j,_,B,U),D);return n.isGeneratorFunction(_)?Z:Z.next().then(function(Q){return Q.done?Q.value:Z.next()})};function V(j,_,B){var U=y;return function(Z,Q){if(U===w)throw new Error("Generator is already running");if(U===x){if(Z==="throw")throw Q;return oe()}for(B.method=Z,B.arg=Q;;){var Y=B.delegate;if(Y){var ae=H(Y,B);if(ae){if(ae===S)continue;return ae}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(U===y)throw U=x,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);U=w;var J=g(j,_,B);if(J.type==="normal"){if(U=B.done?x:b,J.arg===S)continue;return{value:J.arg,done:B.done}}else J.type==="throw"&&(U=x,B.method="throw",B.arg=J.arg)}}}function H(j,_){var B=j.iterator[_.method];if(B===s){if(_.delegate=null,_.method==="throw"){if(j.iterator.return&&(_.method="return",_.arg=s,H(j,_),_.method==="throw"))return S;_.method="throw",_.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var U=g(B,j.iterator,_.arg);if(U.type==="throw")return _.method="throw",_.arg=U.arg,_.delegate=null,S;var D=U.arg;if(!D)return _.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,S;if(D.done)_[j.resultName]=D.value,_.next=j.nextLoc,_.method!=="return"&&(_.method="next",_.arg=s);else return D;return _.delegate=null,S}L(O),f(O,u,"Generator"),f(O,a,function(){return this}),f(O,"toString",function(){return"[object Generator]"});function G(j){var _={tryLoc:j[0]};1 in j&&(_.catchLoc=j[1]),2 in j&&(_.finallyLoc=j[2],_.afterLoc=j[3]),this.tryEntries.push(_)}function z(j){var _=j.completion||{};_.type="normal",delete _.arg,j.completion=_}function X(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(G,this),this.reset(!0)}n.keys=function(j){var _=[];for(var B in j)_.push(B);return _.reverse(),function U(){for(;_.length;){var D=_.pop();if(D in j)return U.value=D,U.done=!1,U}return U.done=!0,U}};function ee(j){if(j){var _=j[a];if(_)return _.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var B=-1,U=function D(){for(;++B<j.length;)if(o.call(j,B))return D.value=j[B],D.done=!1,D;return D.value=s,D.done=!0,D};return U.next=U}}return{next:oe}}n.values=ee;function oe(){return{value:s,done:!0}}return X.prototype={constructor:X,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(z),!j)for(var _ in this)_.charAt(0)==="t"&&o.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=s)},stop:function(){this.done=!0;var j=this.tryEntries[0],_=j.completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var _=this;function B(ae,J){return Z.type="throw",Z.arg=j,_.next=ae,J&&(_.method="next",_.arg=s),!!J}for(var U=this.tryEntries.length-1;U>=0;--U){var D=this.tryEntries[U],Z=D.completion;if(D.tryLoc==="root")return B("end");if(D.tryLoc<=this.prev){var Q=o.call(D,"catchLoc"),Y=o.call(D,"finallyLoc");if(Q&&Y){if(this.prev<D.catchLoc)return B(D.catchLoc,!0);if(this.prev<D.finallyLoc)return B(D.finallyLoc)}else if(Q){if(this.prev<D.catchLoc)return B(D.catchLoc,!0)}else if(Y){if(this.prev<D.finallyLoc)return B(D.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,_){for(var B=this.tryEntries.length-1;B>=0;--B){var U=this.tryEntries[B];if(U.tryLoc<=this.prev&&o.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var D=U;break}}D&&(j==="break"||j==="continue")&&D.tryLoc<=_&&_<=D.finallyLoc&&(D=null);var Z=D?D.completion:{};return Z.type=j,Z.arg=_,D?(this.method="next",this.next=D.finallyLoc,S):this.complete(Z)},complete:function(j,_){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&_&&(this.next=_),S},finish:function(j){for(var _=this.tryEntries.length-1;_>=0;--_){var B=this.tryEntries[_];if(B.finallyLoc===j)return this.complete(B.completion,B.afterLoc),z(B),S}},catch:function(j){for(var _=this.tryEntries.length-1;_>=0;--_){var B=this.tryEntries[_];if(B.tryLoc===j){var U=B.completion;if(U.type==="throw"){var D=U.arg;z(B)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(j,_,B){return this.delegate={iterator:ee(j),resultName:_,nextLoc:B},this.method==="next"&&(this.arg=s),S}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(zF);var hM=zF.exports,BF=function(e){var n=e.paths,r=e.id,o=e.strokeWidth,s=e.strokeColor,i=e.command,a=i===void 0?WF:i;if(n.length===1){var l=n[0],u=l.x,f=l.y,p=o/2;return m.createElement("circle",{key:r,id:r,cx:u,cy:f,r:p,stroke:s,fill:s})}var g=n.reduce(function(y,b,w,x){return w===0?"M "+b.x+","+b.y:y+" "+a(b,w,x)},"");return m.createElement("path",{key:r,id:r,d:g,fill:"none",strokeLinecap:"round",stroke:s,strokeWidth:o})},Yle=function(e,n){var r=n.x-e.x,o=n.y-e.y;return{length:Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),angle:Math.atan2(o,r)}},bp=function(e){var n=e.current,r=e.next,o=e.previous,s=e.reverse,i=o||n,a=r||n,l=.2,u=Yle(i,a),f=u.angle+(s?Math.PI:0),p=u.length*l,g=n.x+Math.cos(f)*p,y=n.y+Math.sin(f)*p;return[g,y]},WF=function(e,n,r){var o=null,s=null;switch(n){case 0:var i=bp({current:e});o=i[0],s=i[1];break;case 1:var a=bp({current:r[n-1],next:e});o=a[0],s=a[1];break;default:var l=bp({current:r[n-1],previous:r[n-2],next:e});o=l[0],s=l[1];break}var u=bp({current:e,previous:r[n-1],next:r[n+1],reverse:!0}),f=u[0],p=u[1];return"C "+o+","+s+" "+f+","+p+" "+e.x+", "+e.y},Jle=function(e){var n=e.id,r=e.paths;return m.createElement(m.Fragment,null,r.map(function(o,s){return m.createElement(BF,{key:n+"__"+s,paths:o.paths,id:n+"__"+s,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:WF})}))},pM=function(e){return new Promise(function(n,r){var o=new Image;o.addEventListener("load",function(){o.width>0&&n(o),r("Image not found")}),o.addEventListener("error",function(s){return r(s)}),o.src=e,o.setAttribute("crossorigin","anonymous")})};function mM(t){var e,n=(e=t.firstChild)==null?void 0:e.cloneNode(!0),r=t.offsetWidth,o=t.offsetHeight;return n.setAttribute("viewBox","0 0 "+r+" "+o),n.setAttribute("width",r.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:r,height:o}}var Xle=m.forwardRef(function(t,e){var n=t.paths,r=t.isDrawing,o=t.onPointerDown,s=t.onPointerMove,i=t.onPointerUp,a=t.id,l=a===void 0?"react-sketch-canvas":a,u=t.width,f=u===void 0?"100%":u,p=t.height,g=p===void 0?"100%":p,y=t.className,b=y===void 0?"react-sketch-canvas":y,w=t.canvasColor,x=w===void 0?"red":w,S=t.backgroundImage,C=S===void 0?"":S,E=t.exportWithBackgroundImage,N=E===void 0?!1:E,T=t.preserveBackgroundImageAspectRatio,M=T===void 0?"none":T,A=t.allowOnlyPointerType,O=A===void 0?"all":A,L=t.style,F=L===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:L,V=t.svgStyle,H=V===void 0?{}:V,G=m.useRef(null),z=function(D){var Z,Q,Y,ae=(Z=G.current)==null?void 0:Z.getBoundingClientRect(),J=(Q=window.scrollX)!=null?Q:0,ge=(Y=window.scrollY)!=null?Y:0;if(!ae)return{x:0,y:0};var de={x:D.pageX-ae.left-J,y:D.pageY-ae.top-ge};return de},X=function(D){if(!(O!=="all"&&D.pointerType!==O)&&!(D.pointerType==="mouse"&&D.button!==0)){var Z=z(D);o(Z)}},ee=function(D){if(r&&!(O!=="all"&&D.pointerType!==O)){var Z=z(D);s(Z)}},oe=function(D){D.pointerType==="mouse"&&D.button!==0||O!=="all"&&D.pointerType!==O||i()};m.useImperativeHandle(e,function(){return{exportImage:function(D){return new Promise(function(){var Z=qle(hM.mark(function Q(Y,ae){var J,ge,de,ie,Re,be,Oe,Me;return hM.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(Ge.prev=0,J=G.current,J){Ge.next=4;break}throw Error("Canvas not rendered yet");case 4:return ge=mM(J),de=ge.svgCanvas,ie=ge.width,Re=ge.height,be="data:image/svg+xml;base64,"+btoa(de.outerHTML),Ge.next=8,pM(be);case 8:if(Ge.t0=Ge.sent,Oe=[Ge.t0],!N){Ge.next=21;break}return Ge.prev=11,Ge.next=14,pM(C);case 14:Me=Ge.sent,Oe.push(Me),Ge.next=21;break;case 18:Ge.prev=18,Ge.t1=Ge.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(Oe).then(function(gt){var Ue=document.createElement("canvas");Ue.setAttribute("width",ie.toString()),Ue.setAttribute("height",Re.toString());var nt=Ue.getContext("2d");if(!nt)throw Error("Canvas not rendered yet");gt.reverse().forEach(function(Ke){nt.drawImage(Ke,0,0)}),Y(Ue.toDataURL("image/"+D))}).catch(function(gt){throw gt}),Ge.next=27;break;case 24:Ge.prev=24,Ge.t2=Ge.catch(0),ae(Ge.t2);case 27:case"end":return Ge.stop()}},Q,null,[[0,24],[11,18]])}));return function(Q,Y){return Z.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(D,Z){try{var Q,Y=(Q=G.current)!=null?Q:null;if(Y!==null){var ae,J,ge=mM(Y),de=ge.svgCanvas;if(N){D(de.outerHTML);return}(ae=de.querySelector("#"+l+"__background"))==null||ae.remove(),(J=de.querySelector("#"+l+"__canvas-background"))==null||J.setAttribute("fill",x),D(de.outerHTML)}Z(new Error("Canvas not loaded"))}catch(ie){Z(ie)}})}}}),m.useEffect(function(){return document.addEventListener("pointerup",oe),function(){document.removeEventListener("pointerup",oe)}},[oe]);var j=n.filter(function(U){return!U.drawMode}),_=0,B=n.reduce(function(U,D){return D.drawMode?(U[_]===void 0&&(U[_]=[]),U[_].push(D),U):(_+=1,U)},[[]]);return m.createElement("div",{role:"presentation",ref:G,className:b,style:fl({touchAction:"none",width:f,height:g},F),"touch-action":"none",onPointerDown:X,onPointerMove:ee,onPointerUp:oe},m.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:fl({width:"100%",height:"100%"},H),id:l},m.createElement("g",{id:l+"__eraser-stroke-group",display:"none"},m.createElement("rect",{id:l+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),j.map(function(U,D){return m.createElement(BF,{key:l+"__eraser-"+D,id:l+"__eraser-"+D,paths:U.paths,strokeColor:"#000000",strokeWidth:U.strokeWidth})})),m.createElement("defs",null,C&&m.createElement("pattern",{id:l+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},m.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:C,preserveAspectRatio:M})),j.map(function(U,D){return m.createElement("mask",{id:l+"__eraser-mask-"+D,key:l+"__eraser-mask-"+D,maskUnits:"userSpaceOnUse"},m.createElement("use",{href:"#"+l+"__mask-background"}),Array.from({length:j.length-D},function(Z,Q){return Q+D}).map(function(Z){return m.createElement("use",{key:Z.toString(),href:"#"+l+"__eraser-"+Z.toString()})}))})),m.createElement("g",{id:l+"__canvas-background-group"},m.createElement("rect",{id:l+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:C?"url(#"+l+"__background)":x})),B.map(function(U,D){return m.createElement("g",{id:l+"__stroke-group-"+D,key:l+"__stroke-group-"+D,mask:"url(#"+l+"__eraser-mask-"+D+")"},m.createElement(Jle,{id:l,paths:U}))})))}),Qle=m.forwardRef(function(t,e){var n=t.id,r=n===void 0?"react-sketch-canvas":n,o=t.width,s=o===void 0?"100%":o,i=t.height,a=i===void 0?"100%":i,l=t.className,u=l===void 0?"":l,f=t.canvasColor,p=f===void 0?"white":f,g=t.strokeColor,y=g===void 0?"red":g,b=t.backgroundImage,w=b===void 0?"":b,x=t.exportWithBackgroundImage,S=x===void 0?!1:x,C=t.preserveBackgroundImageAspectRatio,E=C===void 0?"none":C,N=t.strokeWidth,T=N===void 0?4:N,M=t.eraserWidth,A=M===void 0?8:M,O=t.allowOnlyPointerType,L=O===void 0?"all":O,F=t.style,V=F===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:F,H=t.svgStyle,G=H===void 0?{}:H,z=t.onChange,X=z===void 0?function(Ke){}:z,ee=t.onStroke,oe=ee===void 0?function(Ke,Be){}:ee,j=t.withTimestamp,_=j===void 0?!1:j,B=m.createRef(),U=m.useState(!0),D=U[0],Z=U[1],Q=m.useState(!1),Y=Q[0],ae=Q[1],J=m.useState([]),ge=J[0],de=J[1],ie=m.useState([]),Re=ie[0],be=ie[1],Oe=m.useState([]),Me=Oe[0],Ze=Oe[1],Ge=m.useCallback(function(){var Ke,Be,Xe=(Ke=(Be=Me.slice(-1))==null?void 0:Be[0])!=null?Ke:null;if(Xe===null){console.warn("No stroke found!");return}oe(Xe,!Xe.drawMode)},[Y]);m.useEffect(function(){Ge()},[Y]),m.useEffect(function(){X(Me)},[Me]),m.useImperativeHandle(e,function(){return{eraseMode:function(Be){Z(!Be)},clearCanvas:function(){de([].concat(Me)),Ze([])},undo:function(){if(ge.length!==0){Ze([].concat(ge)),de([]);return}be(function(Be){return[].concat(Be,Me.slice(-1))}),Ze(function(Be){return Be.slice(0,-1)})},redo:function(){Re.length!==0&&(Ze(function(Be){return[].concat(Be,Re.slice(-1))}),be(function(Be){return Be.slice(0,-1)}))},exportImage:function(Be){var Xe,yt=(Xe=B.current)==null?void 0:Xe.exportImage;if(yt)return yt(Be);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(Be,Xe){var yt,Dt=(yt=B.current)==null?void 0:yt.exportSvg;Dt?Dt().then(function(ue){Be(ue)}).catch(function(ue){Xe(ue)}):Xe(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(Be,Xe){try{Be(Me)}catch(yt){Xe(yt)}})},loadPaths:function(Be){Ze(function(Xe){return[].concat(Xe,Be)})},getSketchingTime:function(){return new Promise(function(Be,Xe){_||Xe(new Error("Set 'withTimestamp' prop to get sketching time"));try{var yt=Me.reduce(function(Dt,ue){var Pe,$e,ft=(Pe=ue.startTimestamp)!=null?Pe:0,re=($e=ue.endTimestamp)!=null?$e:0;return Dt+(re-ft)},0);Be(yt)}catch(Dt){Xe(Dt)}})},resetCanvas:function(){de([]),be([]),Ze([])}}});var gt=function(Be){ae(!0),be([]);var Xe={drawMode:D,strokeColor:D?y:"#000000",strokeWidth:D?T:A,paths:[Be]};_&&(Xe=fl({},Xe,{startTimestamp:Date.now(),endTimestamp:0})),Ze(function(yt){return[].concat(yt,[Xe])})},Ue=function(Be){if(Y){var Xe=Me.slice(-1)[0],yt=fl({},Xe,{paths:[].concat(Xe.paths,[Be])});Ze(function(Dt){return[].concat(Dt.slice(0,-1),[yt])})}},nt=function(){var Be,Xe;if(Y&&(ae(!1),!!_)){var yt=(Be=(Xe=Me.slice(-1))==null?void 0:Xe[0])!=null?Be:null;if(yt!==null){var Dt=fl({},yt,{endTimestamp:Date.now()});Ze(function(ue){return[].concat(ue.slice(0,-1),[Dt])})}}};return m.createElement(Xle,{ref:B,id:r,width:s,height:a,className:u,canvasColor:p,backgroundImage:w,exportWithBackgroundImage:S,preserveBackgroundImageAspectRatio:E,allowOnlyPointerType:L,style:V,svgStyle:G,paths:Me,isDrawing:Y,onPointerDown:gt,onPointerMove:Ue,onPointerUp:nt})}),UF=["PageUp","PageDown"],HF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],VF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bu="Slider",[lb,Zle,ece]=Cf(bu),[GF,uue]=jr(bu,[ece]),[tce,by]=GF(bu),KF=m.forwardRef((t,e)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:f,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:b,...w}=t,x=m.useRef(new Set),S=m.useRef(0),E=i==="horizontal"?nce:rce,[N=[],T]=Dr({prop:f,defaultProp:u,onChange:V=>{var G;(G=[...x.current][S.current])==null||G.focus(),p(V)}}),M=m.useRef(N);function A(V){const H=lce(N,V);F(V,H)}function O(V){F(V,S.current)}function L(){const V=M.current[S.current];N[S.current]!==V&&g(N)}function F(V,H,{commit:G}={commit:!1}){const z=fce(s),X=hce(Math.round((V-r)/s)*s+r,z),ee=Am(X,[r,o]);T((oe=[])=>{const j=ice(oe,ee,H);if(dce(j,l*s)){S.current=j.indexOf(ee);const _=String(j)!==String(oe);return _&&G&&g(j),_?j:oe}else return oe})}return h.jsx(tce,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:S,thumbs:x.current,values:N,orientation:i,form:b,children:h.jsx(lb.Provider,{scope:t.__scopeSlider,children:h.jsx(lb.Slot,{scope:t.__scopeSlider,children:h.jsx(E,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:e,onPointerDown:Ee(w.onPointerDown,()=>{a||(M.current=N)}),min:r,max:o,inverted:y,onSlideStart:a?void 0:A,onSlideMove:a?void 0:O,onSlideEnd:a?void 0:L,onHomeKeyDown:()=>!a&&F(r,0,{commit:!0}),onEndKeyDown:()=>!a&&F(o,N.length-1,{commit:!0}),onStepKeyDown:({event:V,direction:H})=>{if(!a){const X=UF.includes(V.key)||V.shiftKey&&HF.includes(V.key)?10:1,ee=S.current,oe=N[ee],j=s*X*H;F(oe+j,ee,{commit:!0})}}})})})})});KF.displayName=bu;var[qF,YF]=GF(bu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nce=m.forwardRef((t,e)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...f}=t,[p,g]=m.useState(null),y=at(e,E=>g(E)),b=m.useRef(void 0),w=_f(o),x=w==="ltr",S=x&&!s||!x&&s;function C(E){const N=b.current||p.getBoundingClientRect(),T=[0,N.width],A=zS(T,S?[n,r]:[r,n]);return b.current=N,A(E-N.left)}return h.jsx(qF,{scope:t.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:h.jsx(JF,{dir:w,"data-orientation":"horizontal",...f,ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const N=C(E.clientX);i==null||i(N)},onSlideMove:E=>{const N=C(E.clientX);a==null||a(N)},onSlideEnd:()=>{b.current=void 0,l==null||l()},onStepKeyDown:E=>{const T=VF[S?"from-left":"from-right"].includes(E.key);u==null||u({event:E,direction:T?-1:1})}})})}),rce=m.forwardRef((t,e)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...u}=t,f=m.useRef(null),p=at(e,f),g=m.useRef(void 0),y=!o;function b(w){const x=g.current||f.current.getBoundingClientRect(),S=[0,x.height],E=zS(S,y?[r,n]:[n,r]);return g.current=x,E(w-x.top)}return h.jsx(qF,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:h.jsx(JF,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const x=b(w.clientY);s==null||s(x)},onSlideMove:w=>{const x=b(w.clientY);i==null||i(x)},onSlideEnd:()=>{g.current=void 0,a==null||a()},onStepKeyDown:w=>{const S=VF[y?"from-bottom":"from-top"].includes(w.key);l==null||l({event:w,direction:S?-1:1})}})})}),JF=m.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...u}=t,f=by(bu,n);return h.jsx(je.span,{...u,ref:e,onKeyDown:Ee(t.onKeyDown,p=>{p.key==="Home"?(i(p),p.preventDefault()):p.key==="End"?(a(p),p.preventDefault()):UF.concat(HF).includes(p.key)&&(l(p),p.preventDefault())}),onPointerDown:Ee(t.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),f.thumbs.has(g)?g.focus():r(p)}),onPointerMove:Ee(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&o(p)}),onPointerUp:Ee(t.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),s(p))})})}),XF="SliderTrack",QF=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,o=by(XF,n);return h.jsx(je.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:e})});QF.displayName=XF;var cb="SliderRange",ZF=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,o=by(cb,n),s=YF(cb,n),i=m.useRef(null),a=at(e,i),l=o.values.length,u=o.values.map(g=>n4(g,o.min,o.max)),f=l>1?Math.min(...u):0,p=100-Math.max(...u);return h.jsx(je.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:p+"%"}})});ZF.displayName=cb;var ub="SliderThumb",e4=m.forwardRef((t,e)=>{const n=Zle(t.__scopeSlider),[r,o]=m.useState(null),s=at(e,a=>o(a)),i=m.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return h.jsx(oce,{...t,ref:s,index:i})}),oce=m.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:o,...s}=t,i=by(ub,n),a=YF(ub,n),[l,u]=m.useState(null),f=at(e,C=>u(C)),p=l?i.form||!!l.closest("form"):!0,g=k1(l),y=i.values[r],b=y===void 0?0:n4(y,i.min,i.max),w=ace(r,i.values.length),x=g==null?void 0:g[a.size],S=x?cce(x,b,a.direction):0;return m.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${b}% + ${S}px)`},children:[h.jsx(lb.ItemSlot,{scope:t.__scopeSlider,children:h.jsx(je.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:f,style:y===void 0?{display:"none"}:t.style,onFocus:Ee(t.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),p&&h.jsx(t4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});e4.displayName=ub;var sce="RadioBubbleInput",t4=m.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const o=m.useRef(null),s=at(o,r),i=Z1(e);return m.useEffect(()=>{const a=o.current;if(!a)return;const l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&f){const p=new Event("input",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[i,e]),h.jsx(je.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});t4.displayName=sce;function ice(t=[],e,n){const r=[...t];return r[n]=e,r.sort((o,s)=>o-s)}function n4(t,e,n){const s=100/(n-e)*(t-e);return Am(s,[0,100])}function ace(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function lce(t,e){if(t.length===1)return 0;const n=t.map(o=>Math.abs(o-e)),r=Math.min(...n);return n.indexOf(r)}function cce(t,e,n){const r=t/2,s=zS([0,50],[0,r]);return(r-s(e)*n)*n}function uce(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function dce(t,e){if(e>0){const n=uce(t);return Math.min(...n)>=e}return!0}function zS(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function fce(t){return(String(t).split(".")[1]||"").length}function hce(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var r4=KF,pce=QF,mce=ZF,gce=e4;const db=m.forwardRef(({className:t,...e},n)=>h.jsxs(r4,{ref:n,className:Te("relative flex w-full touch-none select-none items-center",t),...e,children:[h.jsx(pce,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:h.jsx(mce,{className:"absolute h-full bg-primary"})}),h.jsx(gce,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));db.displayName=r4.displayName;var Jm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Jm.exports;(function(t,e){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",p=1,g=2,y=4,b=1,w=2,x=1,S=2,C=4,E=8,N=16,T=32,M=64,A=128,O=256,L=512,F=30,V="...",H=800,G=16,z=1,X=2,ee=3,oe=1/0,j=9007199254740991,_=17976931348623157e292,B=NaN,U=4294967295,D=U-1,Z=U>>>1,Q=[["ary",A],["bind",x],["bindKey",S],["curry",E],["curryRight",N],["flip",L],["partial",T],["partialRight",M],["rearg",O]],Y="[object Arguments]",ae="[object Array]",J="[object AsyncFunction]",ge="[object Boolean]",de="[object Date]",ie="[object DOMException]",Re="[object Error]",be="[object Function]",Oe="[object GeneratorFunction]",Me="[object Map]",Ze="[object Number]",Ge="[object Null]",gt="[object Object]",Ue="[object Promise]",nt="[object Proxy]",Ke="[object RegExp]",Be="[object Set]",Xe="[object String]",yt="[object Symbol]",Dt="[object Undefined]",ue="[object WeakMap]",Pe="[object WeakSet]",$e="[object ArrayBuffer]",ft="[object DataView]",re="[object Float32Array]",Se="[object Float64Array]",Ce="[object Int8Array]",De="[object Int16Array]",Ct="[object Int32Array]",jt="[object Uint8Array]",wr="[object Uint8ClampedArray]",In="[object Uint16Array]",Ts="[object Uint32Array]",ci=/\b__p \+= '';/g,ui=/\b(__p \+=) '' \+/g,di=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fi=/&(?:amp|lt|gt|quot|#39);/g,Bt=/[&<>"']/g,Lt=RegExp(fi.source),yn=RegExp(Bt.source),He=/<%-([\s\S]+?)%>/g,Qe=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,Ft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tn=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nn=/[\\^$.*+?()[\]{}|]/g,ce=RegExp(nn.source),pe=/^\s+/,we=/\s/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,We=/\{\n\/\* \[wrapped with (.+)\] \*/,kt=/,? & /,rn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ro=/[()=,{}\[\]\/\s]/,Mo=/\\(\\)?/g,Sy=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Aa=/\w*$/,or=/^[-+]0x[0-9a-f]+$/i,Su=/^0b[01]+$/i,Il=/^\[object .+?Constructor\]$/,Cy=/^0o[0-7]+$/i,Ey=/^(?:0|[1-9]\d*)$/,s4=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yf=/($^)/,i4=/['\n\r\u2028\u2029\\]/g,Jf="\\ud800-\\udfff",a4="\\u0300-\\u036f",l4="\\ufe20-\\ufe2f",c4="\\u20d0-\\u20ff",BS=a4+l4+c4,WS="\\u2700-\\u27bf",US="a-z\\xdf-\\xf6\\xf8-\\xff",u4="\\xac\\xb1\\xd7\\xf7",d4="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f4="\\u2000-\\u206f",h4=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",HS="A-Z\\xc0-\\xd6\\xd8-\\xde",VS="\\ufe0e\\ufe0f",GS=u4+d4+f4+h4,ky="[']",p4="["+Jf+"]",KS="["+GS+"]",Xf="["+BS+"]",qS="\\d+",m4="["+WS+"]",YS="["+US+"]",JS="[^"+Jf+GS+qS+WS+US+HS+"]",Ny="\\ud83c[\\udffb-\\udfff]",g4="(?:"+Xf+"|"+Ny+")",XS="[^"+Jf+"]",Ty="(?:\\ud83c[\\udde6-\\uddff]){2}",Ry="[\\ud800-\\udbff][\\udc00-\\udfff]",Dl="["+HS+"]",QS="\\u200d",ZS="(?:"+YS+"|"+JS+")",y4="(?:"+Dl+"|"+JS+")",eC="(?:"+ky+"(?:d|ll|m|re|s|t|ve))?",tC="(?:"+ky+"(?:D|LL|M|RE|S|T|VE))?",nC=g4+"?",rC="["+VS+"]?",v4="(?:"+QS+"(?:"+[XS,Ty,Ry].join("|")+")"+rC+nC+")*",x4="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",w4="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",oC=rC+nC+v4,b4="(?:"+[m4,Ty,Ry].join("|")+")"+oC,S4="(?:"+[XS+Xf+"?",Xf,Ty,Ry,p4].join("|")+")",C4=RegExp(ky,"g"),E4=RegExp(Xf,"g"),My=RegExp(Ny+"(?="+Ny+")|"+S4+oC,"g"),k4=RegExp([Dl+"?"+YS+"+"+eC+"(?="+[KS,Dl,"$"].join("|")+")",y4+"+"+tC+"(?="+[KS,Dl+ZS,"$"].join("|")+")",Dl+"?"+ZS+"+"+eC,Dl+"+"+tC,w4,x4,qS,b4].join("|"),"g"),N4=RegExp("["+QS+Jf+BS+VS+"]"),T4=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,R4=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],M4=-1,Wt={};Wt[re]=Wt[Se]=Wt[Ce]=Wt[De]=Wt[Ct]=Wt[jt]=Wt[wr]=Wt[In]=Wt[Ts]=!0,Wt[Y]=Wt[ae]=Wt[$e]=Wt[ge]=Wt[ft]=Wt[de]=Wt[Re]=Wt[be]=Wt[Me]=Wt[Ze]=Wt[gt]=Wt[Ke]=Wt[Be]=Wt[Xe]=Wt[ue]=!1;var $t={};$t[Y]=$t[ae]=$t[$e]=$t[ft]=$t[ge]=$t[de]=$t[re]=$t[Se]=$t[Ce]=$t[De]=$t[Ct]=$t[Me]=$t[Ze]=$t[gt]=$t[Ke]=$t[Be]=$t[Xe]=$t[yt]=$t[jt]=$t[wr]=$t[In]=$t[Ts]=!0,$t[Re]=$t[be]=$t[ue]=!1;var A4={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},P4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O4={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_4={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},I4=parseFloat,D4=parseInt,sC=typeof Fu=="object"&&Fu&&Fu.Object===Object&&Fu,j4=typeof self=="object"&&self&&self.Object===Object&&self,Dn=sC||j4||Function("return this")(),Ay=e&&!e.nodeType&&e,Pa=Ay&&!0&&t&&!t.nodeType&&t,iC=Pa&&Pa.exports===Ay,Py=iC&&sC.process,ro=function(){try{var K=Pa&&Pa.require&&Pa.require("util").types;return K||Py&&Py.binding&&Py.binding("util")}catch{}}(),aC=ro&&ro.isArrayBuffer,lC=ro&&ro.isDate,cC=ro&&ro.isMap,uC=ro&&ro.isRegExp,dC=ro&&ro.isSet,fC=ro&&ro.isTypedArray;function $r(K,le,te){switch(te.length){case 0:return K.call(le);case 1:return K.call(le,te[0]);case 2:return K.call(le,te[0],te[1]);case 3:return K.call(le,te[0],te[1],te[2])}return K.apply(le,te)}function L4(K,le,te,_e){for(var tt=-1,Tt=K==null?0:K.length;++tt<Tt;){var vn=K[tt];le(_e,vn,te(vn),K)}return _e}function oo(K,le){for(var te=-1,_e=K==null?0:K.length;++te<_e&&le(K[te],te,K)!==!1;);return K}function F4(K,le){for(var te=K==null?0:K.length;te--&&le(K[te],te,K)!==!1;);return K}function hC(K,le){for(var te=-1,_e=K==null?0:K.length;++te<_e;)if(!le(K[te],te,K))return!1;return!0}function hi(K,le){for(var te=-1,_e=K==null?0:K.length,tt=0,Tt=[];++te<_e;){var vn=K[te];le(vn,te,K)&&(Tt[tt++]=vn)}return Tt}function Qf(K,le){var te=K==null?0:K.length;return!!te&&jl(K,le,0)>-1}function Oy(K,le,te){for(var _e=-1,tt=K==null?0:K.length;++_e<tt;)if(te(le,K[_e]))return!0;return!1}function Gt(K,le){for(var te=-1,_e=K==null?0:K.length,tt=Array(_e);++te<_e;)tt[te]=le(K[te],te,K);return tt}function pi(K,le){for(var te=-1,_e=le.length,tt=K.length;++te<_e;)K[tt+te]=le[te];return K}function _y(K,le,te,_e){var tt=-1,Tt=K==null?0:K.length;for(_e&&Tt&&(te=K[++tt]);++tt<Tt;)te=le(te,K[tt],tt,K);return te}function $4(K,le,te,_e){var tt=K==null?0:K.length;for(_e&&tt&&(te=K[--tt]);tt--;)te=le(te,K[tt],tt,K);return te}function Iy(K,le){for(var te=-1,_e=K==null?0:K.length;++te<_e;)if(le(K[te],te,K))return!0;return!1}var z4=Dy("length");function B4(K){return K.split("")}function W4(K){return K.match(rn)||[]}function pC(K,le,te){var _e;return te(K,function(tt,Tt,vn){if(le(tt,Tt,vn))return _e=Tt,!1}),_e}function Zf(K,le,te,_e){for(var tt=K.length,Tt=te+(_e?1:-1);_e?Tt--:++Tt<tt;)if(le(K[Tt],Tt,K))return Tt;return-1}function jl(K,le,te){return le===le?e3(K,le,te):Zf(K,mC,te)}function U4(K,le,te,_e){for(var tt=te-1,Tt=K.length;++tt<Tt;)if(_e(K[tt],le))return tt;return-1}function mC(K){return K!==K}function gC(K,le){var te=K==null?0:K.length;return te?Ly(K,le)/te:B}function Dy(K){return function(le){return le==null?n:le[K]}}function jy(K){return function(le){return K==null?n:K[le]}}function yC(K,le,te,_e,tt){return tt(K,function(Tt,vn,Ot){te=_e?(_e=!1,Tt):le(te,Tt,vn,Ot)}),te}function H4(K,le){var te=K.length;for(K.sort(le);te--;)K[te]=K[te].value;return K}function Ly(K,le){for(var te,_e=-1,tt=K.length;++_e<tt;){var Tt=le(K[_e]);Tt!==n&&(te=te===n?Tt:te+Tt)}return te}function Fy(K,le){for(var te=-1,_e=Array(K);++te<K;)_e[te]=le(te);return _e}function V4(K,le){return Gt(le,function(te){return[te,K[te]]})}function vC(K){return K&&K.slice(0,SC(K)+1).replace(pe,"")}function zr(K){return function(le){return K(le)}}function $y(K,le){return Gt(le,function(te){return K[te]})}function Cu(K,le){return K.has(le)}function xC(K,le){for(var te=-1,_e=K.length;++te<_e&&jl(le,K[te],0)>-1;);return te}function wC(K,le){for(var te=K.length;te--&&jl(le,K[te],0)>-1;);return te}function G4(K,le){for(var te=K.length,_e=0;te--;)K[te]===le&&++_e;return _e}var K4=jy(A4),q4=jy(P4);function Y4(K){return"\\"+_4[K]}function J4(K,le){return K==null?n:K[le]}function Ll(K){return N4.test(K)}function X4(K){return T4.test(K)}function Q4(K){for(var le,te=[];!(le=K.next()).done;)te.push(le.value);return te}function zy(K){var le=-1,te=Array(K.size);return K.forEach(function(_e,tt){te[++le]=[tt,_e]}),te}function bC(K,le){return function(te){return K(le(te))}}function mi(K,le){for(var te=-1,_e=K.length,tt=0,Tt=[];++te<_e;){var vn=K[te];(vn===le||vn===f)&&(K[te]=f,Tt[tt++]=te)}return Tt}function eh(K){var le=-1,te=Array(K.size);return K.forEach(function(_e){te[++le]=_e}),te}function Z4(K){var le=-1,te=Array(K.size);return K.forEach(function(_e){te[++le]=[_e,_e]}),te}function e3(K,le,te){for(var _e=te-1,tt=K.length;++_e<tt;)if(K[_e]===le)return _e;return-1}function t3(K,le,te){for(var _e=te+1;_e--;)if(K[_e]===le)return _e;return _e}function Fl(K){return Ll(K)?r3(K):z4(K)}function Ao(K){return Ll(K)?o3(K):B4(K)}function SC(K){for(var le=K.length;le--&&we.test(K.charAt(le)););return le}var n3=jy(O4);function r3(K){for(var le=My.lastIndex=0;My.test(K);)++le;return le}function o3(K){return K.match(My)||[]}function s3(K){return K.match(k4)||[]}var i3=function K(le){le=le==null?Dn:$l.defaults(Dn.Object(),le,$l.pick(Dn,R4));var te=le.Array,_e=le.Date,tt=le.Error,Tt=le.Function,vn=le.Math,Ot=le.Object,By=le.RegExp,a3=le.String,so=le.TypeError,th=te.prototype,l3=Tt.prototype,zl=Ot.prototype,nh=le["__core-js_shared__"],rh=l3.toString,At=zl.hasOwnProperty,c3=0,CC=function(){var c=/[^.]+$/.exec(nh&&nh.keys&&nh.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),oh=zl.toString,u3=rh.call(Ot),d3=Dn._,f3=By("^"+rh.call(At).replace(nn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sh=iC?le.Buffer:n,gi=le.Symbol,ih=le.Uint8Array,EC=sh?sh.allocUnsafe:n,ah=bC(Ot.getPrototypeOf,Ot),kC=Ot.create,NC=zl.propertyIsEnumerable,lh=th.splice,TC=gi?gi.isConcatSpreadable:n,Eu=gi?gi.iterator:n,Oa=gi?gi.toStringTag:n,ch=function(){try{var c=La(Ot,"defineProperty");return c({},"",{}),c}catch{}}(),h3=le.clearTimeout!==Dn.clearTimeout&&le.clearTimeout,p3=_e&&_e.now!==Dn.Date.now&&_e.now,m3=le.setTimeout!==Dn.setTimeout&&le.setTimeout,uh=vn.ceil,dh=vn.floor,Wy=Ot.getOwnPropertySymbols,g3=sh?sh.isBuffer:n,RC=le.isFinite,y3=th.join,v3=bC(Ot.keys,Ot),xn=vn.max,Gn=vn.min,x3=_e.now,w3=le.parseInt,MC=vn.random,b3=th.reverse,Uy=La(le,"DataView"),ku=La(le,"Map"),Hy=La(le,"Promise"),Bl=La(le,"Set"),Nu=La(le,"WeakMap"),Tu=La(Ot,"create"),fh=Nu&&new Nu,Wl={},S3=Fa(Uy),C3=Fa(ku),E3=Fa(Hy),k3=Fa(Bl),N3=Fa(Nu),hh=gi?gi.prototype:n,Ru=hh?hh.valueOf:n,AC=hh?hh.toString:n;function P(c){if(on(c)&&!ot(c)&&!(c instanceof wt)){if(c instanceof io)return c;if(At.call(c,"__wrapped__"))return PE(c)}return new io(c)}var Ul=function(){function c(){}return function(d){if(!Yt(d))return{};if(kC)return kC(d);c.prototype=d;var v=new c;return c.prototype=n,v}}();function ph(){}function io(c,d){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}P.templateSettings={escape:He,evaluate:Qe,interpolate:rt,variable:"",imports:{_:P}},P.prototype=ph.prototype,P.prototype.constructor=P,io.prototype=Ul(ph.prototype),io.prototype.constructor=io;function wt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function T3(){var c=new wt(this.__wrapped__);return c.__actions__=br(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=br(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=br(this.__views__),c}function R3(){if(this.__filtered__){var c=new wt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function M3(){var c=this.__wrapped__.value(),d=this.__dir__,v=ot(c),k=d<0,R=v?c.length:0,I=B$(0,R,this.__views__),$=I.start,W=I.end,q=W-$,he=k?W:$-1,me=this.__iteratees__,ye=me.length,Ne=0,ze=Gn(q,this.__takeCount__);if(!v||!k&&R==q&&ze==q)return eE(c,this.__actions__);var Ye=[];e:for(;q--&&Ne<ze;){he+=d;for(var ht=-1,Je=c[he];++ht<ye;){var vt=me[ht],bt=vt.iteratee,Ur=vt.type,ar=bt(Je);if(Ur==X)Je=ar;else if(!ar){if(Ur==z)continue e;break e}}Ye[Ne++]=Je}return Ye}wt.prototype=Ul(ph.prototype),wt.prototype.constructor=wt;function _a(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var k=c[d];this.set(k[0],k[1])}}function A3(){this.__data__=Tu?Tu(null):{},this.size=0}function P3(c){var d=this.has(c)&&delete this.__data__[c];return this.size-=d?1:0,d}function O3(c){var d=this.__data__;if(Tu){var v=d[c];return v===l?n:v}return At.call(d,c)?d[c]:n}function _3(c){var d=this.__data__;return Tu?d[c]!==n:At.call(d,c)}function I3(c,d){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=Tu&&d===n?l:d,this}_a.prototype.clear=A3,_a.prototype.delete=P3,_a.prototype.get=O3,_a.prototype.has=_3,_a.prototype.set=I3;function Rs(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var k=c[d];this.set(k[0],k[1])}}function D3(){this.__data__=[],this.size=0}function j3(c){var d=this.__data__,v=mh(d,c);if(v<0)return!1;var k=d.length-1;return v==k?d.pop():lh.call(d,v,1),--this.size,!0}function L3(c){var d=this.__data__,v=mh(d,c);return v<0?n:d[v][1]}function F3(c){return mh(this.__data__,c)>-1}function $3(c,d){var v=this.__data__,k=mh(v,c);return k<0?(++this.size,v.push([c,d])):v[k][1]=d,this}Rs.prototype.clear=D3,Rs.prototype.delete=j3,Rs.prototype.get=L3,Rs.prototype.has=F3,Rs.prototype.set=$3;function Ms(c){var d=-1,v=c==null?0:c.length;for(this.clear();++d<v;){var k=c[d];this.set(k[0],k[1])}}function z3(){this.size=0,this.__data__={hash:new _a,map:new(ku||Rs),string:new _a}}function B3(c){var d=Th(this,c).delete(c);return this.size-=d?1:0,d}function W3(c){return Th(this,c).get(c)}function U3(c){return Th(this,c).has(c)}function H3(c,d){var v=Th(this,c),k=v.size;return v.set(c,d),this.size+=v.size==k?0:1,this}Ms.prototype.clear=z3,Ms.prototype.delete=B3,Ms.prototype.get=W3,Ms.prototype.has=U3,Ms.prototype.set=H3;function Ia(c){var d=-1,v=c==null?0:c.length;for(this.__data__=new Ms;++d<v;)this.add(c[d])}function V3(c){return this.__data__.set(c,l),this}function G3(c){return this.__data__.has(c)}Ia.prototype.add=Ia.prototype.push=V3,Ia.prototype.has=G3;function Po(c){var d=this.__data__=new Rs(c);this.size=d.size}function K3(){this.__data__=new Rs,this.size=0}function q3(c){var d=this.__data__,v=d.delete(c);return this.size=d.size,v}function Y3(c){return this.__data__.get(c)}function J3(c){return this.__data__.has(c)}function X3(c,d){var v=this.__data__;if(v instanceof Rs){var k=v.__data__;if(!ku||k.length<o-1)return k.push([c,d]),this.size=++v.size,this;v=this.__data__=new Ms(k)}return v.set(c,d),this.size=v.size,this}Po.prototype.clear=K3,Po.prototype.delete=q3,Po.prototype.get=Y3,Po.prototype.has=J3,Po.prototype.set=X3;function PC(c,d){var v=ot(c),k=!v&&$a(c),R=!v&&!k&&bi(c),I=!v&&!k&&!R&&Kl(c),$=v||k||R||I,W=$?Fy(c.length,a3):[],q=W.length;for(var he in c)(d||At.call(c,he))&&!($&&(he=="length"||R&&(he=="offset"||he=="parent")||I&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||_s(he,q)))&&W.push(he);return W}function OC(c){var d=c.length;return d?c[tv(0,d-1)]:n}function Q3(c,d){return Rh(br(c),Da(d,0,c.length))}function Z3(c){return Rh(br(c))}function Vy(c,d,v){(v!==n&&!Oo(c[d],v)||v===n&&!(d in c))&&As(c,d,v)}function Mu(c,d,v){var k=c[d];(!(At.call(c,d)&&Oo(k,v))||v===n&&!(d in c))&&As(c,d,v)}function mh(c,d){for(var v=c.length;v--;)if(Oo(c[v][0],d))return v;return-1}function e$(c,d,v,k){return yi(c,function(R,I,$){d(k,R,v(R),$)}),k}function _C(c,d){return c&&ss(d,Cn(d),c)}function t$(c,d){return c&&ss(d,Cr(d),c)}function As(c,d,v){d=="__proto__"&&ch?ch(c,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):c[d]=v}function Gy(c,d){for(var v=-1,k=d.length,R=te(k),I=c==null;++v<k;)R[v]=I?n:Nv(c,d[v]);return R}function Da(c,d,v){return c===c&&(v!==n&&(c=c<=v?c:v),d!==n&&(c=c>=d?c:d)),c}function ao(c,d,v,k,R,I){var $,W=d&p,q=d&g,he=d&y;if(v&&($=R?v(c,k,R,I):v(c)),$!==n)return $;if(!Yt(c))return c;var me=ot(c);if(me){if($=U$(c),!W)return br(c,$)}else{var ye=Kn(c),Ne=ye==be||ye==Oe;if(bi(c))return rE(c,W);if(ye==gt||ye==Y||Ne&&!R){if($=q||Ne?{}:SE(c),!W)return q?O$(c,t$($,c)):P$(c,_C($,c))}else{if(!$t[ye])return R?c:{};$=H$(c,ye,W)}}I||(I=new Po);var ze=I.get(c);if(ze)return ze;I.set(c,$),XE(c)?c.forEach(function(Je){$.add(ao(Je,d,v,Je,c,I))}):YE(c)&&c.forEach(function(Je,vt){$.set(vt,ao(Je,d,v,vt,c,I))});var Ye=he?q?fv:dv:q?Cr:Cn,ht=me?n:Ye(c);return oo(ht||c,function(Je,vt){ht&&(vt=Je,Je=c[vt]),Mu($,vt,ao(Je,d,v,vt,c,I))}),$}function n$(c){var d=Cn(c);return function(v){return IC(v,c,d)}}function IC(c,d,v){var k=v.length;if(c==null)return!k;for(c=Ot(c);k--;){var R=v[k],I=d[R],$=c[R];if($===n&&!(R in c)||!I($))return!1}return!0}function DC(c,d,v){if(typeof c!="function")throw new so(i);return ju(function(){c.apply(n,v)},d)}function Au(c,d,v,k){var R=-1,I=Qf,$=!0,W=c.length,q=[],he=d.length;if(!W)return q;v&&(d=Gt(d,zr(v))),k?(I=Oy,$=!1):d.length>=o&&(I=Cu,$=!1,d=new Ia(d));e:for(;++R<W;){var me=c[R],ye=v==null?me:v(me);if(me=k||me!==0?me:0,$&&ye===ye){for(var Ne=he;Ne--;)if(d[Ne]===ye)continue e;q.push(me)}else I(d,ye,k)||q.push(me)}return q}var yi=lE(rs),jC=lE(qy,!0);function r$(c,d){var v=!0;return yi(c,function(k,R,I){return v=!!d(k,R,I),v}),v}function gh(c,d,v){for(var k=-1,R=c.length;++k<R;){var I=c[k],$=d(I);if($!=null&&(W===n?$===$&&!Wr($):v($,W)))var W=$,q=I}return q}function o$(c,d,v,k){var R=c.length;for(v=ct(v),v<0&&(v=-v>R?0:R+v),k=k===n||k>R?R:ct(k),k<0&&(k+=R),k=v>k?0:ZE(k);v<k;)c[v++]=d;return c}function LC(c,d){var v=[];return yi(c,function(k,R,I){d(k,R,I)&&v.push(k)}),v}function jn(c,d,v,k,R){var I=-1,$=c.length;for(v||(v=G$),R||(R=[]);++I<$;){var W=c[I];d>0&&v(W)?d>1?jn(W,d-1,v,k,R):pi(R,W):k||(R[R.length]=W)}return R}var Ky=cE(),FC=cE(!0);function rs(c,d){return c&&Ky(c,d,Cn)}function qy(c,d){return c&&FC(c,d,Cn)}function yh(c,d){return hi(d,function(v){return Is(c[v])})}function ja(c,d){d=xi(d,c);for(var v=0,k=d.length;c!=null&&v<k;)c=c[is(d[v++])];return v&&v==k?c:n}function $C(c,d,v){var k=d(c);return ot(c)?k:pi(k,v(c))}function sr(c){return c==null?c===n?Dt:Ge:Oa&&Oa in Ot(c)?z$(c):Z$(c)}function Yy(c,d){return c>d}function s$(c,d){return c!=null&&At.call(c,d)}function i$(c,d){return c!=null&&d in Ot(c)}function a$(c,d,v){return c>=Gn(d,v)&&c<xn(d,v)}function Jy(c,d,v){for(var k=v?Oy:Qf,R=c[0].length,I=c.length,$=I,W=te(I),q=1/0,he=[];$--;){var me=c[$];$&&d&&(me=Gt(me,zr(d))),q=Gn(me.length,q),W[$]=!v&&(d||R>=120&&me.length>=120)?new Ia($&&me):n}me=c[0];var ye=-1,Ne=W[0];e:for(;++ye<R&&he.length<q;){var ze=me[ye],Ye=d?d(ze):ze;if(ze=v||ze!==0?ze:0,!(Ne?Cu(Ne,Ye):k(he,Ye,v))){for($=I;--$;){var ht=W[$];if(!(ht?Cu(ht,Ye):k(c[$],Ye,v)))continue e}Ne&&Ne.push(Ye),he.push(ze)}}return he}function l$(c,d,v,k){return rs(c,function(R,I,$){d(k,v(R),I,$)}),k}function Pu(c,d,v){d=xi(d,c),c=NE(c,d);var k=c==null?c:c[is(co(d))];return k==null?n:$r(k,c,v)}function zC(c){return on(c)&&sr(c)==Y}function c$(c){return on(c)&&sr(c)==$e}function u$(c){return on(c)&&sr(c)==de}function Ou(c,d,v,k,R){return c===d?!0:c==null||d==null||!on(c)&&!on(d)?c!==c&&d!==d:d$(c,d,v,k,Ou,R)}function d$(c,d,v,k,R,I){var $=ot(c),W=ot(d),q=$?ae:Kn(c),he=W?ae:Kn(d);q=q==Y?gt:q,he=he==Y?gt:he;var me=q==gt,ye=he==gt,Ne=q==he;if(Ne&&bi(c)){if(!bi(d))return!1;$=!0,me=!1}if(Ne&&!me)return I||(I=new Po),$||Kl(c)?xE(c,d,v,k,R,I):F$(c,d,q,v,k,R,I);if(!(v&b)){var ze=me&&At.call(c,"__wrapped__"),Ye=ye&&At.call(d,"__wrapped__");if(ze||Ye){var ht=ze?c.value():c,Je=Ye?d.value():d;return I||(I=new Po),R(ht,Je,v,k,I)}}return Ne?(I||(I=new Po),$$(c,d,v,k,R,I)):!1}function f$(c){return on(c)&&Kn(c)==Me}function Xy(c,d,v,k){var R=v.length,I=R,$=!k;if(c==null)return!I;for(c=Ot(c);R--;){var W=v[R];if($&&W[2]?W[1]!==c[W[0]]:!(W[0]in c))return!1}for(;++R<I;){W=v[R];var q=W[0],he=c[q],me=W[1];if($&&W[2]){if(he===n&&!(q in c))return!1}else{var ye=new Po;if(k)var Ne=k(he,me,q,c,d,ye);if(!(Ne===n?Ou(me,he,b|w,k,ye):Ne))return!1}}return!0}function BC(c){if(!Yt(c)||q$(c))return!1;var d=Is(c)?f3:Il;return d.test(Fa(c))}function h$(c){return on(c)&&sr(c)==Ke}function p$(c){return on(c)&&Kn(c)==Be}function m$(c){return on(c)&&Ih(c.length)&&!!Wt[sr(c)]}function WC(c){return typeof c=="function"?c:c==null?Er:typeof c=="object"?ot(c)?VC(c[0],c[1]):HC(c):uk(c)}function Qy(c){if(!Du(c))return v3(c);var d=[];for(var v in Ot(c))At.call(c,v)&&v!="constructor"&&d.push(v);return d}function g$(c){if(!Yt(c))return Q$(c);var d=Du(c),v=[];for(var k in c)k=="constructor"&&(d||!At.call(c,k))||v.push(k);return v}function Zy(c,d){return c<d}function UC(c,d){var v=-1,k=Sr(c)?te(c.length):[];return yi(c,function(R,I,$){k[++v]=d(R,I,$)}),k}function HC(c){var d=pv(c);return d.length==1&&d[0][2]?EE(d[0][0],d[0][1]):function(v){return v===c||Xy(v,c,d)}}function VC(c,d){return gv(c)&&CE(d)?EE(is(c),d):function(v){var k=Nv(v,c);return k===n&&k===d?Tv(v,c):Ou(d,k,b|w)}}function vh(c,d,v,k,R){c!==d&&Ky(d,function(I,$){if(R||(R=new Po),Yt(I))y$(c,d,$,v,vh,k,R);else{var W=k?k(vv(c,$),I,$+"",c,d,R):n;W===n&&(W=I),Vy(c,$,W)}},Cr)}function y$(c,d,v,k,R,I,$){var W=vv(c,v),q=vv(d,v),he=$.get(q);if(he){Vy(c,v,he);return}var me=I?I(W,q,v+"",c,d,$):n,ye=me===n;if(ye){var Ne=ot(q),ze=!Ne&&bi(q),Ye=!Ne&&!ze&&Kl(q);me=q,Ne||ze||Ye?ot(W)?me=W:un(W)?me=br(W):ze?(ye=!1,me=rE(q,!0)):Ye?(ye=!1,me=oE(q,!0)):me=[]:Lu(q)||$a(q)?(me=W,$a(W)?me=ek(W):(!Yt(W)||Is(W))&&(me=SE(q))):ye=!1}ye&&($.set(q,me),R(me,q,k,I,$),$.delete(q)),Vy(c,v,me)}function GC(c,d){var v=c.length;if(v)return d+=d<0?v:0,_s(d,v)?c[d]:n}function KC(c,d,v){d.length?d=Gt(d,function(I){return ot(I)?function($){return ja($,I.length===1?I[0]:I)}:I}):d=[Er];var k=-1;d=Gt(d,zr(qe()));var R=UC(c,function(I,$,W){var q=Gt(d,function(he){return he(I)});return{criteria:q,index:++k,value:I}});return H4(R,function(I,$){return A$(I,$,v)})}function v$(c,d){return qC(c,d,function(v,k){return Tv(c,k)})}function qC(c,d,v){for(var k=-1,R=d.length,I={};++k<R;){var $=d[k],W=ja(c,$);v(W,$)&&_u(I,xi($,c),W)}return I}function x$(c){return function(d){return ja(d,c)}}function ev(c,d,v,k){var R=k?U4:jl,I=-1,$=d.length,W=c;for(c===d&&(d=br(d)),v&&(W=Gt(c,zr(v)));++I<$;)for(var q=0,he=d[I],me=v?v(he):he;(q=R(W,me,q,k))>-1;)W!==c&&lh.call(W,q,1),lh.call(c,q,1);return c}function YC(c,d){for(var v=c?d.length:0,k=v-1;v--;){var R=d[v];if(v==k||R!==I){var I=R;_s(R)?lh.call(c,R,1):ov(c,R)}}return c}function tv(c,d){return c+dh(MC()*(d-c+1))}function w$(c,d,v,k){for(var R=-1,I=xn(uh((d-c)/(v||1)),0),$=te(I);I--;)$[k?I:++R]=c,c+=v;return $}function nv(c,d){var v="";if(!c||d<1||d>j)return v;do d%2&&(v+=c),d=dh(d/2),d&&(c+=c);while(d);return v}function pt(c,d){return xv(kE(c,d,Er),c+"")}function b$(c){return OC(ql(c))}function S$(c,d){var v=ql(c);return Rh(v,Da(d,0,v.length))}function _u(c,d,v,k){if(!Yt(c))return c;d=xi(d,c);for(var R=-1,I=d.length,$=I-1,W=c;W!=null&&++R<I;){var q=is(d[R]),he=v;if(q==="__proto__"||q==="constructor"||q==="prototype")return c;if(R!=$){var me=W[q];he=k?k(me,q,W):n,he===n&&(he=Yt(me)?me:_s(d[R+1])?[]:{})}Mu(W,q,he),W=W[q]}return c}var JC=fh?function(c,d){return fh.set(c,d),c}:Er,C$=ch?function(c,d){return ch(c,"toString",{configurable:!0,enumerable:!1,value:Mv(d),writable:!0})}:Er;function E$(c){return Rh(ql(c))}function lo(c,d,v){var k=-1,R=c.length;d<0&&(d=-d>R?0:R+d),v=v>R?R:v,v<0&&(v+=R),R=d>v?0:v-d>>>0,d>>>=0;for(var I=te(R);++k<R;)I[k]=c[k+d];return I}function k$(c,d){var v;return yi(c,function(k,R,I){return v=d(k,R,I),!v}),!!v}function xh(c,d,v){var k=0,R=c==null?k:c.length;if(typeof d=="number"&&d===d&&R<=Z){for(;k<R;){var I=k+R>>>1,$=c[I];$!==null&&!Wr($)&&(v?$<=d:$<d)?k=I+1:R=I}return R}return rv(c,d,Er,v)}function rv(c,d,v,k){var R=0,I=c==null?0:c.length;if(I===0)return 0;d=v(d);for(var $=d!==d,W=d===null,q=Wr(d),he=d===n;R<I;){var me=dh((R+I)/2),ye=v(c[me]),Ne=ye!==n,ze=ye===null,Ye=ye===ye,ht=Wr(ye);if($)var Je=k||Ye;else he?Je=Ye&&(k||Ne):W?Je=Ye&&Ne&&(k||!ze):q?Je=Ye&&Ne&&!ze&&(k||!ht):ze||ht?Je=!1:Je=k?ye<=d:ye<d;Je?R=me+1:I=me}return Gn(I,D)}function XC(c,d){for(var v=-1,k=c.length,R=0,I=[];++v<k;){var $=c[v],W=d?d($):$;if(!v||!Oo(W,q)){var q=W;I[R++]=$===0?0:$}}return I}function QC(c){return typeof c=="number"?c:Wr(c)?B:+c}function Br(c){if(typeof c=="string")return c;if(ot(c))return Gt(c,Br)+"";if(Wr(c))return AC?AC.call(c):"";var d=c+"";return d=="0"&&1/c==-oe?"-0":d}function vi(c,d,v){var k=-1,R=Qf,I=c.length,$=!0,W=[],q=W;if(v)$=!1,R=Oy;else if(I>=o){var he=d?null:j$(c);if(he)return eh(he);$=!1,R=Cu,q=new Ia}else q=d?[]:W;e:for(;++k<I;){var me=c[k],ye=d?d(me):me;if(me=v||me!==0?me:0,$&&ye===ye){for(var Ne=q.length;Ne--;)if(q[Ne]===ye)continue e;d&&q.push(ye),W.push(me)}else R(q,ye,v)||(q!==W&&q.push(ye),W.push(me))}return W}function ov(c,d){return d=xi(d,c),c=NE(c,d),c==null||delete c[is(co(d))]}function ZC(c,d,v,k){return _u(c,d,v(ja(c,d)),k)}function wh(c,d,v,k){for(var R=c.length,I=k?R:-1;(k?I--:++I<R)&&d(c[I],I,c););return v?lo(c,k?0:I,k?I+1:R):lo(c,k?I+1:0,k?R:I)}function eE(c,d){var v=c;return v instanceof wt&&(v=v.value()),_y(d,function(k,R){return R.func.apply(R.thisArg,pi([k],R.args))},v)}function sv(c,d,v){var k=c.length;if(k<2)return k?vi(c[0]):[];for(var R=-1,I=te(k);++R<k;)for(var $=c[R],W=-1;++W<k;)W!=R&&(I[R]=Au(I[R]||$,c[W],d,v));return vi(jn(I,1),d,v)}function tE(c,d,v){for(var k=-1,R=c.length,I=d.length,$={};++k<R;){var W=k<I?d[k]:n;v($,c[k],W)}return $}function iv(c){return un(c)?c:[]}function av(c){return typeof c=="function"?c:Er}function xi(c,d){return ot(c)?c:gv(c,d)?[c]:AE(Mt(c))}var N$=pt;function wi(c,d,v){var k=c.length;return v=v===n?k:v,!d&&v>=k?c:lo(c,d,v)}var nE=h3||function(c){return Dn.clearTimeout(c)};function rE(c,d){if(d)return c.slice();var v=c.length,k=EC?EC(v):new c.constructor(v);return c.copy(k),k}function lv(c){var d=new c.constructor(c.byteLength);return new ih(d).set(new ih(c)),d}function T$(c,d){var v=d?lv(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.byteLength)}function R$(c){var d=new c.constructor(c.source,Aa.exec(c));return d.lastIndex=c.lastIndex,d}function M$(c){return Ru?Ot(Ru.call(c)):{}}function oE(c,d){var v=d?lv(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.length)}function sE(c,d){if(c!==d){var v=c!==n,k=c===null,R=c===c,I=Wr(c),$=d!==n,W=d===null,q=d===d,he=Wr(d);if(!W&&!he&&!I&&c>d||I&&$&&q&&!W&&!he||k&&$&&q||!v&&q||!R)return 1;if(!k&&!I&&!he&&c<d||he&&v&&R&&!k&&!I||W&&v&&R||!$&&R||!q)return-1}return 0}function A$(c,d,v){for(var k=-1,R=c.criteria,I=d.criteria,$=R.length,W=v.length;++k<$;){var q=sE(R[k],I[k]);if(q){if(k>=W)return q;var he=v[k];return q*(he=="desc"?-1:1)}}return c.index-d.index}function iE(c,d,v,k){for(var R=-1,I=c.length,$=v.length,W=-1,q=d.length,he=xn(I-$,0),me=te(q+he),ye=!k;++W<q;)me[W]=d[W];for(;++R<$;)(ye||R<I)&&(me[v[R]]=c[R]);for(;he--;)me[W++]=c[R++];return me}function aE(c,d,v,k){for(var R=-1,I=c.length,$=-1,W=v.length,q=-1,he=d.length,me=xn(I-W,0),ye=te(me+he),Ne=!k;++R<me;)ye[R]=c[R];for(var ze=R;++q<he;)ye[ze+q]=d[q];for(;++$<W;)(Ne||R<I)&&(ye[ze+v[$]]=c[R++]);return ye}function br(c,d){var v=-1,k=c.length;for(d||(d=te(k));++v<k;)d[v]=c[v];return d}function ss(c,d,v,k){var R=!v;v||(v={});for(var I=-1,$=d.length;++I<$;){var W=d[I],q=k?k(v[W],c[W],W,v,c):n;q===n&&(q=c[W]),R?As(v,W,q):Mu(v,W,q)}return v}function P$(c,d){return ss(c,mv(c),d)}function O$(c,d){return ss(c,wE(c),d)}function bh(c,d){return function(v,k){var R=ot(v)?L4:e$,I=d?d():{};return R(v,c,qe(k,2),I)}}function Hl(c){return pt(function(d,v){var k=-1,R=v.length,I=R>1?v[R-1]:n,$=R>2?v[2]:n;for(I=c.length>3&&typeof I=="function"?(R--,I):n,$&&ir(v[0],v[1],$)&&(I=R<3?n:I,R=1),d=Ot(d);++k<R;){var W=v[k];W&&c(d,W,k,I)}return d})}function lE(c,d){return function(v,k){if(v==null)return v;if(!Sr(v))return c(v,k);for(var R=v.length,I=d?R:-1,$=Ot(v);(d?I--:++I<R)&&k($[I],I,$)!==!1;);return v}}function cE(c){return function(d,v,k){for(var R=-1,I=Ot(d),$=k(d),W=$.length;W--;){var q=$[c?W:++R];if(v(I[q],q,I)===!1)break}return d}}function _$(c,d,v){var k=d&x,R=Iu(c);function I(){var $=this&&this!==Dn&&this instanceof I?R:c;return $.apply(k?v:this,arguments)}return I}function uE(c){return function(d){d=Mt(d);var v=Ll(d)?Ao(d):n,k=v?v[0]:d.charAt(0),R=v?wi(v,1).join(""):d.slice(1);return k[c]()+R}}function Vl(c){return function(d){return _y(lk(ak(d).replace(C4,"")),c,"")}}function Iu(c){return function(){var d=arguments;switch(d.length){case 0:return new c;case 1:return new c(d[0]);case 2:return new c(d[0],d[1]);case 3:return new c(d[0],d[1],d[2]);case 4:return new c(d[0],d[1],d[2],d[3]);case 5:return new c(d[0],d[1],d[2],d[3],d[4]);case 6:return new c(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new c(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=Ul(c.prototype),k=c.apply(v,d);return Yt(k)?k:v}}function I$(c,d,v){var k=Iu(c);function R(){for(var I=arguments.length,$=te(I),W=I,q=Gl(R);W--;)$[W]=arguments[W];var he=I<3&&$[0]!==q&&$[I-1]!==q?[]:mi($,q);if(I-=he.length,I<v)return mE(c,d,Sh,R.placeholder,n,$,he,n,n,v-I);var me=this&&this!==Dn&&this instanceof R?k:c;return $r(me,this,$)}return R}function dE(c){return function(d,v,k){var R=Ot(d);if(!Sr(d)){var I=qe(v,3);d=Cn(d),v=function(W){return I(R[W],W,R)}}var $=c(d,v,k);return $>-1?R[I?d[$]:$]:n}}function fE(c){return Os(function(d){var v=d.length,k=v,R=io.prototype.thru;for(c&&d.reverse();k--;){var I=d[k];if(typeof I!="function")throw new so(i);if(R&&!$&&Nh(I)=="wrapper")var $=new io([],!0)}for(k=$?k:v;++k<v;){I=d[k];var W=Nh(I),q=W=="wrapper"?hv(I):n;q&&yv(q[0])&&q[1]==(A|E|T|O)&&!q[4].length&&q[9]==1?$=$[Nh(q[0])].apply($,q[3]):$=I.length==1&&yv(I)?$[W]():$.thru(I)}return function(){var he=arguments,me=he[0];if($&&he.length==1&&ot(me))return $.plant(me).value();for(var ye=0,Ne=v?d[ye].apply(this,he):me;++ye<v;)Ne=d[ye].call(this,Ne);return Ne}})}function Sh(c,d,v,k,R,I,$,W,q,he){var me=d&A,ye=d&x,Ne=d&S,ze=d&(E|N),Ye=d&L,ht=Ne?n:Iu(c);function Je(){for(var vt=arguments.length,bt=te(vt),Ur=vt;Ur--;)bt[Ur]=arguments[Ur];if(ze)var ar=Gl(Je),Hr=G4(bt,ar);if(k&&(bt=iE(bt,k,R,ze)),I&&(bt=aE(bt,I,$,ze)),vt-=Hr,ze&&vt<he){var dn=mi(bt,ar);return mE(c,d,Sh,Je.placeholder,v,bt,dn,W,q,he-vt)}var _o=ye?v:this,js=Ne?_o[c]:c;return vt=bt.length,W?bt=ez(bt,W):Ye&&vt>1&&bt.reverse(),me&&q<vt&&(bt.length=q),this&&this!==Dn&&this instanceof Je&&(js=ht||Iu(js)),js.apply(_o,bt)}return Je}function hE(c,d){return function(v,k){return l$(v,c,d(k),{})}}function Ch(c,d){return function(v,k){var R;if(v===n&&k===n)return d;if(v!==n&&(R=v),k!==n){if(R===n)return k;typeof v=="string"||typeof k=="string"?(v=Br(v),k=Br(k)):(v=QC(v),k=QC(k)),R=c(v,k)}return R}}function cv(c){return Os(function(d){return d=Gt(d,zr(qe())),pt(function(v){var k=this;return c(d,function(R){return $r(R,k,v)})})})}function Eh(c,d){d=d===n?" ":Br(d);var v=d.length;if(v<2)return v?nv(d,c):d;var k=nv(d,uh(c/Fl(d)));return Ll(d)?wi(Ao(k),0,c).join(""):k.slice(0,c)}function D$(c,d,v,k){var R=d&x,I=Iu(c);function $(){for(var W=-1,q=arguments.length,he=-1,me=k.length,ye=te(me+q),Ne=this&&this!==Dn&&this instanceof $?I:c;++he<me;)ye[he]=k[he];for(;q--;)ye[he++]=arguments[++W];return $r(Ne,R?v:this,ye)}return $}function pE(c){return function(d,v,k){return k&&typeof k!="number"&&ir(d,v,k)&&(v=k=n),d=Ds(d),v===n?(v=d,d=0):v=Ds(v),k=k===n?d<v?1:-1:Ds(k),w$(d,v,k,c)}}function kh(c){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=uo(d),v=uo(v)),c(d,v)}}function mE(c,d,v,k,R,I,$,W,q,he){var me=d&E,ye=me?$:n,Ne=me?n:$,ze=me?I:n,Ye=me?n:I;d|=me?T:M,d&=~(me?M:T),d&C||(d&=-4);var ht=[c,d,R,ze,ye,Ye,Ne,W,q,he],Je=v.apply(n,ht);return yv(c)&&TE(Je,ht),Je.placeholder=k,RE(Je,c,d)}function uv(c){var d=vn[c];return function(v,k){if(v=uo(v),k=k==null?0:Gn(ct(k),292),k&&RC(v)){var R=(Mt(v)+"e").split("e"),I=d(R[0]+"e"+(+R[1]+k));return R=(Mt(I)+"e").split("e"),+(R[0]+"e"+(+R[1]-k))}return d(v)}}var j$=Bl&&1/eh(new Bl([,-0]))[1]==oe?function(c){return new Bl(c)}:Ov;function gE(c){return function(d){var v=Kn(d);return v==Me?zy(d):v==Be?Z4(d):V4(d,c(d))}}function Ps(c,d,v,k,R,I,$,W){var q=d&S;if(!q&&typeof c!="function")throw new so(i);var he=k?k.length:0;if(he||(d&=-97,k=R=n),$=$===n?$:xn(ct($),0),W=W===n?W:ct(W),he-=R?R.length:0,d&M){var me=k,ye=R;k=R=n}var Ne=q?n:hv(c),ze=[c,d,v,k,R,me,ye,I,$,W];if(Ne&&X$(ze,Ne),c=ze[0],d=ze[1],v=ze[2],k=ze[3],R=ze[4],W=ze[9]=ze[9]===n?q?0:c.length:xn(ze[9]-he,0),!W&&d&(E|N)&&(d&=-25),!d||d==x)var Ye=_$(c,d,v);else d==E||d==N?Ye=I$(c,d,W):(d==T||d==(x|T))&&!R.length?Ye=D$(c,d,v,k):Ye=Sh.apply(n,ze);var ht=Ne?JC:TE;return RE(ht(Ye,ze),c,d)}function yE(c,d,v,k){return c===n||Oo(c,zl[v])&&!At.call(k,v)?d:c}function vE(c,d,v,k,R,I){return Yt(c)&&Yt(d)&&(I.set(d,c),vh(c,d,n,vE,I),I.delete(d)),c}function L$(c){return Lu(c)?n:c}function xE(c,d,v,k,R,I){var $=v&b,W=c.length,q=d.length;if(W!=q&&!($&&q>W))return!1;var he=I.get(c),me=I.get(d);if(he&&me)return he==d&&me==c;var ye=-1,Ne=!0,ze=v&w?new Ia:n;for(I.set(c,d),I.set(d,c);++ye<W;){var Ye=c[ye],ht=d[ye];if(k)var Je=$?k(ht,Ye,ye,d,c,I):k(Ye,ht,ye,c,d,I);if(Je!==n){if(Je)continue;Ne=!1;break}if(ze){if(!Iy(d,function(vt,bt){if(!Cu(ze,bt)&&(Ye===vt||R(Ye,vt,v,k,I)))return ze.push(bt)})){Ne=!1;break}}else if(!(Ye===ht||R(Ye,ht,v,k,I))){Ne=!1;break}}return I.delete(c),I.delete(d),Ne}function F$(c,d,v,k,R,I,$){switch(v){case ft:if(c.byteLength!=d.byteLength||c.byteOffset!=d.byteOffset)return!1;c=c.buffer,d=d.buffer;case $e:return!(c.byteLength!=d.byteLength||!I(new ih(c),new ih(d)));case ge:case de:case Ze:return Oo(+c,+d);case Re:return c.name==d.name&&c.message==d.message;case Ke:case Xe:return c==d+"";case Me:var W=zy;case Be:var q=k&b;if(W||(W=eh),c.size!=d.size&&!q)return!1;var he=$.get(c);if(he)return he==d;k|=w,$.set(c,d);var me=xE(W(c),W(d),k,R,I,$);return $.delete(c),me;case yt:if(Ru)return Ru.call(c)==Ru.call(d)}return!1}function $$(c,d,v,k,R,I){var $=v&b,W=dv(c),q=W.length,he=dv(d),me=he.length;if(q!=me&&!$)return!1;for(var ye=q;ye--;){var Ne=W[ye];if(!($?Ne in d:At.call(d,Ne)))return!1}var ze=I.get(c),Ye=I.get(d);if(ze&&Ye)return ze==d&&Ye==c;var ht=!0;I.set(c,d),I.set(d,c);for(var Je=$;++ye<q;){Ne=W[ye];var vt=c[Ne],bt=d[Ne];if(k)var Ur=$?k(bt,vt,Ne,d,c,I):k(vt,bt,Ne,c,d,I);if(!(Ur===n?vt===bt||R(vt,bt,v,k,I):Ur)){ht=!1;break}Je||(Je=Ne=="constructor")}if(ht&&!Je){var ar=c.constructor,Hr=d.constructor;ar!=Hr&&"constructor"in c&&"constructor"in d&&!(typeof ar=="function"&&ar instanceof ar&&typeof Hr=="function"&&Hr instanceof Hr)&&(ht=!1)}return I.delete(c),I.delete(d),ht}function Os(c){return xv(kE(c,n,IE),c+"")}function dv(c){return $C(c,Cn,mv)}function fv(c){return $C(c,Cr,wE)}var hv=fh?function(c){return fh.get(c)}:Ov;function Nh(c){for(var d=c.name+"",v=Wl[d],k=At.call(Wl,d)?v.length:0;k--;){var R=v[k],I=R.func;if(I==null||I==c)return R.name}return d}function Gl(c){var d=At.call(P,"placeholder")?P:c;return d.placeholder}function qe(){var c=P.iteratee||Av;return c=c===Av?WC:c,arguments.length?c(arguments[0],arguments[1]):c}function Th(c,d){var v=c.__data__;return K$(d)?v[typeof d=="string"?"string":"hash"]:v.map}function pv(c){for(var d=Cn(c),v=d.length;v--;){var k=d[v],R=c[k];d[v]=[k,R,CE(R)]}return d}function La(c,d){var v=J4(c,d);return BC(v)?v:n}function z$(c){var d=At.call(c,Oa),v=c[Oa];try{c[Oa]=n;var k=!0}catch{}var R=oh.call(c);return k&&(d?c[Oa]=v:delete c[Oa]),R}var mv=Wy?function(c){return c==null?[]:(c=Ot(c),hi(Wy(c),function(d){return NC.call(c,d)}))}:_v,wE=Wy?function(c){for(var d=[];c;)pi(d,mv(c)),c=ah(c);return d}:_v,Kn=sr;(Uy&&Kn(new Uy(new ArrayBuffer(1)))!=ft||ku&&Kn(new ku)!=Me||Hy&&Kn(Hy.resolve())!=Ue||Bl&&Kn(new Bl)!=Be||Nu&&Kn(new Nu)!=ue)&&(Kn=function(c){var d=sr(c),v=d==gt?c.constructor:n,k=v?Fa(v):"";if(k)switch(k){case S3:return ft;case C3:return Me;case E3:return Ue;case k3:return Be;case N3:return ue}return d});function B$(c,d,v){for(var k=-1,R=v.length;++k<R;){var I=v[k],$=I.size;switch(I.type){case"drop":c+=$;break;case"dropRight":d-=$;break;case"take":d=Gn(d,c+$);break;case"takeRight":c=xn(c,d-$);break}}return{start:c,end:d}}function W$(c){var d=c.match(We);return d?d[1].split(kt):[]}function bE(c,d,v){d=xi(d,c);for(var k=-1,R=d.length,I=!1;++k<R;){var $=is(d[k]);if(!(I=c!=null&&v(c,$)))break;c=c[$]}return I||++k!=R?I:(R=c==null?0:c.length,!!R&&Ih(R)&&_s($,R)&&(ot(c)||$a(c)))}function U$(c){var d=c.length,v=new c.constructor(d);return d&&typeof c[0]=="string"&&At.call(c,"index")&&(v.index=c.index,v.input=c.input),v}function SE(c){return typeof c.constructor=="function"&&!Du(c)?Ul(ah(c)):{}}function H$(c,d,v){var k=c.constructor;switch(d){case $e:return lv(c);case ge:case de:return new k(+c);case ft:return T$(c,v);case re:case Se:case Ce:case De:case Ct:case jt:case wr:case In:case Ts:return oE(c,v);case Me:return new k;case Ze:case Xe:return new k(c);case Ke:return R$(c);case Be:return new k;case yt:return M$(c)}}function V$(c,d){var v=d.length;if(!v)return c;var k=v-1;return d[k]=(v>1?"& ":"")+d[k],d=d.join(v>2?", ":" "),c.replace(Le,`{
/* [wrapped with `+d+`] */
`)}function G$(c){return ot(c)||$a(c)||!!(TC&&c&&c[TC])}function _s(c,d){var v=typeof c;return d=d??j,!!d&&(v=="number"||v!="symbol"&&Ey.test(c))&&c>-1&&c%1==0&&c<d}function ir(c,d,v){if(!Yt(v))return!1;var k=typeof d;return(k=="number"?Sr(v)&&_s(d,v.length):k=="string"&&d in v)?Oo(v[d],c):!1}function gv(c,d){if(ot(c))return!1;var v=typeof c;return v=="number"||v=="symbol"||v=="boolean"||c==null||Wr(c)?!0:tn.test(c)||!Ft.test(c)||d!=null&&c in Ot(d)}function K$(c){var d=typeof c;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?c!=="__proto__":c===null}function yv(c){var d=Nh(c),v=P[d];if(typeof v!="function"||!(d in wt.prototype))return!1;if(c===v)return!0;var k=hv(v);return!!k&&c===k[0]}function q$(c){return!!CC&&CC in c}var Y$=nh?Is:Iv;function Du(c){var d=c&&c.constructor,v=typeof d=="function"&&d.prototype||zl;return c===v}function CE(c){return c===c&&!Yt(c)}function EE(c,d){return function(v){return v==null?!1:v[c]===d&&(d!==n||c in Ot(v))}}function J$(c){var d=Oh(c,function(k){return v.size===u&&v.clear(),k}),v=d.cache;return d}function X$(c,d){var v=c[1],k=d[1],R=v|k,I=R<(x|S|A),$=k==A&&v==E||k==A&&v==O&&c[7].length<=d[8]||k==(A|O)&&d[7].length<=d[8]&&v==E;if(!(I||$))return c;k&x&&(c[2]=d[2],R|=v&x?0:C);var W=d[3];if(W){var q=c[3];c[3]=q?iE(q,W,d[4]):W,c[4]=q?mi(c[3],f):d[4]}return W=d[5],W&&(q=c[5],c[5]=q?aE(q,W,d[6]):W,c[6]=q?mi(c[5],f):d[6]),W=d[7],W&&(c[7]=W),k&A&&(c[8]=c[8]==null?d[8]:Gn(c[8],d[8])),c[9]==null&&(c[9]=d[9]),c[0]=d[0],c[1]=R,c}function Q$(c){var d=[];if(c!=null)for(var v in Ot(c))d.push(v);return d}function Z$(c){return oh.call(c)}function kE(c,d,v){return d=xn(d===n?c.length-1:d,0),function(){for(var k=arguments,R=-1,I=xn(k.length-d,0),$=te(I);++R<I;)$[R]=k[d+R];R=-1;for(var W=te(d+1);++R<d;)W[R]=k[R];return W[d]=v($),$r(c,this,W)}}function NE(c,d){return d.length<2?c:ja(c,lo(d,0,-1))}function ez(c,d){for(var v=c.length,k=Gn(d.length,v),R=br(c);k--;){var I=d[k];c[k]=_s(I,v)?R[I]:n}return c}function vv(c,d){if(!(d==="constructor"&&typeof c[d]=="function")&&d!="__proto__")return c[d]}var TE=ME(JC),ju=m3||function(c,d){return Dn.setTimeout(c,d)},xv=ME(C$);function RE(c,d,v){var k=d+"";return xv(c,V$(k,tz(W$(k),v)))}function ME(c){var d=0,v=0;return function(){var k=x3(),R=G-(k-v);if(v=k,R>0){if(++d>=H)return arguments[0]}else d=0;return c.apply(n,arguments)}}function Rh(c,d){var v=-1,k=c.length,R=k-1;for(d=d===n?k:d;++v<d;){var I=tv(v,R),$=c[I];c[I]=c[v],c[v]=$}return c.length=d,c}var AE=J$(function(c){var d=[];return c.charCodeAt(0)===46&&d.push(""),c.replace(Rt,function(v,k,R,I){d.push(R?I.replace(Mo,"$1"):k||v)}),d});function is(c){if(typeof c=="string"||Wr(c))return c;var d=c+"";return d=="0"&&1/c==-oe?"-0":d}function Fa(c){if(c!=null){try{return rh.call(c)}catch{}try{return c+""}catch{}}return""}function tz(c,d){return oo(Q,function(v){var k="_."+v[0];d&v[1]&&!Qf(c,k)&&c.push(k)}),c.sort()}function PE(c){if(c instanceof wt)return c.clone();var d=new io(c.__wrapped__,c.__chain__);return d.__actions__=br(c.__actions__),d.__index__=c.__index__,d.__values__=c.__values__,d}function nz(c,d,v){(v?ir(c,d,v):d===n)?d=1:d=xn(ct(d),0);var k=c==null?0:c.length;if(!k||d<1)return[];for(var R=0,I=0,$=te(uh(k/d));R<k;)$[I++]=lo(c,R,R+=d);return $}function rz(c){for(var d=-1,v=c==null?0:c.length,k=0,R=[];++d<v;){var I=c[d];I&&(R[k++]=I)}return R}function oz(){var c=arguments.length;if(!c)return[];for(var d=te(c-1),v=arguments[0],k=c;k--;)d[k-1]=arguments[k];return pi(ot(v)?br(v):[v],jn(d,1))}var sz=pt(function(c,d){return un(c)?Au(c,jn(d,1,un,!0)):[]}),iz=pt(function(c,d){var v=co(d);return un(v)&&(v=n),un(c)?Au(c,jn(d,1,un,!0),qe(v,2)):[]}),az=pt(function(c,d){var v=co(d);return un(v)&&(v=n),un(c)?Au(c,jn(d,1,un,!0),n,v):[]});function lz(c,d,v){var k=c==null?0:c.length;return k?(d=v||d===n?1:ct(d),lo(c,d<0?0:d,k)):[]}function cz(c,d,v){var k=c==null?0:c.length;return k?(d=v||d===n?1:ct(d),d=k-d,lo(c,0,d<0?0:d)):[]}function uz(c,d){return c&&c.length?wh(c,qe(d,3),!0,!0):[]}function dz(c,d){return c&&c.length?wh(c,qe(d,3),!0):[]}function fz(c,d,v,k){var R=c==null?0:c.length;return R?(v&&typeof v!="number"&&ir(c,d,v)&&(v=0,k=R),o$(c,d,v,k)):[]}function OE(c,d,v){var k=c==null?0:c.length;if(!k)return-1;var R=v==null?0:ct(v);return R<0&&(R=xn(k+R,0)),Zf(c,qe(d,3),R)}function _E(c,d,v){var k=c==null?0:c.length;if(!k)return-1;var R=k-1;return v!==n&&(R=ct(v),R=v<0?xn(k+R,0):Gn(R,k-1)),Zf(c,qe(d,3),R,!0)}function IE(c){var d=c==null?0:c.length;return d?jn(c,1):[]}function hz(c){var d=c==null?0:c.length;return d?jn(c,oe):[]}function pz(c,d){var v=c==null?0:c.length;return v?(d=d===n?1:ct(d),jn(c,d)):[]}function mz(c){for(var d=-1,v=c==null?0:c.length,k={};++d<v;){var R=c[d];k[R[0]]=R[1]}return k}function DE(c){return c&&c.length?c[0]:n}function gz(c,d,v){var k=c==null?0:c.length;if(!k)return-1;var R=v==null?0:ct(v);return R<0&&(R=xn(k+R,0)),jl(c,d,R)}function yz(c){var d=c==null?0:c.length;return d?lo(c,0,-1):[]}var vz=pt(function(c){var d=Gt(c,iv);return d.length&&d[0]===c[0]?Jy(d):[]}),xz=pt(function(c){var d=co(c),v=Gt(c,iv);return d===co(v)?d=n:v.pop(),v.length&&v[0]===c[0]?Jy(v,qe(d,2)):[]}),wz=pt(function(c){var d=co(c),v=Gt(c,iv);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===c[0]?Jy(v,n,d):[]});function bz(c,d){return c==null?"":y3.call(c,d)}function co(c){var d=c==null?0:c.length;return d?c[d-1]:n}function Sz(c,d,v){var k=c==null?0:c.length;if(!k)return-1;var R=k;return v!==n&&(R=ct(v),R=R<0?xn(k+R,0):Gn(R,k-1)),d===d?t3(c,d,R):Zf(c,mC,R,!0)}function Cz(c,d){return c&&c.length?GC(c,ct(d)):n}var Ez=pt(jE);function jE(c,d){return c&&c.length&&d&&d.length?ev(c,d):c}function kz(c,d,v){return c&&c.length&&d&&d.length?ev(c,d,qe(v,2)):c}function Nz(c,d,v){return c&&c.length&&d&&d.length?ev(c,d,n,v):c}var Tz=Os(function(c,d){var v=c==null?0:c.length,k=Gy(c,d);return YC(c,Gt(d,function(R){return _s(R,v)?+R:R}).sort(sE)),k});function Rz(c,d){var v=[];if(!(c&&c.length))return v;var k=-1,R=[],I=c.length;for(d=qe(d,3);++k<I;){var $=c[k];d($,k,c)&&(v.push($),R.push(k))}return YC(c,R),v}function wv(c){return c==null?c:b3.call(c)}function Mz(c,d,v){var k=c==null?0:c.length;return k?(v&&typeof v!="number"&&ir(c,d,v)?(d=0,v=k):(d=d==null?0:ct(d),v=v===n?k:ct(v)),lo(c,d,v)):[]}function Az(c,d){return xh(c,d)}function Pz(c,d,v){return rv(c,d,qe(v,2))}function Oz(c,d){var v=c==null?0:c.length;if(v){var k=xh(c,d);if(k<v&&Oo(c[k],d))return k}return-1}function _z(c,d){return xh(c,d,!0)}function Iz(c,d,v){return rv(c,d,qe(v,2),!0)}function Dz(c,d){var v=c==null?0:c.length;if(v){var k=xh(c,d,!0)-1;if(Oo(c[k],d))return k}return-1}function jz(c){return c&&c.length?XC(c):[]}function Lz(c,d){return c&&c.length?XC(c,qe(d,2)):[]}function Fz(c){var d=c==null?0:c.length;return d?lo(c,1,d):[]}function $z(c,d,v){return c&&c.length?(d=v||d===n?1:ct(d),lo(c,0,d<0?0:d)):[]}function zz(c,d,v){var k=c==null?0:c.length;return k?(d=v||d===n?1:ct(d),d=k-d,lo(c,d<0?0:d,k)):[]}function Bz(c,d){return c&&c.length?wh(c,qe(d,3),!1,!0):[]}function Wz(c,d){return c&&c.length?wh(c,qe(d,3)):[]}var Uz=pt(function(c){return vi(jn(c,1,un,!0))}),Hz=pt(function(c){var d=co(c);return un(d)&&(d=n),vi(jn(c,1,un,!0),qe(d,2))}),Vz=pt(function(c){var d=co(c);return d=typeof d=="function"?d:n,vi(jn(c,1,un,!0),n,d)});function Gz(c){return c&&c.length?vi(c):[]}function Kz(c,d){return c&&c.length?vi(c,qe(d,2)):[]}function qz(c,d){return d=typeof d=="function"?d:n,c&&c.length?vi(c,n,d):[]}function bv(c){if(!(c&&c.length))return[];var d=0;return c=hi(c,function(v){if(un(v))return d=xn(v.length,d),!0}),Fy(d,function(v){return Gt(c,Dy(v))})}function LE(c,d){if(!(c&&c.length))return[];var v=bv(c);return d==null?v:Gt(v,function(k){return $r(d,n,k)})}var Yz=pt(function(c,d){return un(c)?Au(c,d):[]}),Jz=pt(function(c){return sv(hi(c,un))}),Xz=pt(function(c){var d=co(c);return un(d)&&(d=n),sv(hi(c,un),qe(d,2))}),Qz=pt(function(c){var d=co(c);return d=typeof d=="function"?d:n,sv(hi(c,un),n,d)}),Zz=pt(bv);function eB(c,d){return tE(c||[],d||[],Mu)}function tB(c,d){return tE(c||[],d||[],_u)}var nB=pt(function(c){var d=c.length,v=d>1?c[d-1]:n;return v=typeof v=="function"?(c.pop(),v):n,LE(c,v)});function FE(c){var d=P(c);return d.__chain__=!0,d}function rB(c,d){return d(c),c}function Mh(c,d){return d(c)}var oB=Os(function(c){var d=c.length,v=d?c[0]:0,k=this.__wrapped__,R=function(I){return Gy(I,c)};return d>1||this.__actions__.length||!(k instanceof wt)||!_s(v)?this.thru(R):(k=k.slice(v,+v+(d?1:0)),k.__actions__.push({func:Mh,args:[R],thisArg:n}),new io(k,this.__chain__).thru(function(I){return d&&!I.length&&I.push(n),I}))});function sB(){return FE(this)}function iB(){return new io(this.value(),this.__chain__)}function aB(){this.__values__===n&&(this.__values__=QE(this.value()));var c=this.__index__>=this.__values__.length,d=c?n:this.__values__[this.__index__++];return{done:c,value:d}}function lB(){return this}function cB(c){for(var d,v=this;v instanceof ph;){var k=PE(v);k.__index__=0,k.__values__=n,d?R.__wrapped__=k:d=k;var R=k;v=v.__wrapped__}return R.__wrapped__=c,d}function uB(){var c=this.__wrapped__;if(c instanceof wt){var d=c;return this.__actions__.length&&(d=new wt(this)),d=d.reverse(),d.__actions__.push({func:Mh,args:[wv],thisArg:n}),new io(d,this.__chain__)}return this.thru(wv)}function dB(){return eE(this.__wrapped__,this.__actions__)}var fB=bh(function(c,d,v){At.call(c,v)?++c[v]:As(c,v,1)});function hB(c,d,v){var k=ot(c)?hC:r$;return v&&ir(c,d,v)&&(d=n),k(c,qe(d,3))}function pB(c,d){var v=ot(c)?hi:LC;return v(c,qe(d,3))}var mB=dE(OE),gB=dE(_E);function yB(c,d){return jn(Ah(c,d),1)}function vB(c,d){return jn(Ah(c,d),oe)}function xB(c,d,v){return v=v===n?1:ct(v),jn(Ah(c,d),v)}function $E(c,d){var v=ot(c)?oo:yi;return v(c,qe(d,3))}function zE(c,d){var v=ot(c)?F4:jC;return v(c,qe(d,3))}var wB=bh(function(c,d,v){At.call(c,v)?c[v].push(d):As(c,v,[d])});function bB(c,d,v,k){c=Sr(c)?c:ql(c),v=v&&!k?ct(v):0;var R=c.length;return v<0&&(v=xn(R+v,0)),Dh(c)?v<=R&&c.indexOf(d,v)>-1:!!R&&jl(c,d,v)>-1}var SB=pt(function(c,d,v){var k=-1,R=typeof d=="function",I=Sr(c)?te(c.length):[];return yi(c,function($){I[++k]=R?$r(d,$,v):Pu($,d,v)}),I}),CB=bh(function(c,d,v){As(c,v,d)});function Ah(c,d){var v=ot(c)?Gt:UC;return v(c,qe(d,3))}function EB(c,d,v,k){return c==null?[]:(ot(d)||(d=d==null?[]:[d]),v=k?n:v,ot(v)||(v=v==null?[]:[v]),KC(c,d,v))}var kB=bh(function(c,d,v){c[v?0:1].push(d)},function(){return[[],[]]});function NB(c,d,v){var k=ot(c)?_y:yC,R=arguments.length<3;return k(c,qe(d,4),v,R,yi)}function TB(c,d,v){var k=ot(c)?$4:yC,R=arguments.length<3;return k(c,qe(d,4),v,R,jC)}function RB(c,d){var v=ot(c)?hi:LC;return v(c,_h(qe(d,3)))}function MB(c){var d=ot(c)?OC:b$;return d(c)}function AB(c,d,v){(v?ir(c,d,v):d===n)?d=1:d=ct(d);var k=ot(c)?Q3:S$;return k(c,d)}function PB(c){var d=ot(c)?Z3:E$;return d(c)}function OB(c){if(c==null)return 0;if(Sr(c))return Dh(c)?Fl(c):c.length;var d=Kn(c);return d==Me||d==Be?c.size:Qy(c).length}function _B(c,d,v){var k=ot(c)?Iy:k$;return v&&ir(c,d,v)&&(d=n),k(c,qe(d,3))}var IB=pt(function(c,d){if(c==null)return[];var v=d.length;return v>1&&ir(c,d[0],d[1])?d=[]:v>2&&ir(d[0],d[1],d[2])&&(d=[d[0]]),KC(c,jn(d,1),[])}),Ph=p3||function(){return Dn.Date.now()};function DB(c,d){if(typeof d!="function")throw new so(i);return c=ct(c),function(){if(--c<1)return d.apply(this,arguments)}}function BE(c,d,v){return d=v?n:d,d=c&&d==null?c.length:d,Ps(c,A,n,n,n,n,d)}function WE(c,d){var v;if(typeof d!="function")throw new so(i);return c=ct(c),function(){return--c>0&&(v=d.apply(this,arguments)),c<=1&&(d=n),v}}var Sv=pt(function(c,d,v){var k=x;if(v.length){var R=mi(v,Gl(Sv));k|=T}return Ps(c,k,d,v,R)}),UE=pt(function(c,d,v){var k=x|S;if(v.length){var R=mi(v,Gl(UE));k|=T}return Ps(d,k,c,v,R)});function HE(c,d,v){d=v?n:d;var k=Ps(c,E,n,n,n,n,n,d);return k.placeholder=HE.placeholder,k}function VE(c,d,v){d=v?n:d;var k=Ps(c,N,n,n,n,n,n,d);return k.placeholder=VE.placeholder,k}function GE(c,d,v){var k,R,I,$,W,q,he=0,me=!1,ye=!1,Ne=!0;if(typeof c!="function")throw new so(i);d=uo(d)||0,Yt(v)&&(me=!!v.leading,ye="maxWait"in v,I=ye?xn(uo(v.maxWait)||0,d):I,Ne="trailing"in v?!!v.trailing:Ne);function ze(dn){var _o=k,js=R;return k=R=n,he=dn,$=c.apply(js,_o),$}function Ye(dn){return he=dn,W=ju(vt,d),me?ze(dn):$}function ht(dn){var _o=dn-q,js=dn-he,dk=d-_o;return ye?Gn(dk,I-js):dk}function Je(dn){var _o=dn-q,js=dn-he;return q===n||_o>=d||_o<0||ye&&js>=I}function vt(){var dn=Ph();if(Je(dn))return bt(dn);W=ju(vt,ht(dn))}function bt(dn){return W=n,Ne&&k?ze(dn):(k=R=n,$)}function Ur(){W!==n&&nE(W),he=0,k=q=R=W=n}function ar(){return W===n?$:bt(Ph())}function Hr(){var dn=Ph(),_o=Je(dn);if(k=arguments,R=this,q=dn,_o){if(W===n)return Ye(q);if(ye)return nE(W),W=ju(vt,d),ze(q)}return W===n&&(W=ju(vt,d)),$}return Hr.cancel=Ur,Hr.flush=ar,Hr}var jB=pt(function(c,d){return DC(c,1,d)}),LB=pt(function(c,d,v){return DC(c,uo(d)||0,v)});function FB(c){return Ps(c,L)}function Oh(c,d){if(typeof c!="function"||d!=null&&typeof d!="function")throw new so(i);var v=function(){var k=arguments,R=d?d.apply(this,k):k[0],I=v.cache;if(I.has(R))return I.get(R);var $=c.apply(this,k);return v.cache=I.set(R,$)||I,$};return v.cache=new(Oh.Cache||Ms),v}Oh.Cache=Ms;function _h(c){if(typeof c!="function")throw new so(i);return function(){var d=arguments;switch(d.length){case 0:return!c.call(this);case 1:return!c.call(this,d[0]);case 2:return!c.call(this,d[0],d[1]);case 3:return!c.call(this,d[0],d[1],d[2])}return!c.apply(this,d)}}function $B(c){return WE(2,c)}var zB=N$(function(c,d){d=d.length==1&&ot(d[0])?Gt(d[0],zr(qe())):Gt(jn(d,1),zr(qe()));var v=d.length;return pt(function(k){for(var R=-1,I=Gn(k.length,v);++R<I;)k[R]=d[R].call(this,k[R]);return $r(c,this,k)})}),Cv=pt(function(c,d){var v=mi(d,Gl(Cv));return Ps(c,T,n,d,v)}),KE=pt(function(c,d){var v=mi(d,Gl(KE));return Ps(c,M,n,d,v)}),BB=Os(function(c,d){return Ps(c,O,n,n,n,d)});function WB(c,d){if(typeof c!="function")throw new so(i);return d=d===n?d:ct(d),pt(c,d)}function UB(c,d){if(typeof c!="function")throw new so(i);return d=d==null?0:xn(ct(d),0),pt(function(v){var k=v[d],R=wi(v,0,d);return k&&pi(R,k),$r(c,this,R)})}function HB(c,d,v){var k=!0,R=!0;if(typeof c!="function")throw new so(i);return Yt(v)&&(k="leading"in v?!!v.leading:k,R="trailing"in v?!!v.trailing:R),GE(c,d,{leading:k,maxWait:d,trailing:R})}function VB(c){return BE(c,1)}function GB(c,d){return Cv(av(d),c)}function KB(){if(!arguments.length)return[];var c=arguments[0];return ot(c)?c:[c]}function qB(c){return ao(c,y)}function YB(c,d){return d=typeof d=="function"?d:n,ao(c,y,d)}function JB(c){return ao(c,p|y)}function XB(c,d){return d=typeof d=="function"?d:n,ao(c,p|y,d)}function QB(c,d){return d==null||IC(c,d,Cn(d))}function Oo(c,d){return c===d||c!==c&&d!==d}var ZB=kh(Yy),e5=kh(function(c,d){return c>=d}),$a=zC(function(){return arguments}())?zC:function(c){return on(c)&&At.call(c,"callee")&&!NC.call(c,"callee")},ot=te.isArray,t5=aC?zr(aC):c$;function Sr(c){return c!=null&&Ih(c.length)&&!Is(c)}function un(c){return on(c)&&Sr(c)}function n5(c){return c===!0||c===!1||on(c)&&sr(c)==ge}var bi=g3||Iv,r5=lC?zr(lC):u$;function o5(c){return on(c)&&c.nodeType===1&&!Lu(c)}function s5(c){if(c==null)return!0;if(Sr(c)&&(ot(c)||typeof c=="string"||typeof c.splice=="function"||bi(c)||Kl(c)||$a(c)))return!c.length;var d=Kn(c);if(d==Me||d==Be)return!c.size;if(Du(c))return!Qy(c).length;for(var v in c)if(At.call(c,v))return!1;return!0}function i5(c,d){return Ou(c,d)}function a5(c,d,v){v=typeof v=="function"?v:n;var k=v?v(c,d):n;return k===n?Ou(c,d,n,v):!!k}function Ev(c){if(!on(c))return!1;var d=sr(c);return d==Re||d==ie||typeof c.message=="string"&&typeof c.name=="string"&&!Lu(c)}function l5(c){return typeof c=="number"&&RC(c)}function Is(c){if(!Yt(c))return!1;var d=sr(c);return d==be||d==Oe||d==J||d==nt}function qE(c){return typeof c=="number"&&c==ct(c)}function Ih(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=j}function Yt(c){var d=typeof c;return c!=null&&(d=="object"||d=="function")}function on(c){return c!=null&&typeof c=="object"}var YE=cC?zr(cC):f$;function c5(c,d){return c===d||Xy(c,d,pv(d))}function u5(c,d,v){return v=typeof v=="function"?v:n,Xy(c,d,pv(d),v)}function d5(c){return JE(c)&&c!=+c}function f5(c){if(Y$(c))throw new tt(s);return BC(c)}function h5(c){return c===null}function p5(c){return c==null}function JE(c){return typeof c=="number"||on(c)&&sr(c)==Ze}function Lu(c){if(!on(c)||sr(c)!=gt)return!1;var d=ah(c);if(d===null)return!0;var v=At.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&rh.call(v)==u3}var kv=uC?zr(uC):h$;function m5(c){return qE(c)&&c>=-j&&c<=j}var XE=dC?zr(dC):p$;function Dh(c){return typeof c=="string"||!ot(c)&&on(c)&&sr(c)==Xe}function Wr(c){return typeof c=="symbol"||on(c)&&sr(c)==yt}var Kl=fC?zr(fC):m$;function g5(c){return c===n}function y5(c){return on(c)&&Kn(c)==ue}function v5(c){return on(c)&&sr(c)==Pe}var x5=kh(Zy),w5=kh(function(c,d){return c<=d});function QE(c){if(!c)return[];if(Sr(c))return Dh(c)?Ao(c):br(c);if(Eu&&c[Eu])return Q4(c[Eu]());var d=Kn(c),v=d==Me?zy:d==Be?eh:ql;return v(c)}function Ds(c){if(!c)return c===0?c:0;if(c=uo(c),c===oe||c===-oe){var d=c<0?-1:1;return d*_}return c===c?c:0}function ct(c){var d=Ds(c),v=d%1;return d===d?v?d-v:d:0}function ZE(c){return c?Da(ct(c),0,U):0}function uo(c){if(typeof c=="number")return c;if(Wr(c))return B;if(Yt(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=Yt(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=vC(c);var v=Su.test(c);return v||Cy.test(c)?D4(c.slice(2),v?2:8):or.test(c)?B:+c}function ek(c){return ss(c,Cr(c))}function b5(c){return c?Da(ct(c),-j,j):c===0?c:0}function Mt(c){return c==null?"":Br(c)}var S5=Hl(function(c,d){if(Du(d)||Sr(d)){ss(d,Cn(d),c);return}for(var v in d)At.call(d,v)&&Mu(c,v,d[v])}),tk=Hl(function(c,d){ss(d,Cr(d),c)}),jh=Hl(function(c,d,v,k){ss(d,Cr(d),c,k)}),C5=Hl(function(c,d,v,k){ss(d,Cn(d),c,k)}),E5=Os(Gy);function k5(c,d){var v=Ul(c);return d==null?v:_C(v,d)}var N5=pt(function(c,d){c=Ot(c);var v=-1,k=d.length,R=k>2?d[2]:n;for(R&&ir(d[0],d[1],R)&&(k=1);++v<k;)for(var I=d[v],$=Cr(I),W=-1,q=$.length;++W<q;){var he=$[W],me=c[he];(me===n||Oo(me,zl[he])&&!At.call(c,he))&&(c[he]=I[he])}return c}),T5=pt(function(c){return c.push(n,vE),$r(nk,n,c)});function R5(c,d){return pC(c,qe(d,3),rs)}function M5(c,d){return pC(c,qe(d,3),qy)}function A5(c,d){return c==null?c:Ky(c,qe(d,3),Cr)}function P5(c,d){return c==null?c:FC(c,qe(d,3),Cr)}function O5(c,d){return c&&rs(c,qe(d,3))}function _5(c,d){return c&&qy(c,qe(d,3))}function I5(c){return c==null?[]:yh(c,Cn(c))}function D5(c){return c==null?[]:yh(c,Cr(c))}function Nv(c,d,v){var k=c==null?n:ja(c,d);return k===n?v:k}function j5(c,d){return c!=null&&bE(c,d,s$)}function Tv(c,d){return c!=null&&bE(c,d,i$)}var L5=hE(function(c,d,v){d!=null&&typeof d.toString!="function"&&(d=oh.call(d)),c[d]=v},Mv(Er)),F5=hE(function(c,d,v){d!=null&&typeof d.toString!="function"&&(d=oh.call(d)),At.call(c,d)?c[d].push(v):c[d]=[v]},qe),$5=pt(Pu);function Cn(c){return Sr(c)?PC(c):Qy(c)}function Cr(c){return Sr(c)?PC(c,!0):g$(c)}function z5(c,d){var v={};return d=qe(d,3),rs(c,function(k,R,I){As(v,d(k,R,I),k)}),v}function B5(c,d){var v={};return d=qe(d,3),rs(c,function(k,R,I){As(v,R,d(k,R,I))}),v}var W5=Hl(function(c,d,v){vh(c,d,v)}),nk=Hl(function(c,d,v,k){vh(c,d,v,k)}),U5=Os(function(c,d){var v={};if(c==null)return v;var k=!1;d=Gt(d,function(I){return I=xi(I,c),k||(k=I.length>1),I}),ss(c,fv(c),v),k&&(v=ao(v,p|g|y,L$));for(var R=d.length;R--;)ov(v,d[R]);return v});function H5(c,d){return rk(c,_h(qe(d)))}var V5=Os(function(c,d){return c==null?{}:v$(c,d)});function rk(c,d){if(c==null)return{};var v=Gt(fv(c),function(k){return[k]});return d=qe(d),qC(c,v,function(k,R){return d(k,R[0])})}function G5(c,d,v){d=xi(d,c);var k=-1,R=d.length;for(R||(R=1,c=n);++k<R;){var I=c==null?n:c[is(d[k])];I===n&&(k=R,I=v),c=Is(I)?I.call(c):I}return c}function K5(c,d,v){return c==null?c:_u(c,d,v)}function q5(c,d,v,k){return k=typeof k=="function"?k:n,c==null?c:_u(c,d,v,k)}var ok=gE(Cn),sk=gE(Cr);function Y5(c,d,v){var k=ot(c),R=k||bi(c)||Kl(c);if(d=qe(d,4),v==null){var I=c&&c.constructor;R?v=k?new I:[]:Yt(c)?v=Is(I)?Ul(ah(c)):{}:v={}}return(R?oo:rs)(c,function($,W,q){return d(v,$,W,q)}),v}function J5(c,d){return c==null?!0:ov(c,d)}function X5(c,d,v){return c==null?c:ZC(c,d,av(v))}function Q5(c,d,v,k){return k=typeof k=="function"?k:n,c==null?c:ZC(c,d,av(v),k)}function ql(c){return c==null?[]:$y(c,Cn(c))}function Z5(c){return c==null?[]:$y(c,Cr(c))}function e6(c,d,v){return v===n&&(v=d,d=n),v!==n&&(v=uo(v),v=v===v?v:0),d!==n&&(d=uo(d),d=d===d?d:0),Da(uo(c),d,v)}function t6(c,d,v){return d=Ds(d),v===n?(v=d,d=0):v=Ds(v),c=uo(c),a$(c,d,v)}function n6(c,d,v){if(v&&typeof v!="boolean"&&ir(c,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof c=="boolean"&&(v=c,c=n)),c===n&&d===n?(c=0,d=1):(c=Ds(c),d===n?(d=c,c=0):d=Ds(d)),c>d){var k=c;c=d,d=k}if(v||c%1||d%1){var R=MC();return Gn(c+R*(d-c+I4("1e-"+((R+"").length-1))),d)}return tv(c,d)}var r6=Vl(function(c,d,v){return d=d.toLowerCase(),c+(v?ik(d):d)});function ik(c){return Rv(Mt(c).toLowerCase())}function ak(c){return c=Mt(c),c&&c.replace(s4,K4).replace(E4,"")}function o6(c,d,v){c=Mt(c),d=Br(d);var k=c.length;v=v===n?k:Da(ct(v),0,k);var R=v;return v-=d.length,v>=0&&c.slice(v,R)==d}function s6(c){return c=Mt(c),c&&yn.test(c)?c.replace(Bt,q4):c}function i6(c){return c=Mt(c),c&&ce.test(c)?c.replace(nn,"\\$&"):c}var a6=Vl(function(c,d,v){return c+(v?"-":"")+d.toLowerCase()}),l6=Vl(function(c,d,v){return c+(v?" ":"")+d.toLowerCase()}),c6=uE("toLowerCase");function u6(c,d,v){c=Mt(c),d=ct(d);var k=d?Fl(c):0;if(!d||k>=d)return c;var R=(d-k)/2;return Eh(dh(R),v)+c+Eh(uh(R),v)}function d6(c,d,v){c=Mt(c),d=ct(d);var k=d?Fl(c):0;return d&&k<d?c+Eh(d-k,v):c}function f6(c,d,v){c=Mt(c),d=ct(d);var k=d?Fl(c):0;return d&&k<d?Eh(d-k,v)+c:c}function h6(c,d,v){return v||d==null?d=0:d&&(d=+d),w3(Mt(c).replace(pe,""),d||0)}function p6(c,d,v){return(v?ir(c,d,v):d===n)?d=1:d=ct(d),nv(Mt(c),d)}function m6(){var c=arguments,d=Mt(c[0]);return c.length<3?d:d.replace(c[1],c[2])}var g6=Vl(function(c,d,v){return c+(v?"_":"")+d.toLowerCase()});function y6(c,d,v){return v&&typeof v!="number"&&ir(c,d,v)&&(d=v=n),v=v===n?U:v>>>0,v?(c=Mt(c),c&&(typeof d=="string"||d!=null&&!kv(d))&&(d=Br(d),!d&&Ll(c))?wi(Ao(c),0,v):c.split(d,v)):[]}var v6=Vl(function(c,d,v){return c+(v?" ":"")+Rv(d)});function x6(c,d,v){return c=Mt(c),v=v==null?0:Da(ct(v),0,c.length),d=Br(d),c.slice(v,v+d.length)==d}function w6(c,d,v){var k=P.templateSettings;v&&ir(c,d,v)&&(d=n),c=Mt(c),d=jh({},d,k,yE);var R=jh({},d.imports,k.imports,yE),I=Cn(R),$=$y(R,I),W,q,he=0,me=d.interpolate||Yf,ye="__p += '",Ne=By((d.escape||Yf).source+"|"+me.source+"|"+(me===rt?Sy:Yf).source+"|"+(d.evaluate||Yf).source+"|$","g"),ze="//# sourceURL="+(At.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++M4+"]")+`
`;c.replace(Ne,function(Je,vt,bt,Ur,ar,Hr){return bt||(bt=Ur),ye+=c.slice(he,Hr).replace(i4,Y4),vt&&(W=!0,ye+=`' +
__e(`+vt+`) +
'`),ar&&(q=!0,ye+=`';
`+ar+`;
__p += '`),bt&&(ye+=`' +
((__t = (`+bt+`)) == null ? '' : __t) +
'`),he=Hr+Je.length,Je}),ye+=`';
`;var Ye=At.call(d,"variable")&&d.variable;if(!Ye)ye=`with (obj) {
`+ye+`
}
`;else if(Ro.test(Ye))throw new tt(a);ye=(q?ye.replace(ci,""):ye).replace(ui,"$1").replace(di,"$1;"),ye="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var ht=ck(function(){return Tt(I,ze+"return "+ye).apply(n,$)});if(ht.source=ye,Ev(ht))throw ht;return ht}function b6(c){return Mt(c).toLowerCase()}function S6(c){return Mt(c).toUpperCase()}function C6(c,d,v){if(c=Mt(c),c&&(v||d===n))return vC(c);if(!c||!(d=Br(d)))return c;var k=Ao(c),R=Ao(d),I=xC(k,R),$=wC(k,R)+1;return wi(k,I,$).join("")}function E6(c,d,v){if(c=Mt(c),c&&(v||d===n))return c.slice(0,SC(c)+1);if(!c||!(d=Br(d)))return c;var k=Ao(c),R=wC(k,Ao(d))+1;return wi(k,0,R).join("")}function k6(c,d,v){if(c=Mt(c),c&&(v||d===n))return c.replace(pe,"");if(!c||!(d=Br(d)))return c;var k=Ao(c),R=xC(k,Ao(d));return wi(k,R).join("")}function N6(c,d){var v=F,k=V;if(Yt(d)){var R="separator"in d?d.separator:R;v="length"in d?ct(d.length):v,k="omission"in d?Br(d.omission):k}c=Mt(c);var I=c.length;if(Ll(c)){var $=Ao(c);I=$.length}if(v>=I)return c;var W=v-Fl(k);if(W<1)return k;var q=$?wi($,0,W).join(""):c.slice(0,W);if(R===n)return q+k;if($&&(W+=q.length-W),kv(R)){if(c.slice(W).search(R)){var he,me=q;for(R.global||(R=By(R.source,Mt(Aa.exec(R))+"g")),R.lastIndex=0;he=R.exec(me);)var ye=he.index;q=q.slice(0,ye===n?W:ye)}}else if(c.indexOf(Br(R),W)!=W){var Ne=q.lastIndexOf(R);Ne>-1&&(q=q.slice(0,Ne))}return q+k}function T6(c){return c=Mt(c),c&&Lt.test(c)?c.replace(fi,n3):c}var R6=Vl(function(c,d,v){return c+(v?" ":"")+d.toUpperCase()}),Rv=uE("toUpperCase");function lk(c,d,v){return c=Mt(c),d=v?n:d,d===n?X4(c)?s3(c):W4(c):c.match(d)||[]}var ck=pt(function(c,d){try{return $r(c,n,d)}catch(v){return Ev(v)?v:new tt(v)}}),M6=Os(function(c,d){return oo(d,function(v){v=is(v),As(c,v,Sv(c[v],c))}),c});function A6(c){var d=c==null?0:c.length,v=qe();return c=d?Gt(c,function(k){if(typeof k[1]!="function")throw new so(i);return[v(k[0]),k[1]]}):[],pt(function(k){for(var R=-1;++R<d;){var I=c[R];if($r(I[0],this,k))return $r(I[1],this,k)}})}function P6(c){return n$(ao(c,p))}function Mv(c){return function(){return c}}function O6(c,d){return c==null||c!==c?d:c}var _6=fE(),I6=fE(!0);function Er(c){return c}function Av(c){return WC(typeof c=="function"?c:ao(c,p))}function D6(c){return HC(ao(c,p))}function j6(c,d){return VC(c,ao(d,p))}var L6=pt(function(c,d){return function(v){return Pu(v,c,d)}}),F6=pt(function(c,d){return function(v){return Pu(c,v,d)}});function Pv(c,d,v){var k=Cn(d),R=yh(d,k);v==null&&!(Yt(d)&&(R.length||!k.length))&&(v=d,d=c,c=this,R=yh(d,Cn(d)));var I=!(Yt(v)&&"chain"in v)||!!v.chain,$=Is(c);return oo(R,function(W){var q=d[W];c[W]=q,$&&(c.prototype[W]=function(){var he=this.__chain__;if(I||he){var me=c(this.__wrapped__),ye=me.__actions__=br(this.__actions__);return ye.push({func:q,args:arguments,thisArg:c}),me.__chain__=he,me}return q.apply(c,pi([this.value()],arguments))})}),c}function $6(){return Dn._===this&&(Dn._=d3),this}function Ov(){}function z6(c){return c=ct(c),pt(function(d){return GC(d,c)})}var B6=cv(Gt),W6=cv(hC),U6=cv(Iy);function uk(c){return gv(c)?Dy(is(c)):x$(c)}function H6(c){return function(d){return c==null?n:ja(c,d)}}var V6=pE(),G6=pE(!0);function _v(){return[]}function Iv(){return!1}function K6(){return{}}function q6(){return""}function Y6(){return!0}function J6(c,d){if(c=ct(c),c<1||c>j)return[];var v=U,k=Gn(c,U);d=qe(d),c-=U;for(var R=Fy(k,d);++v<c;)d(v);return R}function X6(c){return ot(c)?Gt(c,is):Wr(c)?[c]:br(AE(Mt(c)))}function Q6(c){var d=++c3;return Mt(c)+d}var Z6=Ch(function(c,d){return c+d},0),e8=uv("ceil"),t8=Ch(function(c,d){return c/d},1),n8=uv("floor");function r8(c){return c&&c.length?gh(c,Er,Yy):n}function o8(c,d){return c&&c.length?gh(c,qe(d,2),Yy):n}function s8(c){return gC(c,Er)}function i8(c,d){return gC(c,qe(d,2))}function a8(c){return c&&c.length?gh(c,Er,Zy):n}function l8(c,d){return c&&c.length?gh(c,qe(d,2),Zy):n}var c8=Ch(function(c,d){return c*d},1),u8=uv("round"),d8=Ch(function(c,d){return c-d},0);function f8(c){return c&&c.length?Ly(c,Er):0}function h8(c,d){return c&&c.length?Ly(c,qe(d,2)):0}return P.after=DB,P.ary=BE,P.assign=S5,P.assignIn=tk,P.assignInWith=jh,P.assignWith=C5,P.at=E5,P.before=WE,P.bind=Sv,P.bindAll=M6,P.bindKey=UE,P.castArray=KB,P.chain=FE,P.chunk=nz,P.compact=rz,P.concat=oz,P.cond=A6,P.conforms=P6,P.constant=Mv,P.countBy=fB,P.create=k5,P.curry=HE,P.curryRight=VE,P.debounce=GE,P.defaults=N5,P.defaultsDeep=T5,P.defer=jB,P.delay=LB,P.difference=sz,P.differenceBy=iz,P.differenceWith=az,P.drop=lz,P.dropRight=cz,P.dropRightWhile=uz,P.dropWhile=dz,P.fill=fz,P.filter=pB,P.flatMap=yB,P.flatMapDeep=vB,P.flatMapDepth=xB,P.flatten=IE,P.flattenDeep=hz,P.flattenDepth=pz,P.flip=FB,P.flow=_6,P.flowRight=I6,P.fromPairs=mz,P.functions=I5,P.functionsIn=D5,P.groupBy=wB,P.initial=yz,P.intersection=vz,P.intersectionBy=xz,P.intersectionWith=wz,P.invert=L5,P.invertBy=F5,P.invokeMap=SB,P.iteratee=Av,P.keyBy=CB,P.keys=Cn,P.keysIn=Cr,P.map=Ah,P.mapKeys=z5,P.mapValues=B5,P.matches=D6,P.matchesProperty=j6,P.memoize=Oh,P.merge=W5,P.mergeWith=nk,P.method=L6,P.methodOf=F6,P.mixin=Pv,P.negate=_h,P.nthArg=z6,P.omit=U5,P.omitBy=H5,P.once=$B,P.orderBy=EB,P.over=B6,P.overArgs=zB,P.overEvery=W6,P.overSome=U6,P.partial=Cv,P.partialRight=KE,P.partition=kB,P.pick=V5,P.pickBy=rk,P.property=uk,P.propertyOf=H6,P.pull=Ez,P.pullAll=jE,P.pullAllBy=kz,P.pullAllWith=Nz,P.pullAt=Tz,P.range=V6,P.rangeRight=G6,P.rearg=BB,P.reject=RB,P.remove=Rz,P.rest=WB,P.reverse=wv,P.sampleSize=AB,P.set=K5,P.setWith=q5,P.shuffle=PB,P.slice=Mz,P.sortBy=IB,P.sortedUniq=jz,P.sortedUniqBy=Lz,P.split=y6,P.spread=UB,P.tail=Fz,P.take=$z,P.takeRight=zz,P.takeRightWhile=Bz,P.takeWhile=Wz,P.tap=rB,P.throttle=HB,P.thru=Mh,P.toArray=QE,P.toPairs=ok,P.toPairsIn=sk,P.toPath=X6,P.toPlainObject=ek,P.transform=Y5,P.unary=VB,P.union=Uz,P.unionBy=Hz,P.unionWith=Vz,P.uniq=Gz,P.uniqBy=Kz,P.uniqWith=qz,P.unset=J5,P.unzip=bv,P.unzipWith=LE,P.update=X5,P.updateWith=Q5,P.values=ql,P.valuesIn=Z5,P.without=Yz,P.words=lk,P.wrap=GB,P.xor=Jz,P.xorBy=Xz,P.xorWith=Qz,P.zip=Zz,P.zipObject=eB,P.zipObjectDeep=tB,P.zipWith=nB,P.entries=ok,P.entriesIn=sk,P.extend=tk,P.extendWith=jh,Pv(P,P),P.add=Z6,P.attempt=ck,P.camelCase=r6,P.capitalize=ik,P.ceil=e8,P.clamp=e6,P.clone=qB,P.cloneDeep=JB,P.cloneDeepWith=XB,P.cloneWith=YB,P.conformsTo=QB,P.deburr=ak,P.defaultTo=O6,P.divide=t8,P.endsWith=o6,P.eq=Oo,P.escape=s6,P.escapeRegExp=i6,P.every=hB,P.find=mB,P.findIndex=OE,P.findKey=R5,P.findLast=gB,P.findLastIndex=_E,P.findLastKey=M5,P.floor=n8,P.forEach=$E,P.forEachRight=zE,P.forIn=A5,P.forInRight=P5,P.forOwn=O5,P.forOwnRight=_5,P.get=Nv,P.gt=ZB,P.gte=e5,P.has=j5,P.hasIn=Tv,P.head=DE,P.identity=Er,P.includes=bB,P.indexOf=gz,P.inRange=t6,P.invoke=$5,P.isArguments=$a,P.isArray=ot,P.isArrayBuffer=t5,P.isArrayLike=Sr,P.isArrayLikeObject=un,P.isBoolean=n5,P.isBuffer=bi,P.isDate=r5,P.isElement=o5,P.isEmpty=s5,P.isEqual=i5,P.isEqualWith=a5,P.isError=Ev,P.isFinite=l5,P.isFunction=Is,P.isInteger=qE,P.isLength=Ih,P.isMap=YE,P.isMatch=c5,P.isMatchWith=u5,P.isNaN=d5,P.isNative=f5,P.isNil=p5,P.isNull=h5,P.isNumber=JE,P.isObject=Yt,P.isObjectLike=on,P.isPlainObject=Lu,P.isRegExp=kv,P.isSafeInteger=m5,P.isSet=XE,P.isString=Dh,P.isSymbol=Wr,P.isTypedArray=Kl,P.isUndefined=g5,P.isWeakMap=y5,P.isWeakSet=v5,P.join=bz,P.kebabCase=a6,P.last=co,P.lastIndexOf=Sz,P.lowerCase=l6,P.lowerFirst=c6,P.lt=x5,P.lte=w5,P.max=r8,P.maxBy=o8,P.mean=s8,P.meanBy=i8,P.min=a8,P.minBy=l8,P.stubArray=_v,P.stubFalse=Iv,P.stubObject=K6,P.stubString=q6,P.stubTrue=Y6,P.multiply=c8,P.nth=Cz,P.noConflict=$6,P.noop=Ov,P.now=Ph,P.pad=u6,P.padEnd=d6,P.padStart=f6,P.parseInt=h6,P.random=n6,P.reduce=NB,P.reduceRight=TB,P.repeat=p6,P.replace=m6,P.result=G5,P.round=u8,P.runInContext=K,P.sample=MB,P.size=OB,P.snakeCase=g6,P.some=_B,P.sortedIndex=Az,P.sortedIndexBy=Pz,P.sortedIndexOf=Oz,P.sortedLastIndex=_z,P.sortedLastIndexBy=Iz,P.sortedLastIndexOf=Dz,P.startCase=v6,P.startsWith=x6,P.subtract=d8,P.sum=f8,P.sumBy=h8,P.template=w6,P.times=J6,P.toFinite=Ds,P.toInteger=ct,P.toLength=ZE,P.toLower=b6,P.toNumber=uo,P.toSafeInteger=b5,P.toString=Mt,P.toUpper=S6,P.trim=C6,P.trimEnd=E6,P.trimStart=k6,P.truncate=N6,P.unescape=T6,P.uniqueId=Q6,P.upperCase=R6,P.upperFirst=Rv,P.each=$E,P.eachRight=zE,P.first=DE,Pv(P,function(){var c={};return rs(P,function(d,v){At.call(P.prototype,v)||(c[v]=d)}),c}(),{chain:!1}),P.VERSION=r,oo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){P[c].placeholder=P}),oo(["drop","take"],function(c,d){wt.prototype[c]=function(v){v=v===n?1:xn(ct(v),0);var k=this.__filtered__&&!d?new wt(this):this.clone();return k.__filtered__?k.__takeCount__=Gn(v,k.__takeCount__):k.__views__.push({size:Gn(v,U),type:c+(k.__dir__<0?"Right":"")}),k},wt.prototype[c+"Right"]=function(v){return this.reverse()[c](v).reverse()}}),oo(["filter","map","takeWhile"],function(c,d){var v=d+1,k=v==z||v==ee;wt.prototype[c]=function(R){var I=this.clone();return I.__iteratees__.push({iteratee:qe(R,3),type:v}),I.__filtered__=I.__filtered__||k,I}}),oo(["head","last"],function(c,d){var v="take"+(d?"Right":"");wt.prototype[c]=function(){return this[v](1).value()[0]}}),oo(["initial","tail"],function(c,d){var v="drop"+(d?"":"Right");wt.prototype[c]=function(){return this.__filtered__?new wt(this):this[v](1)}}),wt.prototype.compact=function(){return this.filter(Er)},wt.prototype.find=function(c){return this.filter(c).head()},wt.prototype.findLast=function(c){return this.reverse().find(c)},wt.prototype.invokeMap=pt(function(c,d){return typeof c=="function"?new wt(this):this.map(function(v){return Pu(v,c,d)})}),wt.prototype.reject=function(c){return this.filter(_h(qe(c)))},wt.prototype.slice=function(c,d){c=ct(c);var v=this;return v.__filtered__&&(c>0||d<0)?new wt(v):(c<0?v=v.takeRight(-c):c&&(v=v.drop(c)),d!==n&&(d=ct(d),v=d<0?v.dropRight(-d):v.take(d-c)),v)},wt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},wt.prototype.toArray=function(){return this.take(U)},rs(wt.prototype,function(c,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),k=/^(?:head|last)$/.test(d),R=P[k?"take"+(d=="last"?"Right":""):d],I=k||/^find/.test(d);R&&(P.prototype[d]=function(){var $=this.__wrapped__,W=k?[1]:arguments,q=$ instanceof wt,he=W[0],me=q||ot($),ye=function(vt){var bt=R.apply(P,pi([vt],W));return k&&Ne?bt[0]:bt};me&&v&&typeof he=="function"&&he.length!=1&&(q=me=!1);var Ne=this.__chain__,ze=!!this.__actions__.length,Ye=I&&!Ne,ht=q&&!ze;if(!I&&me){$=ht?$:new wt(this);var Je=c.apply($,W);return Je.__actions__.push({func:Mh,args:[ye],thisArg:n}),new io(Je,Ne)}return Ye&&ht?c.apply(this,W):(Je=this.thru(ye),Ye?k?Je.value()[0]:Je.value():Je)})}),oo(["pop","push","shift","sort","splice","unshift"],function(c){var d=th[c],v=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",k=/^(?:pop|shift)$/.test(c);P.prototype[c]=function(){var R=arguments;if(k&&!this.__chain__){var I=this.value();return d.apply(ot(I)?I:[],R)}return this[v](function($){return d.apply(ot($)?$:[],R)})}}),rs(wt.prototype,function(c,d){var v=P[d];if(v){var k=v.name+"";At.call(Wl,k)||(Wl[k]=[]),Wl[k].push({name:d,func:v})}}),Wl[Sh(n,S).name]=[{name:"wrapper",func:n}],wt.prototype.clone=T3,wt.prototype.reverse=R3,wt.prototype.value=M3,P.prototype.at=oB,P.prototype.chain=sB,P.prototype.commit=iB,P.prototype.next=aB,P.prototype.plant=cB,P.prototype.reverse=uB,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=dB,P.prototype.first=P.prototype.head,Eu&&(P.prototype[Eu]=lB),P},$l=i3();Pa?((Pa.exports=$l)._=$l,Ay._=$l):Dn._=$l}).call(Fu)})(Jm,Jm.exports);var yce=Jm.exports;const gM=["#2563eb","#000000","#FF0000","#00FF00","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#A52A2A"],vce=({whiteboard:t,onCanvasChange:e,onSave:n,whiteboardColor:r,onAutoSave:o,isMobile:s=!1})=>{const i=m.useRef(null);To();const[a,l]=m.useState("pen"),[u,f]=m.useState("#2563eb"),[p,g]=m.useState(s?3:2),[y,b]=m.useState(!1),[w,x]=m.useState(null),[S,C]=m.useState(0),[E,N]=m.useState(!1),[T,M]=m.useState([]),[A,O]=m.useState(0),[L,F]=m.useState(!1),[V,H]=m.useState(!1),[G,z]=m.useState({x:0,y:0}),[X,ee]=m.useState(1),[oe,j]=m.useState(0),[_,B]=m.useState({x:0,y:0}),[U,D]=m.useState(!1),[Z,Q]=m.useState(1),[Y,ae]=m.useState(!1),[J,ge]=m.useState(!1),de=m.useRef(null),ie=m.useRef(null);m.useEffect(()=>{if(i.current&&t.canvas_data&&!E)try{console.log(" Loading canvas data:",{dataType:typeof t.canvas_data,isArray:Array.isArray(t.canvas_data),dataLength:Array.isArray(t.canvas_data)?t.canvas_data.length:"N/A",dataPreview:JSON.stringify(t.canvas_data).substring(0,300)});let ue=t.canvas_data;if(Array.isArray(ue))console.log(" Data is already in array format");else if(ue&&typeof ue=="object"&&ue.paths)console.log(" Data is in object format with paths, extracting array"),ue=ue.paths;else if(typeof ue=="string")try{const Pe=JSON.parse(ue);if(Array.isArray(Pe))ue=Pe;else if(Pe&&typeof Pe=="object"&&Pe.paths)ue=Pe.paths;else throw new Error("Invalid parsed format")}catch(Pe){console.warn(" Failed to parse string canvas data:",Pe),ue=[]}else console.warn(" Unknown data format, using empty array"),ue=[];if(Array.isArray(ue)||(console.warn(" Data is not an array after processing:",typeof ue),ue=[]),ue.length>0){const Pe=ue[0];(!Pe.drawMode||!Pe.strokeColor||!Pe.strokeWidth)&&(console.log(" Reconstructing missing metadata for canvas paths"),ue=ue.map(($e,ft)=>({drawMode:!0,strokeColor:$e.strokeColor||"#2563eb",strokeWidth:$e.strokeWidth||2,paths:$e.paths||$e||[]})))}if(console.log(" Final data to load:",{isArray:Array.isArray(ue),length:Array.isArray(ue)?ue.length:"N/A",dataPreview:JSON.stringify(ue).substring(0,300)}),Array.isArray(ue)){const Pe=console.warn,$e=console.error;console.warn=(...ft)=>{var re,Se;(Se=(re=ft[0])==null?void 0:re.includes)!=null&&Se.call(re,"No stroke found")||Pe.apply(console,ft)},console.error=(...ft)=>{var re,Se;(Se=(re=ft[0])==null?void 0:re.includes)!=null&&Se.call(re,"No stroke found")||$e.apply(console,ft)},i.current.loadPaths(ue),N(!0),M(ue),O(Date.now()),w&&(clearTimeout(w),x(null),console.log(" Cleared pending auto-save timeout after loading data")),console.log(" Canvas data loaded successfully"),console.warn=Pe,console.error=$e}else console.warn(" Invalid canvas data format, using empty canvas:",{dataType:typeof ue,dataValue:ue}),i.current.loadPaths([]),N(!0),M([]),O(Date.now()),w&&(clearTimeout(w),x(null))}catch(ue){console.error(" Failed to load canvas data:",ue);try{i.current.loadPaths([]),N(!0),M([]),O(Date.now()),w&&(clearTimeout(w),x(null))}catch(Pe){console.error(" Failed to load empty canvas:",Pe)}}},[t.canvas_data,E,w]);const Re=m.useCallback(yce.debounce(async(ue,Pe)=>{try{console.log(" Auto-saving canvas data:",{pathCount:ue.length,dataPreview:JSON.stringify(ue).substring(0,100),whiteboardId:Pe}),await n(ue),console.log(" Canvas auto-save completed successfully")}catch($e){console.error(" Canvas auto-save failed:",$e)}},500),[n]),be=m.useCallback(async()=>{if(b(!1),!i.current)return;const ue=Date.now()-A;if(ue<2e3){console.log(" Skipping auto-save - too soon after canvas load:",{timeSinceLoad:ue});return}try{const Pe=await i.current.exportPaths();let $e=[];if(t.canvas_data){if(Array.isArray(t.canvas_data))$e=t.canvas_data;else if(typeof t.canvas_data=="object"&&t.canvas_data.paths)$e=t.canvas_data.paths||[];else if(typeof t.canvas_data=="string")try{const Se=JSON.parse(t.canvas_data);$e=Array.isArray(Se)?Se:Se.paths||[]}catch{$e=[]}}const ft=JSON.stringify(Pe),re=JSON.stringify($e);if(console.log(" Canvas change detection:",{currentPaths:(Pe==null?void 0:Pe.length)||0,savedPaths:($e==null?void 0:$e.length)||0,hasChanges:ft!==re,currentDataPreview:ft.substring(0,100),savedDataPreview:re.substring(0,100)}),ft!==re){if(console.log(" Canvas changes detected, scheduling auto-save..."),Pe.length===0&&(T.length>0||$e.length>0)&&!L){console.warn(" Preventing accidental canvas clear - expected content but got empty data",{expectedPaths:Math.max(T.length,$e.length),currentPaths:Pe.length,timeSinceLoad:Date.now()-A,lastLoadedCount:T.length,savedDataCount:$e.length,isIntentionalClear:L});return}else L&&Pe.length===0&&console.log(" Allowing intentional canvas clear");w&&clearTimeout(w);const Se=setTimeout(()=>{Re(Pe,t.id)},3e3);x(Se)}else console.log(" No canvas changes detected, skipping auto-save")}catch(Pe){console.error("Failed to check canvas changes:",Pe)}},[w,Re,t.canvas_data,i,T,A,L]);m.useEffect(()=>()=>{w&&clearTimeout(w)},[w]);const Oe=ue=>{l(ue),i.current&&(ue==="eraser"?i.current.eraseMode(!0):i.current.eraseMode(!1))},Me=ue=>{f(ue),a==="pen"&&(l("pen"),i.current&&i.current.eraseMode(!1))},Ze=ue=>{g(ue[0])},Ge=()=>{i.current&&i.current.undo()},gt=()=>{i.current&&i.current.redo()},Ue=async()=>{if(i.current){F(!0),i.current.clearCanvas();try{await n([]),M([]),console.log(" Canvas cleared and saved successfully")}catch(ue){console.error(" Failed to save cleared canvas:",ue)}finally{setTimeout(()=>F(!1),1e3)}}},nt=(ue,Pe)=>{const $e=ue.clientX-Pe.clientX,ft=ue.clientY-Pe.clientY;return Math.sqrt($e*$e+ft*ft)},Ke=(ue,Pe)=>({x:(ue.clientX+Pe.clientX)/2,y:(ue.clientY+Pe.clientY)/2}),Be=ue=>{if(s)if(ue.touches.length===2){ue.preventDefault(),H(!0),b(!1);const Pe=nt(ue.touches[0],ue.touches[1]);j(Pe);const $e=Ke(ue.touches[0],ue.touches[1]);B($e)}else ue.touches.length===1&&H(!1)},Xe=ue=>{if(!(!s||!V)&&(ue.preventDefault(),ue.touches.length===2)){const Pe=nt(ue.touches[0],ue.touches[1]),$e=Ke(ue.touches[0],ue.touches[1]);if(oe>0){const Ce=Pe/oe,De=Math.min(2,Math.max(.5,X*Ce));Dt({scale:De}),j(Pe)}const ft=$e.x-_.x,re=$e.y-_.y,Se={x:G.x+ft*.5,y:G.y+re*.5};Dt({pan:Se}),B($e)}},yt=ue=>{s&&ue.touches.length<2&&(H(!1),j(0),Dt({immediate:!0}))};m.useEffect(()=>{if(!s)return;const ue=Pe=>{y&&!V&&Pe.preventDefault()};return document.addEventListener("touchmove",ue,{passive:!1}),()=>document.removeEventListener("touchmove",ue)},[y,V,s]);const Dt=m.useCallback(ue=>{var ft,re;if(!s||!de.current)return;const $e=de.current.querySelector(".react-sketch-canvas");if($e){ie.current&&clearTimeout(ie.current);const Se=`scale(${ue.scale||X}) translate(${((ft=ue.pan)==null?void 0:ft.x)||G.x}px, ${((re=ue.pan)==null?void 0:re.y)||G.y}px)`;$e.style.transform=Se,$e.style.transformOrigin="center",ue.immediate||(ie.current=setTimeout(()=>{ue.scale!==void 0&&ee(ue.scale),ue.pan!==void 0&&z(ue.pan)},50))}},[s,X,G]);return h.jsxs("div",{className:"w-full h-full flex flex-col",children:[h.jsx("div",{className:Te("border-b border-gray-200 bg-gray-50",s?"p-2 space-y-2":"p-3 flex items-center justify-between"),children:s?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border",children:[h.jsx(ke,{variant:"ghost",size:"default",onClick:()=>Oe("pen"),className:Te("h-9 w-9 p-0",a==="pen"?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-gray-100"),children:h.jsx(cw,{className:"h-4 w-4"})}),h.jsx(ke,{variant:"ghost",size:"default",onClick:()=>Oe("eraser"),className:Te("h-9 w-9 p-0",a==="eraser"?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-gray-100"),children:h.jsx(uw,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-md border",children:[h.jsx("span",{className:"text-xs text-gray-700 font-medium min-w-[15px]",children:p}),h.jsx(db,{value:[p],onValueChange:Ze,max:20,min:1,step:1,className:"w-12 [&>*]:bg-gray-200 [&>*>*]:bg-blue-600 [&>*:last-child]:border-blue-600 [&>*:last-child]:bg-white"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ke,{variant:"ghost",size:"sm",onClick:Ge,className:"h-8 w-8 p-0",children:h.jsx(HN,{className:"h-3 w-3"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:gt,className:"h-8 w-8 p-0",children:h.jsx(UN,{className:"h-3 w-3"})}),h.jsx(ke,{variant:"outline",size:"sm",onClick:Ue,className:"text-xs px-2 h-8",children:"Clear"})]})]}),a==="pen"&&h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border overflow-x-auto max-w-full",children:gM.map(ue=>h.jsx("button",{onClick:()=>Me(ue),className:Te("w-7 h-7 rounded-sm border-2 flex-shrink-0 transition-transform",u===ue?"border-gray-800 scale-110":"border-gray-300"),style:{backgroundColor:ue},"aria-label":`Select ${ue} color`},ue))})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border",children:[h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>Oe("pen"),className:Te("h-8 w-8 p-0",a==="pen"?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-gray-100"),children:h.jsx(cw,{className:"h-4 w-4"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>Oe("eraser"),className:Te("h-8 w-8 p-0",a==="eraser"?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-gray-100"),children:h.jsx(uw,{className:"h-4 w-4"})})]}),a==="pen"&&h.jsx("div",{className:"flex items-center gap-1 p-1 bg-white rounded-md border",children:gM.map(ue=>h.jsx("button",{onClick:()=>Me(ue),className:`w-6 h-6 rounded-sm border-2 ${u===ue?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:ue},"aria-label":`Select ${ue} color`},ue))}),h.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-md border",children:[h.jsx("span",{className:"text-xs text-gray-700 font-medium min-w-[20px]",children:p}),h.jsx(db,{value:[p],onValueChange:Ze,max:20,min:1,step:1,className:"w-16 [&>*]:bg-gray-200 [&>*>*]:bg-blue-600 [&>*:last-child]:border-blue-600 [&>*:last-child]:bg-white"})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ke,{variant:"ghost",size:"sm",onClick:Ge,className:"h-8 w-8 p-0",children:h.jsx(HN,{className:"h-4 w-4"})}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:gt,className:"h-8 w-8 p-0",children:h.jsx(UN,{className:"h-4 w-4"})}),h.jsx(ke,{variant:"outline",size:"sm",onClick:Ue,className:"text-xs",children:"Clear"})]})]})}),h.jsxs("div",{ref:de,className:"flex-1 relative overflow-hidden",onTouchStart:Be,onTouchMove:Xe,onTouchEnd:yt,style:{transform:s?`translate(${G.x}px, ${G.y}px) scale(${X})`:"none",transformOrigin:"center",transition:V?"none":"transform 0.1s ease-out"},children:[s&&X!==1&&h.jsxs("div",{className:"absolute top-2 left-2 z-30 bg-black/70 text-white text-xs px-2 py-1 rounded",children:[Math.round(X*100),"%"]}),s&&V&&h.jsx("div",{className:"absolute top-2 right-2 z-30 bg-blue-500/70 text-white text-xs px-2 py-1 rounded",children:"Two fingers: Pan & Zoom"}),s&&(G.x!==0||G.y!==0||X!==1)&&h.jsx(ke,{onClick:()=>{z({x:0,y:0}),ee(1)},size:"sm",variant:"secondary",className:"absolute bottom-2 right-2 z-30 h-8 w-auto px-2 text-xs",children:"Reset View"}),h.jsxs("div",{className:"whiteboard-drawing-area",onMouseDown:ue=>{ue.target.tagName==="CANVAS"&&ue.stopPropagation()},children:[h.jsx(Qle,{ref:i,style:{border:"none",borderRadius:"0 0 8px 8px",cursor:a==="pen"?'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTEyIDEzIDcuNS03LjUgMS41IDEuNS03LjUgNy41LTEuNS0xLjV6IiBmaWxsPSIjMDAwIi8+CjxwYXRoIGQ9Im04IDEzLjUgNC41IDQuNS00LjUtMS0wLjUtMC41VjEzLjVaIiBmaWxsPSIjMDAwIi8+Cjwvc3ZnPgo=") 2 22, auto':'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMyIgeT0iMyIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiByeD0iOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPgo8L3N2Zz4K") 12 12, auto',touchAction:s?"none":"auto"},width:`${t.canvas_width}px`,height:`${t.canvas_height-(s?50:60)}px`,strokeWidth:p,strokeColor:a==="pen"?u:"#FFFFFF",canvasColor:t.background_color,onChange:be,allowOnlyPointerType:"all",preserveBackgroundImageAspectRatio:"none"}),y&&!V&&h.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-md z-20",children:"Drawing..."})]})]})]})},xce=({currentCategory:t,existingCategories:e,isEditingCategory:n,showNewCategoryInput:r,newCategory:o,setNewCategory:s,setIsEditingCategory:i,setShowNewCategoryInput:a,handleEditCategory:l,handleAddCustomCategory:u})=>h.jsx("div",{className:"mb-2 px-6",children:n?h.jsx("div",{className:"mb-2",children:r?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Zt,{value:o,onChange:f=>s(f.target.value),placeholder:"Enter new category",className:"h-8",autoFocus:!0,onKeyDown:f=>{f.key==="Enter"&&u()}}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:u,className:"h-8 w-8 p-0",children:h.jsx(No,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>{a(!1),s("")},className:"h-8 w-8 p-0",children:h.jsx(ii,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsxs(Ea,{onValueChange:l,defaultValue:t,children:[h.jsx(ai,{className:"h-8",style:{fontFamily:'"Raleway", sans-serif'},children:h.jsx(ka,{placeholder:"Select a category"})}),h.jsxs(li,{children:[e.map(f=>h.jsx(cn,{value:f,style:{fontFamily:'"Raleway", sans-serif'},children:f},f)),h.jsx(cn,{value:"__custom__",className:"text-blue-600",style:{fontFamily:'"Raleway", sans-serif'},children:"+ Add new category"})]})]}),h.jsx(ke,{size:"sm",variant:"ghost",className:"self-start",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!1),children:"Cancel"})]})}):h.jsx(tS,{variant:"outline",className:"cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>i(!0),children:t&&t!==""?t:"Select a category"})}),ox=250,yM=800,vM=400,o4=({whiteboard:t,onUpdate:e,onDelete:n,existingCategories:r,isCollapsed:o,onToggleCollapsed:s})=>{const[i,a]=m.useState(!1),[l,u]=m.useState(t.canvas_height||vM),[f,p]=m.useState(!1),[g,y]=m.useState(0),[b,w]=m.useState(0),x=m.useRef(null),S=m.useRef(),C=m.useRef(null);m.useEffect(()=>{const ie=()=>{a(window.innerWidth<768)};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),m.useEffect(()=>{i&&u(Math.min(yM,Math.max(ox,t.canvas_height||vM)))},[t.canvas_height,i]);const{whiteboardTitle:E,isCollapsibleOpen:N,setIsCollapsibleOpen:T,isEditing:M,setIsEditing:A,editTitle:O,setEditTitle:L,handleEditTitle:F,handleDeleteWhiteboard:V,handleSaveWhiteboardColor:H,isSavingColor:G,isEditingCategory:z,setIsEditingCategory:X,showNewCategoryInput:ee,setShowNewCategoryInput:oe,newCategory:j,setNewCategory:_,handleEditCategory:B,handleAddCustomCategory:U,handleCanvasChange:D,handleCanvasSave:Z,titleEditRef:Q}=Kle({whiteboard:t,onUpdate:e,onDelete:n,isCollapsed:o,onToggleCollapsed:s});m.useEffect(()=>{if(!M)return;const ie=Re=>{Q.current&&!Q.current.contains(Re.target)&&F()};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[M,F]);const{toast:Y}=To(),[ae,J]=ne.useState(t.color_value||"#3B82F6");ne.useEffect(()=>{J(t.color_value||"#3B82F6")},[t.color_value]);const ge=ae,de=ie=>{ie.preventDefault(),ie.stopPropagation();const Re="touches"in ie?ie.touches[0].clientY:ie.clientY;p(!0),y(Re),w(l);let be=l;const Oe=Ze=>{const gt=("touches"in Ze?Ze.touches[0].clientY:Ze.clientY)-g,Ue=Math.min(yM,Math.max(ox,b+gt));be=Ue,C.current&&(C.current.style.height=`${Ue}px`)},Me=()=>{u(be),p(!1),C.current&&(C.current.style.height=""),S.current&&clearTimeout(S.current),S.current=setTimeout(async()=>{await e(t.id,{canvas_height:Math.round(be)})},1500),document.removeEventListener("touchmove",Oe),document.removeEventListener("mousemove",Oe),document.removeEventListener("touchend",Me),document.removeEventListener("mouseup",Me)};document.addEventListener("touchmove",Oe,{passive:!1}),document.addEventListener("mousemove",Oe),document.addEventListener("touchend",Me),document.addEventListener("mouseup",Me)};return h.jsx(J1,{open:N,onOpenChange:ie=>{s&&o!==void 0?!o!==ie&&s():T(ie)},className:"w-full",style:{"--whiteboard-color":ge},children:h.jsxs(Yg,{ref:x,className:"w-full shadow-sm h-full flex flex-col",style:{border:"none"},children:[h.jsx(Jg,{className:"pb-2",children:h.jsx("div",{className:"flex justify-between items-center",children:M?h.jsxs("div",{className:"flex gap-1 w-full",children:[h.jsx(Zt,{ref:Q,value:O,onChange:ie=>L(ie.target.value),className:"h-8",autoFocus:!0,onKeyDown:ie=>{ie.key==="Enter"&&F()}}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:F,className:"h-8 w-8 p-0",children:h.jsx(No,{className:"h-4 w-4"})}),h.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>A(!1),className:"h-8 w-8 p-0",children:h.jsx(ii,{className:"h-4 w-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(mu,{color:ge,onChange:ie=>{J(ie)},onSave:async ie=>{if(ie!==(t.color_value||"#3B82F6"))try{await H(ie)}catch{Y({title:"Error",description:"Could not save color. Reverting preview.",variant:"destructive"}),J(t.color_value||"#3B82F6")}},children:h.jsxs(ke,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 rounded-full flex items-center justify-center relative","aria-label":"Change whiteboard color",disabled:G,children:[h.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-gray-400 transition-colors duration-150",style:{backgroundColor:ge}}),G&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 rounded-full",children:h.jsx("div",{className:"h-2 w-2 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"})})]})}),h.jsx(sl,{className:"h-4 w-4 text-slate-500"}),h.jsx(Xg,{className:"text-lg font-medium cursor-pointer",style:{fontFamily:'"Raleway", sans-serif'},onClick:()=>A(!0),children:E})]}),h.jsxs("div",{className:"flex",children:[h.jsx(X1,{asChild:!0,children:h.jsx(ke,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:h.jsx(Ks,{className:Te("h-4 w-4 transition-transform",N?"":"transform rotate-180")})})}),h.jsxs(Hg,{children:[h.jsx(Vg,{asChild:!0,children:h.jsx(ke,{variant:"ghost",className:"h-8 w-8 p-0",children:h.jsx(g1,{className:"h-4 w-4"})})}),h.jsxs($f,{align:"end",children:[h.jsxs(ha,{onClick:()=>A(!0),style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Nf,{className:"mr-2 h-4 w-4"}),"Edit Title"]}),h.jsxs(ha,{onClick:V,className:"text-red-600",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Cg,{className:"mr-2 h-4 w-4"}),"Delete Whiteboard"]})]})]})]})]})})}),h.jsx(xce,{currentCategory:t.category||"",existingCategories:r,isEditingCategory:z,showNewCategoryInput:ee,newCategory:j,setNewCategory:_,setIsEditingCategory:X,setShowNewCategoryInput:oe,handleEditCategory:B,handleAddCustomCategory:U}),h.jsx(Q1,{className:"flex-1",children:h.jsxs("div",{className:"bg-white rounded-lg mx-6 mb-6 flex-1 flex flex-col relative",style:{border:`2px solid ${ge} !important`,borderColor:`${ge} !important`,height:i?`${l}px`:`${Math.max(300,t.canvas_height)}px`},ref:C,children:[h.jsx(vce,{whiteboard:t,onCanvasChange:D,onSave:Z,whiteboardColor:ge,onAutoSave:Z,isMobile:i}),i&&!o&&h.jsxs("div",{className:Te("absolute bottom-0 left-0 right-0 h-6 cursor-ns-resize flex items-center justify-center","touch-manipulation select-none transition-colors duration-200",f?"bg-blue-100 border-t-2 border-blue-300":"hover:bg-gray-100 border-t border-gray-300"),onTouchStart:de,onMouseDown:de,style:{zIndex:20,borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px"},children:[h.jsx("div",{className:Te("w-16 h-1.5 rounded-full transition-all duration-200",f?"bg-blue-500 scale-110":"bg-gray-400")}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:Te("text-xs font-medium transition-all duration-200 pointer-events-none",f?"text-blue-600 opacity-100":"text-gray-500 opacity-0"),children:f?"Resizing...":"Drag to resize"})}),h.jsx("div",{className:"absolute -inset-2"})]}),i&&!o&&l>ox+50&&h.jsx("div",{className:"absolute bottom-8 left-2 right-2 pointer-events-none z-10",children:h.jsx("div",{className:"bg-black/70 text-white text-xs px-3 py-2 rounded-lg backdrop-blur-sm shadow-lg",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Two fingers: Pan & Zoom"}),h.jsx("span",{className:"mx-2",children:""}),h.jsx("span",{children:""}),h.jsx("span",{children:"One finger: Draw"})]})})})]})})]})})},xM=300,wM=250,bM=2400,SM=2400,wce=({whiteboard:t,onUpdate:e,onDelete:n,existingCategories:r,canvasTransform:o,onPositionChange:s,isCollapsed:i,onToggleCollapsed:a})=>{var A,O;const l=m.useRef(null),[u,f]=m.useState(!1),[p,g]=m.useState(!1),[y,b]=m.useState({x:0,y:0}),[w,x]=m.useState({startX:0,startY:0,startWidth:0,startHeight:0});parseFloat(((A=l.current)==null?void 0:A.style.width)||"")||t.canvas_width,parseFloat(((O=l.current)==null?void 0:O.style.height)||"")||t.canvas_height,m.useEffect(()=>{l.current&&(l.current.style.left=`${t.position_x}px`,l.current.style.top=`${t.position_y}px`)},[t.position_x,t.position_y]);const S=L=>{var G;const F=L.target;if(F.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle, .whiteboard-canvas, canvas'))return;const V=F.closest('input, textarea, button, [role="button"], [role="menuitem"], .resize-handle'),H=F.closest("canvas")||F.tagName==="CANVAS"||F.closest(".whiteboard-drawing-area")||F.closest(".react-sketch-canvas")||F.closest('[data-testid="react-sketch-canvas"]');if(!(V||H)&&(L.preventDefault(),l.current)){const z=(G=l.current.parentElement)==null?void 0:G.getBoundingClientRect();if(z){const X=(L.clientX-z.left-o.x)/o.scale,ee=(L.clientY-z.top-o.y)/o.scale,oe=parseFloat(l.current.style.left)||0,j=parseFloat(l.current.style.top)||0;b({x:(X-oe)*o.scale,y:(ee-j)*o.scale}),f(!0)}}},C=L=>{var F;if(u&&l.current){const V=(F=l.current.parentElement)==null?void 0:F.getBoundingClientRect();if(!V)return;const H=(L.clientX-V.left-o.x)/o.scale,G=(L.clientY-V.top-o.y)/o.scale,z=H-y.x/o.scale,X=G-y.y/o.scale;l.current.style.left=`${z}px`,l.current.style.top=`${X}px`}if(p&&l.current){const V=L.clientX-w.startX,H=L.clientY-w.startY,G=V/o.scale,z=H/o.scale,X=Math.min(bM,Math.max(xM,w.startWidth+G)),ee=Math.min(SM,Math.max(wM,w.startHeight+z));l.current.style.width=`${X}px`,l.current.style.height=`${ee}px`}},E=()=>{if(u&&l.current){f(!1);const L=parseFloat(l.current.style.left)||0,F=parseFloat(l.current.style.top)||0,V={x:Math.round(L),y:Math.round(F)};s(t.id,V)}if(p&&l.current){g(!1);const L=parseFloat(l.current.style.left)||0,F=parseFloat(l.current.style.top)||0,V=parseFloat(l.current.style.width)||t.canvas_width||400,H=parseFloat(l.current.style.height)||t.canvas_height||400,G={x:Math.round(L),y:Math.round(F)};e(t.id,{position_x:G.x,position_y:G.y,canvas_width:Math.min(bM,Math.max(xM,Math.round(V))),canvas_height:Math.min(SM,Math.max(wM,Math.round(H)))})}};m.useEffect(()=>((u||p)&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",E)}),[u,p,y,w]);const N=L=>{if(L.preventDefault(),L.stopPropagation(),l.current){const F=parseFloat(l.current.style.width)||t.canvas_width||400,V=parseFloat(l.current.style.height)||t.canvas_height||400;x({startX:L.clientX,startY:L.clientY,startWidth:F,startHeight:V}),g(!0)}},T=async(L,F)=>{try{await e(L,F)}catch(V){console.error("Failed to update whiteboard:",V)}},M=async L=>{try{await n(L)}catch(F){console.error("Failed to delete whiteboard:",F)}};return h.jsxs("div",{ref:l,onMouseDown:S,className:"draggable-whiteboard-card shadow-lg rounded-lg flex flex-col overflow-hidden border border-gray-300 relative",style:{position:"absolute",width:`${t.canvas_width||400}px`,height:i?"auto":`${t.canvas_height||400}px`,zIndex:u||p?1e3:t.z_index||1,cursor:u?"grabbing":p?"nw-resize":"grab",transition:u||p?"none":"box-shadow 0.2s, transform 0.1s",boxShadow:u||p?"0 8px 16px rgba(0,0,0,0.2)":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:u||p?"scale(1.01)":"scale(1)",userSelect:"none",touchAction:"none"},children:[h.jsx(o4,{whiteboard:t,onUpdate:T,onDelete:M,existingCategories:r,isCollapsed:i,onToggleCollapsed:a}),!i&&h.jsx("div",{className:"resize-handle absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize",onMouseDown:N,style:{background:"linear-gradient(-45deg, transparent 40%, #ccc 40%, #ccc 60%, transparent 60%)",opacity:.6,zIndex:10}})]})},bce=({existingCategories:t,searchQuery:e="",onReady:n,onOpenNewNoteModal:r,notes:o,onNoteUpdate:s,onNoteDelete:i,whiteboards:a,onWhiteboardUpdate:l,onWhiteboardDelete:u,onOpenNewWhiteboardModal:f,addCategory:p})=>{const{token:g}=Zo(),[y,b]=m.useState([]),[w,x]=m.useState(!0),[S,C]=m.useState(""),[E,N]=m.useState(!1),[T,M]=m.useState({x:0,y:0}),[A,O]=m.useState(void 0),[L,F]=m.useState(!1),[V,H]=m.useState(!1),[G,z]=m.useState({x:0,y:0}),[X,ee]=m.useState({x:window.innerWidth/2-2e3,y:window.innerHeight/2-2e3,scale:1}),[oe,j]=m.useState(!1),[_,B]=m.useState({x:0,y:0}),[U,D]=m.useState("all"),[Z,Q]=m.useState(!1),Y=m.useRef(null),ae=m.useRef(null),J=()=>{N(!1),r&&r(T)},ge=()=>{N(!1),f&&(console.log("Opening whiteboard modal at position:",T),f(T))};m.useEffect(()=>{n&&n({showAddListMenu:(re,Se=!1,Ce)=>{if(console.log("showAddListMenu called:",{position:re,isFromButton:Se,absolutePosition:Ce,currentMenuState:E,currentMenuIsFromButton:L}),E&&L&&Se){console.log("Closing existing button menu"),N(!1);return}console.log("Setting menu state:",{position:re,isFromButton:Se,absolutePosition:Ce}),M(re),F(Se),O(Ce||void 0),N(!0),console.log("Context menu should now be visible")},showAddNoteMenu:(re,Se=!1,Ce)=>{r&&r(re)},showAddWhiteboardMenu:(re,Se=!1,Ce)=>{f&&f(re)},hideContextMenu:()=>{N(!1)},isMenuOpenFromButton:()=>E&&L,showNewListModal:()=>{H(!0)}})},[n,E,L]),m.useEffect(()=>{const re=async()=>{try{x(!0),Oj(g).then(Ce=>{b(Ce),x(!1)}).catch(Ce=>{console.error("Failed to fetch lists:",Ce),C("Could not load lists."),x(!1)})}finally{x(!1)}},Se=Ce=>{const{position:De,isFromButton:Ct=!1,absolutePosition:jt}=Ce.detail;M(De),F(Ct),jt&&O(jt),N(!0)};return document.addEventListener("showCanvasContextMenu",Se),re(),()=>{document.removeEventListener("showCanvasContextMenu",Se)}},[]);const de=re=>{if(re.preventDefault(),re.stopPropagation(),console.log("Right-click context menu triggered"),Y.current){const Se=Y.current.getBoundingClientRect(),Ce=re.clientX-Se.left,De=re.clientY-Se.top,Ct=(Ce-X.x)/X.scale,jt=(De-X.y)/X.scale;console.log("Context menu position:",{canvasX:Ct,canvasY:jt,screenX:Ce,screenY:De}),M({x:Ct,y:jt}),z({x:Ct,y:jt}),F(!1),O(void 0),N(!0)}},ie=re=>{const Se=re.target;E&&!Se.closest(".context-menu")&&N(!1);const Ce=Se.closest(".draggable-list-card, .draggable-note-card, .context-menu, button, input, textarea, select");re.button===0&&!Ce&&(re.target===Y.current||re.target===ae.current)&&(j(!0),B({x:re.clientX-X.x,y:re.clientY-X.y}),re.preventDefault())},Re=re=>{oe&&ee(Se=>({...Se,x:re.clientX-_.x,y:re.clientY-_.y}))},be=()=>{oe&&j(!1)},Oe=re=>{if(re.preventDefault(),Y.current){const Se=Y.current.getBoundingClientRect(),Ce=re.clientX-Se.left,De=re.clientY-Se.top,Ct=re.deltaY<0?1.1:.9,jt=Math.max(.1,Math.min(3,X.scale*Ct)),wr=Ce-(Ce-X.x)*(jt/X.scale),In=De-(De-X.y)*(jt/X.scale);ee({x:wr,y:In,scale:jt})}};m.useEffect(()=>{const re=Ce=>{oe&&ee(De=>({...De,x:Ce.clientX-_.x,y:Ce.clientY-_.y}))},Se=()=>{oe&&j(!1)};return oe&&(document.addEventListener("mousemove",re),document.addEventListener("mouseup",Se)),()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",Se)}},[oe,_]);const Me=()=>{},Ze=()=>{N(!1),H(!0)},Ge=async re=>{const Se=[...y];b(Ce=>Ce.map(De=>De.id===re.id?re:De));try{await Ij(re,g)}catch(Ce){console.error("Failed to update list:",Ce),b(Se)}},gt=async re=>{const Se=[...y];b(Ce=>Ce.filter(De=>De.id!==re));try{await Dj(re,g)}catch(Ce){console.error("Failed to delete list:",Ce),b(Se)}},Ue=(re,Se)=>{const Ce=[...y];b(De=>De.map(Ct=>Ct.id===re?{...Ct,position_x:Se.x,position_y:Se.y}:Ct)),rte(re,Se.x,Se.y,g).catch(De=>{console.error("Failed to update list position:",De),b(Ce)})},nt=re=>{const Se={...re,position_x:G.x,position_y:G.y};b(Ce=>[...Ce,Se]),H(!1)},Ke=()=>{ee(re=>({...re,scale:Math.min(3,re.scale*1.2)}))},Be=()=>{ee(re=>({...re,scale:Math.max(.1,re.scale/1.2)}))},Xe=()=>{ee({x:window.innerWidth/2-2e3,y:window.innerHeight/2-2e3,scale:1})},yt=()=>{const re=y.map(De=>De.type||"General").filter(Boolean),Se=o.map(De=>De.category||"General").filter(Boolean);return["all",...Array.from(new Set([...re,...Se]))]},Dt=()=>{const re={all:y.length+o.length+a.length};return y.forEach(Se=>{const Ce=Se.type||"General";re[Ce]=(re[Ce]||0)+1}),o.forEach(Se=>{const Ce=Se.category||"General";re[Ce]=(re[Ce]||0)+1}),a.forEach(Se=>{const Ce=Se.category||"General";re[Ce]=(re[Ce]||0)+1}),re},ue=()=>{let re=y,Se=o,Ce=a;return e&&(re=y.filter(De=>De.title.toLowerCase().includes(e.toLowerCase())||De.items&&De.items.some(Ct=>Ct.text&&Ct.text.toLowerCase().includes(e.toLowerCase()))),Se=o.filter(De=>De.title&&De.title.toLowerCase().includes(e.toLowerCase())||De.content&&De.content.toLowerCase().includes(e.toLowerCase())),Ce=a.filter(De=>De.title&&De.title.toLowerCase().includes(e.toLowerCase()))),U!=="all"&&(re=re.filter(De=>(De.type||"General")===U),Se=Se.filter(De=>(De.category||"General")===U),Ce=Ce.filter(De=>(De.category||"General")===U)),{filteredLists:re,filteredNotes:Se,filteredWhiteboards:Ce}},{filteredLists:Pe,filteredNotes:$e,filteredWhiteboards:ft}=ue();return m.useEffect(()=>{const re=Se=>{if(E){const Ce=Se.target,De=document.querySelector(".context-menu"),Ct=document.getElementById("new-canvas-button");if(De&&De.contains(Se.target)||L&&Ct&&Ct.contains(Se.target))return;Ce.closest(".context-menu")||N(!1)}if(Z){const Ce=Se.target;!Ce.closest("[data-filter-panel]")&&!Ce.closest("[data-filter-button]")&&Q(!1)}};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[E,Z,L]),h.jsxs("div",{className:"canvas-container-wrapper",children:[h.jsx("div",{ref:Y,className:"canvas-area",onContextMenu:de,onClick:Me,onMouseDown:ie,onMouseMove:Re,onMouseUp:be,onWheel:Oe,style:{position:"relative",width:"100%",height:"100vh",backgroundColor:"var(--background-alt)",borderRadius:"0",overflow:"hidden",padding:"0",boxSizing:"border-box",border:"none",cursor:oe?"grabbing":"grab"},children:h.jsx("div",{ref:ae,style:{position:"absolute",width:"100%",height:"100%",minWidth:"4000px",minHeight:"4000px",transform:`translate(${X.x}px, ${X.y}px) scale(${X.scale})`,transformOrigin:"0 0",padding:"1rem",backgroundImage:`
              radial-gradient(circle, rgba(0, 0, 0, 0.08) 1px, transparent 1px),
              radial-gradient(circle, rgba(0, 0, 0, 0.04) 1px, transparent 1px),
              linear-gradient(135deg, rgba(0, 0, 0, 0.01) 0%, rgba(0, 0, 0, 0.04) 50%, rgba(0, 0, 0, 0.01) 100%)
            `,backgroundSize:"32px 32px, 8px 8px, 100% 100%",backgroundPosition:"0 0, 0 0, 0 0"},children:w?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(mte,{size:"lg"})}):S?h.jsx("div",{className:"flex items-center justify-center h-full text-red-500",children:S}):h.jsxs(h.Fragment,{children:[y.length===0&&o.length===0&&a.length===0&&h.jsx("div",{className:"flex items-center justify-center h-full",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#64748b",fontFamily:'"Raleway", sans-serif',fontSize:"18px",fontWeight:"300",zIndex:10},children:"No content on your canvas (for now!)"}),Pe.map(re=>h.jsx(nte,{list:re,position:{x:re.position_x??0,y:re.position_y??0},onPositionUpdate:Ue,onUpdate:Ge,onDelete:gt,existingCategories:t,canvasTransform:X,addCategory:p},re.id)),$e.map(re=>h.jsx(Gle,{note:re,onPositionUpdate:(Se,Ce,De)=>{const Ct={position_x:Ce.x,position_y:Ce.y};De&&(Ct.width=De.width,Ct.height=De.height),s(Se,Ct)},onUpdate:s,onDelete:i,existingCategories:t,canvasTransform:X},re.id)),ft.map(re=>h.jsx(wce,{whiteboard:re,onUpdate:l,onDelete:u,existingCategories:t,canvasTransform:X,onPositionChange:(Se,Ce)=>{l(Se,{position_x:Ce.x,position_y:Ce.y})}},re.id)),E&&(console.log("Rendering context menu with:",{menuPosition:T,menuAbsolutePosition:A,menuIsFromButton:L,showContextMenu:E}),h.jsx(Pj,{position:T,absolutePosition:A,onAddList:Ze,onAddNote:J,onAddWhiteboard:ge,onClose:()=>N(!1),isFromButton:L}))]})})}),h.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1002,display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",userSelect:"none"},children:[h.jsx("button",{onClick:Be,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:re=>{re.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:re=>{re.currentTarget.style.backgroundColor="var(--background)"},title:"Zoom Out",children:h.jsx(T9,{size:18})}),h.jsx("button",{onClick:Xe,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:re=>{re.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:re=>{re.currentTarget.style.backgroundColor="var(--background)"},title:"Reset View",children:h.jsx(R9,{size:18})}),h.jsxs("div",{style:{padding:"0 12px",fontSize:"14px",fontWeight:"500",color:"var(--text-muted)",fontFamily:"monospace",minWidth:"60px",textAlign:"center"},children:[Math.round(X.scale*100),"%"]}),h.jsx("button",{onClick:Ke,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",transition:"all 0.2s ease"},onMouseEnter:re=>{re.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:re=>{re.currentTarget.style.backgroundColor="var(--background)"},title:"Zoom In",children:h.jsx(Uo,{size:18})}),h.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"var(--border)",margin:"0 4px"}}),h.jsxs("button",{onClick:()=>Q(!Z),"data-filter-button":!0,style:{minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 12px",backgroundColor:Z?"var(--accent)":"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"var(--text)",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",gap:"6px",whiteSpace:"nowrap"},onMouseEnter:re=>{Z||(re.currentTarget.style.backgroundColor="var(--accent)")},onMouseLeave:re=>{Z||(re.currentTarget.style.backgroundColor="var(--background)")},title:"Filter Content",children:[h.jsx("span",{children:"Category:"}),h.jsx("span",{children:U==="all"?"All":U}),h.jsxs("span",{style:{opacity:.7},children:["(",Dt()[U]||0,")"]})]})]}),Z&&h.jsx("div",{"data-filter-panel":!0,style:{position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",zIndex:1003,display:"flex",alignItems:"center",gap:"6px",padding:"8px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",userSelect:"none",maxWidth:"600px",flexWrap:"wrap"},children:yt().map(re=>{const Se=Dt()[re]||0,Ce=U===re;return h.jsxs("button",{onClick:()=>{D(re),Q(!1)},style:{padding:"6px 12px",backgroundColor:Ce?"#3b82f6":"var(--background)",color:Ce?"white":"var(--text)",border:"1px solid var(--border)",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",textTransform:"capitalize",whiteSpace:"nowrap"},onMouseEnter:De=>{Ce||(De.currentTarget.style.backgroundColor="var(--accent)")},onMouseLeave:De=>{Ce||(De.currentTarget.style.backgroundColor="var(--background)")},children:[re," (",Se,")"]},re)})}),V&&h.jsx(jj,{isOpen:V,onClose:()=>H(!1),onListCreated:nt,existingCategories:t})]})};function Sce({className:t,...e}){return h.jsx("div",{className:Te("animate-pulse rounded-md bg-muted",t),...e})}const Cce=({isOpen:t,onClose:e,onCreateNote:n,existingCategories:r})=>{const[o,s]=m.useState(""),[i,a]=m.useState(""),[l,u]=m.useState(""),[f,p]=m.useState(!1),g=b=>{if(b.preventDefault(),!o.trim())return;const w=f?l.trim():i;w&&(n(o.trim(),w,"#FFFFE0"),y())},y=()=>{s(""),a(""),u(""),p(!1),e()};return h.jsx(Wf,{open:t,onOpenChange:y,children:h.jsxs(fu,{className:"sm:max-w-md",children:[h.jsx(hu,{children:h.jsx(pu,{children:"Create New Note"})}),h.jsxs("form",{onSubmit:g,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(dr,{htmlFor:"title",children:"Title"}),h.jsx(Zt,{id:"title",value:o,onChange:b=>s(b.target.value),placeholder:"Enter note title",className:"mt-1",autoFocus:!0,required:!0})]}),f?h.jsxs("div",{children:[h.jsx(dr,{htmlFor:"newCategory",children:"New Category"}),h.jsxs("div",{className:"flex space-x-2 mt-1",children:[h.jsx(Zt,{id:"newCategory",value:l,onChange:b=>u(b.target.value),placeholder:"Enter new category",autoFocus:!0}),h.jsx(ke,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]}):h.jsxs("div",{children:[h.jsx(dr,{htmlFor:"category",children:"Category"}),h.jsxs(Ea,{value:i,onValueChange:a,children:[h.jsx(ai,{className:"mt-1",children:h.jsx(ka,{placeholder:"Select a category"})}),h.jsx(li,{children:r.map(b=>h.jsx(cn,{value:b,children:b},b))})]}),h.jsx(ke,{type:"button",variant:"outline",size:"sm",onClick:()=>p(!0),className:"mt-2",children:"Add New Category"})]}),h.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[h.jsx(ke,{type:"button",variant:"outline",onClick:y,children:"Cancel"}),h.jsx(ke,{type:"submit",disabled:!o.trim()||!i&&!l.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Create Note"})]})]})]})})},Ece=m.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ece.displayName="Textarea";const kce=({isOpen:t,onClose:e,onCreateNote:n,initialPosition:r,existingCategories:o})=>{const[s,i]=m.useState(""),[a,l]=m.useState(""),[u,f]=m.useState(""),[p,g]=m.useState(!1),[y,b]=m.useState("#3B82F6");m.useEffect(()=>{t&&(i(""),l(""),f(""),g(!1),b("#3B82F6"))},[t]);const w=x=>{if(x.preventDefault(),!s.trim())return;const C=(p?u.trim():a)||"General";n(s.trim(),C,y,r),e()};return t?h.jsx(Wf,{open:t,onOpenChange:x=>!x&&e(),children:h.jsxs(fu,{className:"sm:max-w-[425px]",children:[h.jsx(hu,{children:h.jsxs(pu,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(Tf,{className:"h-5 w-5 text-slate-500"}),"Add Note"]})}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{htmlFor:"noteTitle",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),h.jsx(Zt,{id:"noteTitle",value:s,onChange:x=>i(x.target.value),placeholder:"Enter note title",autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[p?h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{htmlFor:"newNoteCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Zt,{id:"newNoteCategory",value:u,onChange:x=>f(x.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&u.trim()&&(l(u.trim()),g(!1))}}),h.jsx(ke,{type:"button",variant:"outline",onClick:()=>{u.trim()&&(l(u.trim()),g(!1))},disabled:!u.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),h.jsx(ke,{type:"button",variant:"outline",onClick:()=>{g(!1),f("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{htmlFor:"noteCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),h.jsxs(Ea,{value:a,onValueChange:x=>{x==="__add_new__"?(g(!0),l("")):l(x)},children:[h.jsx(ai,{children:h.jsx(ka,{placeholder:"Select a category"})}),h.jsxs(li,{children:[!o.includes("General")&&h.jsx(cn,{value:"General",children:"General"}),o.map(x=>h.jsx(cn,{value:x,children:x},x)),h.jsx(cn,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),h.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:o.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),h.jsx(mu,{color:y,onChange:b,onSave:b,children:h.jsx(ke,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change note color",children:h.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:y}})})})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(ke,{type:"button",variant:"outline",onClick:e,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),h.jsx(ke,{type:"submit",disabled:!s.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:"Create Note"})]})]})]})}):null},Nce=({isOpen:t,onClose:e,onCreateWhiteboard:n,initialPosition:r,existingCategories:o})=>{const[s,i]=m.useState(""),[a,l]=m.useState(""),[u,f]=m.useState(""),[p,g]=m.useState(!1),[y,b]=m.useState("#3B82F6");m.useEffect(()=>{t&&(i(""),l(""),f(""),g(!1),b("#3B82F6"))},[t]);const w=x=>{if(x.preventDefault(),!s.trim())return;const C=(p?u.trim():a)||"General";n(s.trim(),C,y,r),e()};return t?h.jsx(Wf,{open:t,onOpenChange:x=>!x&&e(),children:h.jsxs(fu,{className:"sm:max-w-[425px]",children:[h.jsx(hu,{children:h.jsxs(pu,{className:"flex items-center gap-2",style:{fontFamily:'"Raleway", sans-serif'},children:[h.jsx(sl,{className:"h-5 w-5 text-slate-500"}),"Add Whiteboard"]})}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{htmlFor:"whiteboardTitle",style:{fontFamily:'"Raleway", sans-serif'},children:"Title"}),h.jsx(Zt,{id:"whiteboardTitle",value:s,onChange:x=>i(x.target.value),placeholder:"Enter whiteboard title",autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-[1fr_60px] gap-4 items-start",children:[p?h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{htmlFor:"newWhiteboardCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"New Category"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Zt,{id:"newWhiteboardCategory",value:u,onChange:x=>f(x.target.value),placeholder:"Enter new category",autoFocus:!0,onKeyDown:x=>{x.key==="Enter"&&u.trim()&&(l(u.trim()),g(!1))}}),h.jsx(ke,{type:"button",variant:"outline",onClick:()=>{u.trim()&&(l(u.trim()),g(!1))},disabled:!u.trim(),style:{fontFamily:'"Raleway", sans-serif'},children:"Add"}),h.jsx(ke,{type:"button",variant:"outline",onClick:()=>{g(!1),f("")},style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{htmlFor:"whiteboardCategory",style:{fontFamily:'"Raleway", sans-serif'},children:"Category"}),h.jsxs(Ea,{value:a,onValueChange:x=>{x==="__add_new__"?(g(!0),l("")):l(x)},children:[h.jsx(ai,{children:h.jsx(ka,{placeholder:"Select a category"})}),h.jsxs(li,{children:[!o.includes("General")&&h.jsx(cn,{value:"General",children:"General"}),o.map(x=>h.jsx(cn,{value:x,children:x},x)),h.jsx(cn,{value:"__add_new__",className:"text-blue-600",children:"+ Add new category"})]})]}),h.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:'"Raleway", sans-serif'},children:o.length===0?'No categories yet. Leave empty to use "General" or create a new one from the dropdown.':'Select a category or leave empty to use "General".'})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(dr,{style:{fontFamily:'"Raleway", sans-serif'},children:"Color"}),h.jsx(mu,{color:y,onChange:b,onSave:b,children:h.jsx(ke,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 p-0 rounded-full","aria-label":"Change whiteboard color",children:h.jsx("span",{className:"inline-block w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:y}})})})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(ke,{type:"button",variant:"outline",onClick:e,style:{fontFamily:'"Raleway", sans-serif'},children:"Cancel"}),h.jsx(ke,{type:"submit",disabled:!s.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",style:{fontFamily:'"Raleway", sans-serif'},children:"Create Whiteboard"})]})]})]})}):null},fb="categoriesUpdated",sx=()=>{window.dispatchEvent(new CustomEvent(fb))},Tce=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[o,s]=m.useState(null),{token:i}=Zo(),{toast:a}=To(),l=m.useCallback(async()=>{if(i)try{r(!0);const x=await dte(i);e(x),s(null)}catch(x){console.error("Error fetching categories:",x),s("Failed to load categories")}finally{r(!1)}},[i]);m.useEffect(()=>{l()},[l]),m.useEffect(()=>{let x=null;const S=()=>{x||(console.log(" Global category refresh triggered - refreshing categories list"),x=setTimeout(()=>{l(),x=null},1e3))};return window.addEventListener(fb,S),()=>{window.removeEventListener(fb,S),x&&clearTimeout(x)}},[l]);const u=m.useCallback(async x=>{if(!i)return null;try{const S=await fte(x,i);return e(C=>[...C,S].sort((E,N)=>E.name.localeCompare(N.name))),console.log(" Triggering global category refresh after creating:",S.name),sx(),S}catch(S){console.error("Error creating category:",S);const C=S instanceof Error?S.message:"Failed to create category";return a({title:"Error creating category",description:C,variant:"destructive"}),null}},[i,a]),f=m.useCallback(async(x,S)=>{if(!i)return null;try{const C=await hte(x,S,i);return e(E=>E.map(N=>N.id===x?C:N).sort((N,T)=>N.name.localeCompare(T.name))),console.log(" Triggering global category refresh after updating:",C.name),sx(),C}catch(C){console.error("Error updating category:",C);const E=C instanceof Error?C.message:"Failed to update category";return a({title:"Error updating category",description:E,variant:"destructive"}),null}},[i,a]),p=m.useCallback(async x=>{if(!i)return!1;try{const S=t.find(C=>C.id===x);return await pte(x,i),e(C=>C.filter(E=>E.id!==x)),console.log(" Triggering global category refresh after deleting:",S==null?void 0:S.name),sx(),!0}catch(S){console.error("Error deleting category:",S);const C=S instanceof Error?S.message:"Failed to delete category";return a({title:"Error deleting category",description:C,variant:"destructive"}),!1}},[i,a,t]),g=t.map(x=>x.name),y=m.useCallback(x=>t.find(S=>S.id===x),[t]),b=m.useCallback(x=>t.find(S=>S.name===x),[t]),w=m.useCallback(x=>t.some(S=>S.name===x),[t]);return{categories:t,categoryNames:g,loading:n,error:o,addCategory:u,editCategory:f,removeCategory:p,refreshCategories:l,getCategoryById:y,getCategoryByName:b,isCategoryInUse:w,totalCategories:t.length}},Rce=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[o,s]=m.useState(null),[i,a]=m.useState(""),[l,u]=m.useState(!1),[f,p]=m.useState(!1),[g,y]=m.useState(null),[b,w]=m.useState(!1),[x,S]=m.useState(!1),[C,E]=m.useState(!1),[N,T]=m.useState(null),[M,A]=m.useState(!1),[O,L]=m.useState(!1),[F,V]=m.useState(null),{toast:H}=To(),{token:G}=Zo(),[z,X]=m.useState([]),[ee,oe]=m.useState(!0),[j,_]=m.useState(null),[B,U]=m.useState([]),[D,Z]=m.useState(!0),[Q,Y]=m.useState(null),{categories:ae,categoryNames:J,addCategory:ge,isCategoryInUse:de}=Tce();ae.map(ce=>({name:ce.name,listCount:0,noteCount:0,totalCount:0}));const ie=ce=>{if(!ce)return{filteredLists:t,filteredNotes:z,filteredWhiteboards:B};const pe=t.filter(We=>We.type===ce),we=z.filter(We=>We.category===ce),Le=B.filter(We=>We.category===ce);return{filteredLists:pe,filteredNotes:we,filteredWhiteboards:Le}},Re=m.useRef(null),[be,Oe]=m.useState(!1),[Me,Ze]=m.useState({x:0,y:0}),[Ge,gt]=m.useState(new Set),[Ue,nt]=m.useState(new Set),[Ke,Be]=m.useState(new Set),Xe=()=>{const rn=[...t.map(or=>({x:or.position_x||0,y:or.position_y||0})),...z.map(or=>({x:or.position_x,y:or.position_y})),...B.map(or=>({x:or.position_x,y:or.position_y}))],Ro=(or,Su)=>rn.some(Il=>{const Cy=Math.abs(or-Il.x),Ey=Math.abs(Su-Il.y);return Cy<400&&Ey<300});let Mo=0;const Sy=20;let Aa;do{const or=300+Mo*50,Su=(Math.random()-.5)*or*2,Il=(Math.random()-.5)*or*2;Aa={x:2e3+Su,y:2e3+Il},Mo++}while(Ro(Aa.x,Aa.y)&&Mo<Sy);return Aa},yt=ce=>Ge.has(ce),Dt=ce=>{gt(pe=>{const we=new Set(pe);return we.has(ce)?we.delete(ce):we.add(ce),we})},ue=ce=>Ue.has(ce),Pe=ce=>{nt(pe=>{const we=new Set(pe);return we.has(ce)?we.delete(ce):we.add(ce),we})},$e=ce=>Ke.has(ce),ft=ce=>{Be(pe=>{const we=new Set(pe);return we.has(ce)?we.delete(ce):we.add(ce),we})};m.useEffect(()=>{const ce=()=>{w(window.innerWidth<768)};return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),m.useEffect(()=>{(async()=>{try{r(!0),s(null);const pe=await Oj(G);e(pe)}catch(pe){console.error("Error fetching lists:",pe),s("Failed to load lists. Please try again.")}finally{r(!1)}})()},[G,H]),m.useEffect(()=>{G&&(async()=>{try{oe(!0),_(null);const pe=await ote(G);X(pe)}catch(pe){console.error("Error fetching notes:",pe);const we=pe instanceof Error?pe.message:"Failed to load notes. Please try again.";_(we),H({title:"Error fetching notes",description:we,variant:"destructive"})}finally{oe(!1)}})()},[G,H]),m.useEffect(()=>{G&&(async()=>{try{Z(!0),Y(null);const pe=await ate(G);U(pe)}catch(pe){console.error("Error fetching whiteboards:",pe);const we=pe instanceof Error?pe.message:"Failed to load whiteboards. Please try again.";Y(we),H({title:"Error fetching whiteboards",description:we,variant:"destructive"})}finally{Z(!1)}})()},[G,H]),m.useEffect(()=>{const ce=pe=>{if(be){const we=pe.target;!we.closest("#new-canvas-button")&&!we.closest(".context-menu")&&Oe(!1)}};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[be]);const re=async(ce,pe,we,Le)=>{try{!de(pe)&&pe!=="General"&&await ge({name:pe,color_value:we});const We={title:ce,content:"",color_value:we,position_x:Le.x,position_y:Le.y,width:570,height:350,z_index:0},kt=await qT(We,G);X(rn=>[kt,...rn]),E(!1)}catch(We){console.error("Failed to create note:",We);const kt=We instanceof Error?We.message:"Could not create your note. Please try again.";H({title:"Error creating note",description:kt,variant:"destructive"})}},Se=async(ce,pe)=>{try{const we=await ste(ce,pe,G);return X(Le=>Le.map(We=>We.id===ce?we:We)),we}catch(we){console.error("Failed to update note:",we);const Le=we instanceof Error?we.message:"Could not update your note. Please try again.";return H({title:"Error updating note",description:Le,variant:"destructive"}),null}},Ce=async ce=>{try{return await ite(ce,G),X(pe=>pe.filter(we=>we.id!==ce)),!0}catch(pe){console.error("Failed to delete note:",pe);const we=pe instanceof Error?pe.message:"Could not delete your note. Please try again.";return H({title:"Error deleting note",description:we,variant:"destructive"}),!1}},De=async(ce,pe,we,Le)=>{try{!de(pe)&&pe!=="General"&&await ge({name:pe,color_value:we});const We={title:ce,category:pe,canvas_data:'{"paths": [], "shapes": []}',canvas_width:700,canvas_height:400,background_color:"#FFFFFF",position_x:Le.x,position_y:Le.y,z_index:0,color_value:we},kt=await lte(We,G);U(rn=>[kt,...rn])}catch(We){console.error("Failed to create whiteboard:",We);const kt=We instanceof Error?We.message:"Could not create your whiteboard. Please try again.";H({title:"Error creating whiteboard",description:kt,variant:"destructive"})}},Ct=async(ce,pe)=>{try{console.log(" CanvasPage: Updating whiteboard:",{whiteboardId:ce,updatedFields:Object.keys(pe),hasCanvasData:!!pe.canvas_data,canvasDataType:typeof pe.canvas_data,canvasDataPreview:pe.canvas_data?JSON.stringify(pe.canvas_data).substring(0,200):"N/A"});const we=await cte(ce,pe,G);return console.log(" CanvasPage: Whiteboard update response:",{whiteboardId:we.id,hasCanvasData:!!we.canvas_data,canvasDataType:typeof we.canvas_data,updatedAt:we.updated_at}),U(Le=>Le.map(We=>We.id===ce?we:We)),we}catch(we){console.error("Failed to update whiteboard:",we);const Le=we instanceof Error?we.message:"Could not update your whiteboard. Please try again.";return H({title:"Error updating whiteboard",description:Le,variant:"destructive"}),null}},jt=async ce=>{try{return await ute(ce,G),U(pe=>pe.filter(we=>we.id!==ce)),!0}catch(pe){console.error("Failed to delete whiteboard:",pe);const we=pe instanceof Error?pe.message:"Could not delete your whiteboard. Please try again.";return H({title:"Error deleting whiteboard",description:we,variant:"destructive"}),!1}},wr=async(ce,pe,we)=>{try{const Le=Xe();!de(pe)&&pe!=="General"&&await ge({name:pe,color_value:we});const We=await _j({title:ce,type:pe,items:[],position_x:Le.x,position_y:Le.y},G),kt={id:We.id,title:We.title,type:We.type||"General",items:We.items||[],createdAt:new Date(We.createdAt),position_x:We.position_x||Le.x,position_y:We.position_y||Le.y};e(rn=>[kt,...rn]),u(!1)}catch(Le){console.error("Failed to create list:",Le),H({title:"Error creating list",description:"Could not create your list. Please try again.",variant:"destructive"})}},In=async ce=>{try{await Ij(ce,G),e(pe=>pe.map(we=>we.id===ce.id?ce:we))}catch(pe){console.error("Failed to update list:",pe),H({title:"Error updating list",description:"Could not update your list. Please try again.",variant:"destructive"})}},Ts=async ce=>{try{await Dj(ce,G),e(pe=>pe.filter(we=>we.id!==ce))}catch(pe){console.error("Failed to delete list:",pe),H({title:"Error deleting list",description:"Could not delete your list. Please try again.",variant:"destructive"})}},ci=ce=>{e(pe=>[ce,...pe]),A(!1)},ui=ce=>{T(ce),E(!0)},di=ce=>{V(ce),L(!0)},fi=()=>{Oe(!1),A(!0)},Bt=()=>{Oe(!1),T({x:100,y:100}),E(!0)},Lt=()=>{Oe(!1),V({x:100,y:100}),L(!0)},yn=async(ce,pe,we)=>{try{!de(pe)&&pe!=="General"&&await ge({name:pe,color_value:we});const Le=Xe(),We=await qT({title:ce,content:"",color_value:we,position_x:Le.x,position_y:Le.y,width:570,height:350,z_index:0},G);X(kt=>[We,...kt]),p(!1)}catch(Le){console.error("Failed to create note:",Le),H({title:"Error creating note",description:"Could not create your note. Please try again.",variant:"destructive"})}};if(n)return h.jsxs("div",{className:"",children:[h.jsx("div",{className:"bg-white border-b border-slate-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(sl,{className:"h-5 w-5 text-slate-600"}),h.jsx("h1",{className:"text-xl font-light italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif'},children:"Canvas"})]}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-48 h-9"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"animate-pulse bg-slate-200 rounded-md w-12 h-6"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-600 mr-2"}),h.jsx("span",{className:"text-black",children:"Loading..."})]})]})]})})})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((ce,pe)=>h.jsx("div",{className:"h-40 rounded-lg",children:h.jsx(Sce,{className:"h-full w-full"})},pe))})]});if(o)return h.jsxs("div",{className:"",children:[h.jsx("div",{className:"bg-white border-b border-slate-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(sl,{className:"h-5 w-5 text-slate-600"}),h.jsx("h1",{className:"text-xl font-light italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif'},children:"Canvas"})]}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx(Zt,{placeholder:"Search lists...",value:i,onChange:ce=>a(ce.target.value),className:"pl-10 w-48 h-9",disabled:!0})]})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsx($w,{})})]})})})}),h.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[h.jsxs("div",{className:"text-destructive text-lg mb-4",children:[" ",o]}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Retry"})]})]});const He=()=>Array.from(new Set(J.filter(Boolean))),Qe=()=>{const{filteredLists:ce,filteredNotes:pe,filteredWhiteboards:we}=ie(g);let Le=[...ce];i&&(Le=Le.filter(rn=>rn.title.toLowerCase().includes(i.toLowerCase())||rn.items&&rn.items.some(Ro=>{var Mo;return(Mo=Ro.text)==null?void 0:Mo.toLowerCase().includes(i.toLowerCase())})));let We=[...pe];i&&(We=We.filter(rn=>{var Ro,Mo;return((Ro=rn.title)==null?void 0:Ro.toLowerCase().includes(i.toLowerCase()))||((Mo=rn.content)==null?void 0:Mo.toLowerCase().includes(i.toLowerCase()))}));let kt=[...we];return i&&(kt=kt.filter(rn=>{var Ro;return(Ro=rn.title)==null?void 0:Ro.toLowerCase().includes(i.toLowerCase())})),{filteredLists:Le,filteredNotes:We,filteredWhiteboards:kt}},rt=()=>{const ce={};return t.forEach(pe=>{const we=pe.type||"General";ce[we]=(ce[we]||0)+1}),z.forEach(pe=>{const we=pe.category||"General";ce[we]=(ce[we]||0)+1}),ce},{filteredNotes:Ft,filteredWhiteboards:tn}=Qe(),Rt=()=>h.jsx("div",{className:"bg-white border-b border-slate-200 relative z-10",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsx("h1",{className:"text-xl font-light italic whitespace-nowrap",style:{fontFamily:'"Raleway", sans-serif'},children:"My Canvas"}),h.jsxs("div",{className:"relative hidden sm:block ml-4",children:[h.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx(Zt,{placeholder:"Search canvas...",value:i,onChange:ce=>a(ce.target.value),className:"pl-10 w-48 h-9",style:{fontFamily:'"Raleway", sans-serif'}})]})]}),h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[h.jsx($w,{}),h.jsxs(ke,{id:"new-canvas-button",onClick:ce=>{if(ce.preventDefault(),ce.stopPropagation(),be)Oe(!1);else{const pe=document.getElementById("new-canvas-button");if(pe){const we=pe.getBoundingClientRect();Ze({x:we.left+we.width/2,y:we.bottom+5}),Oe(!0)}}},size:"sm",className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap font-light",children:[h.jsx(Uo,{className:"h-4 w-4 mr-1"}),"New"]})]})]})}),h.jsx("div",{className:"sm:hidden pb-4",children:h.jsxs("div",{className:"relative",children:[h.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),h.jsx(Zt,{placeholder:"Search canvas...",value:i,onChange:ce=>a(ce.target.value),className:"pl-10 placeholder:font-light placeholder:text-slate-400",style:{fontFamily:'"Raleway", sans-serif'}})]})})]})}),nn=()=>{const{filteredLists:ce,filteredNotes:pe,filteredWhiteboards:we}=Qe();return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[h.jsx("h3",{className:"text-lg font-light text-slate-900 flex-shrink-0",children:"Categories"}),h.jsx("div",{className:"flex gap-2 overflow-x-auto flex-1 pb-2 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:He().map(Le=>{const We=rt()[Le]||0,kt=g===Le;return h.jsxs(ke,{variant:kt?"default":"outline",size:"sm",onClick:()=>{y(kt?null:Le)},className:`capitalize font-light whitespace-nowrap flex-shrink-0 ${kt?"bg-blue-600 hover:bg-blue-700":""}`,children:[Le," (",We,")"]},Le)})})]}),ce.length===0&&pe.length===0&&we.length===0?h.jsx("div",{className:"text-center py-12",children:t.length===0&&z.length===0&&B.length===0?h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Uo,{className:"h-8 w-8 text-blue-600"})}),h.jsxs("h3",{className:"text-lg font-light text-slate-900 mb-6",children:["No content on your canvas",h.jsx("br",{}),"(for now!)"]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[h.jsxs(ke,{onClick:()=>A(!0),className:"bg-blue-600 hover:bg-blue-700 font-normal",children:[h.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Add List"]}),h.jsxs(ke,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 font-normal",children:[h.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Add Note"]}),h.jsxs(ke,{onClick:()=>{const Le=Xe();V(Le),L(!0)},className:"bg-blue-600 hover:bg-blue-700 font-normal",children:[h.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Add Whiteboard"]})]})]})}):h.jsxs("div",{className:"text-slate-500",children:[h.jsx(Hs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"No content matches your search criteria."})]})}):h.jsxs(h.Fragment,{children:[ce.length>0&&h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-xl font-light text-slate-900 mb-6 flex items-center gap-2",children:[h.jsx(Sg,{className:"h-5 w-5 text-slate-500"}),"My Lists"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ce.map(Le=>h.jsx(dS,{list:Le,onUpdate:In,onDelete:Ts,existingCategories:J,isCollapsed:yt(Le.id),onToggleCollapsed:()=>Dt(Le.id),addCategory:ge},Le.id))})]}),pe.length>0&&h.jsxs("div",{className:ce.length>0?"mt-12":"",children:[h.jsxs("h2",{className:"text-xl font-light text-slate-900 mb-6 flex items-center gap-2",children:[h.jsx(Tf,{className:"h-5 w-5 text-slate-500"}),"My Notes"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:pe.map(Le=>h.jsx($F,{note:Le,onUpdate:async(We,kt)=>{await Se(We,kt)},onDelete:async We=>{await Ce(We)},existingCategories:J,isCollapsed:ue(Le.id),onToggleCollapsed:()=>Pe(Le.id)},Le.id))})]}),we.length>0&&h.jsxs("div",{className:ce.length>0||pe.length>0?"mt-12":"",children:[h.jsxs("h2",{className:"text-xl font-light text-slate-900 mb-6 flex items-center gap-2",children:[h.jsx(sl,{className:"h-5 w-5 text-slate-500"}),"My Whiteboards"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:we.map(Le=>h.jsx(o4,{whiteboard:Le,onUpdate:async(We,kt)=>{await Ct(We,kt)},onDelete:async We=>{await jt(We)},existingCategories:J,isCollapsed:$e(Le.id),onToggleCollapsed:()=>ft(Le.id)},Le.id))})]})]})]})};return h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        ${b?"":`
          body { overflow: hidden !important; }
          html { overflow: hidden !important; }
        `}
        
        /* Hide scrollbar for horizontal category scrolling */
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `}),h.jsxs("div",{className:`w-full flex flex-col ${b?"min-h-screen":"h-screen overflow-hidden"}`,children:[h.jsx(Rt,{}),b?h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsx(nn,{})}):h.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] absolute inset-x-0",style:{top:0,bottom:0},children:h.jsx(bce,{existingCategories:J,searchQuery:i,onOpenNewNoteModal:ui,notes:Ft,onNoteUpdate:Se,onNoteDelete:Ce,whiteboards:tn,onWhiteboardUpdate:Ct,onWhiteboardDelete:jt,onOpenNewWhiteboardModal:di,addCategory:ge,onReady:ce=>{Re.current||(Re.current=ce,console.log("Canvas methods ready:",ce))}})}),h.jsx(f2,{isOpen:l,onClose:()=>u(!1),onCreateList:wr,existingCategories:J}),h.jsx(Cce,{isOpen:f,onClose:()=>p(!1),onCreateNote:yn,existingCategories:J}),C&&N&&h.jsx(kce,{isOpen:C,onClose:()=>E(!1),onCreateNote:re,initialPosition:N,existingCategories:J}),O&&F&&h.jsx(Nce,{isOpen:O,onClose:()=>L(!1),onCreateWhiteboard:De,initialPosition:F,existingCategories:J}),M&&h.jsx(jj,{isOpen:M,onClose:()=>A(!1),onListCreated:ci,existingCategories:J,position:Xe()}),be&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,pointerEvents:"auto"},onClick:()=>Oe(!1),children:h.jsx(Pj,{position:{x:0,y:0},absolutePosition:Me,onAddList:fi,onAddNote:Bt,onAddWhiteboard:Lt,onClose:()=>Oe(!1),isFromButton:!0})})]})]})},Mce=new UK,Ace="761425672348-63ncpr61i8hv48l94ljju4uloahreohs.apps.googleusercontent.com",Pce=()=>{const{currentUser:t,loading:e}=Zo();return e?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):t?h.jsx(bw,{to:"/canvas",replace:!0}):h.jsx(bw,{to:"/home",replace:!0})},Oce=()=>h.jsx(VK,{client:Mce,children:h.jsx(j_,{children:h.jsx(Uq,{clientId:Ace,children:h.jsx(Kq,{children:h.jsxs(qq,{children:[h.jsx(f7,{}),h.jsx(H7,{}),h.jsx(Bq,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(fX,{}),h.jsx("main",{children:h.jsxs(Fq,{children:[h.jsx(Ni,{path:"/",element:h.jsx(Pce,{})}),h.jsx(Ni,{path:"/home",element:h.jsx(hX,{})}),h.jsx(Ni,{path:"/auth/callback",element:h.jsx(ete,{})}),h.jsxs(Ni,{element:h.jsx(tte,{}),children:[h.jsx(Ni,{path:"/lists",element:h.jsx(Qee,{})}),h.jsx(Ni,{path:"/canvas",element:h.jsx(Rce,{})})]}),h.jsx(Ni,{path:"*",element:h.jsx(Zee,{})})]})})]})})]})})})})});HP(document.getElementById("root")).render(h.jsx(Oce,{}));
//# sourceMappingURL=index-Afjz_xSa.js.map
